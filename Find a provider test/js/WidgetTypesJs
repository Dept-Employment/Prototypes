var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var i=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.initialise=function(){t.prototype.initialise.call(this);var i=this.element.find("#CareerProfileLoadingPanel"),r=i.getAjaxLoadingPanel();r.bind(n.Core.AjaxLoadingPanel.loadedEventName,function(){(new n.Core.GoogleAnalyticsTracker).elementReady(i)})},i}(n.Core.WidgetItem),r;t.CareerProfileWidgetItem=i;r=function(){function n(){}return n.prototype.initialise=function(n){return new i(n)},n}();t.CareerProfileWidgetItemInitialiser=r})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var r=function(r){function u(){r.apply(this,arguments)}return __extends(u,r),u.prototype.initialise=function(){var e=this,f,u;r.prototype.initialise.call(this);f=this.element.find("#FavouriteJobsLoadingPanel");u=f.getAjaxLoadingPanel();u.element.on("click","a.remove-item",function(n){n.preventDefault();var t=$(n.target);$.ajax({url:t.attr("href"),success:function(){u.refresh();e.trigger(i[i.FavouriteJobRemoved])}})});u.bind(n.Core.AjaxLoadingPanel.loadedEventName,function(){n.Core.currentPage.initialise(u.element)});this.addWidgetEventDependency(new n.Core.WidgetEventInfo("JobsOfInterestWidget",t.JobsOfInterestWidgetEvents[t.JobsOfInterestWidgetEvents.FavouriteJobAdded],function(){u.refresh()}));this.addWidgetEventDependency(new n.Core.WidgetEventInfo("JobsOfInterestWidget",t.JobsOfInterestWidgetEvents[t.JobsOfInterestWidgetEvents.FavouriteJobRemoved],function(){u.refresh()}))},u}(n.Core.WidgetItem),i,u;t.FavouriteJobsWidgetItem=r,function(n){n[n.FavouriteJobRemoved=0]="FavouriteJobRemoved"}(t.FavouriteJobsWidgetEvents||(t.FavouriteJobsWidgetEvents={}));i=t.FavouriteJobsWidgetEvents;u=function(){function n(){}return n.prototype.initialise=function(n){return new r(n)},n}();t.FavouriteJobsWidgetItemInitialiser=u})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var i=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.initialise=function(){t.prototype.initialise.call(this);var r=this.element.find("#FavouriteSearchesLoadingPanel"),i=r.getAjaxLoadingPanel();i.element.on("click","a.remove-item",function(n){n.preventDefault();var t=$(n.currentTarget);$.ajax({url:t.attr("href"),success:function(){i.refresh()}})});i.bind(n.Core.AjaxLoadingPanel.loadedEventName,function(){n.Core.currentPage.initialise(i.element)})},i}(n.Core.WidgetItem),r;t.FavouriteSearchesWidgetItem=i;r=function(){function n(){}return n.prototype.initialise=function(n){return new i(n)},n}();t.FavouriteSearchesWidgetItemInitialiser=r})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var r=function(r){function u(){var t=this;r.apply(this,arguments);this.initialiseJobOfInterestElement=function(r,u){var f=r.find("[data-removejobofinterest]");$(f).click(function(i){i.preventDefault();var e={jobId:r.data("jobid"),displayedJobIds:[]};u.find("[data-jobofinterest]").each(function(n,t){e.displayedJobIds.push($(t).data("jobid"))});$.when($.ajax({url:f.attr("href"),type:"POST",data:e,beforeSend:n.Core.ajax.beforeSend,global:!1}),r.fadeTo(1e3,0)).then(function(i){if(i=i[0],i.Status==1){var f=$(i.AdditionalData).hide();t.initialiseJobOfInterestElement(f,u);r.after(f);r.remove();f.fadeIn(1e3);n.Core.currentPage.initialise(f)}else r.after($('<div class="alert alert-danger col-md-4" role="alert">An unexpected technical issue occurred while loading the new job of interest.<\/div>')),r.remove()},function(){r.after($('<div class="alert alert-danger col-md-4" role="alert">An unexpected technical issue occurred while loading the new job of interest.<\/div>'));r.remove()})});r.find("[data-favourite-fluent]").change(function(n,r){r?t.trigger(i[i.FavouriteJobAdded]):t.trigger(i[i.FavouriteJobRemoved])})}}return __extends(u,r),u.prototype.initialise=function(){var f=this,i,u;r.prototype.initialise.call(this);i=this.element.find("#JobsOfInterestLoadingPanel");u=i.getAjaxLoadingPanel();u.bind(n.Core.AjaxLoadingPanel.loadedEventName,function(){var t=i.find("form"),r=$;r.validator.unobtrusive.parse(t);AJSValidate.InitialiseDependentValidations(t);i.find("[data-jobofinterest]").each(function(n,i){f.initialiseJobOfInterestElement($(i),t)});n.Core.currentPage.initialise(u.element)});this.addWidgetEventDependency(new n.Core.WidgetEventInfo("FavouriteJobsWidget",t.FavouriteJobsWidgetEvents[t.FavouriteJobsWidgetEvents.FavouriteJobRemoved],function(){u.refresh()}))},u}(n.Core.WidgetItem),i,u;t.JobsOfInterestWidgetItem=r,function(n){n[n.FavouriteJobAdded=0]="FavouriteJobAdded";n[n.FavouriteJobRemoved=1]="FavouriteJobRemoved"}(t.JobsOfInterestWidgetEvents||(t.JobsOfInterestWidgetEvents={}));i=t.JobsOfInterestWidgetEvents;u=function(){function n(){}return n.prototype.initialise=function(n){return new r(n)},n}();t.JobsOfInterestWidgetItemInitialiser=u})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var i=function(t){function i(){t.apply(this,arguments)}return __extends(i,t),i.prototype.initialise=function(){t.prototype.initialise.call(this);var r=this.element.find("#LatestMessagesLoadingPanel"),i=r.getAjaxLoadingPanel();i.element.on("click","a[data-openmessage]",function(n){var r=$(n.currentTarget),t=r.closest("[data-messageid]"),u=t.data("messageread");u||$.post(r.data("controlleractionurl"),{messageId:t.data("messageid")},function(n){var r=n>0;i.element.find("#InboxViewInboxButton").toggleClass("nounread",!r);i.element.find("#InboxViewInboxButton").find(".badge").text(n+" unread");t.data("messageread",!0);t.find(".li-title").toggleClass("unread",!1).toggleClass("read",!0)})});i.bind(n.Core.AjaxLoadingPanel.loadedEventName,function(){(new n.Core.GoogleAnalyticsTracker).elementReady(r)})},i}(n.Core.WidgetItem),r;t.LatestMessagesWidgetItem=i;r=function(){function n(){}return n.prototype.initialise=function(n){return new i(n)},n}();t.LatestMessagesWidgetItemInitialiser=r})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var i=function(n){function t(){n.apply(this,arguments);this.clickSubmitButton=function(n){n.preventDefault();var t=$("#GeoLocation").val(),i=$("#MySkillsKeyword").val();$.ajax({url:"https://ws.myskills.gov.au/location",data:{value:t,pageSize:10}}).done(function(n){var f="https://www.myskills.gov.au/Courses/Search",u="",r;if(n!==null&&n.length>0){if(t.length>0)for(r=0;r<n.length;r++)t.indexOf(n[r].DisplayName)>-1&&(u=n[r].AustralianLocationId);u.length===0&&(u=n[0].AustralianLocationId);f="https://www.myskills.gov.au/Courses/Search?LocationId="+u+"&keywords="+i+"&distance=25"}window.open(f,"_blank")})}}return __extends(t,n),t.prototype.initialise=function(){var t=this;n.prototype.initialise.call(this);$("button.mySkillsSubmitButton").on("click",function(n){t.clickSubmitButton(n)})},t}(n.Core.WidgetItem),r;t.JobSeekerSkillsWidgetItem=i;r=function(){function n(){}return n.prototype.initialise=function(n){return new i(n)},n}();t.JobSeekerSkillsWidgetItemInitialiser=r})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){(function(n){n[n.OnShowPreviousCard=0]="OnShowPreviousCard";n[n.OnShowNextCard=1]="OnShowNextCard";n[n.OnShowOpenCard=2]="OnShowOpenCard"})(t.TimelineEvents||(t.TimelineEvents={}));var i=t.TimelineEvents,r=function(n){function t(){var t=this;n.call(this);this.position=1;this.modelIdPrefix="#eventModal";this.selectedDate="";this.tabKeyCode=9;this.enterKeyCode=13;this.leftArrowKeyCode=37;this.rightArrowKeyCode=39;this.CurrentCard=function(){var n=t.modelIdPrefix+t.position;return $(n)};this.CurrentCardDate=function(){return t.CurrentCard().find(".badge").text()};this.NextCard=function(){if(t.position<$(".expanded-event").length){t.CurrentCard().modal("hide");var n=t.modelIdPrefix+ ++t.position;$(n).modal("show");$(".tl1").timeline("goTo",t.CurrentCard().data("timelineparentid"));t.trigger(i[i.OnShowNextCard],{Response:n})}};this.PreviousCard=function(){if(t.position>1){t.CurrentCard().modal("hide");var n=t.modelIdPrefix+--t.position;$(n).modal("show");$(".tl1").timeline("goTo",t.CurrentCard().data("timelineparentid"));t.trigger(i[i.OnShowPreviousCard],{Response:n})}};this.OpenCard=function(n){var r=$(n.currentTarget),u,f;r.hasClass("disableClick")?r.removeClass("disableClick"):(u=r.data("event"),t.position=u,f=t.modelIdPrefix+u,$(f).modal());t.trigger(i[i.OnShowOpenCard],{Response:r})};this.AddEventHandlers=function(){$(".next").on("click",function(){t.NextCard()});$(".prev").on("click",function(){t.PreviousCard()});$(".card").on("click",function(n){t.OpenCard(n)});$(".card").on("keypress",function(n){n.keyCode===t.enterKeyCode&&t.OpenCard(n)});$(document).on("keyup",function(n){t.HandleScroll(n)});$(".timeline-container").on("keyup",function(n){t.HandleTab(n)});$(".card").draggable({start:function(){$(this).addClass("disableClick")},stop:function(){$(this).removeClass("disableClick")}})};this.HandleTab=function(n){if(n.keyCode==t.tabKeyCode){var i=$(document.activeElement).parent().data("id");$(".tl1").timeline("goTo",i)}};this.HandleScroll=function(n){n.keyCode==t.leftArrowKeyCode&&t.ModalIsOpen()&&t.PreviousCard();n.keyCode==t.rightArrowKeyCode&&t.ModalIsOpen()&&t.NextCard()};this.ModalIsOpen=function(){return $("body").hasClass("modal-open")};this.AddEventHandlers();$(".tl1").timeline({startItem:$("#StartDate").val()})}return __extends(t,n),t.prototype.destroy=function(){$(".tl1").timeline("destroy")},t}(n.Core.Observable);t.Timeline=r;$(function(){})})(t=n.Business||(n.Business={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var i=function(t){function i(){var i=this;t.apply(this,arguments);this.initialiseTimeline=function(){i.timeline=new n.Business.Timeline({});i.timeline.bind(n.Business.TimelineEvents[n.Business.TimelineEvents.OnShowPreviousCard],i.registerTimelineGoogleAnalyticsEvent);i.timeline.bind(n.Business.TimelineEvents[n.Business.TimelineEvents.OnShowNextCard],i.registerTimelineGoogleAnalyticsEvent);i.timeline.bind(n.Business.TimelineEvents[n.Business.TimelineEvents.OnShowOpenCard],i.registerTimelineGoogleAnalyticsEvent)};this.registerTimelineGoogleAnalyticsEvent=function(){var t=i.timelineLoadingElement;(new n.Core.GoogleAnalyticsTracker).elementReady(t)}}return __extends(i,t),i.prototype.initialise=function(){var r=this,i;t.prototype.initialise.call(this);this.timelineLoadingElement=this.element.find("#TimelineLoadingPanel");i=this.timelineLoadingElement.getAjaxLoadingPanel();i!=null&&i.bind(n.Core.AjaxLoadingPanel.loadedEventName,function(){r.initialiseTimeline()})},i.prototype.destroy=function(){this.timeline.destroy();t.prototype.destroy.call(this)},i}(n.Core.WidgetItem),r;t.TimelineWidgetItem=i;r=function(){function n(){}return n.prototype.initialise=function(n){return new i(n)},n}();t.TimelineWidgetItemInitialiser=r})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var r=function(r){function u(){r.apply(this,arguments)}return __extends(u,r),u.prototype.initialise=function(){var e=this,f,u;r.prototype.initialise.call(this);f=this.element.find("#LoadingEmpFavouriteJobsPanel");u=f.getAjaxLoadingPanel();u.element.on("click","a.remove-item",function(n){n.preventDefault();var t=$(n.target);$.ajax({url:t.attr("href"),success:function(){u.refresh();e.trigger(i[i.FavouriteJobRemoved])}})});u.bind(n.Core.AjaxLoadingPanel.loadedEventName,function(){n.Core.currentPage.initialise(u.element)});this.addWidgetEventDependency(new n.Core.WidgetEventInfo("JobsWidget",t.JobsWidgetEvents[t.JobsWidgetEvents.FavouriteJobAdded],function(){u.refresh()}));this.addWidgetEventDependency(new n.Core.WidgetEventInfo("JobsWidget",t.JobsWidgetEvents[t.JobsWidgetEvents.FavouriteJobRemoved],function(){u.refresh()}))},u}(n.Core.WidgetItem),i,u;t.EmployerFavouriteJobsWidgetItem=r,function(n){n[n.FavouriteJobRemoved=0]="FavouriteJobRemoved";n[n.FavouriteJobAdded=1]="FavouriteJobAdded"}(t.EmployerFavouriteJobsWidgetEvents||(t.EmployerFavouriteJobsWidgetEvents={}));i=t.EmployerFavouriteJobsWidgetEvents;u=function(){function n(){}return n.prototype.initialise=function(n){return new r(n)},n}();t.EmployerFavouriteJobsWidgetItemInitialiser=u})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var i=function(n){function t(){n.apply(this,arguments);this.findProvidersNearMe=function(n){$(n.target).closest("form").submit()}}return __extends(t,n),t.prototype.initialise=function(){var r=this,t,i;n.prototype.initialise.call(this);t=this.element.find("#ProvidersNearMeLoadingPanel");i=t.getAjaxLoadingPanel();i.element.on("click",'a[data-post-form="true"]',function(n){r.findProvidersNearMe(n)})},t}(n.Core.WidgetItem),r;t.FindProvidersWidgetItem=i;r=function(){function n(){}return n.prototype.initialise=function(n){return new i(n)},n}();t.FindProvidersWidgetItemInitialiser=r})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var r=function(r){function u(){r.apply(this,arguments)}return __extends(u,r),u.prototype.initialise=function(){var e=this,f,u;r.prototype.initialise.call(this);f=this.element.find("#YourJobsLoadingPanel");u=f.getAjaxLoadingPanel();u.bind(n.Core.AjaxLoadingPanel.loadedEventName,function(){var t=f.find("form"),r=$;r.validator.unobtrusive.parse(t);AJSValidate.InitialiseDependentValidations(t);f.find("[data-favourite-fluent]").change(function(n,t){t?e.trigger(i[i.FavouriteJobAdded]):e.trigger(i[i.FavouriteJobRemoved])});n.Core.currentPage.initialise(u.element)});this.addWidgetEventDependency(new n.Core.WidgetEventInfo("EmployerFavouriteJobsWidget",t.EmployerFavouriteJobsWidgetEvents[t.EmployerFavouriteJobsWidgetEvents.FavouriteJobRemoved],function(){u.refresh()}));this.addWidgetEventDependency(new n.Core.WidgetEventInfo("EmployerFavouriteJobsWidget",t.EmployerFavouriteJobsWidgetEvents[t.EmployerFavouriteJobsWidgetEvents.FavouriteJobAdded],function(){u.refresh()}))},u}(n.Core.WidgetItem),i,u;t.JobsWidgetItem=r,function(n){n[n.FavouriteJobAdded=0]="FavouriteJobAdded";n[n.FavouriteJobRemoved=1]="FavouriteJobRemoved"}(t.JobsWidgetEvents||(t.JobsWidgetEvents={}));i=t.JobsWidgetEvents;u=function(){function n(){}return n.prototype.initialise=function(n){return new r(n)},n}();t.JobsWidgetItemInitialiser=u})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));
var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},Midas;(function(n){var t;(function(t){var i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.initialise=function(){n.prototype.initialise.call(this);var i=this.element.find("#EmployerLatestMessagesLoadingPanel"),t=i.getAjaxLoadingPanel();t.element.on("click","a[data-openmessage]",function(n){var r=$(n.currentTarget),i=r.closest("[data-messageid]"),u=i.data("messageread");u||$.post(r.data("controlleractionurl"),{messageId:i.data("messageid")},function(n){t.element.find("#InboxWidgetButton").find(".badge").text(n+" unread");i.data("messageread",!0);i.find(".li-title").toggleClass("fa-envelope",!1).toggleClass("fa-envelope-open",!0)})})},t}(n.Core.WidgetItem),r;t.EmployerLatestMessagesWidgetItem=i;r=function(){function n(){}return n.prototype.initialise=function(n){return new i(n)},n}();t.EmployerLatestMessagesWidgetItemInitialiser=r})(t=n.Widgets||(n.Widgets={}))})(Midas||(Midas={}));