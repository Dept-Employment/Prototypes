!function(n){function t(i){if(r[i])return r[i].exports;var u=r[i]={exports:{},id:i,loaded:!1};return n[i].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var u=window._walkmeWebpackJP,r,i;return window._walkmeWebpackJP=function(r,f){for(var e,o,h=0,s=[];h<r.length;h++)o=r[h],i[o]&&s.push.apply(s,i[o]),i[o]=0;for(e in f)Object.prototype.hasOwnProperty.call(f,e)&&(n[e]=f[e]);for(u&&u(r,f);s.length;)s.shift().call(null,t)},r={},i={0:0},t.e=function(n,r){if(0===i[n])return r.call(null,t);if(void 0!==i[n])i[n].push(r);else{i[n]=[r];var f=document.getElementsByTagName("head")[0],u=document.createElement("script");u.type="text/javascript";u.charset="utf-8";u.async=!0;u.src=t.p+""+n+".maketutorial_lib.js";f.appendChild(u)}},t.m=n,t.c=r,t.p="",t(0)}([function(n,t,i){(function(n){(function(){function r(r,u){function df(n){var t=this;t.FREE_TEXT_MAX_LENGTH=1e3;t.COOKIE_LIFE_10_YEARS=31536e4;t.DEBUGGER_STATE_NAME="wm-ftr";t.DOMAIN_IN_COOKIE="wm-dmn";t.DEFAULT_COOKIE_SECONDS=600;t.IS_DISPLAY_POWERED_BY={Show:"txt",Hide:"no"};t.ANALYTICS_CUSTOM_VARS={MaxVarLength:100,MaxCustomFields:5};t.AJAX_PROVIDERS={wmjQueryAjaxProvider:1,ajaxProxyProvider:2};t.STEP_STATUS={SupposedToShow:0,Shown:1,Performed:2,SkippedNotFound:3,SkippedByCondition:4,MovedBack:5,Exited:6,FakeFound:7,SkippedByTutorialCondition:8,SkippedStartedFromBiggerStep:9,NonValidActionStep:10,SkippedByActionStep:11};t.STEP_ACTION={Redirect:"redirect",PlayStep:"playStep",WaitForCondition:"waitForCond",Branch:"branchWt",StopWt:"stopWt",Delay:"delay",Refresh:"refresh",OpenPlayerMenu:"openPlayerMenu",SetWalkMeData:"setWalkMeData",PassOwnership:"passOwnership"};t.STEP_TYPE={Normal:0,Popup:1,Action:2};t.SOURCES={production:0,preview:1,play:2,test:3,success:32};t.TIME_PERIODS={OneHourSeconds:3600,DaySeconds:86400};t.STORAGE_KEYS={lastGetDataTime:"wm-lgt",remindMeLater:"wm-RML",customAuditVarDictionary:"wm-cavd",WALKTHRU_PERSISTENCE_DATA:"wm-prsst"};t.STORAGE_TYPE={Cookie:"cookie",CrossDomain:"crossdomain",JStorage:"jstorage",CrossDomainLocalStorage:"crossdomain_ls",CrossDomainCookies:"crossdomain_ck",Extension:"extension",ProxyIframe:"proxy"};t.PLATFORM={Web:1,MobileWeb:3,Desktop:6};t.STEP_PLAY_INITIATOR_ENUM={NONE:0,WIDGET:1,API:2,LAUNCHER:3,TASK:4,BRANCHING:5,AUTOSTART:6,PERMALINK:7,BBCODE:8,CHAT_AGENT:9,SHOUTOUT:10,WALKTHRU:11,STEP:12,ATTENTION_GRABBER:13,FLOW_STEP:14,COURSE:15,CUSTOMIZATION:16};t.AUDIT_TYPE={OPEN_TICKET:100};t.PLAY_MODE={Widget:0,LightBox:1,NewTab:2,SameTab:3};t.ELEMENT_INTERACTION_TYPES={Visible:0,NotVisible:1};t.SHOUTOUT_TYPES={snackbar:10,popup:20,fullScreen:30,customView:40};t.SPOTLIGHT_TYPES={arrow:1,django:2};t.MOBILE_COMMANDS={ACTION:{libAction:2003}};t.EVENT_SENDER_EVENT_TYPES={Close:"close",Open:"open",Play:"play",PlayFailed:"playFailed",Click:"click",Search:"search",Complete:"complete",GoalReached:"goalReach",Submitted:"submitted",Loaded:"loaded",Visible:"visible",Draw:"draw",MouseEnter:"mouseenter",Focus:"focus",Blur:"blur",Passed:"passed",Failed:"failed",TeachMeStepCompletion:"teachMeStepCompletion",TeachMeCourseCompletion:"teachMeCourseCompletion",TeachMeCompletionUpdate:"teachMeCompletionUpdate",TeachMeStepStarted:"teachMeStepStarted",SessionPing:"sessionPing",SessionStart:"session"};t.TeachMe={QUIZ_RESULT_STORAGE_KEY_PREFIX:"wm-lms-quiz-res-",QUIZ_STATUS_CLASS:{PASSED:"passed",FAILED:"failed",NOT_TESTED:"not-tested"},QUIZ_STATUS_TEXT:{PASSED:"Quiz Passed",FAILED:"Quiz Failed",NOT_TESTED:"Not Tested"},QUIZ_STATUS:{PASSED:1,FAILED:0,NOT_TESTED:void 0}};t.EVENT_SENDER_STEP_ACTION_NAMES={Redirect:0,PlayStep:1,WaitForCondition:2,Branch:3,StopWt:4,Delay:5,Refresh:6,OpenPlayerMenu:7,SetWalkMeData:8,PassOwnership:9,ErrorHandling:10,Split:11,OnPageActionClick:12,OnPageActionHover:13,OnPageActionFocus:14,OnPageActionFillText:15,OnPageActionSelectListValue:16,Style:17};t.EVENT_SENDER_ACTIONS={None:"none",OpenMenu:"menu",OpenCoursesMenu:"coursesMenu",PlayWalkthru:"wt",PlayShuttle:"shuttle",PlaySurvey:"survey",PlayShoutOut:"shoutout",PlayResource:"resource",PlayContent:"resource",SurveyQuestionAnswered:"answer",PlayBizFlow:"bizFlow",PlaySmartTipSet:"smartTip"};t.EVENT_SENDER_MOBILE_ACTION_TYPES={None:"none",RateApp:"rateApp",OpenSettings:"openSettings",BrowseToPage:"browseToPage",PlayVideo:"playVideo",SendEmail:"sendEmail",OpenApp:"openApp",OpenAppStore:"openAppStore"};t.EVENT_SENDER_EVENT_APPS={None:"none",Player:"player",Walkthru:"wt",Step:"step",ShoutOut:"shoutout",Shuttle:"shuttle",Survey:"survey",Question:"question",SurveyQuestionAnswer:"answer",Content:"resource",Launcher:"launcher",Task:"task",Course:"course",WidgetSearch:"widgetSearch",Ticket:"openTicket",Walkme:"walkme",TeachMe:"teachMe",AbTesting:"abTesting",TrackedElement:"trackedElement",TrackedPage:"trackedElementsSet",SmartTip:"smartTip",SmartTipSet:"smartTipSet",SmartTipUiComponent:"smartTipUiComponent",BizFlow:"bizFlow",BizFlowStep:"bizFlowStep",LiveChat:"liveChat",Quiz:"quiz",QuizQuestion:"quizQuestion",QuizAnswer:"quizAnswer"};t.EVENT_SENDER_AB_TESTING_DRAW_REASONS={Draw:0,ActivationRule:1};t.EVENT_SENDER_CANCEL_REASONS={Xclick:"X Clicked"};t.DEPLOYABLE_TYPE=n.DEPLOYABLE_TYPE;delete t.DEPLOYABLE_TYPE.Walkthru;t.DEPLOYABLE_TYPE.Tutorial=0;t.DEPLOYABLE_ACTION_TYPES={Action:0,Close:1,RemindMeLater:2};t.SAFESTART_ACTION={ErrorShown:0,PopupShown:1,AutoRedirect:2,StayClicked:3,RedirectClicked:4,FailOnUrl:5};t.FEATURES={DisableWidgetOpenFullUrl:"disableWidgetOpenFullUrl",EventSenderDontSendPageUrl:"dontSendPageUrl",EventSenderDontSendPageTitle:"dontSendPageTitle",StickyCustomVars:"stickyCustomVars",StrongStickyCustomVars:"strongStickyCustomVars",DisableEventCollection:"disableEventCollection",EnableBILogger:"enableBILogger",JSP:"jsp",ForceEmbedInOwnerDocument:"embedInOwnerDocument",OldIsInIframeIndication:"oldIsInIframeIndication",DontMaskEndUserAddress:"dmeua",CalculateElementBoundsBeforeRedraw:"calculateElementBoundsBeforeRedraw",ExternalConditions:"externalConditions"};t.EVENTS={DICreated:"DICreated",WalkMeTotalLoadingTime:"WalkMeTotalLoadingTime",MainStart:"mainCreationStart",WalkmeApiStarted:"walkMeApiCreationStart",WalkmePlayerApiStarted:"walkMePlayerApiCreationStart",BeforeWalkmeRemoved:"removeWalkMe",AfterWalkmeRemoved:"afterRemoveWalkMe",WalkmeLoaded:"wm_walkmeLibLoaded",BeforeWalkmeReady:"BeforeWalkmeReady",WalkmeReady:"WalkMeReady",ElementsTrackingReady:"ElementsTrackingReady",ReleaseAllElementsCalled:"releaseAllElementsCalled",CallReleaseElementsFromBalloons:"callReleaseElementsFromBalloons",LanguageChanged:"languageChanged",BeforeLanguageSet:"beforeLanguageSet",PlayerClicked:"wmPlayerClicked",ApiWasCalled:"wmApiCalled",PermalinkClicked:"wmPermalinkClicked",WidgetLoad:"WidgetLoad",WidgetOpening:"wmWidgetOpening",EndUserSettingsSet:"endUserSettingsSet",AbExperimentLinkedGoalReached:"wmLinkedGoalReached",AbTasksBlocked:"AbTasksBlocked",SalesForceVarsExposed:"SfVarsExposed",TimerManagerCreationStarted:"timerManagerCreationStart",DeployableCreated:"DeployableCreated",DeployableDestroyed:"DeployableDestroyed",DeployableNotShowing:"DeployableNotShowing",DeployableHandleStarting:"DeployableHandleStarting",UIComponentDestroyed:"UIComponentDestroyed",UIObjectsTreeCreated:"UIObjectsTreeCreated",BeforeDataFileLoaded:"BeforeDataFileLoaded",BalloonInitialized:"BalloonInitialized",BalloonCreated:"BalloonCreated",SmartTips:{SmartTipElementShown:"SmartTipElementShown",SmartTipElementRemoved:"SmartTipElementRemoved",ValidationFailed:"SmartTipValidationFailed",ValidationPassed:"SmartTipValidationPassed",TooltipShown:"SmartTipTooltipShown",SmartTipSegmented:"SmartTipSegmented",SetTurnedOn:"SmartTipSetTurnedOn",SetTurnedOff:"SmartTipSetTurnedOff",SmartTipIconShown:"SmartTipIconShown",SmartTipIconHovered:"SmartTipIconHovered"},TaskCompleted:"TaskCompleted",TasksLoaded:"TasksLoaded",Flows:{AfterCompletingFlowStage:"AfterCompletingFlowStage",BeforeExecutingFlowStage:"BeforeExecutingFlowStage",UIFlowStageShown:"UIFlowStageShown",FailedToStart:"FlowFailedToStart",BeforeFlowStarted:"BeforeFlowStarted",FlowStarted:"FlowStarted",FlowBranched:"FlowBranched",FlowStopped:"FlowStopped",FlowAborted:"FlowAborted",RestoringFlow:"RestoringFlow",FlowCompleted:"FlowCompleted",FlowBranchReturned:"FlowBranchReturned",LookingForElement:"LookingForElement",UiElementFound:"UiElementFound",WaitForConditionEvaluated:"WaitForConditionEvaluated",SafeStartStatusChanged:"SafeStartStatusChanged"},Walkthrus:{WalkthruGuidGenerated:"WalkthruGuid",WalkthruStarted:"StartNewWt",WalkthruStopped:"TutorialStopped",WalkthruLoaded:"LoadWt",WalkthruCompleted:"WalkthruCompleted",StepSkipped:"StepWasSkipped",StepElementFound:"ElementFound",StepElementNotFound:"ElementNotFound",LookingForStepElement:"LookingForElement",WaitingForStickyStep:"StickyStepWaiting",StepStarted:"NewStepStarted",StepExecuting:"StepPlayNum",StepPerforming:"StepPerforming",StepAdditionalTriggerSet:"StepAdditionalTriggerCBSet",StepAdditionalTriggersInitialized:"StepAdditionalTriggered",FakeStep:"StepIsFaked",StepShown:"NewStepShown",StepHasPlayCondition:"PlayStepCondition",StepCompleted:"StepCompleted",StepTriggered:"StepWasTriggered",InputGeneratedClick:"InputGeneratedClick",ShowStepBalloon:"showStepBalloon",DestroyStepBalloon:"destroyStepBalloon"},Launchers:{LauncherIsInsecure:"LauncherInsecure",LauncherClicked:"wmLauncherClicked",LauncherIsShown:"LauncherIsShown",LauncherIsHovered:"LauncherIsHovered"},Surveys:{StartSurvey:"StartSurvey",SurveyPlayed:"SurveyPlayed",SurveyCompleted:"SurveyCompleted",SurveyExited:"SurveyExited",SurveyFailedShowing:"SurveyFailedShowing",SurveyBalloonActionsSet:"SurveyBalloonActionsSet",SurveyBackQuestion:"SurveyBackQuestion",SurveyNextQuestion:"SurveyNextQuestion",SurveyQuestionCountSet:"SurveyQuestionCountSet",SurveyFreeTextAnswerValidated:"SurveyFreeTextAnswerValidated",SuveyBeforeRadioButtonAppended:"SuveyBeforeRadioButtonAppended",SurveyBalloonDisplayed:"SurveyBalloonDisplayed"},Shuttles:{ActivatingShuttle:"ActivatingShuttle"},Contents:{ActivatingContent:"ActivatingContent"},PassOwnership:{PriorityInitialized:"priorityInitialized",PORegisterPriority:"PORegisterPriority"},Widget:{WidgetAPICreated:"WidgetAPICreated",TeachMeWidgetAPICreated:"TeachMeWidgetAPICreated",WidgetDisplayerClass:"WidgetDisplayerClass",WidgetInitInstances:"WidgetInitInstances",WidgetPlayerClass:"WidgetPlayerClass",WidgetMenuClass:"WidgetMenuClass",WidgetLanguageChanged:"WidgetLanguageChanged",WidgetDestroyAll:"WidgetDestroyAll",WidgetRefreshUI:"WidgetRefreshUI",SearchResultsReady:"SearchResultsReady",CreateSearchEngines:"CreateSearchEngines",SearchTermChanged:"SearchTermChanged",SearchCanceled:"SearchCanceled",SearchResultsAppended:"SearchResultsAppended",BeforeSearchResultsAppended:"BeforeSearchResultsAppended",AfterSearchResult:"AfterSearchResult",SearchEnded:"SearchEnded"},WidgetMenu:{MenuHtml:"MenuHtml",MenuBuilt:"MenuBuilt",MenuShow:"MenuShow",MenuHide:"MenuHide",MenuLanguageChanged:"MenuLanguageChanged",CreateActivatable:"createActivatable",AccessibilityMenuBuilt:"AccessibilityMenuBuilt",MenuSearchResults:"MenuSearchResults",RefreshTabsBar:"RefreshTabsBar",MenuTabSelected:"MenuTabSelected"},WidgetPlayer:{PlayerShow:"PlayerShow",PlayerBuilt:"PlayerBuilt",PlayerHtml:"PlayerHtml",PlayerHide:"PlayerHide",PlayerLanguageChanged:"PlayerLanguageChanged"},SearchResultParse:"SearchResultParse",AppendingServerSearchResults:"AppendingServerSearchResults",SearchResultConverted:"SearchResultConverted",TrackedElementBeforeSendEvent:"trackedElementBeforeSendEvent",ContentRemoved:"ContentRemoved",AttentionGrabberInsecure:"AGDataInsecure",TasksConditionEvaluated:"TasksConditionEvaluated",LightBoxDivCreated:"lightBoxDivCreated",LightBoxCreated:"lightBoxCreated",LightBoxClosed:"LightBoxClosed",ShouldChangeBalloonPosition:"ShouldChangeBalloonPosition",FirstStepNotAvailable:"FirstStepNotAvailable",ShoutOutClosed:"ShoutOutClosed",AutoStart:{Activated:"wmAutoStartActivated",ConditionEvaluated:"WtAutoStartConditionEvaluated"},LoadingContent:"LoadingContent",LoadingContentFromTeachMe:"LoadingContentFromTeachMe",LoadingContentInNewTab:"LoadingContentInNewTab",StorageLoaded:"StorageLoaded",BeforeStorageLoadedCallback:"BeforeStorageLoadedCallback",CustomAuditVar:"CustomAuditVar",Redirect:{CheckCanRedirect:"CheckCanRedirect",OnRedirect:"OnRedirect"},Goals:{ConditionEvaluated:"GoalConditionEvaluated",GoalReached:"GoalCompleted"},ActionConditionEvaluated:"ActionConditionEvaluated",Scrolls:{ScrollFired:"scrollFired"},Quizzes:{QuizSubmitted:"QuizSubmitted",QuizPlay:"QuizPlay",QuizFail:"QuizFail",QuizPass:"QuizPass",QuizAnswerSubmitted:"QuizAnswerSubmitted",QuizSummarySuccessButtonClicked:"QuizSummarySuccessButtonClicked",QuizSummaryFailureButtonClicked:"QuizSummaryFailureButtonClicked",QuizXButtonClicked:"QuizXButtonClicked",QuizResultsActionButtonClicked:"QuizResultsActionButtonClicked"},NewSession:"NewSession",WalkmeReadyNewSession:"WalkmeReadyNewSession",ConditionTreeResult:"ConditionTreeResult",BeforeSettingCustomCss:"BeforeSettingCustomCss",SettingsFileNewPublish:"SettingsFileNewPublish",BBCodeStartActionClicked:{Walkthru:"bbcodeWtClicked",Bizflow:"bbcodeBfClicked",Resource:"bbcodeResourceClicked",Survey:"bbcodeSurveyClicked"},AddFocusTraits:"AddFocusTraits",RegisterBBCodeDeployableClick:"RegisterBBCodeDeployableClick",ElementLocationChanged:"ElementLocationChanged",AnalyticsEventSent:"AnalyticsEventSent",BalloonLogs:{BalloonPopLocationCalculated:"BalloonPopLocationCalculated",BalloonIsFullyVisibleCalculated:"BalloonIsFullyVisibleCalculated",ClosestCanEmbedReturnsTop:"ClosestCanEmbedReturnsTop",ClosestCanEmbedSkipsElement:"ClosestCanEmbedSkipsElement",CalculateBalloonWidthCalled:"CalculateBalloonWidthCalled"},SpotlightCreated:"SpotlightCreated",SafeStartRedirect:"SafeStartRedirect"};t.EVENTS_PARAMS={WalkmeRemovedErrorCodes:{missingUserIdentifyer:1,cannotHaveBothUniqueUserAndServerStorage:2}};t.SMART_TIP_INNER_EVENTS={CheckValidations:"wmCheckValidations",EventPropogationPrefix:"wmSmartTipInternalEvent",SmartTipElementRepositioned:"SmartTipElementRepositioned"};t.WINDOW_EVENTS={Resize:"resize"};t.PASS_OWNERSHIP={EvaluateOwnership:{CantBeDetermined:"CANT_BE_DETERMINED",Owner:"OWNER",NotOwner:"NOT_OWNER"},PassOwnershipEntity:{BizFlow:0,Walkthru:1},NEW_WINDOW_TIME_KEY:"wm-cond-win",LOG_FEATURE:"passOwnership",PASS_OWNERSHIP_COOKIE:"wm-cdplay"};t.FLOW_BEFORE_PLAY_KEY="wm-flw-preplay";t.FLOW_PLAY_MODES={PLAY:"play",RESTORE:"restore"};t.FLOW_STAGE_ACTIONS={BACK_FROM_FLOW_GROUP:"backFromFlowGroup",EXECUTE:"execute"};t.WINDOW_CUSTOM_DATA_TYPE={Cookie:0,Var:1};t.VALUE_CALCULATOR_TYPE={Cookie:"cookie",Variable:"var",JQuery:"jquery",LocalStorage:"localstorage"};t.DEFAULT_REACTION_TIME=500;t.FLOW_TRIGGER_WORKSPACE=".flow";t.FLOW_STEP_TYPE={UI:"UI",Action:"Action"};t.FLOW_UIELEMENT_TYPE={Element:"Element",Popup:"Popup"};t.FLOW_ACTION_RUN_STATE={Waiting:"Waiting",Done:"Done"};t.FLOW_ACTION_TYPE={ConnectToBizflow:"ConnectToBizflow",Delay:"Delay",OpenMenu:"OpenMenu",PassOwnership:"PassOwnership",Redirect:"Redirect",Refresh:"Refresh",Style:"Style",SetData:"SetData",Split:"Split",Stop:"Stop",WaitForCondition:"WaitForCondition",OnPageAction:"OnPageAction",ErrorHandling:"ErrorHandling"};t.FLOW_ON_PAGE_ACTION_ELEMENT_ACTIONS_TYPE={Click:"Click",Hover:"Hover",Focus:"Focus",FillText:"FillText",SelectListValue:"SelectListValue"};t.FLOW_INNER_EVENTS={EventPropogationPrefix:"wmFlowInternalEvent",FlowIsPlaying:"FlowIsPlaying"};t.STICKY_TYPE={ONCE:0,SOFT:1,STRONG:2};t.VISIBILITY_STATE={VISIBLE:0,HIDDEN:1};t.ICON_CONTENT_KIND={Text:0,Image:1};t.POSITION_PERIMETER_TYPE={Outside:0,Inside:1};t.POSITION_TYPE={Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8};t.OPPOSITE_POSITION_TYPE={},function(n,t){n[t.Top]=t.Bottom;n[t.Right]=t.Left;n[t.Bottom]=t.Top;n[t.Left]=t.Right;n[t.TopLeft]=t.BottomRight;n[t.TopRight]=t.BottomLeft;n[t.BottomRight]=t.TopLeft;n[t.BottomLeft]=t.TopRight;n[t.Center]=t.Center}(t.OPPOSITE_POSITION_TYPE,t.POSITION_TYPE);t.DEFAULT_POSITIONS={top:0,left:0,bottom:0,right:0};t.POPUP_BALLOON_Z_INDEX=2147483631;t.NORMAL_BALLOON_Z_INDEX=2147483630;t.POSITION_OFFSET_TYPE={VerticallyCentered:1,HorizontalCentered:2,Above:3,Below:4,ToRight:5,ToLeft:6,SnapToViewportRight:9};t.POSITION_OFFSET={Center:0,Start:1,End:2};t.EMBEDMENT_TYPE={EmbedInElement:0,EmbedInElementParent:1,EmbedInOwnerDocument:2,EmbedInTopDocument:3};t.ICON_CONTENT_STATE={Regular:0,Hover:1,Click:2};t.SMART_TIP={MODE:{OnlyInfo:0,OnlyValidations:1,InfoAndValidations:2},COMPONENT_TYPE:{Info:0,Validation:1,PositiveFeedback:2}};t.TOOLTIPS_ACTIVATION_MODES={Mouse:1,Focus:2};t.OLD_STICKIES={STICKINESS_TYPES:{soft:0,strong:1}};t.CONDITION_CHECKER={FEATURE_NAMES:{SmartTipSegmentation:"evaluate smart tip segmentation"}};t.IS_STICKY_SETTING_KEY="isSticky";t.STICKINESS_TYPE_SETTING_KEY="stickinessType";t.ANIMATION_TYPES={None:1};t.FLOW_TRIGGER_TYPE={Click:"Click",Hover:"Hover",Button:"Button",Text:"Text",Delay:"Delay",PageChanged:"PageChanged",SelectAny:"SelectAny",SelectValue:"SelectValue",BbCode:"BbCode",PeerStep:"PeerStep",Custom:"Custom",Swipe:"Swipe"};t.SHOUTOUT_CLICK_TYPE={Action:0,Close:1,XButton:2,RemindMeLater:3};t.BALLOON_BUTTON_TYPE={Submit:"Submit",Back:"Back",Next:"Next",Done:"Done",Start:"Start",Cancel:"Cancel"};t.FEATURES_LOGS={ElementFinder:"elementFinder",WalkMeSession:"session",Flows:"flows",AnalyticsTracking:"analyticsTracking"};t.SEARCH_DEPLOYABLES_PROVIDER_ID=0;t.APPLET_INTERACTION_TYPES={Element:1,Overlay:2};t.WALKTHRU_PERSISTANCE_DATA_FIELDS={STEP_COMPLETED_HISTORY_COOKIE_NAME:"sch",CURRENT_TUTORIAL_COOKIE_NAME:"tId",CURRENT_STATE_COOKIE_NAME:"stt",CURRENT_STEP_COOKIE_NAME:"step",CURRENT_STEP_PLAY_NUMBER_COOKIE_NAME:"spn",CURRENT_PLAY_GUID_COOKIE_NAME:"plgd",CURRENT_PLAY_INITIATOR_COOKIE_NAME:"pint",SPLIT_POINT_COOKIE_NAME:"splt",TUTORIAL_FINISHED_COOKIE_NAME:"fnsh",STEP_PLAY_HISTORY_COOKIE_NAME:"sph",SPLIT_TUTORIAL_IDS_COOKIE_NAME:"sti",SPLIT_START_FROM_STEP_COOKIE_NAME:"ssi",INTERACTION_GUID_COOKIE_NAME:"igd"};t.SURVEY_START_EVENTS={WalkThruCompleted:0,WalkThruExited:1,Both:2,WalkThruInterrupted:3,BbCodeClicked:4};t.CHECK_STEP_MODE={Normal:1,Sandbox:2};t.playConditionModes={PLAY_CONDITION:0,STICKY_CONDITION:1,BOTH:2};t.UI_PROPERTIES={Visible:"visible",Invisible:"invisible",Completed:"completed",Uncompleted:"uncompleted",StrikedOut:"strike-out",Active:"active",Inactive:"inactive",ProgressBar:"progress-bar",Default:"default",Search:"search",SearchProviders:"search-providers",Video:"video",Article:"article",Accessible:"accessible",Phantom:"phantom",LmsCourse:"lmsCourse"};t.DISPLAY_WIDGET_CONDITION="displayWidgetCondition";t.WALKTHRU_STATE={NOT_RUNNING:0,RUNNING:1,WAITING_FOR_ELEMENT:2,WAITING_FOR_ELEMENT_EVENT:3,PAUSED:4,WAITING_FOR_SPLIT:5,WAITING_FOR_NEXT_BUTTON_CLICK:6,WAITING_FOR_PAGE_CHANGE:7,WAITING_FOR_STICKY_ELEMENT:8,WAITING_FOR_CONDITION:9,PASSING_OWNERSHIP:10,WAITING_FOR_REDIRECT:11,WAITING_FOR_OWNERSHIP:12};t.WALKTHRU_STEP_TRIGGER={NOTHING:0,NEXT_BUTTON:1,CLICK:2,HOVER:3,PAGE_CHANGED:4,KEY_PRESSED:5,DURATION:6,SELECT_ANY:7,SELECT_VALUE:8,SWIPE:9};t.SUBTEXT_CURRENT_START="##START_OF_CURRENT##";t.SUBTEXT_CURRENT_END="##END_OF_CURRENT##";t.SUBTEXT_TOTAL_START="##START_OF_TOTAL##";t.SUBTEXT_TOTAL_END="##END_OF_TOTAL##";t.DEPLOYABLE_DISPLAY_NAME={19:"BizFlow",0:"Walk-Thru"};t.SURVEY_FREQUENCY={0:"always",1:"visit",2:"once"};t.UI_CHANGE_NOTIFIERS={HASH:"hash",HISTORY:"history",IFRAME_LOAD_SELECTOR:"iframeLoadSelector",CLICK_SELECTOR:"clickSelector",AJAX_CALLS:"ajaxCalls",USER_INPUT:"userInput",HASH_ON_AJAX_CALLS:"hashOnAjax"};t.FLOW_TRANSITION_HANDLER_IDS={DELAYER:0,ON_BEFORE_UNLOAD:1};t.QUESTION_TYPES={FreeText:0,RadioButton:1,CheckBox:2}}function gf(n){var t=this,i={platform:n.PLATFORM.Web};t.get=function(n){return window._walkmeConfig&&window._walkmeConfig[n]?window._walkmeConfig[n]:i[n]}}function ne(n,t){function f(){i=t.get("platform")}var i,u=this;u.register=function(n,t){if("number"==typeof n)return void(n==i&&t());r.inArray(i,n)!=-1&&t()};f.apply(null,arguments)}function te(){function i(){t=r()||window.wmPreviewSnippet||window.wmSnippet}function r(){if(window.wmPlaySnippetData){var n=c(window.wmPlaySnippetData);return window.wmPlaySnippet={getSettingsFile:function(){return n}},window.wmPlaySnippet}return null}var t,n=this;n.getSettingsFile=function(){return t?t.getSettingsFile()||{}:{}};n.getPublishVersion=function(){var t=n.getSettingsFile(),i=t.DataFiles[0].url;return i.match(/data_([a-z0-9]+)/)[1]};n.getPublishDirectory=function(){var i=n.getSettingsFile(),t=i.DataFiles[0].url;return t.substring(0,t.lastIndexOf("/")+1)};n.getCdnServerName=function(){return n.getSettingsFile().CdnServerName||window.mt_cdn_server_name};n.getStorageType=function(){return n.getSettingsFile().Storage};n.getAllUserGuids=function(){return n.getSettingsFile().UserGuids};n.getPublishDate=function(){return n.getSettingsFile().PublishDate};n.getUrl=function(){return window._walkmeInternals&&window._walkmeInternals.settingsUrl};n.getPlayerRelatedPath=function(){var t=n.getSettingsFile().LibFile,i=/http.+\/player\//.exec(t);return i[0]};i()}function ie(){return f.get("SettingsFile").getSettingsFile().PublicPath}function re(n,t,i,u,e,s){function rt(){v=new ht(n)}function d(n){return n.debug=function(t,i,r){return n("debug",t,i,r)},n.info=function(t,i,r){return n("info",t,i,r)},n.warn=function(t,i,r){return n("warn",t,i,r)},n.error=function(t,i,r){return n("error",t,i,r)},n}function ut(){for(var n=a.length-1;n>=0;n--)p(a[n]);a.length=0}function g(){var n=new Date;return"["+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+":"+n.getMilliseconds()+"] "}function ft(n,t,i){var r=!0;return n?r=mtjQuery.inArray(i,n)!=-1:t&&(r=mtjQuery.inArray(i,t)==-1),r}function et(n,t,r){try{if(!f.get("AuditingEnabledIndicator").isEnabled()||s.isFeatureEnabled("disableAuditErrorLog"))return!0;if(k++,k>5)return;var e={code:t,isInEditor:u.get(),SVNRevision:i.SVNRevision,LibVersion:i.LibVersion};r&&(mtjQuery.extend(r,e),e=r);h.sendServerLog.error(n,e)}catch(o){}}function p(n){if(window.console)console.log(n);else try{var r=st(),t=new Date,i=ot(n);r.find("#walkme-console-messages").prepend('<li style="padding: 2px 5px; border-bottom: 1px solid #afafaf"><span style="float: left; color: #afafaf; margin-right: 5px;">'+w(t.getHours())+":"+w(t.getMinutes())+":"+w(t.getSeconds())+" <\/span>"+i.substring(1,i.length-1)+"<\/li>")}catch(u){}}function ot(n){return n instanceof r?"-jQuery object: selector - "+n.selector+", value - "+n.val()+", domElement - "+o(n[0]):o(n)}function w(n){return n<10?"0"+n:n}function st(){var n=mtjQuery("#walkme-console-box"),u;if(0===n.length){u=f.get("TopContainerProvider").getTopContainer();n=mtjQuery('<div id="walkme-console-box"><\/div>');var t=mtjQuery('<div style="display: none;">Walkme Console: [ <\/div>'),i=mtjQuery('<button type="button" title="Toggle the walkme debug console">Walkme Console<\/button>'),r=mtjQuery('<ul id="walkme-console-messages"><\/ul>'),o=mtjQuery('<a href="#">clear<\/a>');t.append(o);t.append(" ]");t.append(r);n.append(t);n.append(i);u.append(n);i.click(function(){t.slideToggle("fast",function(){var n=mtjQuery(this).is(":visible")?"Close Console":"Walkme Console";i.text(n)})});o.click(function(){r.empty()});t.css({margin:"15px 60px 5px 15px",padding:"5px",border:"1px solid red","background-color":"#FFC",color:"#000"});i.css({border:"1px solid red","background-color":"#FFFFCC","margin-left":"15px",width:"120px"});n.css({position:"fixed","z-index":e.POPUP_BALLOON_Z_INDEX,"font-family":"Arial",bottom:"10px",left:"10px",width:"100%","text-align":"left"});r.css({"background-color":"white",border:"1px solid black",height:"260px","list-style-type":"none",padding:"0","overflow-y":"auto",margin:"5px 0 0"})}return n}function ht(){function l(t){u=t;n=c(u.getCookie(y))}function r(){n||(n={})}function e(t,i){return n?n[t]:i}function h(n){return f.get("CommonUtils").isDefined(n)?"string"==typeof n?(n=n.replace(/\s/g,""),n.split(",")):n.length>0?n:void 0:[]}function i(){u.setCookie(y,o(n),tt)}var n,u,t=this,s=1;t.get=function(){return n};t.enable=function(u){return r(),n.l=u||s,i(),t};t.disable=function(){return n&&(n.l=0,i()),t};t.reset=function(){return n={l:s},i(),t};t.level=function(u){return void 0===u?e("l",null):(r(),n.l=u,i(),t)};t.track=function(u){if(void 0===u)return e("f",[]);r();var f=h(u);return delete n.u,n.f=n.f?of(f,n.f):f,i(),t};t.untrack=function(u){if(void 0===u)return e("u",[]);r();var f=h(u);return delete n.f,n.u=n.u?of(f,n.u):f,i(),t};t.timer=function(u){return r(),u?n.m=1:n.m&&delete n.m,i(),t};l.apply(null,arguments)}var h=this,b=!1,l,a;window.walkme_lib_in_dev&&(b=!0);var v,y="walkmeCustomerLogs",nt={debug:4,info:3,warn:2,error:1},tt=86400,k=0,it=!0;h.ready=function(){hi.logger=h.wrapCustomerLog("DI")};h.wrapCustomerLog=function(n){return function(t,i,r){h.customerLog(t,i,r||n)}};h.customerLog=function(n,i,r){var u;if((!t.isQuirksMode()||!(n instanceof mtjQuery||n&&n.nodeType))&&(i=f.get("CommonUtils").defaultValue(i,1),u=v.get(),u)){var e=parseInt(u.l),s=u.f,h=u.u;if(e>=i&&ft(s,h,r))try{p(u.m?g()+o(n):n)}catch(c){}}};h.sendServerLog=d(function(n,t,i,r){f.get("EventCollectorLoggerPixel").log(n,t,i);h.customerLog(t,nt[n],r)});h.wrapServerLog=function(n){return d(function(t,i,r,u){h.sendServerLog(t,i,r,u||n)})};l=0;a=[];h.timer=function(t){l++;var i=(new Date).getTime();return{stop:function(){var r=c(n.getCookie(y));if(r&&r.m){var f=(new Date).getTime(),e=f-i,o=Array(l).join("->\t"),u=g()+o+t+": "+e+"ms";1==l?(p(u),ut()):a.push(u);l--}}}};h.enableCustomerLogs=function(n){return v.enable(n)};h.error=function(n,t,i){var r,u,f,e;try{u=arguments.callee.caller;f=u?u.name:"N/A";n&&n.message?(e=t?t+"\n":"",r=e+"File : "+n.fileName+"\n - Function : "+f+"\n - Line : "+n.lineNumber+"\n - Msg : "+n.message):r="Function : "+f+"\n - "+t;n&&n.stack&&(r+="\n - Stack: "+n.stack);it&&et(r,1,i);b&&!window.wmNoAlert&&alert("Dev mode alert: "+r);customerLog("Error: "+r)}catch(o){}};h.getAPI=function(){return v};rt.apply(null,arguments)}function ue(n,t,i,r){function o(){u=r&&r.feature||n.DEFAULT_FEATURE;f=r&&r.logLevel||n.DEFAULT_LOG_LEVEL}function s(){var n=t.formatString.apply(null,arguments);i.customerLog(n,f,u)}var e=this,u,f;e.customerLog=s;o()}function fe(){function t(n){return n.replace(/\/\*[\s\S]*?\*\//gm,"")}function r(n){var i=t(n).split(/\s*{[^}]*}\s*/);return i.pop(),i}function u(n){var i=t(n);return!f(i.toLowerCase())}function f(n){for(var r,t=0;t<i.length;t++)if(r=i[t],n.indexOf(r)>-1)return!0;return!1}var n=this,i=["@import","expression","javascript","-moz-binding","-o-link","behavior"];n.clearComments=t;n.getSelectors=r;n.isSecure=u}function ee(n,t,i,r,u,f,e){function l(){if(n.getEndUserGuidSource())return n.getEndUserGuid()}function s(){throw new Error("WalkMeInfo not initialized properly");}function a(n,t){return h[n]=t,!0}function c(){return h}var o=this,h;o.getUserGuid=s;o.getEndUserGuid=s;o.getEndUserGuidSource=s;o.getPermutationId=s;o.getLanguage=s;o.getSource=s;o.getCustomVars=s;o.getLibVersion=s;o.setAnalyticsCustomFields=a;o.getAnalyticsCustomFields=c;h=Array();o.init=function(){o.getUserGuid=u.getUserGuid;o.getEndUserGuid=l;o.getEndUserGuidSource=n.getEndUserGuidSource;o.getPermutationId=t.getCurrentPermutation;o.getLanguage=i.getCurrentLanguage;o.getEnvironmentId=r.get;o.getCustomVars=c;o.getLibVersion=function(){return f.LibVersion};o.getPublishDate=e.getPublishDate}}function oe(n,t,i,r,u,e,o,s,h){function d(){window._walkmeInternals.walkmeLoadLog=[];a={start:{run:function(t){c("st");k=f.get("CommonUtils");n.profilerAPI=f.get("ProfilerAPI");var i=f.get("SettingsFile").getSettingsFile();f.get("AuditSourceManager").set(i.Environment);s.setUserGuid(i.UserGuids&&i.UserGuids[0]);f.get("RecorderServerManager").set(i.PlayerServer);f.get("EventServerBaseUrl").set(i.EventServer);f.get("FramesetsUtils").waitForFramesHeadsAndBodies(t)},next:"pageReady"},pageReady:{run:function(n){c("pr");l.libCtorTimer=f.get("Logger").timer("lib constructor");n()},next:"loadStorage"},loadStorage:{run:function(t){c("ls");var i=f.get("ClientStorageManager");if(i){if(i.init(t,n)===!1)return nt("storageManagerInitFailed"),!1;try{window.walkme_lib_in_dev&&o.devModeAlert()}catch(r){}l.libCtorTimer.stop()}},next:"loadWalkmeConfig"},loadWalkmeConfig:{run:function(n){c("lwc");t.init(function(){if(null!=t.Data){var r=t.Data.EndUserSettings,i=f.get("EndUsersManager");i.setEndUserSettings(r);i.createEndUserGuid()}n()})},next:"loadServerStorage"},loadServerStorage:{run:function(n){c("lss");var t=f.get("StorageManagerFactory").bySettingsFile(!0);f.register("ClientOrServerStorageManager").asInstance(t);t===f.get("ClientStorageManager")&&t.removeData(t.keysConfig.serverStorage.lastGetDataTime.key,s.getUserGuid());t.init(n,n)},next:"afterStorageLoaded"},afterStorageLoaded:{run:function(){c("asl");g();var n=f.get("ClientOrServerStorageManager");n.convertOldCookieStorage("wm-lang");n.convertOldCookieStorage("wm-ABPer");document.cookie.indexOf("walkmeDontInitLib")==-1&&r.setWalkmeTimeout(function(){tt()},0)}}};v="start"}function c(n){window._walkmeInternals.walkmeLoadLog.push(n)}function g(){f.get("loadClasses");f.get("loadClasses2")}function nt(t){e.removeWalkMe(t,{sendLog:!0});n.initFailed=!0}function w(n,t){n&&(n.run?n.run(function(){b(n,t)}):b(n,t))}function b(n,t){if(n){var i=a[n.next];v=n.next;i?w(i,t):t&&t()}}function tt(){f.get("WalkmeLoadTimeManager").init();h.init();it();f.get("HostData").isIE(7)||f.get("AuditSourceProvider").isInPlayMode()||f.get("EventSenderInitializer").init();f.get("LibInitializer").startInitializer()}function it(){var n=f.get("SessionPersister");n.loadOrCreate()}var a,v,l=this,p=f.register("loadClasses").asInstance({}).dependencies("CookiesManager,Logger,FramesetsUtils,SettingsFile,JQueryElementFinder,ConditionFunctions,ConditionTreeEvaluator,BBCodeParser,ResourceManager,ClientOrServerStorageManager,EndUsersManager,DataSender,EventSender,AbPermutationManager,LibInitializer,WmAjax,SiteConfigManager,EndUserLoggerManager,AnalyticsManager,ClickAuditManager,RecorderServerManager,EventServerBaseUrl,ServerDataSenderManager,AuditStepsManager,GoalsManager,WalkMeGoalsManager"),y;"useOnce"in p&&p.useOnce();y=f.register("loadClasses2").asInstance({}).dependencies("DebuggerManager,WmInternals,PlayManager,FeaturesManager,TimerManager,CommonEvents,AuditWtsManager,PopupNotificationsService,LoggerManager,TriggersManager,ShoutOutActionDataProvider,LauncherActionDataProvider,AuditTasksManager,LegacyWidgetApiModule,LegacyExternalApiModule,FlowSurveyActivator");"useOnce"in y&&y.useOnce();l.start=function(n){w(a[v],n)};l.get=function(n){return f.get(n)};d.apply(null,arguments)}function se(n,t,i){function e(){r(["bind","unbind","on","off","one"]).each(function(n,t){i[t]=function(n,u){r(i)[t](n,u)}});f.get("DataEncoderFactory").registerEncoders();f.get("CommonEvents").raiseEvent(n.EVENTS.DICreated,f);f.get("AjaxManager").init();f.get("CommonEvents").raiseEvent(n.EVENTS.MainStart,{object:t});f.initialize("Logger");f.initialize("HostData");f.initialize("ElementFinder");f.get("WalkmeLoader").start()}var u=this;u.init=e}function v(){function i(){n=[]}function r(t){n=t}function u(){return n}function f(t){n=n.concat(t)}var t=this,n;t.set=r;t.get=u;t.addRange=f;i()}function le(n){function r(n){i=n}function u(){return i||n.getCdnServerName()||""}var t=this,i;t.get=u;t.override=r}function ae(){function u(){i=f.get("DataValueEncoder");r=f.get("DataNameEncoder");n=f.get("Consts")}var i,r,n,t=this;this.setCookie=function(n,t,u,f){var o,e,s,h;try{"string"!=typeof t&&(t=t.toString());t=i.encode(t);o="";f&&f.length>0&&(o="; domain="+f);e=new Date;e.setTime(e.getTime()+1e3*u);s="; expires="+e.toUTCString();h=t+s+"; path=/"+o;document.cookie=r.encode(n)+"="+h}catch(c){this.logger.error(c)}};this.getCookie=function(n){for(var u,e,s=r.encode(n),o=!1,f=document.cookie.split(";"),t=0;t<f.length;t++){if(u=f[t].substr(0,f[t].indexOf("=")),e=f[t].substr(f[t].indexOf("=")+1),u=u.replace(/^\s+|\s+$/g,""),u==s)return i.decode(e);u==n&&(o=i.decode(e))}return o};this.getCurrentDomain=function(){var f=t.getCookie(n.DOMAIN_IN_COOKIE),r,e,s;if(f)return f;if(r=window.location.hostname,e="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$",new RegExp(e).test(r))return t.setCookie(n.DOMAIN_IN_COOKIE,r,n.DEFAULT_COOKIE_SECONDS,r),r;if(r.indexOf(".")==-1)return null;for(var o=r.split("."),i="",u=o.length-1;u>=0;u--)if(""!=i&&(i="."+i),i=o[u]+i,t.setCookie(n.DOMAIN_IN_COOKIE,i,n.DEFAULT_COOKIE_SECONDS,i),t.getCookie(n.DOMAIN_IN_COOKIE)==i)return i;if(t.setCookie("wm-test","wm-test",n.DEFAULT_COOKIE_SECONDS),s=t.getCookie("wm-test"),"wm-test"!=s)try{console.log("WalkMe requires the browser to accept cookies - please enable cookies in your browser.")}catch(h){}else this.logger.error(new Error("Cannot get domain from: "+r));return};u.apply(null,arguments)}function ve(n,t){function r(){}function u(i,r){var u,f,e,o,s,h;try{return i==n.EMBEDMENT_TYPE.EmbedInOwnerDocument?(e=r.offset(),u=Math.floor(e.top),f=Math.floor(e.left)):i==n.EMBEDMENT_TYPE.EmbedInTopDocument&&(o=t.getPosRelativeToWindow(r[0],window,!0),u=o.top,f=o.left),s=r.height(),h=r.width(),{top:u,left:f,height:s,width:h}}catch(c){return{}}}var i=this;i.getElementPosition=u;r()}function ye(n,t,i){function f(t){var i=n.getStorageType();if(i)return i[t]}var u,r=this,o="hi",s="sc",h="wm-cdhi-o",c=33,l=3;r.getOrigin=function(){var n,r;if(!u){if(t.isLocalStorageEnabled()&&(n=i.localStorage.getItem(h),n))return n;if(r=f(o),r)return r;u=t.getOrigin()}return u};r.getHiddenIframePath=function(n){var t=n?".compress":"";return r.getOrigin()+e("/player/resources/CD/CDhiddenIframe{1}_v{0}.html",c,t)};r.getHiddenIframeScriptSrc=function(){return r.getOrigin()+e("/player/resources/CD/cdHiddenIframeScript_{0}.js",l)};r.getSaveCookiePath=function(){var n=f(s);return n||r.getOrigin()+"/player/resources/CD/saveCookie.html"};r.shouldHandleMessage=function(n){var t=r.getOrigin();return t.toLowerCase().indexOf(n.origin)>-1}}function wi(){function f(n,t,i){r=t;u=i.getHiddenIframePath(n)}function e(t,i,r){n=h(r);n?i&&i():n=c(t,i,r)}function o(){n&&n.parentNode&&n.parentNode.removeChild(n)}function s(n,i){t().postMessage(n,i)}function t(){return n&&(n.contentWindow||n.window)}function h(n){var t=n?n.ownerDocument:document;return t.getElementById(i)}function c(n,t,f){return r.createIframe(u,i,!1,t,n,f,!0)}function l(){try{return!!t()}catch(n){return!1}}var i="walkme-hidden-iframe",n,r,u;this.init=e;this.postMessage=s;this.isInitialized=l;this.getTargetWindow=t;this.terminate=o;f.apply(null,arguments)}function pe(){function c(n,i,r,f){u=i;h=f;o=r;t=new wi(n,i,r)}function l(o,s){f=o;v(function(){var f=r(n).contents();i=n.contentWindow||n.window;y(f,i,function(){t.init(null,function(){e=u.registerEventHandler("message",p,!1,i);i.targetWindow=t.getTargetWindow();s&&s()},f.find("body")[0])})})}function a(){t&&t.terminate();e&&e();n&&n.parentNode&&n.parentNode.removeChild(n)}function v(t){n=document.getElementById(s);n?t():n=u.createIframe("about:blank",s,!1,t,null,null,!0)}function y(n,t,i){var r=t.document.createElement("script");r.type="text/javascript";r.async=!1;r.src=o.getHiddenIframeScriptSrc();window._walkmeInternals.hiddenIframeCallback=i;n.find("head")[0].appendChild(r)}function p(n){var t=u.getWalkmeInternals().walkmeWrap;t?t(f,n):f(n)}function w(n,t){i.send.apply(i,[n,t])}function b(){return t.isInitialized()}var f,t,n,i,u,o,h,e,s="walkme-proxy-iframe";this.init=l;this.isInitialized=b;this.postMessage=w;this.terminate=a;c.apply(null,arguments)}function we(n,t,i){function o(){f=new ar}var f,u=this,e="#!@DeL@!#";u.saveData=function(t,i,r,e){void 0==u.currentDomain&&(u.currentDomain=n.getCurrentDomain());n.setCookie(t,i,r,u.currentDomain);f.saveData(t,i,r,e)};u.getData=function(t,i){var r=f.getData(t,i);if(void 0!==r||(r=n.getCookie(t),r!==e&&r!==!1))return r};u.removeData=function(n,t){f.removeData(n,t);var i=u.getData(n);void 0!==i&&u.saveData(n,e,-1)};u.removeAllData=function(){for(var i,t=document.cookie.split(";"),n=0;n<t.length;n++)0===r.trim(t[n]).toLowerCase().indexOf("wm-")&&(i=r.trim(t[n].split("=")[0]),document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/")};u.getInternalKeys=function(n,t){for(var f,e=document.cookie.split(";"),o={},u=0;u<e.length;u++)0===r.trim(e[u]).toLowerCase().indexOf(t)&&(f=r.trim(e[u].split("=")[0]),f!==i.DOMAIN_IN_COOKIE&&(o[f]=this.getData(f)));return o};u.refreshGetData=function(n,t){for(var i=0;i<n.length;i++)f.clear(n[i]);t&&t()};o.apply(null,arguments)}function be(n,t){function f(){}function e(n){return s()+n}function s(){return(new Date).getTime()}var i=this,r=5,u=300;i.init=function(f){if(window.walkmeExt)return void f();if(0==r)return void t.customerLog("Extension storage is not available, walkme can not load",3);r--;n.libSetTimeout(function(){i.init(f)},u)};i.saveData=function(n,t,i,r){var u={val:t,exp:e(1e3*i)};walkmeExt.SaveData(n,o(u),r)};i.getData=function(n,t){var i=walkmeExt.GetData(n,t),r;if(i)return r=c(i),r.val};i.removeData=function(n,t){walkmeExt.removeData(n,t)};i.removeAllData=function(n){walkmeExt.RemoveAllData(n)};i.getAll=function(n){return walkmeExt.GetAll(n)};f.apply(null,arguments)}function ke(n){function f(){}function e(n){t.push(n)}var i,u="frameOrigin",r=this,t=[];r.checkMessageOrigin=function(t){if(!i){if(t&&t.data!=u)return;n.getOrigin().toLowerCase().indexOf(t.origin)==-1&&e("Storage Frame is not from the same origin: "+t.origin);i=!0}};r.getErrors=function(){return t.length?"\nErrors:\n"+t.join("\n"):""};f.apply(null,arguments)}function de(){var n=this;n.get=function(n){if(window._walkmeExtension&&"undefined"!=typeof window._walkmeExtension[n])return window._walkmeExtension[n]}}function ge(n){function e(){try{f=n.isLocalStorageEnabled();s()}catch(t){}}function s(){var n,f,e,r;if(i.isEnabled()&&(t=window.localStorage,n=c(t.getItem("wm-storage")),n)){f=n.__jstorage_meta||{};e=f.TTL||{};for(r in n)if(n.hasOwnProperty(r)){var h=n[r],o=e[r],s=u();o>s&&i.saveData(r,h,(o-s)/1e3)}t.removeItem("wm-storage")}}function h(n){return u()+n}function u(){return(new Date).getTime()}var t,f,i=this,r="walkMe_";this.init=function(n){if(!i.isEnabled())return!1;n()};this.saveData=function(u,f,e){e=n.defaultValue(e,0);i.removeData(u);var s={val:f,exp:h(1e3*e)};t.setItem(r+u,o(s))};this.getData=function(n){var e=t.getItem(r+n),f;if(e){if(f=c(e),!(f.exp<u()))return f.val;i.removeData(n)}};this.removeData=function(n){t.removeItem(r+n)};this.removeAllData=function(){Object.keys(localStorage).forEach(function(n){0===n.indexOf(r)&&localStorage.removeItem(n)})};this.getInternalKeys=function(n,u){function s(n,t,r){n=n.substr(r);n.toLowerCase().indexOf(u)>-1&&(t[n]=i.getData(n))}for(var o,e={},h=r.length,f=0;f<t.length;f++)o=t.key(f),s(o,e,h);return e};this.isEnabled=function(){return f};e.apply(null,arguments)}function no(n){function r(){var i=n.getStorageType();return!!i&&1==i[t]}var i=this,t;i.isServerStorageOn=r;t="ss"}function to(n,t,i,r,u,e,o,s){function it(){p=n.getAllUserGuids;c=i.isFeatureEnabled}function ut(n){if(!n||"string"==typeof n)return n;var t=n[g];return t[u.browser.string]||t[u.browser.name]||t["*"]}function w(n,i){var r=t.getStorageType();return!r||void 0===r[n]?i:r[n]}function ft(){return!!w(nt,d)}function b(n,t,i,r,u){var e=p(),f=e[0];return t?et(e,t,f,r,ft(),u):n?ht(f):i?st(f):ot(f)}function et(n,t,i,u,f,s){if(!l){var h=new yn(e,n,t,u,f,s);l=new at(o.STORAGE_TYPE.CrossDomain,h,i,r,e)}return l}function ot(n){if(!v){var t=f.get("CookiesStorageManager");v=new at(o.STORAGE_TYPE.Cookie,t,n,r,e)}return v}function st(n){if(!y){var t=f.get("ExtensionStorageManager");y=new at(o.STORAGE_TYPE.Extension,t,n,r,e)}return y}function ht(n){if(!a){var t=f.get("WalkMejStorageManager");a=new at(o.STORAGE_TYPE.JStorage,t,n,r,e)}return a}var p,c,l,a,v,y,d=!0,h=this,g="st",nt="cm",tt="sm";h.bySettingsFile=function(n){var i=k.getWindowCookie("wm-stt"),r=i?h.byType(i):h.byType(t.getStorageType());return n&&s.isServerStorageOn()&&!f.get("EndUsersManager").isWalkMeGeneratedEndUserType()&&(r=f.get("ServerStorageManager")),r};h.byType=function(n){var r,e=ut(n),u=!1,t=!1,f=!1,i=w(tt);switch(e){case o.STORAGE_TYPE.JStorage:u=!0;break;case o.STORAGE_TYPE.CrossDomainCookies:i=rt.Cookies;t=!0;break;case o.STORAGE_TYPE.CrossDomainLocalStorage:i=rt.LocalStorage;case o.STORAGE_TYPE.CrossDomain:t=!0;break;case o.STORAGE_TYPE.Extension:f=!0;break;case o.STORAGE_TYPE.ProxyIframe:t=!0;r=!0}return b(u,t,f,i,r)};h.byFeature=function(){var n=c("jstorage"),t=c("crossdomain");return b(n,t)};it.apply(null,arguments)}function io(){function l(i,s,c,l){n=i;t=s;o=c;e=f.get("DataMinifier");h=l;var a=f.get("StorageKeysConfigurations").storage;r=a.dataPrefix.key;u=a.numberOfEntries.key}function a(n,t){for(var i,f,r=[],e=Math.ceil(n.length/t),u=0;u<e;u++)i=t>n.length?n.length:t,f=n.slice(0,i),n=n.substring(i),r.push(f);return r}function v(n){o(n,"Storage data is malformed, discarding it.");i.removeData()}function s(){return n.getFromStorage(u)}var t,n,o,e,h,r,u,c=2600,i=this;i.saveData=function(f){var h=e.minifyData(f),s,o,l;if(i.removeData(),void 0!==h){for(s=a(h,c),o=0;o<s.length;o++)l=s[o],n.saveToStorage(r+o,l,t);n.saveToStorage(u,s.length,t)}};i.getData=function(){var i,f=s(),u,h,t,o;if(void 0!=f)for(i="",u=0;u<f;u++)h=n.getFromStorage(r+u),i+=h;if(i)try{t=e.deminifyData(i);t=t?t:void 0}catch(c){o=c}return(o||f>0&&!t)&&v(o),t};i.removeData=function(){var f=s(),i;if(n.saveToStorage(u,0,t),void 0!=f)for(i=0;i<f;i++)n.saveToStorage(r+i,null,t)};l.apply(null,arguments)}function ro(){var i=5,n=[],t=[];this.set=function(r,u){n.push(r);t.push(u);n.length>i&&(n.shift(),t.shift())};this.getValue=function(i){for(var r=0;r<n.length;r++)if(n[r]==i)return t[r]};this.getKey=function(i){for(var r=0;r<t.length;r++)if(t[r]==i)return n[r]}}function uo(){function t(n){return n+"ButtonText"}var n=this;n.generateKey=t}function fo(){function t(n){return"WelcomeStepButton"+n+"Text"}var n=this;n.generateKey=t}function bi(n,t){function u(){}function f(n){return r(n,!1)}function e(n){return r(n,!0)}function r(i,r){var u=n.get(),f=t.generateKey(i);return{name:u[f],type:i.toLowerCase(),weak:r}}var i=this;i.generateWithoutBackground=e;i.generate=f;u()}function eo(n){function v(){u=r.Deferred();i=n.getOrigin()+e("/player/resources/AP/ajaxProxyIframe_v{0}.html",a);h=n.createIframe(i,l,!1,y,p)}function y(){u.resolve()}function p(n){if(!(i.toLowerCase().indexOf(n.origin)<0)){var r=c(n.data);r.wmAP&&t[r.requestIndex]&&(r.data=c(r.data),t[r.requestIndex].requestDefer.resolve(r))}}function w(n,t){k(f,t);d(n,f);f++}function b(n){delete t[n]}function k(n,i){t[n]={requestDefer:r.Deferred(),result:""};t[n].requestDefer.promise().then(function(r){delete t[n];i(r)})}function d(t,r){var f={origin:n.getWinOrigin(),requestIndex:r,message:t,wmAP:!0};u.promise().then(function(){h.contentWindow.postMessage(o(f),i)})}var i,h,u,t={},f=1,l="walkme-ap-iframe",a=3,s=this;s.init=v;s.postMessage=w;s.abort=b}function oo(n,t,i,e,o,s,h,c,l,a,v,y,p,w){function tt(){n.raiseEvent(t.EVENTS.WalkmeApiStarted,{object:b});pi()}function it(){return t.STEP_PLAY_INITIATOR_ENUM}function rt(n){var r,u;try{for(var i=a.getWalkthrus(),f=[],t=0;t<i.length;t++)r=i[t].CustomField1,r&&(r=r.replace(/&quot;/gi,'"'),r=r.replace(/&apos;/gi,"'"),r=r.replace(/&#39;/gi,"'"),r=r.replace(/&amp;/gi,"&")),u={Index:t,Name:i[t].Name,Id:i[t].TutorialId,Visible:i[t].IsVisible,CustomField1:r,Description:i[t].Description,Keywords:i[t].Keywords},n&&(u.ConditionsPassed=_walkMe.canShowTutorial(i[t]),u.isPackageHidden=_walkMe.isTutorialPackageHidden(i[t]),u.Keywords=void 0==i[t].Keywords?[]:i[t].Keywords),f.push(u);return f}catch(e){k("walkMeAPI - error running getWalkthrus.",3)}}function ut(){var i;try{for(var r=window._walkmeInternals.ctx,u=r.get("BusinessSolutionsManager").getAll(),n=r.get("CommonUtils").clone(u),t=0;t<n.length;t++)i=n[t].Settings.CustomField1,i&&(n[t].Settings.CustomField1=l.decodeHtml(i,['"',"'","&"]));return n}catch(f){k("walkMeAPI - error running getFlows.",3)}}function ft(n,t){try{var u=w.get(n),f=u.getAll(),i=r.grep(f,function(n){return n.Name.toLowerCase()==t.toLowerCase()});return i.length>0&&i[0].Id}catch(e){k("walkMeAPI - error running getDeployableId. Error: "+e,3)}}function et(n){var t,e;try{if(t=ot(),null==t)return null;for(var r=this.getWalkthrus(n),s=st(t,r),u=o.get(),f=[],i=0;i<t.length;i++)e={Name:t[i].Name,Id:t[i].Id,Walkthrus:ht(r,t[i].LinkedTutorials,t[i].Id)},f.push(e);return{unlabeledWalkthrus:s,labels:f,unlabeledFirst:u.Settings.labels&&1==u.Settings.labels.unlabeldOnTop}}catch(h){k("walkMeAPI - error running getWalkthrusLabels.",3)}}function ot(){var n=v.getSettingsValue(o.get().Settings,"labels",null);return n&&1==n.useLabels?y.get():null}function st(n,t){for(var f,r,e,u=[],i=0;i<n.length;i++)for(f=n[i].LinkedTutorials,r=0;r<f.length;r++)u.push(f[r]);for(e=[],i=0;i<t.length;i++)nt(t[i].Id,u)||e.push(t[i]);return e}function ht(n,t,i){for(var f,u=[],r=0;r<n.length;r++)nt(n[r].Id,t)&&(f=mtjQuery.extend(!0,{},n[r]),f.labelId=i,u.push(f));return u}function nt(n,t){for(var i=0;i<t.length;i++)if(t[i]==n)return!0;return!1}function d(n){for(var i=a.getWalkthrus(),t=0;t<i.length;t++)if(i[t].TutorialId==n)return t;return-1}function ct(n,i,r){try{if(n<0)return!1;i=void 0!==i?i:t.STEP_PLAY_INITIATOR_ENUM.API;var u={type:i};return g(u),r&&(u.objectId=r),f.get("ContentsManager").activateById(n,u),!0}catch(e){k("walkMeAPI - error running startContentById.",3)}}function lt(n,i){try{return n<0?!1:(i=i||{type:t.STEP_PLAY_INITIATOR_ENUM.API},g(i),f.get("SurveysManager").activateById(n,i))}catch(r){k("walkMeAPI - error running startSurveyById.",3)}}function at(n,i){var f;try{"object"!=typeof n&&(n={id:n,fromStep:i});var r=n.id,e=n.fromStep,u=n.playInitiator;return r<0||"number"!=typeof r?!1:(f=d(r),f<0)?!1:(u||(u={type:t.STEP_PLAY_INITIATOR_ENUM.API}),b.startWalkthruByIndex({index:f,fromStep:e,playInitiator:u}))}catch(o){k("walkMeAPI - error running startWalkthruById.",3)}}function vt(n,i){try{if(!c.isWalkMeVisible())return!1;"object"!=typeof n&&(n={index:n,fromStep:i});var u=n.index,f=n.fromStep,r=n.playInitiator;return u<0||"number"!=typeof u?!1:(r||(r={type:t.STEP_PLAY_INITIATOR_ENUM.API}),g(r),_walkMe.startNewTutorial(u,f,!1,r))}catch(e){k("walkMeAPI - error running startWalkthruByIndex.",3)}}function yt(n,t){try{if(!c.isWalkMeVisible()||n<0||"number"!=typeof n)return!1;var i=d(n);return i<0?!1:_walkMe.startNewTutorial(i,t,!0)}catch(r){k("walkMeAPI - error running canStartWalkthru.",3)}}function pt(n,t){try{var r=a.getWalkthrus(),i=d(n);return i<0?!1:(r[i].IsVisible=t,!0)}catch(u){k("walkMeAPI - error running setWalkthruVisibility.",3)}}function wt(){try{_walkMe.stopTutorial()}catch(n){k("walkMeAPI - error running stopWalkthru.",3)}}function bt(n,i){try{if(!c.isWalkMeVisible())return!1;var r={type:t.STEP_PLAY_INITIATOR_ENUM.API};return window._walkmeInternals.ctx.get("BusinessSolutionsManager").activateById(n,r,i)}catch(u){k("walkMeAPI - error running startFlowById.",3)}}function kt(){try{return c.isWalkMeVisible()?window._walkmeInternals.ctx.get("BizflowApi").stop():!1}catch(n){k("walkMeAPI - error running stopFlow.",3)}}function dt(n,i){try{return n>t.ANALYTICS_CUSTOM_VARS.MaxCustomFields||n<1||i.length>t.ANALYTICS_CUSTOM_VARS.MaxVarLength?!1:f.get("WalkMeInfo").setAnalyticsCustomFields(n-1,i)}catch(r){k("walkMeAPI - error running setAnalyticsCustomField.",3)}}function gt(n,t){try{i.setPredefinedPropertyValue(n,t)}catch(r){k("walkMeAPI - error running setAnalyticsProperty.",3)}}function ni(n){try{return void 0==n&&(n=!0),this.log.enable(n)}catch(t){k("walkMeAPI - error running enableLogs.",3)}}function ti(n,t){try{return window._walkmeInternals.ctx.get("TodoListManager").loadTasks(n,t)}catch(i){k("walkMeAPI - error running loadTasks.",3)}}function ii(n){try{return window._walkmeInternals.ctx.get("TodoListManager").getApiTasks(n)}catch(t){k("walkMeAPI - error running getTasks.",3)}}function ri(){return"Walkthrus"}function ui(){return"Deprecated"}function fi(){return"Closed"}function ei(n,t){try{return f.get("LibInitializer").changeLanguage(n,t)}catch(i){}}function oi(){try{return u.ctx.get("LanguageManager").getMenuLanguages()}catch(n){k("walkMeAPI - error running getSupportedLanguages.",3)}}function si(){try{return u.ctx.get("LanguageManager").getCurrentLanguage()}catch(n){k("walkMeAPI - error running getCurrentLanguage.",3)}}function hi(){try{return _walkMe.getUiDataProvider().uiObjectsTree()}catch(n){k("walkMeAPI - error running getTree.",3)}}function ci(){try{return s.triggerUIChangeAPI()}catch(n){k("walkMeAPI - error running triggerUIChange.",3)}}function li(){try{return p.triggerPageChange()}catch(n){k("walkMeAPI - error running triggerPageChange.",3)}}function ai(n,t){try{return e.launchDebuggerIfEnabled(n,t)}catch(i){k("walkMeAPI - error running launchTracker.",3)}}function vi(n){try{var t=f.get("TestmeApi");t.rememberTestMeIsOn();window.walkMeTestMeClearStorage=!0;window.walkmeTestMeFilter=n;window._testMe?(_testMe.exit(),_testMe.start()):t.loadTestMe()}catch(i){k("walkMeAPI - error running startTestMe.",3)}}function yi(){try{return window._walkmeInternals.ctx.get("WidgetUiApi").getObjectsTree()}catch(n){k("walkMeAPI - error running getObjectsTree.",3)}}function g(i){n.raiseEvent(t.EVENTS.ApiWasCalled,{initiator:i})}function pi(){b.conditions={handlers:{registerAsync:function(){var n=f.get("ExternalConditionsHandlers");return n.register.apply(n,arguments)}}}}var b=this,k;b.getPlayInitiatorEnum=it;b.getWalkthrus=rt;b.getFlows=ut;b.getWalkthrusLabels=et;b.startContentById=ct;b.startSurveyById=lt;b.startWalkthruById=at;b.startWalkthruByIndex=vt;b.canStartWalkthru=yt;b.setWalkthruVisibility=pt;b.stopWalkthru=wt;b.startFlowById=bt;b.stopFlow=kt;b.setAnalyticsCustomField=dt;b.setAnalyticsProperty=gt;b.enableLogs=ni;b.loadTasks=ti;b.getTasks=ii;b.getWidgetMode=ri;b.setWidgetMode=ui;b.getWidgetInitialState=fi;b.changeLanguage=ei;b.getSupportedLanguages=oi;b.getCurrentLanguage=si;b.getTree=hi;b.triggerUIChange=ci;b.triggerPageChange=li;b.launchTracker=ai;b.startTestMe=vi;b.log=h.getAPI();b.getObjectsTree=yi;b.getDeployableId=ft;k=h.wrapCustomerLog("walkmeAPI");tt()}function so(n,t){function r(){var i=0!==n.get().ShowWalkMe,r=t.shouldShowWidget();return i&&r}var i=this;i.isWalkMeVisible=r}function ho(){function i(){return n}function r(t){if(n=t,n!=[]){if(f.get("CustomCssSetter").setCustomCssIfNeeded(null)===!1&&!f.get("FeaturesManager").isFeatureEnabled("loadNoStyle"))return void f.get("LibDestroyer").removeWalkMe("set custom css failed",{sendLog:!0});f.get("PositionHelper").extendVisibilityFilters()}}var t=this,n;t.get=i;t.set=r;n=[]}function co(n,t,i,o,s,h,c,l){function p(n){if(n&&v.push(n),y)return void f.get("Logger").customerLog("destroyAll - already destroying",1);y=!0;f.get("Logger").customerLog("destroyAll - begin",1);f.get("WalkthrusModule").setMember("tutorialRunSettingsMap",{});f.get("ClientStorageManager").releaseCallbacks();f.get("WalkthrusModule").setMember("executeTutorialNextStepNotFinished",!1);f.get("ConditionCheckerType").cleanResources();f.get("UIVisibilityManagerType").cleanResources();f.get("DOMSessionManager").cleanResources();f.get("BizFlowOnBeforeUnloadChecker").destroy();f.get("FlowTransitionDelayer").destroy();f.get("jQueryCacheCleaner").destroy();tt();f.get("GoalsManager").cleanResources();w().pipe(function(){f.get("Logger").customerLog("destroyAll - releaseAllElements finished",1)}).pipe(nt).pipe(g).pipe(i.releaseAllTimeouts).pipe(function(){f.get("Logger").customerLog("destroyAll - calling user callbacks",1);for(var n=0;n<v.length;n++)v[n]();v=[];y=!1})}function nt(){var i=f.get("CdnServer").get().replace("http://","").replace("https://",""),n,t;(mtjQuery("script[src*='"+i+"']").not("script[src*='maketutorial_lib']").not("[src*='jquery']").not("[src*='wmjQuery']").remove(),mtjQuery(".mt-to-destroy, .walkme-to-destroy").remove(),it(".mt-to-destroy, .walkme-to-destroy"),window._walkmePlayer&&window._walkmePlayer.destroyWalkMePlayer&&window._walkmePlayer.destroyWalkMePlayer(),window.walkmeWidget&&window.walkmeWidget.destroyWalkMePlayer&&window.walkmeWidget.destroyWalkMePlayer(),f.get("SmartTipSetActivationInitiator").stop(),f.entry("UIChangeTracker").wasReady())&&(n=f.get("UIChangeTracker"),n&&(n.stop(),n=null));f.entry("PageChangeTracker").wasReady()&&(t=f.get("PageChangeTracker"),t&&(t.stop(),t=null));et()}function tt(){window._testMe&&(_testMe.exit(),r("script[src*='waklme_testme']").remove(),window._testMe=void 0,window.walkMeTestMeLoad=void 0,f.get("ClientStorageManager").removeData(vi),window.walkMeTestMeClearStorage=void 0,window.testMeData&&(window.testMeData=void 0,f.get("Logger").customerLog(ut,"Test me data cleared",1)),f.get("Logger").customerLog(ut,"_testMe cleared",1))}function it(n){if(f.get("FramesetsUtils").isFramesetsPage())for(var i=f.get("FramesetsUtils").getAllFramesDocuments(),t=0;t<i.length;t++)r(n,i[t]).remove()}function w(n){var t=r.Deferred();return t.promise().then(n),o.raiseEvent(s.EVENTS.ReleaseAllElementsCalled),l.executeParallel({functionsToExecute:[b,f.get("LaunchersModule").releaseLaunchers,k,ft,d],successCallback:t.resolve,failCallback:t.reject}),t.promise()}function b(n){f.get("Logger").customerLog("Releasing balloons",5,wt);f.get("TriggersManager").releaseAllEventBindings();f.get("WalkthrusModule").cleanCurrentStepResources();l.executeParallel({functionsToExecute:[rt,f.get("OldBalloonNotifier").closePopup],successCallback:n})}function rt(t){o.raiseEvent(s.EVENTS.CallReleaseElementsFromBalloons);var i=n.getAll();n.removeAll();l.executeParallel({objectsArray:i,functionsToExecute:[function(n,t){n.destroy(!1,t)}],successCallback:t})}function k(n){f.get("ShoutOutsManager").releaseAll(n)}function d(n){f.get("CoursesManager").releaseAll(n)}function ft(n){f.get("AttentionGrabberManagerAPI").remove(n)}function g(){return f.get("SmartTipSetActivationInitiator").stop(),f.get("BusinessSolutionsManager").releaseAll()}function et(){f.get("TrackedPagesManager").releaseAll();f.get("TrackedElementsManager").releaseAll();f.entry("PageVisitGuidProvider").wasReady()&&f.get("PageVisitGuidProvider").releaseResources()}function ot(n,t){var v,i;(t=t||{},t.sendLog)&&(v=f.get("EventSenderErrorLogger"),v.logError("WalkMe was removed",{subType:"RemoveWalkMe",removeWalkMeReason:n,errorCode:t.errorCode}));a.removingWalkMe=!0;f.get("Logger").customerLog(e("removeWalkMe called with reason {0}",n));u.removeWalkMeReason=n;try{f.get("EventSenderDisabler").disable()}catch(y){}i={reason:n,errorCode:t.errorCode};o.raiseEvent(s.EVENTS.BeforeWalkmeRemoved,i);try{window.walkme_remove_walkme_callback&&walkme_remove_walkme_callback(n)}catch(y){}p(function(){st().then(function(){var n=f.get("CdnServer").get().replace("http://","").replace("https://","");r("script[src*='"+n+"']").remove();r("script[src*='maketutorial']").remove();r("script[src*='wmjQuery']").remove();r("script[id='mt_script']").remove();r("link[id^='mt-css']").remove();c.getTopContainer();r(".walkme-to-remove").remove();h.removeScrollAndResizeEvents();l.unregisterEventHandler("load",r.ready,!1,window);r(window).unbind();r(u).unbind();ht();o.raiseEvent(s.EVENTS.AfterWalkmeRemoved,i);ct()})})}function st(){return i.clearGlobalTimeouts(),f.get("CrossDomainManager").get().stop(),f.get("ResourceManager").emptyStyleSheets(),f.get("IFramesManager").releaseEvents(),f.get("AutoStartRunningState").cleanResources(),f.get("SessionPersister").cleanResources(),f.get("WindowBeforeUnloadHandler").cleanResources(),f.get("PostMessageListener").cleanResources()}function ht(){if(window._walkmeInternals){for(var t=f.get("WalkmeInternalsPersistWhitelist"),i={},n=0;n<t.length;n++)i[t[n]]=u[t[n]];window._walkmeInternals=i}}function ct(){for(var t=["wmjQuery","mtjQuery","_walkmeConfig","_walkMe","_makeTutorial","WalkMeAPI","WalkMePlayerAPI","WalkMeDataClass","WalkmeWidget","_makeTutorialEv","wmContext","WalkmeSnippet","wmPreviewSnippet","wmSnippet","walkme_lib_in_dev","walkme_lib_notify_ServerName","walkme_lib_upload_date","walkme_lib_uploader","walkme_lib_version","ClassMakeTutorial","loadWidgetWrap","loadWidget","walkme_event","walkme_post_lib_loaded","walkme_pre_lib_loaded",,"_walkmeWebpackJP","mt_cdn_server_name","mt_get_user_settings_url"],n=0;n<t.length;n++)window[t[n]]=void 0}var a=this,y=!1,v=[];a.releaseAllElements=w;a.releaseBalloons=b;a.releaseShoutOuts=k;a.releaseFlow=g;a.removeWalkMe=ot;a.destroyAll=p;a.releaseTeachMeElements=d}function lo(n,t,i,r,u,f,e){function h(){var n,t;if(r.isInPreviewMode()||!e.get())for(n=0;n<o.length;n++)if(t=o[n](),t)return f.logError(t.message),t}function c(){if(t.isServerStorageOn()&&i.isWalkMeGeneratedEndUserType())return{message:"Unique User Settings are not supported by server storage",code:n.EVENTS_PARAMS.WalkmeRemovedErrorCodes.cannotHaveBothUniqueUserAndServerStorage}}function l(){if(!i.isEndUserGuidValid())return{message:"Could not retrieve end user identifier",code:n.EVENTS_PARAMS.WalkmeRemovedErrorCodes.missingUserIdentifyer}}var s=this,o;s.validate=h;o=[c,l]}function di(){this.encode=function(n){return encodeURIComponent(n)};this.decode=function(n){return decodeURIComponent(n)}}function ao(){function i(t){for(var i in n)if(n.hasOwnProperty(i)&&t>=n[i].from&&t<=n[i].to)return!0;return!1}var t={},n=[{from:33,to:33},{from:35,to:36},{from:38,to:43},{from:45,to:58},{from:60,to:91},{from:93,to:126}];this.encode=function(n){for(var o,s,u,e="",f=0,r=0;r<n.length;r++)o=n.charCodeAt(r),i(o)||(u=n.charAt(r),s=n.substring(f,r),t[u]||(t[u]=encodeURIComponent(u)),e+=s+t[u],f=r+1);return e+n.substring(f)};this.decode=function(n){try{return decodeURIComponent(n)}catch(t){return n}}}function vo(){this.encode=function(n){return n.replace(/,/g,"%2C").replace(/"/g,"%00").replace(/'/g,"%01").replace(/;/g,"%3B")};this.decode=function(n){return n.replace(/%2C/g,",").replace(/%00/g,'"').replace(/%01/g,"'").replace(/%3B/g,";")}}function yo(n){function e(){var r=n.getStorageType();return r&&void 0!==r[t]?i[r[t]]:i[u]}var t="et",u=0,i={0:ao,1:di,3:vo},r="logger=Logger";this.registerEncoders=function(){f.has("DataValueEncoder")||f.register("DataValueEncoder").asCtor(e()).dependencies(r).injectToProperty();f.has("DataNameEncoder")||f.register("DataNameEncoder").asCtor(di).dependencies(r).injectToProperty()}}function po(n,t,i,u,f){function h(n,t){s(n,t)}function s(i,r,e){try{if(!window.wmjQuery)return;o.triggerHandler(i,[r,e]);f.dbgr&&o.triggerHandler("AllEvents",[i,r,e]);t.route(i,r,e);u.sync(i,r)}catch(s){n.error(s)}}function c(t,i){try{var u=l(t);if(i){if(!window.wmjQuery)return;r.extend(u,i)}window.walkme_automation_event&&walkme_automation_event(u)}catch(f){n.error(f)}}function l(n){var t={Type:n},r=i.getCurrentWalkthru();return r&&(t.WalkthruId=r.TutorialId,t.StepIndex=i.currentStep),t}var e=this,o;e.raiseEvent=h;e.deprecatedRaiseEvent=s;e.sendInternalEvent=s;e.sendAutomationEvent=c;o=window.wmjQuery&&r(f)}function wo(n){function i(t,i){return n.raiseEvent(t,i),i.returnValue}var t=this;t.send=i}function bo(n,t){return function(i){var u,r;"object"!=typeof i&&(i={message:i});u={};for(r in i)void 0===n[r]?t.logError("no such key you try to encode ",r):u[n[r]]=i[r];return u}}function ko(n,t,i,u){return function(){var f=n.getEnvironmentData(),e=t.getWalkMeData(),o=window.walkme_lib_in_dev===!0?{local:!0}:{};return r.extend({libVersion:i.getLibVersion(),publishDate:i.getPublishDate(),publishEnv:u.getSettingsFile().Environment},f,e,o)}}function go(n){function u(){i=n.apiEventsConfigProvider.get();t=n.apiEventRaiser}function f(n,r,u){var e=i[n],f;e.transform?(f=e.transform(r,u),t.raise(f.name,f.data)):t.raise(n,r)}var r=this,i,t;r.forward=f;u()}function ns(n,t,i,r){function e(){}function o(t,r){try{var f=s(t);r&&(f.ExtraData=r);i[u]&&i[u](f)}catch(e){n.error(e)}}function s(n){var i={Type:n},u=t.getCurrentWalkthru(),r;return u&&(i.WalkthruId=u.TutorialId,r=t.getCurrentStep(),r&&(i.StepIndex=r.StepIndex)),i}var f=this,u;f.raise=o;u=r.windowFuncName;e()}function ts(n,t,i,r,u){function e(){}function o(f,e,o){var h=!!n.get()[f],s;h&&(t.forward(f,e,o),u.forward(f,e,o));s=!!i.get()[f];s&&r.forward(f,e,o)}var f=this;f.route=o;e()}function is(n){function i(){}function u(t,i){var f=i?i.defaultValue:void 0,u=n.sync(t,i,f);i&&void 0!==u&&(i.returnValue=u);i&&i.asyncCallback&&(u&&u.then?u.then(i.asyncCallback,i.asyncFailback):r.when(u).then(i.asyncCallback,i.asyncFailback))}var t=this;t.sync=u;i()}function rs(n){function i(){}function r(){var t={};return t[n.EVENTS.Walkthrus.StepShown]={transform:f},t[n.EVENTS.Launchers.LauncherIsShown]={transform:u},t[n.EVENTS.TaskCompleted]={},t[n.EVENTS.TasksLoaded]={},t[n.EVENTS.Launchers.LauncherClicked]={},t[n.EVENTS.Goals.GoalReached]={},t.ABTestingGoalsFetched={},t[n.EVENTS.UIComponentDestroyed]={},t[n.EVENTS.DeployableCreated]={},t.SurveyPlayed={},t.SurveyCompleted={},t.BalloonCreated={},t.WalkthruAborted={},t.WalkthruStopped={},t.UserStoppedWalkthru={},t.UserStoppedWalkthruAfterStop={},t.WalkthruFailedToStart={},t.WalkthruCompleted={},t.BeforeNewStepShown={},t.BackButtonClicked={},t.NextButtonClicked={},t.DoneButtonClicked={},t.SfVarsExposed={},t.BBCodeLinkClicked={},t.FailureMessageOkButtonPressed={},t.StorageManagerInitialized={},t[n.EVENTS.StorageLoaded]={},t[n.EVENTS.WalkmeLoaded]={},t[n.EVENTS.Flows.UIFlowStageShown]={},t[n.EVENTS.Flows.FlowCompleted]={},t[n.EVENTS.Flows.FailedToStart]={},t[n.EVENTS.Flows.FlowStopped]={},t[n.EVENTS.Flows.FlowStarted]={},t[n.EVENTS.Flows.BeforeExecutingFlowStage]={},t[n.EVENTS.Flows.AfterCompletingFlowStage]={},t[n.EVENTS.SmartTips.TooltipShown]={},t[n.EVENTS.SmartTips.SmartTipIconShown]={},t[n.EVENTS.BeforeWalkmeRemoved]={},t[n.EVENTS.AfterWalkmeRemoved]={},t}function u(t,i){return{name:n.EVENTS.Launchers.LauncherIsShown,data:i}}function f(t,i){return{name:n.EVENTS.Walkthrus.StepShown,data:i}}var t=this;t.get=r;i()}function us(n){function i(){var t=n.get();return t.WalkthruCompleted={transform:function(n,t){return{name:"WalkthruCompleted",data:{WalkThru:n,AdditionalData:t}}}},t}var t=this;t.get=i}function fs(n){function r(){}function u(){var i={};return i[n.EVENTS.Walkthrus.StepShown]={transform:f},i.WalkthruStopped={transform:t("TutorialStopped")},i.UserStoppedWalkthru={transform:t("UserStoppedTutorial")},i.UserStoppedWalkthruAfterStop={transform:t("UserStoppedTutorialAfterStop")},i.WalkthruCompleted={transform:t("TutorialCompleted")},i.BeforeNewStepShown={},i.BackButtonClicked={},i.NextButtonClicked={},i.DoneButtonClicked={},i}function t(n){return function(t){return{name:n,data:t}}}function f(t,i){return{name:n.EVENTS.Walkthrus.StepShown,data:i}}var i=this;i.get=u;r()}function es(){var n=this;n.get=function(){return{clearTimeout:window.NREUM&&NREUM.o&&NREUM.o.CT||window.clearTimeout,clearInterval:window.clearInterval,setTimeout:window.NREUM&&NREUM.o&&NREUM.o.ST||window.setTimeout,setInterval:window.setInterval}}}function os(n,t,i,r){function b(n,t){var i=void 0!==h[c+n];i||t(n)}function tt(n,t){return new o(n,t,s.playTimeouts)}function it(n,t){return new o(n,t,s.libTimeouts)}function rt(n,t){return new y(n,t,s.playTimeouts)}function ut(n){var i=s[n],t;if(i){for(t=0;t<v.length;t++)v[t].resume();v.length=0}}function ft(){e.releaseTimeoutsArray("libTimeouts");e.pauseTimeoutsArray("playTimeouts")}function et(){for(var n in s)e.pauseTimeoutsArray(n)}function ot(){for(var n in s)e.resumeTimeoutsArray(n)}function k(n){var t=s[n];t&&d(t,function(n){n.clear()})}function st(n){var t=s[n];t&&d(t,function(n){v.push(n);n.pause()})}function ht(){for(var n in h)n&&n.indexOf&&0===n.indexOf(c)&&l(h[n])}function ct(){var n=f.get("FeaturesManager");n.isFeatureEnabled("overridetimeouts")&&(window.clearTimeout=function(n){b(n,l)},window.clearInterval=function(n){b(n,yt)})}function lt(n,t){return new o(n,t)}function at(n,t){return w(vt(n),t)}function vt(n){return u.walkmeWrap?function(){u.walkmeWrap.apply(this,[n])}:n}function l(n){g(n)}function yt(n){nt(n)}function pt(n,t){var i=t&&/function ([\w\d\_]+)\(/.exec(t.toString());f.has("EventSenderErrorLogger")&&f.get("EventSenderErrorLogger").logError(n.message,{functionName:i&&i[1]});r.customerLog("TimerManager error: "+(n&&n.message))}function o(n,t,i){this.fn=n;this.interval=t;this.timeoutsDict=i||{};var r=this;this.id=p(function(){r.run()},t);this.timeoutsDict[this.id]=this;h[c+this.id]=this.id}function y(n,t,i,r,f){this.timeoutsDict=i;r=r||window;var e=function(){n.apply(r,f||arguments)},o=function(){u.walkmeWrap?u.walkmeWrap(e):e()};this.id=w(o,t);i[this.id]=this;h[c+this.id]=this.id}function d(n,t){for(var i in n)if(n.hasOwnProperty(i))try{t(n[i])}catch(r){}}var e=this;e.setWalkmeTimeout=lt;e.setWalkmeInterval=at;e.playSetTimeout=tt;e.playSetInterval=rt;e.libSetTimeout=it;e.releaseAllTimeouts=ft;e.clearGlobalTimeouts=ht;e.releaseTimeoutsArray=k;e.stopTimeoutsArray=k;e.pauseAllTimeouts=et;e.pauseTimeoutsArray=st;e.resumeTimeoutsArray=ut;e.resumeAllTimeouts=ot;e.overrideTimeouts=ct;var a=i.get(),s={libTimeouts:{},playTimeouts:{}},v=[],c="wm-",h={};n.raiseEvent(t.EVENTS.TimerManagerCreationStarted,{object:e});var p=a.setTimeout,w=a.setInterval,g=a.clearTimeout,nt=a.clearInterval;o.prototype.timeoutWrap=function(){this.clear();try{this.fn.apply(window)}catch(n){pt(n,this.fn)}};o.prototype.run=function(){if(u.walkmeWrap){var n=this;u.walkmeWrap(function(){n.timeoutWrap()})}else this.timeoutWrap()};o.prototype.resume=function(){if(!this.cleared){var n=this;this.id=p(function(){n.run()},10);this.timeoutsDict[this.id]=this}};o.prototype.id=null;o.prototype.cleared=!1;o.prototype.clear=function(){this.cleared||(l.call(window,this.id),this.cleared=!0,delete this.timeoutsDict[this.id],delete h[c+this.id])};o.prototype.pause=function(){this.cleared||(delete this.timeoutsDict[this.id],l.call(window,this.id))};y.prototype.id=null;y.prototype.cleared=!1;y.prototype.clear=function(){l(this.id);this.cleared=!0;delete h[c+this.id];delete this.timeoutsDict[this.id]}}function ss(){function i(){return!1}function r(n,i){var r=new MutationObserver(i);return r.observe(n[0],t),{unbind:function(){r.disconnect()}}}var n=this,t;n.isEnabled=i;n.watchElement=r;t={childList:!0,attributes:!0,subtree:!0}}function hs(){function i(){n=f.get("CJson")}var n,t=this;t.minifyData=function(t){if(t&&0!=t.length)return n.stringify(t)};t.deminifyData=function(t){if(t)return n.parse(t)};i.apply(null,arguments)}function cs(){function i(t){n=t}var n,t=this;t.minifyData=function(t){if(t&&0!=t.length)return n.toJSON(t)};t.deminifyData=function(t){if(t)return n.secureEvalJSON(t)};i.apply(null,arguments)}function nr(){function ut(e){var d=e.stateManager;h=e.serverDataSenderManager;y=e.actionUrl;c=e.beforeSendingManipulationFunc;p=e.technicalSuccessHandler;w=e.sendingThreshold;f=e.dataType;b=e.dateSenderLogFeature;k=e.requestParamsFunc;g=e.logError;o=e.logger.wrapCustomerLog(b);l=e.dataIdFieldName||"iN";nt=e.successCallback;tt=e.failCallback;v=e.shouldTruncateData;s=d.keysConfig.typedDataSender.nextItemNumber.key;i=e.storageEnabled!==!1;i&&(a=e.defaultDataStorageLifeSeconds,r=new pn(d,e.twoLettersDataType),u=new io(r,a,g,e.recursiveMinification),t=n.data())}function ft(){var n=0;return i&&(n=r.getFromStorage(s,0),r.saveToStorage(s,n+1,a)),n}function it(){u.saveData(t)}function et(){t=u.getData()}var h,u,c,y,p,w,f,b,o,k,d,g,l,r,a,nt,tt,i,v,s,n=this,t=[],rt=10;n.isStorageEnabled=function(){return i};n.sendData=function(u){function s(){if(d)return void o("Not accepting anymore data",3);if(t=n.data(),h.isServerSick()){if(v===!1&&t.length<rt)a();else{var i=e("TypedDataSender - Server is sick, ignoring new data of type {0} for now",f);o(i,3)}return}a();h.sendData()}function a(){i||(t.length=0);c&&c(t,u);u[l]=ft();t.push(u);i&&it()}if("object"!=typeof u){var y=e("TypedDataSender - got object with value {0} of type {1} instead of object ({2}).",u,typeof u,f);return void o(y,1)}i?r.refreshGetData(null,s):s()};n.persistData=function(){i&&(it(),t&&0!=t.length||r.removeFromStorage(s))};n.data=function(){return i&&et(),t=t?t:[]};n.actionUrl=function(){return y};n.sendingThreshold=function(){return w};n.dataType=function(){return f};n.truncateData=function(){i&&(t=n.data(),t.splice(1,t.length-1),n.persistData())};n.clearAndStopSavingData=function(){d=!0;t.length=0;i&&u.removeData()};n.technicalSuccessHandler=function(){return p};n.successCallback=function(){return nt};n.failCallback=function(){return tt};n.requestParamsFunc=function(){return k};n.getDataIdFieldName=function(){return l};n.shouldTruncateData=function(){return v};ut.apply(null,arguments)}function ls(n,t,i,r,u,f,s,h,c){function ei(){b=r.defaultDataStorageLifeSeconds;it=r.dateSenderLogFeature;wt=r.maxSickAttemps||ii;bt=r.sendDataAjaxTimeout||ui;rt=r.checkDataToSendInterval||ri;kt=r.attemptsWaitTime||fi;l=t.wrapCustomerLog(it)}function ot(){var n=gt();return n?n:(l("serverDataSenderManager - no data to send. marking it healthy",3),void at())}function gt(){for(var i,r,t=st(),n=t.length-1;n>=0;n--)if(i=t[n],r=i.data(),r.length>0)return{dataSender:i,data:r}}function st(){return pkt(tt)}function oi(){var n=gt(),t=n&&n.data;t||at()}function si(){u.removeData(k);u.removeData(g);u.removeData(y)}function ht(){return p?(l("There's already a pending request to server",3),!0):!1}function ct(){var n=ot(),t,i;n&&!ht()&&(t=n.dataSender,i=n.data,l(e("Got {0} {1}s to send, starting now",i.length,t.dataType()),3),vt(i,t))}function lt(){var n,i,t,r;if(w)return void l("Already waiting for server's health",5);null!=a&&(a.clear(),a=null);w=!0;n=u.getData(g);(n=n?++n:1,n>wt)?(i=e("Server wasn't healthy for more than {0} attempts, restarting sick mode",n),l(i,0),u.removeData(y),u.removeData(g),w=!1,lt()):(t=hi(n),r=e("Sick attempts: {0}, time before next retry: {1} second(s)",n,t/1e3),l(r,3),ut=h.libSetTimeout(function(){u.refreshGetData(null,function(){u.removeData(y);u.saveData(g,n,b);w=!1;ct()})},t))}function hi(n){var t=u.getData(y),i;return t||(i=ci(n),t=(new Date).getTime()+i,u.saveData(y,t,b)),t-(new Date).getTime()}function ci(n){return kt[n]}function ni(){u.getData(k);at();p=!1;ct()}function at(){u.removeData(k);u.removeData(g);u.removeData(y);w=!1}function vt(n,t){var u,r,o,h,v;if(0==i.get().length)return void l(e("RecorderServerName is {0}, can't send data of type {1}",i.get(),t.dataType()),2);if(0==n.length)return void l("dataArray's length is 0, no data to send",3);null!=a&&(a.clear(),a=null);p=!0;u=t.sendingThreshold();r=d(n);r.length>u&&(r=r.splice(0,u));o=t.requestParamsFunc()(r);s.isFeatureEnabled(c.FEATURES.DontMaskEndUserAddress)&&(o.dmeua=1);h=f.execute({url:i.get()+t.actionUrl(),dataType:"jsonp",data:o,timeout:bt});s.isFeatureEnabled("bypassAuditServer")?ai(r,h,t):vi(r,h,t);v=e("Sent {0} data of type {1} to server at {2}",r.length,t.dataType(),(new Date).toString());l(v,3)}function li(n,t){for(var f,u,i=0,r=n.length-1;r>=0;r--)f=n[r],u=f[t],u&&u>i&&(i=u);return i}function ai(n,t,i){t.error(function(t,r,u){if(200==t.status&&"parsererror"==r)yt(n,i);else{var f=e("Server technical (AJAX) error (2) jqXHR:{0}, textStatus:{1}, errorThrown:{2}",o(t),r,u);l(f,3);nt(u,i)}});t.success(function(){var n="Got success while in bypass player server mode";l(n,3);_makeTutorial.Logger.error(null,n)})}function vi(n,t,i){t.success(function(t){(l("Sending data ajax success",3),window._walkMe)&&yi(t,n,i)});t.error(function(t,r,u){200==t.status&&"parsererror"==r?pt(n,i,u):nt(u,i)})}function yi(n,t,i){if(i.technicalSuccessHandler&&i.technicalSuccessHandler())i.technicalSuccessHandler()(n,function(){var r=n.Data||n;pt(t,i,r)},function(){nt(n.Data||n,i)},function(){var r=n.Data||n;yt(t,i,r)},t);else switch(n.WMResultCode){case et.Success:yt(t,i,n.Data);break;case et.LogicalError:l(i.dataType()+" : Logical error sending data. "+n.Data,3);pt(t,i,n.Data);break;case et.TechnicalError:l(i.dataType()+" : Technical error sending data",3);nt(n.Data||n,i);break;default:l(i.dataType()+" : No error code received - treated as technical error",3);nt(n.Data||n,i)}}function yt(n,t,i){if(l("The technical success was also logical success",3),pi(n,t),ni(),t.successCallback){var r=t.successCallback();r&&r(i)}}function pi(n,t){ti(n,t)}function ti(n,t){for(var f,u=t.getDataIdFieldName(),e=li(n,u),r=t.data(),i=r.length-1;i>=0;i--)f=r[i],f[u]<=e&&r.splice(i,1);t.persistData()}function pt(n,t,i){if(l(e("Logical error happened, discarding {0} {1}",n.length,t.dataType()),3),ti(n,t),ni(),p=!1,ct(),t&&t.failCallback){var r=t.failCallback();r&&r(i)}}function nt(n,t){if(u.saveData(k,1,b),l("Truncating data due to sick server",3),wi(),p=!1,t&&t.failCallback){var i=t.failCallback();i&&i(n)}lt()}function wi(){for(var i,t=st(),n=t.length-1;n>=0;n--)i=t[n],i.shouldTruncateData()&&i.truncateData()}var p,w,a,b,it,l,wt,rt,bt,ut,kt,ft=1e3,dt=60*ft,k=u.keysConfig.serverDataSender.serverSick.key,g=u.keysConfig.serverDataSender.serverSickAttempts.key,y=u.keysConfig.serverDataSender.serverSickTimestamp.key,ii=2,ri=3*ft,ui=60*ft,fi={1:dt,2:4*dt},et={Success:0,LogicalError:1,TechnicalError:2},v=this,tt={};v.register=function(n,i){if(tt[n])return tt[n];var r=new nr({beforeSendingManipulationFunc:i.beforeSendingManipulationFunc,actionUrl:i.actionUrl,technicalSuccessHandler:i.technicalSuccessHandler,successCallback:i.successCallback,failCallback:i.failCallback,dataType:i.dataType,twoLettersDataType:n,serverDataSenderManager:v,sendingThreshold:i.sendingThreshold,stateManager:u,storageEnabled:i.storageEnabled!==!1,dateSenderLogFeature:it,requestParamsFunc:i.requestParamsFunc,dataIdFieldName:i.dataIdFieldName,defaultDataStorageLifeSeconds:void 0!=i.dataStorageLifetimeSeconds?i.dataStorageLifetimeSeconds:b,logError:t.error,logger:t,recursiveMinification:i.recursiveMinification,shouldTruncateData:i.shouldTruncateData!==!1});return tt[n]=r,r};v.start=function(){v.sendData()};v.stop=function(){si();v.removeAllData();null!=a&&(a.clear(),a=null);null!=ut&&(ut.clear(),a=null)};v.sendData=function(){var i=ot(),n,t,r;if(i&&!ht()){if(n=i.dataSender,t=i.data,v.isServerSick())return l("Waiting for server's health in sendData",3),void lt();t.length>=n.sendingThreshold()?(l(e("sendData - Got {0} {1}s to send, starting now",t.length,n.dataType()),3),null!=a&&(a.clear(),a=null),vt(t,n)):null==a||a.cleared?(r=e("Got {0} {1}s to send, waiting {2}",t.length,n.dataType(),rt),l(r,3),a=h.libSetTimeout(function(){a=null;u.refreshGetData(null,function(){var n=ot(),t,i;n&&!ht()&&(t=n.dataSender,i=n.data,vt(i,t))})},rt)):l("sendData - timeout already exists",5)}};v.isServerSick=function(){return oi(),u.getData(k)||!1};v.removeAllData=function(){for(var t=st(),n=t.length-1;n>=0;n--)t[n].clearAndStopSavingData()};ei.apply(null,arguments)}function as(n,t,i,r,u){function o(){}var e=this,f=r.AJAX_PROVIDERS.wmjQueryAjaxProvider;e.init=function(){f=r.AJAX_PROVIDERS.wmjQueryAjaxProvider;u._walkmeInternals&&u._walkmeInternals.bind&&u._walkmeInternals.bind("dataFilesLoaded",function(){n.isFeatureEnabled("ajaxProxy")&&(i.init(),f=r.AJAX_PROVIDERS.ajaxProxyProvider)})};e.getProvider=function(){var n;switch(f){case r.AJAX_PROVIDERS.ajaxProxyProvider:n=i;break;default:n=t}return n};o.apply(null,arguments)}function vs(n){function i(){n.init()}function u(t){var u=r.Deferred(),i=f(u);return n.postMessage(t,u.resolve),t.success&&i.success(t.success),t.error&&i.error(t.error),i}function f(t){return{success:function(n){t.promise().then(function(t){t.success&&n(t.data)})},error:function(n){t.promise().then(function(t){t.success||n(t.data.jqXHR,t.data.textStatus,t.data.errorThrown)})},abort:function(){t.promise().then(function(t){n.abort(t.requestIndex)})}}}var t=this;t.init=i;t.callAjax=u}function ys(){function t(n){return r.ajax(n)}var n=this;n.callAjax=t}function ps(n,t,i,r){function s(){}function h(n){n.dataType="json"}var f,e,u=this,o=n;u.setFeatures=function(n,t){f=n;e=t};u.execute=function(n){return n.dataType=n.dataType?n.dataType:"jsonp","jsonp"===n.dataType&&(f||e&&r.hasCorsSupport())&&h(n),o.sendAutomationEvent("ajaxSent",n),i.getProvider().callAjax(n)};u.loadTextFile=function(n,t,i,r,u){r=r||function(){};mtjQuery.ajax(n,{cache:!!u,dataType:"jsonp",jsonpCallback:t,success:i,error:r})};s.apply(null,arguments)}function ws(){function i(){n=[]}function r(){return n[n.length-1]}function u(t,i){n.push(t);i();n.pop()}var t=this,n;t.get=r;t.setForScope=u;i()}function bs(n,t){function r(i){return n.getData(i)==t.getEndUserGuid()}function u(i,r){n.saveData(i,t.getEndUserGuid(),r)}var i=this;i.wasActionPerformed=r;i.logActionPerformed=u}function ks(n,t,i,r,u){function o(){}function s(n,t){if(e())try{r.postEvent(n,t)}catch(i){u.error(i)}}function e(){return i.isEnabled()}var f=this;f.isEnabled=e;f.postEvent=s;f.getEventAppByDeployable=t.map;f.isReportingEnabled=e;f.EVENT_TYPES=n.EVENT_SENDER_EVENT_TYPES;f.EVENT_APPS=n.EVENT_SENDER_EVENT_APPS;f.CANCEL_REASONS=n.EVENT_SENDER_CANCEL_REASONS;o.apply(this,arguments)}function ds(n,t,i){function u(){}function f(){var r={browser:n.browser,os:n.os,mobile:n.isMobile()};return!t.isReady()||t.isFeatureEnabled(i.FEATURES.DisableWidgetOpenFullUrl)||t.isFeatureEnabled(i.FEATURES.EventSenderDontSendPageUrl)?(r.url="",r.urlWithoutQueryString=""):(r.url=n.getUrl(),r.urlWithoutQueryString=n.getUrlWithoutQueryString()),r.pageTitle=t.isReady()&&!t.isFeatureEnabled(i.FEATURES.EventSenderDontSendPageTitle)?n.getPageTitle():"",r}var r=this;r.getEnvironmentData=f;u.apply(this,arguments)}function gs(n,t,i,r,u,f,e){function h(){}function c(){try{if(f.isInPreviewMode()||f.isInPlayMode()||e.get())return;if(u.reportEndUser(void 0,!0),t.wasActionPerformed(o.key))return;n.postEvent(n.EVENT_TYPES.Visible,{type:n.EVENT_APPS.Walkme});t.logActionPerformed(o.key,o.expiry)}catch(i){r.error(i)}}var s=this,o;s.report=c;o=i.walkmeVisibleReporter.walkmeVisibleReported;h.apply(null,arguments)}function nh(){function i(t){var i=r.Deferred();return n<=0?i.reject():(i.resolve(t),n--),i.promise()}var t=this,n=5;t.filter=i}function th(n,t,i,u){function h(n){s=n.postEventAction}function c(n){r.ajax({url:e+s,data:o(n),contentType:"text/plain",dataType:"json",type:"POST"})}function l(){return{url:t.getUrl(),browser:t.browser,os:t.os,screen:t.getWinSize(),mobile:t.isMobile()}}function a(){return{uId:i.getUserGuid(),euId:i.getEndUserGuid(),euIdSource:i.getEndUserGuidSource(),permId:i.getPermutationId(),language:i.getLanguage(),cVars:i.getCustomVars(),env:i.getEnvironmentId()}}var e,s,f=this;f.setBaseUrl=function(n){e=n};f.isReady=function(){return!(!e||!s)};f.logError=function(n,t){var i,e;if(f.isReady()){try{i=a()}catch(o){}e=r.extend({time:(new Date).getTime(),level:"error",app:"player",message:n},l(),i,t||{});u.filter(e).then(c)}};h.apply(f,arguments)}function ih(n,t,i,r,u,f,e,o){function h(){var o=c(n.get());t&&t.setBaseUrl(o);i.setBaseUrl(o);i.enable();u.setBaseUrl(o);u.enable();f.setBaseUrl(o);f.enable();r.setBaseUrl(o);r.enable();e.init()}function c(n){var i=l(),t=o.location.protocol,r=/^http[^s]/i.test(t),u=new RegExp("^(//|"+t+")","i"),f=u.test(n);return r&&!f&&i?n.replace(/^https:/,"http:"):n}function l(){return void 0===(new XMLHttpRequest).withCredentials&&"undefined"!=typeof XDomainRequest}var s=this;s.init=h}function rh(n){function i(){n.sleep();n.disable()}var t=this;t.disable=i}function uh(n,t,i,r,u,f,e,o){function c(){}function l(){a();v();y();p();w();b()}function a(){s(n.EVENTS.Goals.GoalReached,i.postEvent);s(n.EVENTS.AbExperimentLinkedGoalReached,i.postEvent)}function v(){s(n.EVENTS.SmartTips.ValidationFailed,r.postValidationFailedEvent);s(n.EVENTS.SmartTips.ValidationPassed,r.postValidationPassedEvent);s(n.EVENTS.SmartTips.TooltipShown,r.postTooltipShownEvent);s(n.EVENTS.SmartTips.SetTurnedOn,r.postSetActivatedEvent);s(n.EVENTS.SmartTips.SmartTipSegmented,r.postSmartTipSegmentedEvent);s(n.EVENT_SENDER_EVENT_TYPES.Focus,r.postElementEvent);s(n.EVENT_SENDER_EVENT_TYPES.Blur,r.postElementEvent);s(n.EVENT_SENDER_EVENT_TYPES.Click,r.postElementEvent)}function y(){s(n.EVENTS.Launchers.LauncherIsShown,u.postLauncherIsShownEventIfWasntSent)}function p(){s(n.EVENTS.Flows.FlowStarted,f.postFlowStartedEvent);s(n.EVENTS.Flows.FlowBranched,f.postFlowBranchedEvent);s(n.EVENTS.Flows.BeforeExecutingFlowStage,f.postBeforeExecutionStageEvent);s(n.EVENTS.Flows.UIFlowStageShown,f.postUIFlowStageShownEvent);s(n.EVENTS.Flows.AfterCompletingFlowStage,f.postAfterCompletionStageEvent);s(n.EVENTS.Flows.FlowStopped,f.postFlowStoppedEvent);s(n.EVENTS.Flows.SafeStartStatusChanged,f.postFlowSafeStartStatusChangedEvent)}function w(){s(n.EVENTS.Quizzes.QuizPlay,e.postQuizPlayEvent);s(n.EVENTS.Quizzes.QuizSubmitted,e.postQuizSubmittedEvent);s(n.EVENTS.Quizzes.QuizAnswerSubmitted,e.postAnswerSubmittedEvent);s(n.EVENTS.Quizzes.QuizPass,e.postQuizPassEvent);s(n.EVENTS.Quizzes.QuizFail,e.postQuizFailEvent)}function b(){s(n.EVENTS.WalkmeReadyNewSession,o.postNewSessionEvent)}function s(n,i){t.bind(n,function(n,t){i(t)})}var h=this;h.init=l;c.apply(this,arguments)}function fh(n,t,i,r,u,f){function o(){}function s(e){try{var o=e.goal,c=u.get(o.GoalType),s=c.getById(o.RelatedObjectId),l=f.getGoalsFromDeployable(s),h=r.map(o.GoalType);return n.postEvent(i.EVENT_SENDER_EVENT_TYPES.GoalReached,{type:h,oId:o.Id,oName:o.Name,pId:e.identifier?e.identifier:-1,total:l.length,owId:s.Id,owName:s.Name,owType:h,main:o.IsMainGoal,interactionGuid:e.interactionGuid})}catch(a){return t.error(a),!0}}var e=this;e.postEvent=s;o.apply(null,arguments)}function eh(n,t,i,u,f,e,o,s,h){function p(){}function w(n){var t={type:i.EVENT_SENDER_EVENT_APPS.SmartTipSet,oId:n.setId,oName:v(n.setId)};return t=a(t,n),l(i.EVENT_SENDER_EVENT_TYPES.Play,t)}function b(n){e.report();var t={type:i.EVENT_SENDER_EVENT_APPS.SmartTip,oId:n.smartTipModel.Id,oName:n.smartTipModel.Name,owId:n.setId,owType:i.EVENT_SENDER_EVENT_APPS.SmartTipSet,owName:v(n.setId)};return t=a(t,n),l(i.EVENT_SENDER_EVENT_TYPES.Play,t)}function k(n){return y(i.EVENT_SENDER_EVENT_TYPES.Failed,n)}function d(n){return y(i.EVENT_SENDER_EVENT_TYPES.Passed,n)}function g(n){return y(i.EVENT_SENDER_EVENT_TYPES.Visible,n)}function y(n,t){var r={type:i.EVENT_SENDER_EVENT_APPS.SmartTip,oId:t.smartTipModel.Id,oName:t.smartTipModel.Name,owId:t.setId,owType:i.EVENT_SENDER_EVENT_APPS.SmartTipSet,owName:v(t.setId),aoId:t.uiComponent&&t.uiComponent.Id,aType:t.uiComponent&&t.uiComponent.Type,aAppType:i.EVENT_SENDER_EVENT_APPS.SmartTipUiComponent};return r=a(r,t),l(n,r)}function nt(n){var t={type:i.EVENT_SENDER_EVENT_APPS.SmartTip,oId:n.smartTipModel.Id,oName:n.smartTipModel.Name,owType:i.EVENT_SENDER_EVENT_APPS.SmartTipSet,owId:n.setId,owName:v(n.setId)};return t=a(t,n),l(n.eventType,t)}function l(i,r){try{return n.postEvent(i,r)}catch(u){return t.error(u),!0}}function a(n,t){var i=tt(t);return r.extend(i,n)}function tt(n){return{interactionGuid:u.getCurrentInteractionGuid(),pId:n.playGuid,pInit:s.map(o.get()||h.getData(h.keysConfig.smartTipSet.initiator.key))}}function v(n){var t=f.getById(n);return t.Name}var c=this;c.postSetActivatedEvent=w;c.postSmartTipSegmentedEvent=b;c.postValidationFailedEvent=k;c.postValidationPassedEvent=d;c.postTooltipShownEvent=g;c.postElementEvent=nt;p()}function oh(n,t,i){function e(){}function o(t){var f=t.getId(),s=r.inArray(f,u)!=-1,e,o;if(!s){e={type:n.EVENT_APPS.Launcher,oId:f,oName:t.getName()};try{return o=n.postEvent(n.EVENT_TYPES.Play,e),u.push(f),o}catch(h){return i.error(h),!0}}}var f=this,u;f.postLauncherIsShownEventIfWasntSent=o;u=[];e.apply(null,arguments)}function sh(n,t,i,r,u,f,e,o){function c(u){var s=o.getPlayInitiator(),f=r.generateNewPlayGuid(u.businessSolutionId),e;o.savePlayGuid(f);e={type:t.EVENT_SENDER_EVENT_APPS.BizFlow,oId:u.businessSolutionId,oName:u.businessSolutionName,pId:f,pInit:i.map(s),oRequestedSubObject:u.requestedStageId,oActualSubObject:u.startingStageId};n.postEvent(t.EVENT_SENDER_EVENT_TYPES.Play,e)}function l(r){var u={type:t.EVENT_SENDER_EVENT_APPS.BizFlow,oId:r.businessSolutionId,oName:r.businessSolutionName,pId:o.getPlayGuid(),pInit:i.map({type:r.isBbCodeTrigger?t.STEP_PLAY_INITIATOR_ENUM.BBCODE:t.STEP_PLAY_INITIATOR_ENUM.BRANCHING,objectId:r.branchOriginStageId,appType:t.EVENT_SENDER_EVENT_APPS.BizFlowStep}),oRequestedSubObject:r.requestedStageId,oActualSubObject:r.startingStageId};n.postEvent(t.EVENT_SENDER_EVENT_TYPES.Play,u)}function a(n){var t=u.getNodeById(n.flowId,n.stageId),i=e.getBeforeExecutionEventStatus(t);h(n,i)}function v(n){var t=e.getUIFlowStageShownEventStatus();h(n,t)}function y(n){var t=e.getAfterCompletionEventStatus(n.isFlowGoingBack);h(n,t,!0)}function p(n){if(n.flowId&&n.wasClosedByUser){var t=e.getFlowStoppedEventStatus(n.wasClosedByUser);h(n,t)}}function h(i,r,e){var s=u.getNodeById(i.flowId,i.stageId),h=e&&f.getValue(s,i.value),c=e&&f.getBbCodeData(h,i.firedTrigger),l={type:t.EVENT_SENDER_EVENT_APPS.BizFlowStep,oId:i.uiElementId?i.uiElementId:s.Id,aoId:s.Id,oName:f.getName(s,i.uiElementId),aType:f.getNodeActionName(s),aAppType:f.getNodeActionAppType(s),oType:f.getNodeType(s),owId:i.businessSolutionId,owName:i.businessSolutionName,owType:t.EVENT_SENDER_EVENT_APPS.BizFlow,total:f.getTotalNodes(i.flowId),pId:o.getPlayGuid(),status:r,value:h,pInit:c};n.postEvent(t.EVENT_SENDER_EVENT_TYPES.Play,l)}function w(r){var u=o.getPlayInitiator(),f={type:t.EVENT_SENDER_EVENT_APPS.BizFlow,oId:r.businessSolutionId,oName:r.businessSolutionName,pId:o.getPlayGuid(),pInit:i.map(u),oRequestedSubObject:r.requestedStageId,oActualSubObject:r.startingStageId,status:r.status};n.postEvent(t.EVENT_SENDER_EVENT_TYPES.PlayFailed,f)}var s=this;s.postFlowStartedEvent=c;s.postFlowBranchedEvent=l;s.postBeforeExecutionStageEvent=a;s.postUIFlowStageShownEvent=v;s.postAfterCompletionStageEvent=y;s.postFlowStoppedEvent=p;s.postFlowSafeStartStatusChangedEvent=w}function hh(n,t,i,u,f,e,o){function h(t){return t.ActionType!=n.FLOW_ACTION_TYPE.OnPageAction?t.ActionType?i.map(t.ActionType):"":e.map(t.Settings.actionArgs.onElementAction)}function c(n){return n.ActionType?t.map(n.ActionType):""}function l(n){var i=u.getFlowById(n),t=0;for(var r in i.Nodes)t++;return t}function a(t,i){if(t.Type!=n.FLOW_STEP_TYPE.UI)return t.Name;if(i){var u=r.grep(t.UIElements,function(n){return n.Id==i});return u[0].Title}return r.map(t.UIElements,function(n){return n.Title}).join(", ")}function v(t){return t.Type==n.FLOW_STEP_TYPE.Action?n.STEP_TYPE.Action:t.UIElements[0].Type==n.FLOW_UIELEMENT_TYPE.Popup?n.STEP_TYPE.Popup:n.STEP_TYPE.Normal}function y(t,i){return t.Type==n.FLOW_STEP_TYPE.Action?i:f.lastTriggerFired&&f.lastTriggerFired.Type}function p(t,i){if(t&&t==n.FLOW_TRIGGER_TYPE.BbCode)return o.map({objectId:i.Id,type:i.Name})}var s=this;s.getNodeActionName=h;s.getNodeActionAppType=c;s.getTotalNodes=l;s.getName=a;s.getNodeType=v;s.getValue=y;s.getBbCodeData=p}function ch(n){function i(t){return"UI"==t.Type?n.STEP_STATUS.SupposedToShow:n.STEP_STATUS.Shown}function r(){return n.STEP_STATUS.Shown}function u(t){return t?n.STEP_STATUS.MovedBack:n.STEP_STATUS.Performed}function f(t){if(t)return n.STEP_STATUS.Exited}var t=this;t.getBeforeExecutionEventStatus=i;t.getUIFlowStageShownEventStatus=r;t.getAfterCompletionEventStatus=u;t.getFlowStoppedEventStatus=f}function lh(n,t,i,u,f,e){function l(o){var c=i.get(),l=r.extend({},s(o),h(o.quiz),{pInit:u.map(c),globalRatio:e.getCourseCompletionPrecentage(o.quiz),status:f.getQuizStatus(o.quiz)});n.postEvent(t.EVENT_SENDER_EVENT_TYPES.Play,l)}function a(i){var u=r.extend({},s(i),h(i.quiz));n.postEvent(t.EVENT_SENDER_EVENT_TYPES.Submitted,u)}function v(i){var u=r.extend({},s(i),h(i.quiz,!0),{type:t.EVENT_SENDER_EVENT_APPS.QuizQuestion,oId:i.questionId,aAppType:t.EVENT_SENDER_EVENT_APPS.QuizAnswer,aoId:i.answerId,aType:t.EVENT_SENDER_EVENT_APPS.QuizAnswer,value:i.answer,oName:i.question});n.postEvent(t.EVENT_SENDER_EVENT_TYPES.Submitted,u)}function y(n){c(n,!0)}function p(n){c(n,!1)}function c(i,u){var f=u?t.EVENT_SENDER_EVENT_TYPES.Passed:t.EVENT_SENDER_EVENT_TYPES.Failed,e=r.extend({},s(i),h(i.quiz),{passmark:i.quiz.Passmark,score:i.score});n.postEvent(f,e)}function s(n){return{pId:n.currentPlayGuid}}function h(n,i){var u,r={};return i?(r.owType=t.EVENT_SENDER_EVENT_APPS.Quiz,u="ow"):(r.type=t.EVENT_SENDER_EVENT_APPS.Quiz,u="o"),r[u+"Id"]=n.Id,r[u+"Name"]=e.getQuizName(n),r}var o=this;o.postQuizPlayEvent=l;o.postQuizSubmittedEvent=a;o.postAnswerSubmittedEvent=v;o.postQuizPassEvent=y;o.postQuizFailEvent=p}function ah(n){function r(n){var t=i(n);return t.Name+" Quiz"}function u(n){var t=i(n);return t.Id}function e(t){var i=f.get("LmsProgressProvider"),r=f.get("ObjectsTreeGenerator"),u=n.getCourseByQuizId(t.Id),e=r.generate([u]);return i.getCourseProgress(e[0])}function i(t){return n.getCourseByQuizId(t.Id)}var t=this;t.getQuizName=r;t.getCourseCompletionPrecentage=e;t.getQuizCourseId=u}function vh(n,t,i,r,u){function e(){return n.isFeatureEnabled()&&r.getEnvironmentId&&r.getEnvironmentId()!=i.SOURCES.preview&&!u.get()&&t.isEnabled()}var f=this;f.isEnabled=e}function tr(n,t,i,u){function h(){}function c(n,t){return e("debug",n,t)}function l(n,t){return e("info",n,t)}function a(n,t){return e("warn",n,t)}function v(n,t){return e("error",n,t)}function e(i,r,u){if(s())try{var e=o(y(i,r,u));n.send(e)}catch(f){throw t&&t.logError(o(f.message)),f;}}function y(n,t,i){return i&&"object"!=typeof i&&(i=null),r.extend({time:(new Date).getTime(),app:"player",level:n,message:t},u(),i||{})}function s(){return i.isFeatureEnabled()}var f=this;f.log=e;f.log.debug=c;f.log.info=l;f.log.warn=a;f.log.error=v;f.isLoggingEnabled=s;h.apply(this,arguments)}function yh(n,t,i,r,u,f,e,o,s){function c(i,r){try{var u=a(i,r);n.send(f.toJSON(u));l(u)}catch(e){throw t&&t.logError(f.toJSON(e.message)),e;}}function l(n){var t={eventData:n};e.raiseEvent(o.EVENTS.AnalyticsEventSent,t)}function a(n,t){var u=v(n);return u.data="[object Function]"===Object.prototype.toString.call(t)?t():t,u.env=i.getEnvironmentData(),u.wm=r.getWalkMeData(),s.decodeJsonNodes(u),u}function v(n){return{time:(new Date).getTime(),sId:y(),pgId:p(),type:n}}function y(){return u.getCurrentSession()}function p(){return"-1"}var h=this;h.postEvent=c}function ph(n,t,i,r,u,f,e,o,s){function l(){n.setStaticData("Wm-Eu-Data",v())}function a(n,t){return t.time=(new Date).getTime(),{ns:n,data:o(t)}}function v(){return o(y(s()))}function c(n,t){if(n)return n[t]}function y(n){return{browserName:c(n.browser,"name"),browserVersion:c(n.browser,"version"),mobile:n.mobile,os:c(n.os,"name"),env:n.env,euId:n.euId,euIdSource:n.euIdSource,permId:n.permId,platform:n.platform,uId:n.uId,local:n.local}}var h=this;h.send=function(r,u){if(h.isEnabled())try{var e=i.toJSON(a(r,u));n.send(e)}catch(f){throw t&&t.logError(i.toJSON(f.message)),f;}};h.isEnabled=function(){return r.isEnabled()&&f.isFeatureEnabled(e.FEATURES.EnableBILogger)};l.apply(this,arguments)}function wh(){function t(n,t,i){return n.on(t,i)}function i(n,t,i){return n.off(t,i)}var n=this;n.bind=t;n.unbind=i}function bh(n,t,i,r,u){function e(){var f={uId:n.getUserGuid(),euId:n.getEndUserGuid(),euIdSource:n.getEndUserGuidSource(),permId:n.getPermutationId(),language:n.getLanguage(),cVars:n.getCustomVars(),env:n.getEnvironmentId(),interactionGuid:t.getCurrentInteractionGuid(),platform:i.get("platform"),userVars:r.getUserVars()},o=u.get("globalGuid"),e;return o&&(f.extensionInstallationGuid=o),e=u.get("extVersion"),e&&(f.extensionVersion=e),f}var f=this;f.getWalkMeData=e}function kh(n){function i(){return{name:n.getPropertyValue("name"),role:n.getPropertyValue("role"),type:n.getPropertyValue("type"),status:n.getPropertyValue("status"),info:n.getPropertyValue("info")}}var t=this;t.getUserVars=i}function dh(n,t,i){function u(){return i.isReady()&&!i.isFeatureEnabled(n.FEATURES.DisableEventCollection)&&!t.isIE(7)}var r=this;r.isFeatureEnabled=u}function gh(n){function r(){t={};t[n.DEPLOYABLE_TYPE.Task]=n.EVENT_SENDER_EVENT_APPS.Task;t[n.DEPLOYABLE_TYPE.Tutorial]=n.EVENT_SENDER_EVENT_APPS.Walkthru;t[n.DEPLOYABLE_TYPE.Shuttle]=n.EVENT_SENDER_EVENT_APPS.Shuttle;t[n.DEPLOYABLE_TYPE.Launcher]=n.EVENT_SENDER_EVENT_APPS.Launcher;t[n.DEPLOYABLE_TYPE.Content]=n.EVENT_SENDER_EVENT_APPS.Content;t[n.DEPLOYABLE_TYPE.ShoutOut]=n.EVENT_SENDER_EVENT_APPS.ShoutOut;t[n.DEPLOYABLE_TYPE.Survey]=n.EVENT_SENDER_EVENT_APPS.Survey;t[n.DEPLOYABLE_TYPE.AbExperiment]=n.EVENT_SENDER_EVENT_APPS.AbTesting;t[n.AUDIT_TYPE.OPEN_TICKET]=n.EVENT_SENDER_EVENT_APPS.Ticket;t[n.DEPLOYABLE_TYPE.BusinessSolution]=n.EVENT_SENDER_EVENT_APPS.BizFlow}function u(i){return i in t?t[i]:n.EVENT_SENDER_EVENT_APPS.None}var i=this,t;i.map=u;r.apply(null,arguments)}function nc(n,t){function r(t){var i,r;if(t)return i={},n.setIfDefined(i,t.objectId,"id"),n.setIfDefined(i,t.type,"type"),r=u(t),n.setIfDefined(i,r,"appType"),i}function u(n){return n.appType?n.appType:n.type?t.map(n.type):null}function f(n){return{pInit:r(n)}}var i=this;i.map=r;i.mapForExtend=f}function tc(n){function u(){t={};t[n.STEP_PLAY_INITIATOR_ENUM.LAUNCHER]=n.EVENT_SENDER_EVENT_APPS.Launcher;t[n.STEP_PLAY_INITIATOR_ENUM.TASK]=n.EVENT_SENDER_EVENT_APPS.Task;t[n.STEP_PLAY_INITIATOR_ENUM.SHOUTOUT]=n.EVENT_SENDER_EVENT_APPS.ShoutOut;t[n.STEP_PLAY_INITIATOR_ENUM.WALKTHRU]=n.EVENT_SENDER_EVENT_APPS.Walkthru;t[n.STEP_PLAY_INITIATOR_ENUM.STEP]=n.EVENT_SENDER_EVENT_APPS.Step}function r(n){return t[n]}function f(t){if(t){var i=r(t.type);return{objectId:t.objectId,type:n.STEP_PLAY_INITIATOR_ENUM.BBCODE,appType:i}}}var i=this,t;i.map=r;i.mapBbcodeInitiator=f;u.apply(null,arguments)}function ic(n){function r(){var i=n.STEP_PLAY_INITIATOR_ENUM,r=n.DEPLOYABLE_TYPE;t={};t[i.LAUNCHER]=r.Launcher;t[i.TASK]=r.Task;t[i.SHOUTOUT]=r.ShoutOut;t[i.WALKTHRU]=r.Tutorial;t[i.STEP]=r.Step}function u(n){return t[n]}var i=this,t;i.map=u;r.apply(null,arguments)}function rc(n){function r(){var i=n.STEP_ACTION,r=n.EVENT_SENDER_EVENT_APPS;t={};t[i.PlayStep]=r.Step;t[i.Branch]=r.Walkthru}function u(n){return n in t?t[n]:""}var i=this,t;i.map=u;r.apply(null,arguments)}function uc(n,t){function u(){var t=n.STEP_ACTION,r=n.EVENT_SENDER_STEP_ACTION_NAMES;i={};i[t.Redirect]=r.Redirect;i[t.PlayStep]=r.PlayStep;i[t.WaitForCondition]=r.WaitForCondition;i[t.Branch]=r.Branch;i[t.StopWt]=r.StopWt;i[t.Delay]=r.Delay;i[t.Refresh]=r.Refresh;i[t.OpenPlayerMenu]=r.OpenPlayerMenu;i[t.SetWalkMeData]=r.SetWalkMeData;i[t.PassOwnership]=r.PassOwnership}function f(n){return n in i?i[n]:(t.error(null,"There is no mapping from 'step action' to 'event sender action name' for step action: "+n),"")}var r=this,i;r.map=f;u.apply(null,arguments)}function fc(n){function r(){var i=n.FLOW_ACTION_TYPE,r=n.EVENT_SENDER_EVENT_APPS;t={};t[i.ConnectToBizflow]=r.BizFlow}function u(n){return n in t?t[n]:""}var i=this,t;i.map=u;r.apply(null,arguments)}function ec(n,t){function u(){var t=n.FLOW_ACTION_TYPE,r=n.EVENT_SENDER_STEP_ACTION_NAMES;i={};i[t.Redirect]=r.Redirect;i[t.WaitForCondition]=r.WaitForCondition;i[t.ConnectToBizflow]=r.Branch;i[t.Stop]=r.StopWt;i[t.Delay]=r.Delay;i[t.Refresh]=r.Refresh;i[t.OpenMenu]=r.OpenPlayerMenu;i[t.Style]=r.Style;i[t.SetData]=r.SetWalkMeData;i[t.PassOwnership]=r.PassOwnership;i[t.ErrorHandling]=r.ErrorHandling;i[t.Split]=r.Split}function f(n){return n in i?i[n]:(t.error(null,"There is no mapping from 'bizFlow step action' to 'event sender action name' for step action: "+n),"")}var r=this,i;r.map=f;u.apply(null,arguments)}function oc(n,t){function u(){var t=n.FLOW_ON_PAGE_ACTION_ELEMENT_ACTIONS_TYPE,r=n.EVENT_SENDER_STEP_ACTION_NAMES;i={};i[t.Click]=r.OnPageActionClick;i[t.Hover]=r.OnPageActionHover;i[t.Focus]=r.OnPageActionFocus;i[t.FillText]=r.OnPageActionFillText;i[t.SelectListValue]=r.OnPageActionSelectListValue}function f(n){return n in i?i[n]:(t.error(null,"There is no mapping from 'bizFlow step action' to 'event sender action name' for On-Page-Action: "+n),"")}var r=this,i;r.map=f;u.apply(null,arguments)}function sc(n,t,i,r,u){function s(){o=r.wrapCustomerLog(i.FEATURES_LOGS.WalkMeSession)}function h(){return f?f:null}function c(n){f=n}function l(){f=n.generateGuid();t.raiseEvent(i.EVENTS.NewSession,f);u.bind(i.EVENTS.WalkmeReady,function(){t.raiseEvent(i.EVENTS.WalkmeReadyNewSession,f)});var r="New session guid was created : "+f;o(r,2)}var e=this,f,o;e.getCurrentSession=h;e.setCurrentSession=c;e.beginNewSession=l;s.apply(this,arguments)}function hc(n,t,i,r,u,f){function p(){o=f.wrapCustomerLog(u.FEATURES_LOGS.WalkMeSession)}function w(){var i=n.getData(l);i?(h=!1,o("WalkMe Session restored from storage: "+i,1),t.setCurrentSession(i)):(o("WalkMe Session doesnt exist in storage. Starting new one",1),t.beginNewSession(),h=!0,v())}function b(){return h}function k(){var n=r.get(),t=n.Custom&&n.Custom.sessionLengthOverride;t&&(c=t);a()}function a(){v();s=i.setWalkmeTimeout(a,y)}function v(){var i=t.getCurrentSession();n.saveData(l,i,c);o("WalkMe Session ("+i+") was saved for "+c+" seconds.",3)}function d(){s&&(s.clear(),s=null)}var e=this;e.loadOrCreate=w;e.startPersisting=k;e.cleanResources=d;e.isNewSession=b;var o,s,h,y=6e4,c=n.keysConfig.session.session.expiry,l=n.keysConfig.session.session.key;p.apply(this,arguments)}function cc(n,t){function r(){n.postEvent(t.EVENT_SENDER_EVENT_TYPES.SessionStart,{type:"walkme"})}var i=this;i.postNewSessionEvent=r}function lc(n,t,i,r){function o(){f=[];u(n.EVENTS.PlayerClicked);u(n.EVENTS.Launchers.LauncherClicked);u(n.EVENTS.AutoStart.Activated);u(n.EVENTS.PermalinkClicked);u(n.EVENTS.ApiWasCalled,i);u(n.EVENTS.WidgetOpening,r)}function s(){return f}function u(n,i){var r=t.get(i);f.push({eventName:n,callback:r.initiateInteraction})}var e=this,f;e.get=s;o.apply(this,arguments)}function ac(n,t){function e(){u=t.wrapCustomerLog(f)}function o(){return i?i:null}function s(n){i=n}function h(){i=n.generateGuid();var t="New interaction guid was created : "+i;u(t,3)}var r=this,i,u,f;r.getCurrentInteractionGuid=o;r.setCurrentInteractionGuid=s;r.beginNewInteraction=h;f="interaction";e.apply(this,arguments)}function vc(n,t){function r(){}function u(){for(var r,i=t.get(),n=0;n<i.length;n++)r=i[n],f(r)}function f(t){n.bind(t.eventName,function(n,i){t.callback(i)})}var i=this;i.init=u;r.apply(this,arguments)}function yc(n){function i(n){return new r(n)}function r(t){function r(i){i=u(i);t&&!t.shouldInitiateNewInteraction(i)||n.beginNewInteraction()}function u(n){var t=f(n);return t&&(n.actualInitiatorType=t),n}function f(n){if(n&&n.initiator&&void 0!=n.initiator.type)return n.initiator.type}var i=this;i.initiateInteraction=r}var t=this;t.get=i}function pc(n,t){function u(n){i=n.initiatorsThatBeginNewInteraction}function f(t){return void 0==t.actualInitiatorType||n(t.actualInitiatorType,i)!=-1}var r=this,i;r.shouldInitiateNewInteraction=f;u.apply(this,[t])}function wc(n,t,i,r){function f(u,f){var s=u||r.shouldUseEmbedInElementBecauseInJspPane(f),e,o;return s?(e=t.canEmbedInElement(f),e?n.EMBEDMENT_TYPE.EmbedInElement:n.EMBEDMENT_TYPE.EmbedInElementParent):(o=i.canEmbedInOwnerDocument(f),o?n.EMBEDMENT_TYPE.EmbedInOwnerDocument:n.EMBEDMENT_TYPE.EmbedInTopDocument)}var u=this;u.get=f}function bc(n,t,i,r){function f(u){var f=r.isInIframe(u),e=!f;return e||t.isFeatureEnabled(n.FEATURES.ForceEmbedInOwnerDocument)||i.shouldHandlePageAsFramesets()}var u=this;u.canEmbedInOwnerDocument=f}function kc(n,t,i){function u(r){var u=n.browser.version,e=t.get();return i.doAllMeetCondition(e,function(n){return!r.is(n.elementType)||n.isSupported&&f(u,n)})}function f(n,t){return n>=t.minimalSupportedVersion}var r=this;r.canEmbedInElement=u}function dc(n,t,i){function u(r){return t.isFeatureEnabled(n.FEATURES.JSP)&&!!i.findJspContainer(r)}var r=this;r.shouldUseEmbedInElementBecauseInJspPane=u}function gc(n){function f(){n.isIE()?t=t.concat(r):n.isEdge()&&(t=t.concat(u))}function e(){return t}var i=this;i.get=e;var t=[{elementType:"select",isSupported:!1}],r=[{elementType:"button",isSupported:!1},{elementType:"input",isSupported:!0,minimalSupportedVersion:9},{elementType:"img",isSupported:!0,minimalSupportedVersion:9},{elementType:"iframe",isSupported:!0,minimalSupportedVersion:9},{elementType:"textarea",isSupported:!1}],u=[{elementType:"textarea",isSupported:!1}];f()}function nl(n){function f(){u=r(n.topMostElement);t=r(n.originElement)}function e(){return t}function o(){return u}function s(){return{width:t.outerWidth(),height:t.outerHeight()}}var i=this,t,u;i.getOriginElement=e;i.getTopMostElement=o;i.getElementSize=s;f.apply(null,arguments)}function tl(n,t,i,r,u,e){function s(){}function h(u,f){var o=n.get(f,u);switch(o){case t.EMBEDMENT_TYPE.EmbedInElement:return c(u);case t.EMBEDMENT_TYPE.EmbedInElementParent:return e.create(u);case t.EMBEDMENT_TYPE.EmbedInOwnerDocument:return i.create(u);case t.EMBEDMENT_TYPE.EmbedInTopDocument:return r.create(u);default:throw new Error("unknown embedment type "+o);}}function c(n){var t=u.create(n),i=e.create(n),r=[t,i],o={elementEmbedders:r};return f.create("FallbackElementEmbedder",o)}var o=this;o.get=h;s.apply(null,arguments)}function il(n,t){function h(){u=t.elementEmbedderApi}function c(){return e}function l(t,r,u,f){return s(),i=function(){return i=null,a(t,r,u,f)},n.mutate(i)}function a(n,t,i,r){try{var f=u.embed(n)}catch(s){return p.reject(s)}return e=v(f),o(t,i,r)}function o(n,t,i){return e?u.reposition(e,n,t,i):p.resolve()}function v(n){var t={topMostElement:n,originElement:n};return f.create("EmbedderElement",t)}function s(){i&&(n.remove(i),i=null)}function y(){s();u.destroy()}var r=this,u,e,i;r.embed=l;r.reposition=o;r.getElement=c;r.destroy=y;h.apply(null,arguments)}function rl(n,t,i,r){function l(){o=r.elementEmbedderApi}function a(){return s}function v(n,t,r,f){return c(),u=function(){return u=null,y(n,t,r,f)},i.mutate(u)}function y(i,r,u,f){var e=n.create(u),c;t.attach(e,i);try{c=o.embed(e)}catch(l){return p.reject(l)}return s=w(c),h(r,u,f)}function h(n,t,i){return s?o.reposition(s,n,t,i):p.resolve()}function w(n){var t=n.children()[0],i={topMostElement:n,originElement:t};return f.create("EmbedderElement",i)}function c(){u&&(i.remove(u),u=null)}function b(){c();o.destroy()}var e=this,o,s,u;e.embed=v;e.reposition=h;e.getElement=a;e.destroy=b;l.apply(null,arguments)}function ul(n,t){function f(){r=t.elementEmbedders}function e(){return i.getElement()}function o(n,t,i,r){return c(n,t,i,r).then(s,function(){return h(n,t,i,r)})}function s(n){i=n}function h(n,t,u,f){return i=r[r.length-1],i.embed(n,t,u,f)}function c(n,t,i,u){for(var f=p.reject(),e=0;e<r.length-1;e++)f=f.then(null,function(r){return function(){return l(r,n,t,i,u)}}(r[e]));return f}function l(n,t,i,r,u){return n.embed(t,i,r,u).then(function(){return new p(function(t,i){a(n)?t(n):i()})})}function a(t){var i=t.getElement(),r;return n.isVisible(i)?!0:(r=i.getTopMostElement(),r.remove(),!1)}function v(n,t,r,u){return i.reposition(n,t,r,u)}function y(){i.destroy()}var u=this,r,i;u.embed=o;u.reposition=v;u.getElement=e;u.destroy=y;f.apply(null,arguments)}function fl(){function t(n){var t=n.getOriginElement();return t.is(":mt_visible")}var n=this;n.isVisible=t}function el(n,t,i){function u(){}function f(r){return r==n.EMBEDMENT_TYPE.EmbedInTopDocument?i:t}var r=this;r.get=f;u()}function ol(){function t(n){return r("head",n[0].ownerDocument)}var n=this;n.get=t}function sl(){function t(){return r("head")}var n=this;n.get=t}function hl(n,t){function r(){}function u(i,r,u,e,o){var s=r.getElementSize(),h=n.get(i),c=t.getPosition(h,s,u,e);return f(c,o,r.getTopMostElement())}function f(n,t,i){var r=t.offset(),u=i.offset();return{top:n.top+(r.top-u.top),left:n.left+(r.left-u.left)}}var i=this;i.getPosition=u;r.apply(null,arguments)}function cl(n){function i(){}function r(t,i,r,f,e){var o=n.getPosition(t,i,r,f,e);return u(o,t,e)}function u(n,t,i){var r=t.offset(),u=i.offset();return{top:n.top+(r.top-u.top),left:n.left+(r.left-u.left)}}var t=this;t.getPosition=r;i.apply(null,arguments)}function ll(n,t){function r(){}function u(i,r,u,f){var e=n.get(i),o=r.getElementSize();return t.getPosition(e,o,u,f)}var i=this;i.getPosition=u;r.apply(null,arguments)}function al(n,t){function r(){}function u(i,r,u,f){var e=n.get(i),o=r.getElementSize();return t.getPosition(e,o,u,f)}var i=this;i.getPosition=u;r.apply(null,arguments)}function vl(n){function i(){}function r(t){return n.getEmbedInElementPosition(t,{leftOffset:0,topOffset:0})}var t=this;t.get=r;i.apply(null,arguments)}function yl(n){function i(){}function r(t){return n.getElementBounds(t,!0,window,{leftOffset:0,topOffset:0})}var t=this;t.get=r;i.apply(null,arguments)}function pl(n){function i(){}function r(t){return n.getElementBounds(t,!1,window,{leftOffset:0,topOffset:0})}var t=this;t.get=r;i.apply(null,arguments)}function wl(n){function i(){}function r(t,i,r,u){var f,e;switch(t){case n.POSITION_TYPE.Top:f=i.top;e=r.left-u.width/2;break;case n.POSITION_TYPE.Right:f=r.top-u.height/2;e=i.right-u.width;break;case n.POSITION_TYPE.Bottom:f=i.bottom-u.height;e=r.left-u.width/2;break;case n.POSITION_TYPE.Left:f=r.top-u.height/2;e=i.left;break;case n.POSITION_TYPE.TopLeft:f=i.top;e=i.left;break;case n.POSITION_TYPE.TopRight:f=i.top;e=i.right-u.width;break;case n.POSITION_TYPE.BottomRight:f=i.bottom-u.height;e=i.right-u.width;break;case n.POSITION_TYPE.BottomLeft:f=i.bottom-u.height;e=i.left;break;case n.POSITION_TYPE.Center:f=r.top-u.height/2;e=r.left-u.width/2}return{top:f,left:e}}var t=this;t.calculate=r;i.apply(null,arguments)}function bl(n){function i(){}function r(t,i,r,u){var f,e;switch(t){case n.POSITION_TYPE.Top:f=i.top-u.height;e=r.left-u.width/2;break;case n.POSITION_TYPE.Right:f=r.top-u.height/2;e=i.right;break;case n.POSITION_TYPE.Bottom:f=i.bottom;e=r.left-u.width/2;break;case n.POSITION_TYPE.Left:f=r.top-u.height/2;e=i.left-u.width;break;case n.POSITION_TYPE.TopLeft:f=i.top-u.height;e=i.left-u.width;break;case n.POSITION_TYPE.TopRight:f=i.top-u.height;e=i.right;break;case n.POSITION_TYPE.BottomRight:f=i.bottom;e=i.right;break;case n.POSITION_TYPE.BottomLeft:f=i.bottom;e=i.left-u.width}return{top:f,left:e}}var t=this;t.calculate=r;i.apply(null,arguments)}function kl(n,t,i){function u(){}function f(r){switch(r){case n.POSITION_PERIMETER_TYPE.Outside:return i;case n.POSITION_PERIMETER_TYPE.Inside:return t}}var r=this;r.get=f;u.apply(null,arguments)}function dl(){function t(){}function i(n,t){n.css("top",t.top+"px");n.css("left",t.left+"px")}var n=this;n.setPosition=i;t.apply(null,arguments)}function gl(n,t){function r(){}function u(i,r,u,f){var e=t.getCenterPositionByBounds(i),o=n.get(u);return o.calculate(f,i,e,r)}var i=this;i.getPosition=u;r.apply(null,arguments)}function na(){function t(){}function i(n){return n}var n=this;n.get=i;t.apply(null,arguments)}function ta(){function t(){}function i(n){return n.parent()}var n=this;n.get=i;t.apply(null,arguments)}function ia(n){function i(){}function r(t){return n.getTopContainer(t)}var t=this;t.get=r;i.apply(null,arguments)}function ra(n){function i(){}function r(){return n.getTopContainer(null,!0)}var t=this;t.get=r;i.apply(null,arguments)}function ua(){function t(n,t){return t.appendTo(n)}function i(n,t){n.append(t[0].outerHTML);return n.children().filter(":last-child")}function r(n,t){var i=n.find(t);i&&i.remove()}function u(n){try{n&&n.remove()}catch(t){}}var n=this;n.attach=t;n.attachCopy=i;n.detach=r;n.detachByElement=u}function fa(n,t){function r(){}function u(i){var r={elementToEmbedInto:i,elementContainerProvider:n,positionProvider:t},u=f.create("ElementEmbedderApi",r),e={elementEmbedderApi:u};return f.create("EmbedInElementElementEmbedder",e)}var i=this;i.create=u;r.apply(null,arguments)}function ea(n,t){function r(){}function u(i){var r={elementToEmbedInto:i,elementContainerProvider:n,positionProvider:t},u=f.create("ElementEmbedderApi",r),e={elementEmbedderApi:u};return f.create("EmbedInElementElementEmbedder",e)}var i=this;i.create=u;r.apply(null,arguments)}function oa(n,t){function r(){}function u(i){var r={elementToEmbedInto:i,elementContainerProvider:n,positionProvider:t},u=f.create("ElementEmbedderApi",r),e={elementEmbedderApi:u};return f.create("ElementEmbedder",e)}var i=this;i.create=u;r.apply(null,arguments)}function sa(n,t){function r(){}function u(i){var r={elementToEmbedInto:i,elementContainerProvider:n,positionProvider:t},u=f.create("ElementEmbedderApi",r),e={elementEmbedderApi:u};return f.create("ElementEmbedder",e)}var i=this;i.create=u;r.apply(null,arguments)}function ha(n){function i(){}function r(n){var t=mtjQuery(document.createElement("div"));return e(t),u(t,n),o(t),t}function u(n,t){n.css("position","relative");n.css("display","inline-block");n.css("float",f(t))}function f(t){var i="left";switch(t){case n.POSITION_TYPE.Right:case n.POSITION_TYPE.TopRight:case n.POSITION_TYPE.BottomRight:i="right"}return i}function e(n){n.css("display","-moz-inline-stack")}function o(n){n.css("zoom","1");n.css("*display","inline")}var t=this;t.create=r;i.apply(null,arguments)}function ca(n,t){function o(n){u=n.clickAction}function s(n){var t=n.getTopMostElement();h(t)}function h(n){n.click(function(){c()&&(r(this).blur(),u())})}function c(){var n=(new Date).getTime(),t=n-i;return null!=i&&t<=f?!1:(i=n,!0)}var e=this,u,i,f;e.applyBehavior=s;f=2e3;o.apply(null,[t])}function la(){function t(){}function i(n){var t=n.getTopMostElement();r(t)}function r(n){n.click(function(n){n.preventDefault();n.stopPropagation()});n.hover(function(n){n.stopPropagation()})}var n=this;n.applyBehavior=i;t.apply(null,arguments)}function aa(n){function i(){}function r(n){var t=n.getTopMostElement();u(t);f(t)}function u(t){n.addTabIndex(t)}function f(n){n.css("cursor","pointer")}var t=this;t.applyBehavior=r;i.apply(null,arguments)}function va(n,t){function u(n){i=n.tooltipText}function f(n){e(n)}function e(n){var t=n.getTopMostElement(),i=o();t.attr("title",i)}function o(){return n.decodeHtml(i,["&",'"',"'",">","<"])}var r=this,i;r.applyBehavior=f;u.apply(null,[t])}function ya(n,t,i,r){function e(){}function o(t){var i=c(t);return t.contentData.kind==n.ICON_CONTENT_KIND.Image?s(i,t):h(i,t)}function s(n,t){var i={contentData:t.contentData,cssClasses:t.cssClasses,zindex:t.zindex,iconEmbedder:n,isAnimated:t.isAnimated};return f.create("ImageIcon",i)}function h(n,r){var u=i.get(r.isEmbedInElement,r.element),e=t.get(u),o={headToEmbedFontsIn:e.get(r.element),text:r.contentData.text,cssClasses:r.cssClasses,zindex:r.zindex,iconEmbedder:n};return r.contentData.cssClassName&&r.cssClasses.positionElementCssClassNames.push(r.contentData.cssClassName),f.create("TextIcon",o)}function c(n){var t=r.get(n.element,n.isEmbedInElement),i={embedder:t,perimeterType:n.perimeterType,attachmentSide:n.attachmentSide,positionCustomOffset:n.positionCustomOffset,growingDirection:n.growingDirection,element:n.element};return f.create("IconEmbedder",i)}var u=this;u.create=o;e()}function pa(n,t){function r(i){var r=n.getById(i);return r?{mainImageUrl:r.Url,hoverImageUrl:r.Hover,clickImageUrl:r.Click,text:r.CustomText,cssClassName:"custom-launcher-"+i,kind:r.Url?t.ICON_CONTENT_KIND.Image:t.ICON_CONTENT_KIND.Text}:null}var i=this;i.getFromCustomTemplate=r}function wa(n,t,i){function s(){u=i.concreteIcon;e=i.iconElementUniqueIdentifier;o=i.behaviors}function h(){return u.show().then(function(n){return r=n,c(),l(),r})}function c(){var n=r.getTopMostElement();n.addClass(e);n.addClass("walkme-not-embed")}function l(){t.applyBehaviors(r,o)}function a(){r&&(n.detachByElement(r.getTopMostElement()),r=void 0);u.destroy()}function v(){u.reposition()}var f=this,u,e,o,r;f.show=h;f.destroy=a;f.reposition=v;s()}function ba(){function t(){}function i(n,t){for(var r,i=0;i<t.length;i++)r=t[i],r.applyBehavior(n)}var n=this;n.applyBehaviors=i;t()}function ka(n,t,i){function u(){}function e(r){var u=[t,i],e=n.create(r),o={concreteIcon:e,behaviors:u,iconElementUniqueIdentifier:"walkme-icon-root-"+r.uniqueIdentifierType+"-"+r.uniqueIdentifierId};return f.create("Icon",o)}var r=this;r.create=e;u()}function da(n,t){function r(i,r){return t.defaultValue(r.isAnimated,!1),{element:i,uniqueIdentifierType:r.uniqueIdentifierType,uniqueIdentifierId:r.uniqueIdentifierId,isEmbedInElement:t.defaultValue(r.isEmbedInElement,!1),contentData:r.contentData,isAnimated:r.isAnimated,attachmentSide:r.attachmentSide,zindex:t.defaultValue(r.zindex,"2147483627"),perimeterType:parseInt(t.defaultValue(r.perimeterType,n.POSITION_PERIMETER_TYPE.Outside)),positionCustomOffset:{top:parseInt(t.defaultValue(r.positionTopCustomOffset,0)),left:parseInt(t.defaultValue(r.positionLeftCustomOffset,0))},cssClasses:{contentElementCssClassNames:r.contentElementCssClassNames,positionElementCssClassNames:r.positionElementCssClassNames}}}var i=this;i.get=r}function ga(n,t,i,r){function a(){u=r.embedder;e=r.perimeterType;o=r.attachmentSide;s=r.positionCustomOffset;l=r.growingDirection;h=r.element}function v(n){return i.setCustomCssIfNeeded(h),u.embed(n,e,o,{refine:c}).then(function(){return u.getElement()})}function y(){return u.reposition(e,o,{refine:c})}function p(){u.destroy()}function c(t){return n.refine(t,s)}var f=this,u,e,o,s,l,h;f.embed=v;f.reposition=y;f.destroy=p;a()}function nv(n,t){function r(){}function u(n,i,r){f(n,i.contentElementCssClassNames);var u=t.create(r);return e(u,i.positionElementCssClassNames),u.html(n),u}function f(t,i){n.appendClasses(t,["walkme-icon-image-div"]);n.appendClasses(t,i)}function e(t,i){n.appendClasses(t,["walkme-custom-icon-outer-div"]);n.appendClasses(t,i)}var i=this;i.createElement=u;r()}function tv(n,t,i){function u(){}function f(r){return r.TemplateId?"htmlShape"==r.Type?i.getFromCustomTemplate(r.TemplateId):t.getFromCustomTemplate(r.TemplateId):"htmlShape"==r.Type?i.getFromSettingsImageObject(r.Predefined):n.getFromSettingsImageObject(r.Predefined)}var r=this;r.get=f;u.apply(null,arguments)}function iv(n){function u(){t=n.getImages}function f(n){var i=r(t()).filter(function(t,i){return i.Id==n});return i?i[0]:null}var i=this,t;i.getById=f;u()}function rv(n){function r(n){n.mainImageUrl=t(n.mainImageUrl);n.hoverImageUrl=t(n.hoverImageUrl);n.clickImageUrl=t(n.clickImageUrl)}function t(t){if(!t||u(t))return t;var i=n.get();return i+t}function u(n){return 0==n.indexOf("http")}var i=this;i.convert=r}function uv(n){function u(n){t=n.imageSize;i=n.imageUrl}function f(n){n.stop();e(n);o(n)}function e(n){n.css("background-image",'url("'+i+'")')}function o(n){n.animate({width:t.width+"px",height:t.height+"px"})}var r=this,t,i;r.applyState=f;u.apply(null,[n])}function fv(n){function u(n){t=n.imageSize;i=n.imageUrl}function f(n){e(n);o(n)}function e(n){n.css("background-image",'url("'+i+'")')}function o(n){n.css("height",t.height+"px");n.css("width",t.width+"px")}var r=this,t,i;r.applyState=f;u.apply(null,[n])}function ev(){function t(){}function i(n,t,i){var r={imageUrl:t,imageSize:i};return n?f.create("ImageIconAnimatedContentState",r):f.create("ImageIconNotAnimatedContentState",r)}var n=this;n.get=i;t.apply(null,arguments)}function ov(n,t){function r(){}function u(i,r){var u={},o=t.get(r,i.mainImageUrl,i.mainImageSize),f,e;return(u[n.ICON_CONTENT_STATE.Regular]=o,i.clickImageSize)&&(f=t.get(r,i.clickImageUrl,i.clickImageSize),u[n.ICON_CONTENT_STATE.Click]=f),i.hoverImageSize&&(e=t.get(r,i.hoverImageUrl,i.hoverImageSize),u[n.ICON_CONTENT_STATE.Hover]=e),u}var i=this;i.getStates=u;r()}function sv(n,t,i,r,u,f,e){function w(){c=e.contentData;l=e.cssClasses;a=e.zindex;o=e.iconEmbedder;v=e.isAnimated}function b(){return i.load(c).then(k).then(d)}function k(n){h=f.getStates(n,v)}function d(){var i=t.create(),f;return y(i,u.ICON_CONTENT_STATE.Regular),f=n.createElement(i,l,a),o.embed(f).then(function(n){return i=n.getOriginElement().children().first(),r.bind(i,h,g),n})}function g(n,t){y(n,t);p()}function y(n,t){h[t].applyState(n)}function p(){return o.reposition()}function nt(){o.destroy()}var s=this,c,l,a,o,v,h;s.show=b;s.reposition=p;s.destroy=nt;w()}function hv(){function t(){}function i(){var n=mtjQuery(document.createElement("div"));return n.css("background-repeat","no-repeat"),n}var n=this;n.create=i;t.apply(this,arguments)}function cv(n){function i(t,i,f){i[n.ICON_CONTENT_STATE.Hover]&&r(t,f);i[n.ICON_CONTENT_STATE.Click]&&u(t,i,f)}function r(t,i){var r=function(){i(t,n.ICON_CONTENT_STATE.Hover)},u=function(){i(t,n.ICON_CONTENT_STATE.Regular)};t.hover(r,u)}function u(t,i,r){var u=f(i),e=function(){r(t,n.ICON_CONTENT_STATE.Click)},o=function(){r(t,u)};t.on("touchend mouseup",o).on("touchstart mousedown",e)}function f(t){return t[n.ICON_CONTENT_STATE.Hover]?n.ICON_CONTENT_STATE.Hover:n.ICON_CONTENT_STATE.Regular}var t=this;t.bind=i}function lv(n,t,i){function f(){}function e(n){i.convert(n);var u={},f=[];return r(u,f,"mainImageUrl","mainImageSize",n),n.hoverImageUrl&&r(u,f,"hoverImageUrl","hoverImageSize",n),n.clickImageUrl&&r(u,f,"clickImageUrl","clickImageSize",n),new p(function(n,i){var r={functionsToExecute:f,successCallback:function(){n(u)},failCallback:i};t.executeParallel(r)})}function r(t,i,r,u,f){function e(n){t[u]=n;t[r]=f[r]}i.push(function(t){n.getImageSize(f[r],function(n){e(n);t()})})}var u=this;u.load=e;f()}function av(n){function i(){return n.getResourcePath("/player/resources/launchers/")}var t=this;t.get=i}function vv(n,t){function r(){}function u(i){var r=mtjQuery(document.createElement("div"));return n.addBrowserSpecificClasses(r),n.setLangAttribute(r),r.css("position","absolute"),r.css("display","inline"),r.css("left",0),r.css("top",0),t.setTopMostCssStyle(r,i),r}var i=this;i.create=u;r.apply(null,arguments)}function yv(){function t(n,t){var r={top:n.top,left:n.left};return i(r,t),r}function i(n,t){n.top+=t.top;n.left+=t.left}var n=this;n.refine=t}function pv(n,t){function r(i){var r=i.data.shape+"-"+i.data.color;return{mainImageUrl:r+".png",kind:t.ICON_CONTENT_KIND.Image,hoverImageUrl:n.isValueTrue(i.data.hover)?r+"-hover.png":null,clickImageUrl:n.isValueTrue(i.data.click)?r+"-click.png":null}}var i=this;i.getFromSettingsImageObject=r}function wv(n,t){function r(n){return{text:n.data.customText,cssClassName:n.data.customClass,kind:t.ICON_CONTENT_KIND.Text}}function u(i){var r=n.getById(i);return{text:r.Text,kind:t.ICON_CONTENT_KIND.Text,cssClassName:"html-launcher-"+r.Shape+"-"+r.Color}}var i=this;i.getFromSettingsImageObject=r;i.getFromCustomTemplate=u}function bv(n,t,i,r){function f(){}function e(i,r,u,f){var e=o(i,r,f),s=t.get(u,e);return n.create(s,u)}function o(n,t,u){var e=r.get(t,u),f=i.get(e);return{uniqueIdentifierType:"SmartTip",uniqueIdentifierId:n.Id,isEmbedInElement:n.Settings.embedInParent,attachmentSide:n.Settings.Position,zindex:n.Settings["z-index"],perimeterType:n.Settings.context,isAnimated:n.Settings.animated,growingDirection:n.Settings.direction,positionTopCustomOffset:n.Settings.topOffset,positionLeftCustomOffset:n.Settings.leftOffset,contentElementCssClassNames:[],positionElementCssClassNames:s(n,f),contentData:f}}function s(n,t){var i=[];return i.push("walkme-icon-position-smartTip-id-"+n.Id),t.customClass&&i.push(t.customClass),i}var u=this;u.create=e;f.apply(null,arguments)}function kv(){function t(){}function i(n,t){return n.TemplateId?{TemplateId:n.TemplateId}:n.Settings.imageObject?"htmlShape"==n.Settings.imageObject.type?{TemplateId:n.Settings.imageObject.data.id,Predefined:n.Settings.imageObject,Type:n.Settings.imageObject.type}:{Predefined:n.Settings.imageObject}:t.Icon.TemplateId?{TemplateId:t.Icon.TemplateId}:"htmlShape"==t.Icon.Predefined.type?{Predefined:t.Icon.Predefined,Type:t.Icon.Predefined.type}:{Predefined:t.Icon.Predefined}}var n=this;n.get=i;t.apply(null,arguments)}function dv(n,t,i,r){function c(){e=r.headToEmbedFontsIn;o=r.text;s=r.cssClasses;h=r.zindex;u=r.iconEmbedder}function l(){return n.load(e).then(a)}function a(){var n=i.create(o),r=t.createElement(n,s,h);return u.embed(r)}function v(){return u.reposition()}function y(){u.destroy()}var f=this,e,o,s,h,u;f.show=l;f.reposition=v;f.destroy=y;c()}function gv(){function t(){}function i(n){var t=mtjQuery(document.createElement("div"));return t.html(n),t}var n=this;n.create=i;t.apply(null,arguments)}function ny(n,t){function r(i){return new p(function(r,u){n.fonts([t.get("walkme-opensans")],i,r,u)})}var i=this;i.load=r}function ty(n,t){function r(i){return new p(function(r,u){n.fonts([t.get("walkme-opensans"),t.get("lib-font")],i,r,u)})}var i=this;i.load=r}function iy(n,t,i,r,u){function o(){return!s()}function s(){var o=!!window.wm_no_audit,s=!!n.getWindowCookie("wm-no-audit"),h=!t.isFeatureEnabled("blockJsonp")||u.hasCorsSupport(),e=i.get(),c=!!e.Settings&&!!e.Settings.noAuditCond&&f.get("ConditionTreeEvaluator").evaluate(e.Settings.noAuditCond);return!h||!r.get()||t.isFeatureEnabled("noAudit")||!1||o||s||c}var e=this;e.isEnabled=o}function ry(n,t,i,r,u,f,o,s){function it(){d=void 0==n.checkInterval?nt:n.checkInterval;h=t.wrapCustomerLog(pt)}function rt(n,t,i){y[n.Id]={relatedObjectId:n.RelatedObjectId,goalType:n.GoalType,evaluator:i,goalCompletedFunc:t.goalCompletedFunc,identifier:t.identifier,interactionGuid:t.interactionGuid}}function ut(n,t){var it=c[n.Id],y,tt,b;if(it){if(n.IsLinkedGoal)return y=e("Skipping goal watch - Goal is already watched : {0}, type: {1}",n.Name,n.GoalType),h(y,3),null;l.removeGoalWatch(n.Id)}tt={trackUIChange:!0,evaluationPollingIntervalMs:d,featureName:pt,elementName:"Goal: "+n.Name};b=o.createOld(tt);c[n.Id]=n;p++;rt(n,t,b);var nt=t.identifier,ut=nt?e(", PlayGuid of : {0}",nt):"",y=e("Start watching Goal : {0}, type: {1} {2}",n.Name,n.GoalType,ut);return h(y,3),b.onValueChanged(function(t){t&&g(n)}),b.onPreEvaluation(function(t,i){i||(w?w=!1:0===a&&(v=0,h("============================ CHECKING GOALS ==============================================================",2)),n.goalStart=(new Date).getTime());f.sendAutomationEvent("CheckingGoal",{GoalId:n.Id,GoalName:n.Name});var r=i?" (async)":"",u=e("Goal: {0} - Checking Goal , id : {1}, type: {2}, RelatedObjectId: {3}{4}",n.Name,n.Id,n.GoalType,n.RelatedObjectId,r);h(u,3)}),b.onEvaluated(function(t,o){var b=(new Date).getTime(),w=b-n.goalStart,d=o?" (async)":"",c;(y=e("Goal: {0} - checking finished, id : {1}, took {2} ms{3}",n.Name,n.Id,w,d),h(y,4),f.deprecatedRaiseEvent(u.EVENTS.Goals.ConditionEvaluated,{goal:n},{playGUID:nt}),!o&&(a++,v+=w,a>=p&&(h("Done checking "+a+" Goals. took: "+v+" ms",2),h("============================ DONE CHECKING GOALS =========================================================",2),a=0),v>k))&&(h("Goals tracking time until now is "+v+" ms. It broke the time limit of "+k+" ms. Stopped tracking current goals."),c=r.keysConfig.goals.blocked,r.getData(c.key)||(y=e("Goals tracking broke limit and was stopped - user id: {0}, end user id: {1}, time: {2}, browser: {3}, url: {4}",s.getUserGuid(),_makeTutorial.getEndUserId(),v,i.browser.string,window.location.href),_makeTutorial.Logger.error({},y),r.saveData(c.key,!0,c.expiry)),l.removeAllGoalsWatch())}),n}function b(n){return y[n].evaluator}function g(n){h('Goal "'+n.Name+'" Reached! ',1);var r=n.Id,i=y[r],e=l.createGoalCompletedParams(n,i);try{i.goalCompletedFunc&&i.goalCompletedFunc(e)}catch(o){t.error(o,"completing goal callback threw an exception.")}l.removeGoalWatch(n.Id);f.raiseEvent(u.EVENTS.Goals.GoalReached,ft(i,n));f.sendAutomationEvent(u.EVENTS.Goals.GoalReached,{GoalId:n.Id,GoalName:n.Name})}function ft(n,t){return{goal:t,identifier:n.identifier,interactionGuid:n.interactionGuid,GoalId:t.Id,GoalName:t.Name}}var h,v,k=500,nt=5e3,tt="Conditions",l=this,d=null,c={},p=0,y={},a=0,w=!1;this.addGoalsWatch=function(n,t){for(var o,r,s,u,f,e,h,i=n.length-1;i>=0;i--)for(o=n[i],r=n.length-1;r>i;r--)s=n[r],o.Id==s.Id&&n.splice(r,1);for(u=[],i=0;i<n.length;i++)f=ut(n[i],t),f&&u.push(f);for(i=0;i<u.length;i++)e=u[i],h=b(e.Id),h.evaluateAsync(e.Settings[tt])};this.cleanResources=function(){var t,n;for(t in c)n=b(t),n&&n.cleanResources()};this.removeGoalWatch=function(n){if(h(n,5,"goalProblem"),h(c[n],5,"goalProblem"),c[n]){var t=b(n);--a;--p;0==a&&p>0&&(w=!0);t&&t.cleanResources();delete c[n];delete y[n]}};this.removeAllGoalsWatch=function(){l.cleanResources();c={};y={};p=0;a=0};this.completeGoalById=function(n){var t=c[n];if(!t)return void h("Could not complete goal with id "+n+" - it was already completed or does not exist.",3);g(t)};l.createGoalCompletedParams=function(n,t){return{Id:n.Id,GoalType:t.goalType,RelatedObjectId:t.relatedObjectId,Name:n.Name,identifier:t.identifier,interactionGuid:t.interactionGuid}};l.getGoalsCountFromDictionary=function(){var i=l.getCheckedGoals(),t=0;for(var n in i)void 0!=c[n]&&void 0!=c[n].Id&&void 0!=c[n].Settings&&t++;return t};it.apply(null,arguments);l.getCheckedGoals=function(){return c};l.getGoalsCompletionParams=function(){return y}}function uy(n,t,i,r,u,f,o,s,h,c,l,a,v){function kt(){p=f.wrapCustomerLog(pt);et=u.register("go",{actionUrl:"/Statistics/AddCompletedGoal",technicalSuccessHandler:ui,defaultDataStorageLifeSeconds:tt,prefixForStorage:"go",sendingThreshold:1,dataType:"deployable goal",requestParamsFunc:function(n){var t=n[0],i=t.GoalType==c.DEPLOYABLE_TYPE.AbExperiment;return{goalId:t.Id,playGuid:t.identifier,permutationId:r.getPermutationId(),endUserGuid:r.getEndUserGuid(),source:r.getEnvironmentId(),localTime:ykt(),url:a.get(),isAbTesting:i}}})}function dt(n){it.push(n)}function gt(){st=!0}function ni(n,i){var r=rt(n),u,f,o,s,h;r.length>0&&(u=r[0].GoalType,f=oi(n,i),ei(n,u,i,f),o=ct(f),t.addGoalsWatch(r,o),s=v.getDeployableTypeNameByTypeNumber(u),h=e("Started watching {0} : {1}",s,n.Name),p(h,2))}function ct(n){var t=n[w],i=(n[b],n[ot]);return{identifier:t,interactionGuid:i,goalCompletedFunc:wt}}function ti(n){vi(n)}function ii(n){var t=at(!0);p("Restoring watched Goals... "+t+" Walk-Thrus are watched.",2);n&&o.libSetTimeout(lt,ht)}function lt(){var n=at(!1);n&&p("New watched deploybles... "+n+" more items are now watched.",2);o.libSetTimeout(lt,ht)}function at(n){var t=0;return mtjQuery.each(c.DEPLOYABLE_TYPE,function(i,r){var u=g(r),f,e;for(f in u)void 0!=u[f]&&void 0!=u[f][d]&&(e=u[f],(n||ri(r,e))&&(hi(e,r),t++))}),t}function ri(n,t){if(!k[n])return!0;var i=t[d];return k[n][i]!=t[w]?!0:!1}function ui(n,t,i,r){"true"==n?r(parseInt(n)):"error"==n?(p("Completed goal - Internal Error",3),i()):(p("Completed goal - Unknown Error",3),t())}function fi(n,t){var r,i,u,f;if(void 0!=n&&t)return(r=g(n),!r)?void 0:(i=r[t],!i)?void 0:(u=i[w],f=i[b],{playGuid:u,finishedGoals:f})}function rt(n){var t=n.Goals;return t||(t=[]),t.slice()}function ei(n,t,i,r){var u=ut(n);yt(t,ut(n),r);vt(t,u,i)}function vt(n,t,i){k[n]=k[n]||{};k[n][t]=i}function yt(t,i,r){var u=nt(t);n.addToDictionary(u,i,r,tt)}function ut(n){return n.Id?n.Id:n.TutorialId}function oi(n,t){var i={};return i[d]=ut(n),i[w]=t,i[b]=[],i[ot]=h.getCurrentInteractionGuid(),i}function ft(n,t){var u=i.get(t),r=u.getById(n);return r?rt(r):[]}function si(n,t){for(var r,i=0;i<n.length;i++)if(n[i].Id==t){r=n[i];break}return r}function hi(n,i){var u=n[d],r=ft(u,i),f,e,o;r.length>0&&(f=n[w],e=n[b],yi(r,e),vt(i,u,f),o=ct(n),t.addGoalsWatch(r,o))}function ci(n){return l.isEnabled()?(p("Sending completed Goal info to server ("+n.Name+", "+n.identifier+")",3),et.sendData({Id:n.Id,GoalType:n.GoalType,identifier:n.identifier}),!0):!0}function li(n){var f=g(n.GoalType),t=f[n.RelatedObjectId],r,u,i;for(t&&n.identifier==t[w]&&(t[b].push(n.Id),r=t[b].length,u=ft(n.RelatedObjectId,n.GoalType).length,u==r?ai(n.GoalType,n.RelatedObjectId):yt(n.GoalType,n.RelatedObjectId,t)),i=0;i<it.length;i++)it[i](n)}function g(t){var i=nt(t);return n.getData(i,{})}function ai(t,i){var r=nt(t);n.removeFromDictionary(r,i,tt)}function vi(t){var i=nt(t);n.removeData(i)}function nt(n){var i=e("{0}-{1}",bt,n),t;return st&&(t=r.getEndUserGuid(),t&&(i+="-"+t)),i}function yi(n,t){for(var u,i,f,r=0;r<t.length;r++)for(u=t[r],i=0;i<n.length;i++)if(f=n[i].Id,f==u){n.splice(i,1);break}}var y=this,wt;y.onGoalCompleted=dt;y.enableMultiUserStorage=gt;y.startWatchingDeployable=ni;y.stopWatchingDeployables=ti;y.init=ii;y.getCompletedGoals=fi;y.getDeployableGoalsByIdAndType=ft;y.getWatchedDeployablesOfType=g;y.getGoalsFromDeployable=rt;y.getGoalById=si;var p,et,tt=3600,bt="wm-wtchd",d="tID",w="plgd",b="fnsh",ot="igd",st=!1,it=[],k={},ht=2e3;wt=function(n){var t=r.getEnvironmentId();t!=c.SOURCES.preview&&ci(n);li(n)};kt.apply(null,arguments)}function fy(n,t,i){function u(){r=i.wrapCustomerLog(gt)}var r;this.shouldShow=function(i){var r=t.getSettingsValue(n.get().Settings,"hlType","none"),u=t.getSettingsValue(i,"hlType",r);return"rect"===u};this.generateId=function(n,t,i,r){return n+"-"+t+"-"+i+"-"+r};this.generateCssClasses=function(n,t){var r="walkme-custom-"+n+" walkme-to-remove ",i;if(t)for(i=0;i<t.length;i++)r+=" walkme-custom-"+n+"-"+t[i].name+"-"+t[i].id;return r};this.copyFloatProperties=function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=t.isNumber(i[r])?parseFloat(i[r]):i[r])};this.getDefaultSettings=function(){return{left:0,top:0,width:0,height:0}};u.apply(null,arguments)}function ey(n){function t(){}this.getHighlighterSettings=function(t,i,r){return{element:i,settings:t,embedInElement:n.getSettingsValue(t,"embed",!1),drawableType:"balloon",drawableId:r.balloonEntityId,monitor:!r.isViewStep&&!r.isCapture,defaultSettings:!!r.isCapture,cssKeysValues:[{id:r.balloonEntityId,name:"step"},{id:r.containerEntityId,name:"walkthru"}]}};t.apply(null,arguments)}function oy(n,t,i,r,u,f,e){function fi(){var t=e.config,n;di();n=t?t:ui;l=nt(n.InitCSS);h=nt(n.Properties);v=nt(n.Options);or(n.MetaData);st=e.isVibrating}function ei(){return!0}function oi(n,i){n.removeAttr("id").find("div").removeAttr("id");n.fadeOut(gt,function(){t.destroyDivWithIframes(n,i)})}function si(n,i){t.destroyDivWithIframes(n,i)}function nt(n){return mtjQuery.extend({},n)}function hi(n){return{filter:n.css("filter")}}function ci(){ot&&c?pt(rr):a.push(bt)}function li(){et&&(sr(),pt(hr))}function ai(){if(pi()){var n=cr(o,vi());y.postAnimation(function(){lr(n)})}}function vi(){return p?wr:w?pr:void 0}function yi(){r.isFeatureEnabled("dontPrepForScrl")||o.css({display:"block",visibility:"hidden",filter:""})}function pi(){return p||w}function yt(){for(var n=0;n<a.length;n++)"function"==typeof a[n]&&a[n].apply(null,arguments);a.length=0}function wi(){var t=v.duration*ht;n.setWalkmeTimeout(tt,t)}function bi(){mtjQuery(o).css({display:vt,visibility:""}).css(b)}function ki(){o&&o.css(b)}function di(){k=mtjQuery({})}function gi(){k.clearQueue(g)}function pt(n){k.queue(g,n)}function tt(){k.dequeue(g)}function nr(n,t){tr(l,n,t);h.marginTop=n.marginTop;h.marginLeft=n.marginLeft;h.marginRight=n.marginRight;h.marginBottom=n.marginBottom;delete h.margin}function tr(n,t,i){if(parseInt(n.margin)<0)switch(n.marginTop=0,n.marginLeft=0,n.marginRight=0,n.marginBottom=0,i){case f.Bottom:case f.Top:n.marginLeft=t.marginLeft;break;case f.Right:case f.Left:n.marginTop=t.marginTop}else n.marginTop=t.marginTop,n.marginLeft=t.marginLeft,n.marginRight=t.marginRight,n.marginBottom=t.marginBottom}function ir(){var n={},t={};kt()?(n.size="height",n.osize="width"):(n.size="width",n.osize="height");!p&&h.size&&(s==i.POSITION_TYPE.Top&&"height"==n.size||s==i.POSITION_TYPE.Left&&"width"==n.size)&&(w=!0);t.marginTop=s==i.POSITION_TYPE.Bottom?-1:1;t.marginLeft=s==i.POSITION_TYPE.Right?-1:1;n.margin="margin"+ri[s];h=wt(h,n,t);l=wt(l,n,t)}function wt(n,t,i){var e,r,f,o;if(n){e={};for(r in n)n.hasOwnProperty(r)&&(f=u.isDefined(t[r])?t[r]:r,(e[f]=n[r],u.isDefined(i[f]))&&(o=e[f].toString().replace("px",""),e[f]=i[f]*o+"px"));return e}}function rr(){ur(c);n.setWalkmeTimeout(function(){tt()},lt)}function bt(){mtjQuery(c).each(function(){this.show().css("visibility","")});tt()}function ur(n){var t,r,e=kt(),u=e?"marginTop":"marginLeft",f=fr(),o=f?1:-1,h=n.length-1;s==i.POSITION_TYPE.Top&&(t="border-top-width",r="borderTopWidth");s==i.POSITION_TYPE.Bottom&&(t="border-bottom-width",r="borderBottomWidth");s==i.POSITION_TYPE.Right&&(t="border-right-width",r="borderRightWidth");s==i.POSITION_TYPE.Left&&(t="border-left-width",r="borderLeftWidth");mtjQuery(n).each(function(n){var e;this.css("visibility","hidden").css("display","block");var c=(parseInt(this.css(t),10)+2)*o,l=this.css(t),s=this[0].style.zIndex,i={};i[r]=l;i.opacity=1;f&&(i[u]=1);e={};e.duration=lt;e.complete=function(n,t){return function(){n.css(u,"");n.css("zIndex",t)}}(this,s);n==h&&this.css("zIndex",s-1);this.css("visibility","");f&&this.css(u,c);this.css(t,"0px");this.animate(i,e)})}function kt(){return s==i.POSITION_TYPE.Bottom||s==i.POSITION_TYPE.Top?!0:!1}function fr(){return s==i.POSITION_TYPE.Bottom||s==i.POSITION_TYPE.Right?!0:!1}function er(n){!s&&l.margin&&(l.margin=0);mtjQuery(n).css({display:"none",visibility:""}).css(b).css(l)}function or(n){n&&(p=u.defaultValue(n.center,!1),et=u.defaultValue(n.hwa,!1),ot=u.defaultValue(n.are,!1),ht=u.defaultValue(n.delay,1))}function sr(){o.children(":visible").addClass("walkme-balloon-hidden-content").css("display","none")}function hr(){o.children(".walkme-balloon-hidden-content").removeClass("walkme-balloon-hidden-content").fadeIn(250,function(){mtjQuery(this).css("direction",mtjQuery(this).css("direction"))})}function cr(n,t){var i={position:"absolute",top:n.css("top"),left:n.css("left"),height:n.height(),width:n.width(),zIndex:n[0].style.zIndex},r=mtjQuery("<div />").css(i);return n.css({top:0,left:0}).wrap(r),t(r,n),i}function lr(n){w&&(o.css("bottom",""),o.css("right",""));o.unwrap().css(n)}function ar(){o.bind("click.wm_animation",function(){var t,n;if(!d&&(d=!0,t=parseInt(o.css(ct))>0?ct:ni,it(o,at,t),c))for(n=0;n<c.length;n++)it(c[n],at,t)});vr(o)}function vr(n){n.find("button,a,.walkme-custom-balloon-close-button").bind("click.wm_animation",function(n){n.stopPropagation()})}function it(n,t,i){if(t<=0)return n.css(i,h[i]),void(d=!1);var u=parseInt(n.css(i))-yr(t),r=[];r[i]=u;n.animate(r,ii,function(){it(n,t-1,i)})}function yr(n){var t=n%2*2-1,i=n*ti;return i*t}function pr(n,t){var i=parseInt(t.css("border-top-width"),10)+parseInt(t.css("border-bottom-width"),10),r=parseInt(t.css("border-left-width"),10)+parseInt(t.css("border-right-width"),10);t.css("top","");t.css("left","");t.css("bottom","-"+i+"px");t.css("right","-"+r+"px")}function wr(n,t){dt(n,t);v.step=function(){dt(n,t)}}function dt(n,t){var i=n.height()/2-t.height()/2,r=n.width()/2-t.width()/2;t.css("top",i);t.css("left",r)}function rt(){return ut||!ei()||!ft?!1:!0}function br(){return st?!0:!1}var y=this,l=null,h=null,v=null,ut=!1,ft=!0,p=!1,et=!1,ot=!1,s=null,d=!1,st=!1,w=!1,o=null,c=null,a=[],b=null,k=null,ht=1,gt=150,g="animations",ni="marginLeft",ct="marginRight",lt=250,at=10,ti=.3,ii=50,ri={0:"Top",1:"Left",2:"Top",3:"Left"},vt="inline",ui={InitCSS:{display:vt},Properties:{},Options:{}};this.disableAnimation=function(){ft=!1};this.setPosition=function(n){s=n;ir()};this.setPagePositionOffset=function(n,t){nr(n,t)};this.postAnimation=function(n){n&&a.push(n)};this.prepare=function(n,t){o=n;c=t;b=hi(o);gi();yi();rt()?(ci(),li(),ai(),y.postAnimation(ki),v.complete=yt):y.postAnimation(bt);br()&&y.postAnimation(ar)};this.animate=function(n){if(!o)return void(n&&n());this.postAnimation(n);rt()?(ut=!0,er(o),o.animate(h,v),wi()):(bi(),yt())};this.stop=function(){o.stop(!0,!1)};this.destroy=function(n){var t=o,i;if(c)for(i=0;i<c.length;i++)try{t=t.add(c[i])}catch(r){}try{rt()?oi(t,n):si(t,n)}catch(r){n&&n()}};fi.apply(null,arguments)}function sy(n,t){function e(n){i=n&&n.dataVersion||0}var r,i,u=this,f=t.keysConfig.publishData.lastDataVersion;u.init=e;u.hasNewDeployables=function(){if(r)return r;var n=t.getData(f.key)||i;return r=n<i};u.saveDataVersion=function(){t.saveData(f.key,i,f.expiry)}}function hy(){function e(n){r=n}function o(){l(function(n){n.init(r);n.load()})}function s(t){n?n.remove(t):t&&t()}function h(n){u(function(t){var i=t.getImageAG(n);i.setupAttenGrab()})}function c(n){u(function(t){var i=t.create(n);i.setupAttenGrab()})}function u(t){i.e(1,function(i){var r=[i(55),i(56),i(57)];(function(){n=f.get("AttentionGrabberManager");t&&t(n)}).apply(null,r)})}function l(t){i.e(3,function(i){var r=[i(55),i(56)];(function(){n=f.get("AttentionGrabberManager");t&&t(n)}).apply(null,r)})}var t=this,r,n;t.init=e;t.load=o;t.remove=s;t.creataImageAG=h;t.createAG=c}function cy(){function t(){}var n=this;n.getBody=function(n){return n.body};t.apply(null,arguments)}function ly(){function t(){}var n=this;n.getBody=function(n){return r("body",n)[0]};t.apply(null,arguments)}function k(n,t,i,s,h,l,a,v,y,p,b,k,g,nt,tt,it,rt,ut){function bt(){ht=h;ct=f.get("CommonEvents")}function kt(n,t){return ft.isNumber(n)?parseInt(n,10):t}function dt(n,t){return lt(n,t,n.length)}function gt(n,t){return lt(n,t,1)}function lt(n,t,i){for(var f,e,u=0,r=0;r<n.length;r++)if(f=n[r],e=t(f),e&&(u++,u>=i))return!0;return!1}function st(n){return!n||"string"!=typeof n||!n.replace?n:n.replace(/,|\$|\u20AC|\u20AA|||/g,"")}function ni(n,t){for(var r=[],i=0;i<n.length;i++)t!=i&&r.push(n[i]);return r}function ti(n){var t=n&&18==n.code,i=n&&n.message&&n.message.indexOf("denied")>=0;return t||i}function at(n){var t=u.walkmeWrap;return t?function(){var i=Array.prototype.slice.call(arguments);return i.unshift(n),t.apply(this,i)}:n}function vt(n,t){var i,u,f,r;if(n==t)return{frameIndex:0};for(i=0,u=0;u<n.frames.length;u++){if(i++,f=n.frames[u],r=vt(f,t),void 0!==r.frameIndex)return r.frameIndex+=i,r;i+=r.totalFrames}return{totalFrames:i}}function yt(n){var t=document.createElement("script");return t.async=!0,t.src=n,t.id="mt_script",t}function pt(n){var t=document.getElementsByTagName("head")[0];t.appendChild(n)}function ii(n,t){var i=window._walkmeInternals[n];window._walkmeInternals[n]=function(r){window._walkmeInternals[n]=i;t(r)}}function wt(n){return null!=n&&void 0!=n}function ri(n){return 0===n.indexOf("/")}function ui(){if(!ot){var n=window.location;ot=n.origin;ot||(ot=n.protocol+"//"+n.hostname,n.port&&(ot+=":"+n.port))}return ot}var et,ht,ct,ot,ft=this;ft.settingsFieldValid=a.settingsFieldValid;ft.isSettingsValueExists=a.isSettingsValueExists;ft.getSettingsValue=a.getSettingsValue;ft.doAllMeetCondition=dt;ft.doesAnyMeetCondition=gt;ft.getInt=kt;ft.filter=tt.filter;ft.isNumber=function(n){return"boolean"==typeof n?!1:!isNaN(+n)};ft.formatString=function(){return e.apply(null,arguments)};ft.getJQueryElementFinder=function(){return f.get("JQueryElementFinder")};ft.waitForCondition=function(t,i,u,f){function o(r){if(r>=i)return e.reject();var s=t();if(s)return e.resolve(s);f&&nt.customerLog(f);n.libSetTimeout(function(){o(++r)},u)}var e=r.Deferred();return o(0),e.promise()};ft.sendMenuEvent=function(n,t,i){try{var r={Type:n};t&&(r.WalkthruId=t);i&&window.mtjQuery.extend(r,i);ct.raiseEvent(n,r);walkme_player_event(r)}catch(u){}};ft.isIe7or8=function(){return t.isIE(8,"lte")};ft.libSetTimeout=n.libSetTimeout;ft.toJSON=function(n){return o(n)};ft.secureEvalJSON=function(n){return c(n)};ft.clone=function(n){return d(n)};ft.elementLastKeeper=f.get("ElementLastKeeper");ft.attentionGrabberFactory={create:function(n){return{setupAttenGrab:function(){return rt.createAG(n)}}}};ft.attentionGrabberClass=function(n){return{setupAttenGrab:function(){rt.creataImageAG(n)},remove:function(n){rt.remove(n)}}};ft.isValidMailTo=function(n){return n&&0==n.indexOf("mailto:")};ft.isValidUrl=function(n){return n&&0!=n.indexOf("http")&&0!=n.indexOf("/")?!1:!0};ft.setDefault=function(n,t,i){void 0===n[t]&&(n[t]=i)};ft.isUiObjectActivatable=function(n){return"category"!=n.type()&&"tab"!=n.type()};ft.isTrue=function(n,t,i){var r=ft.getSettingsValue(n,t,i);return ft.isValueTrue(r)};ft.isValueTrue=function(n){return n&&(1==n||"True"==n||"1"==n)};ft.isLike=function(n,t){t=t.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&");t=t.replace(new RegExp("[.]","g"),"\\.");t=t.replace(new RegExp("[*]","g"),".*");n=n.toString().toLowerCase();t=t.toLowerCase();try{return n.match(t)[0]==n}catch(i){return!1}};ft.isBigger=function(n,t){return n=st(n),t=st(t),n=parseFloat(n),t=parseFloat(t),!(!ft.isNumber(n)||!ft.isNumber(t))&&n>t};ft.isSmaller=function(n,t){return n=st(n),t=st(t),n=parseFloat(n),t=parseFloat(t),!(!ft.isNumber(n)||!ft.isNumber(t))&&n<t};ft.addTabIndex=function(n,t,i){(ct.raiseEvent(s.EVENTS.AddFocusTraits,{element:n,order:t,focusClass:i}),g.isFeatureEnabled("accessibility"))&&(t=ft.defaultValue(t,0),n.attr("tabIndex",t),n.keyup(function(t){13!=t.keyCode||t.shiftKey||(n.click(),t.stopPropagation())}))};ft.handleAccessibleElement=function(n,t){ft.addTabIndex(n);ft.setRole(n,t)};ft.setRole=function(n,t){n.attr("role",t||"complementary")};ft.getCustomConfiguration=function(){var n=it.get(),t=g.isFeatureEnabled("configurationTab")?n.Settings.configuration:n.Custom;return t||{}};ft.isGradientUsingFilter=function(n){var t=r("<div style='"+n+"' />");return t.css("background-image").indexOf("gradient")==-1};ft.handleCrossDomainError=function(n){if(!ti(n))throw n;};ft.encloseCall=function(n){var t=function(){var t=arguments;return function(){return n.apply(null,t)}},i=ni(arguments,0);return t.apply(null,i)};ft.registerEventHandler=function(n,t,i,r){r=r||window;var u=at(t);return r.attachEvent?r.attachEvent("on"+n,u):r.addEventListener&&r.addEventListener(n,u,!!i),function(){ft.unregisterEventHandler(n,u,i,r)}};ft.unregisterEventHandler=function(n,t,i,r){r=r||window;r.detachEvent?r.detachEvent("on"+n,t):r.removeEventListener&&r.removeEventListener(n,t,!!i)};ft.setBodyUtils=function(n){ht=n};ft.getBody=function(n){return ht.getBody(n)};ft.postMessageToAllFramesChain=function(n,t){var i=0;if(n)try{n.postMessage(t,"*");i++;n!=n.parent&&(i+=ft.postMessageToAllFramesChain(n.parent,t))}catch(r){nt.customerLog("Error in postMessage to frames chain "+r,4)}return i};ft.postMessageToFrameAndDescendants=function(n,t){function i(n,t){var f,u,e;for(r(n,t),f=n.frames,u=0;u<f.length;u++)e=f[u],i(e,t)}function r(n,t){try{n!=window&&n.postMessage(t,"*")}catch(i){}}i(n,t)};ft.getFrameIndex=function(n){return vt(top,n||window).frameIndex};ft.doForFramesChain=function(n,t){if(n){try{t(n)}catch(i){}n!=n.parent&&ft.doForFramesChain(n.parent,t)}};ft.addScript=function(n,t,i){if(n){var r=yt(n);t&&(r.onload=onloadRunner,r.onreadystatechange=onloadRunner);i&&(r.onerror=i);pt(r)}};ft.addScriptWithCallback=function(t,i,r,u){function o(){return e=!0,r.apply(this,arguments)}function s(){if(!e)return u.apply(this,arguments)}function h(){"loaded"!=f.readyState&&"completed"!=f.readyState||n.libSetTimeout(function(){s()})}var f,e;t&&i&&(f=yt(t),e=!1,r&&ii(i,o),u&&(f["readyState"]?f.onreadystatechange=h:f.onerror=u),pt(f))};ft.checkElementText=function(n){return n.is("input")||n.is("textarea")?n.val():n.is("select")?n.find("option:selected").text():n.text()};ft.getElementDocument=function(n){try{return n[0].ownerDocument}catch(t){}return document};ft.getDateAtUTC=function(){var n=new Date;return n.getTime()};ft.nl2br=function(n){return n?n.replace(/\n/g,"<br/>"):""};ft.getTimer=function(n){function t(){var t=new Date;return function(i){var r=new Date,u=r-t;return n("Measurer - "+i+" ("+u+" ms)"),t=r,u}}return new t};ft.defaultValue=function(n,t){return"undefined"!=typeof n&&null!=n?n:t};ft.isLocalStorageEnabled=function(){if(void 0!==et)return et;try{if(!window.localStorage)return et=!1,!1}catch(n){return et=!1,!1}try{window.localStorage.getItem("wm-test")}catch(t){return et=!1,!1}return et=!0,!0};ft.createElementInDocument=function(n,t){var i=t.createElement("div");return r(i).html(n).children()};ft.createIframe=function(n,t,i,r,u,e,o){function h(n){s.removeEventListener?s.removeEventListener("load",h):s.detachEvent&&s.detachEvent("onload",h);r&&r(n)}var s=document.createElement("iframe"),c,l;return s.id=t,o||(s.className="walkme-to-remove"),i||(s.style.cssText="display:none;visibility:hidden;"),e=e||f.get("TopContainerProvider").getTopContainer(null,!0)[0],e.appendChild(s),s.addEventListener?(c={id:t,src:n,callback:r,messageCallback:u,isVisible:i,container:e,dontRemove:o},l=ut.send("CreateIFrameUseCapture",c)||!1,s.addEventListener("load",h,l)):s.attachEvent&&s.attachEvent("onload",h),u&&y.listen(at(u)),s.src=n,s};ft.removeIframeListeners=function(n,t,i){n.removeEventListener?window.removeEventListener(t,i,!1):n.detachEvent&&window.detachEvent("on"+t,i)};ft.getTrackData=function(n){return{Id:n.Id,Name:n.Name}};ft.getStepTrackData=function(n,t){var i={Id:n.Id,Name:n.StepTitle||n.StepText};return t&&(i.TutorialId=t.Id,i.TutorialName=t.Name),i};ft.isImpersonated=function(){return window.editorAPI&&editorAPI.isImpersonated&&editorAPI.isImpersonated()};ft.getWindowData=function(n,t){var i=void 0;if(t)switch(n){case w.Cookie:i=ft.getWindowCookie(t);i||(i=void 0);break;case w.Var:i=ft.getWindowVar(t)}return i};ft.getWindowCookie=function(n){return l.getCookie(n)};ft.getInputGenerator=function(){return f.get("InputGenerator")};ft.encodeText=function(n){var t=r("<div><\/div>");return t.text(n),t.html()};ft.getWindowVar=function(n){var t=window;return k.getValue(t,n)};ft.getPropertyValue=function(n,t,i){var r=k.getValue(n,t);return r||(r=i),r};ft.getValue=k.getValue;ft.findJspContainer=function(n,t){var i=ft.getJspParent(n);return i?r(i).find(".jspPane"):t};ft.getJspParent=function(n){var t=ft.getClientjQuery(),i;if(t)return i=n.parents("div"),ft.firstMatch(i,function(n){var i=t(n);if(void 0!=i.data&&void 0!=i.data("jsp"))return i})};ft.getClientjQuery=function(){var n=window.jQuery||window.$;if(n&&n.fn&&n.fn.jquery)return n};ft.firstMatch=function(n,t){for(var i=0;i<n.length;i++)if(t(n[i]))return n[i];return null};ft.generateGUID=function(){var n=f.get("GuidGenerator");return n.generateGuid()};ft.isDefined=wt;ft.definedOrDefault=function(n,t){return wt(n)?n:t};ft.executeParallel=function(n){function h(){var o,n,h;if(0==i.length)return void(r&&r());for(u=t.length*i.length,o=t.length-1;o>=0;o--)for(n=i.length-1;n>=0;n--){if(f)return;h=e?e(i[n]):i[n];t[o](h,s)}}function c(){if(0==t.length)return void(r&&r());u=t.length;for(var n=t.length-1;n>=0;n--){if(f)return;t[n](s,l)}}function s(){u--;0==u&&r&&r()}function l(){f||(f=!0,o&&o())}var u,i=n.objectsArray,e=n.selectorFunc,t=n.functionsToExecute,r=n.successCallback,o=n.failCallback,f=!1;i?h():c()};ft.getWinOrigin=function(){return p.location.origin||p.location.protocol+"//"+p.location.hostname+(p.location.port?":"+p.location.port:"")};ft.getOrigin=function(){var n=b.get();return ri(n)?ui()+n:n};ft.getWalkmeInternals=function(){return u};ft.isUrlEncoded=function(n){return n=n||"",n!==decodeURIComponent(n)};ft.isDict=function(n){var t="object"==typeof n,i=null!==n,r=!(n instanceof Array),u=!(n instanceof Date);return t&&i&&r&&u};bt.apply(null,arguments)}function ay(){function t(t,i,r){return n.settingsFieldValid(t)?n.isSettingsValueExists(t,i)?t[i]:r:r}function i(t,i){return n.settingsFieldValid(t)?i in t:!1}function r(n){return!n||0==n.length?!1:!0}var n=this;n.getSettingsValue=t;n.isSettingsValueExists=i;n.settingsFieldValid=r}function vy(){function nt(n,r,f,e,a,y,p,w,b){v=n;u=r;h=f;t=e;i=a;c=y;o=p;s=w;l=b}function tt(n,t){t.className+=a}function it(n){function f(){o().append("<param name='wmode' value='transparent'>").wrap("<div><\/div>").unwrap();mtjQuery("embed[wmode!='opaque'][wmode!='transparent']",n).attr("wmode","transparent").wrap("<div><\/div>").unwrap()}function e(){var f=mtjQuery("embed[wmode!='opaque'][wmode!='transparent']",n),t;(f.attr("wmode","transparent"),r(f),i.version>=9)&&(t=s(),mtjQuery("param[name='wmode']",t).remove(),t.append("<param name='wmode' value='transparent'>"),r(t));i.version<=8&&r(h(),function(n){var t=n.outerHTML;return t.indexOf(u)==-1?t:n.outerHTML.replace(u,'<PARAM NAME="WMode" VALUE="transparent">')})}function o(){return mtjQuery("object:has('param[name='wmode'][value!='transparent'][value!='opaque']')",n)}function s(){return mtjQuery("object:has('param[name*='wmode'][value!='transparent'][value!='opaque']'), object:not(:has(param[name='wmode']))",n)}function h(){return mtjQuery("object[classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000']:not(:has(param[name*='wmode']))",n)}function r(n,t){for(var r,u,i=0;i<n.length;i++)r=n[i].parentNode,u=t?t(n[i]):n[i].outerHTML,n[i].insertAdjacentHTML("beforeBegin",u),r.removeChild(n[i])}var i=t.browser,u='<PARAM NAME="WMode" VALUE="Window">';i.name.indexOf("Firefox")!=-1?f():i.name.indexOf("IE")!=-1&&e();y=!0}var u,h,t,i,c,o,s,l,w="walkme-ie-",b="walkme-ie-bm-",a=" walkme-override walkme-css-reset",k=" walkme-to-destroy",n=this,v=null,y=!1,p=[],d="Parent has no style",g="Parent is not ':wm_can_embed'";n.canDisplayOverlay=function(){return!(t.isQuirksMode()||v.shouldHandlePageAsFramesets())};n.handleOverlayRemoval=function(){l.shouldKeepOverlay()||this.removeOverlay()};this.removeOverlay=function(n){var t=p.pop();t&&t.exist()&&(n?t.fadeOut("slow",function(){r(this).remove()}):t.remove(),t=null)};n.displayOverlay=function(t,u,f,o){var h,c,s;return(void 0==f&&(f="walkme-popup-background"),h=mtjQuery("#"+f).filter(function(){return"none"!=r(this).css("display")}),h.length>0)?h[0]:(c=i.getTopContainer(),c.append(e('<div id="{0}" class="mt-to-destroy"><\/div>',f)),s=mtjQuery("#"+f,c),s.css({opacity:o?o.opct:"0.7",display:"none",position:"fixed",height:"100%",width:"100%",top:"0",left:"0",background:o?o.color:"#000000","z-index":t-1}),n.addBrowserSpecificClasses(s),u?s.fadeIn("slow"):s.css("display",""),p.push(s),s)};n.getStyle=function(n,t){try{return t.getComputedStyle?t.getComputedStyle(n,null):n.currentStyle}catch(i){return null}};n.getAnimationDimentionSize=function(n,t){var i;return i="top"==t||"bottom"==t?"height":"width",n.css(i)};n.addBrowserSpecificClasses=function(n){if(t.isMobile()&&n.addClass("walkme-mobile-device"),t.isIE()){var i=document.documentMode||Number(r.browser.version),u=window.mtjQuery.browser.version.slice(0,window.mtjQuery.browser.version.indexOf(".")),f=w+i,e=b+u;n.addClass(f);n.addClass(e)}};n.addWalkmeClasses=function(n){n[0].className+=k+a;n.find("*").each(tt)};n.addBrowserClass=function(n){var i=t.browser.name.replace(/ /g,"").toLowerCase();n.addClass("walkme-"+i)};n.setLangAttribute=function(n){var t=f.get("LanguageManager").getCurrentLanguage();t&&n.attr("lang",t)};n.bindFocusAndBlur=function(n,t){n.focus(function(){n.val()==t&&n.val("")});n.blur(function(){""==n.val()&&n.val(t)})};n.fixFlash=function(){!y&&c.isFeatureEnabled("flashTransparent")&&h.foreachDocument(it,!0)};n.hexToRgba=function(n,t){var r=n.replace("#",""),i=parseInt(r,16),u=i>>16&255,f=i>>8&255,e=255&i;return"("+u+","+f+","+e+","+t+")"};n.closestCanEmbed=function(n){for(var t=n.parent(),r={originalElement:n,currentParent:t};t&&t.exist();){if(r.currentParent=t,r.reason="",!t[0].style)return r.reason=d,s.raiseEvent(o.EVENTS.BalloonLogs.ClosestCanEmbedReturnsTop,r),i.getTopContainer(n);if(t.is(":wm_can_embed"))return t;r.reason=g;s.raiseEvent(o.EVENTS.BalloonLogs.ClosestCanEmbedSkipsElement,r);t=t.parent()}return i.getTopContainer(n)};n.destroyDivWithIframes=function(n,t){if(!n)return void(t&&t());var i=mtjQuery("iframe",n);0==i.length?u.libSetTimeout(function(){n.remove();t&&t()},1):(i.attr("src",""),u.libSetTimeout(function(){i.hide();i.remove();n.remove();t&&t()},1))};nt.apply(null,arguments)}function yy(n,t,i,u,e,o,s,h,c,l,a,v,y,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt){function uf(){if(ii=i.STEP_TYPE.Normal,at=lt.element,lt.parentElement&&(at=lt.parentElement,di=lt.element),iu=lt.forceEmbedBalloonInIframe,er=lt.dontShowIoBalloon,cu=lt.isFirstStep,fr=lt.isViewStep,tu=lt.siteConfig,sr=lt.placeholderConfigurations,hr=lt.placeholderVariableValues,cr=lt.initiatorData,lt.fixedSize&&(pr=lt.fixedSize.width,vi=lt.fixedSize.height),vt=lt.stepSettings,nu=o.getSettingsValue(vt,lu)||o.getSettingsValue(tu.Settings,lu)||nf,lt.text&&(ar=lt.text.title,yr=lt.text.subText,vr=o.nl2br(lt.text.content)),dr=lt.end,lt.buttons&&(fu=lt.buttons.next,eu=lt.buttons.done,ou=lt.buttons.back,lr=lt.buttons.submit),gi=lt.htmlContent,su=lt.innerHtml,hu=lt.outterHtml,dt=lt.position,lt.data&&(fi=lt.data.balloonEntityId||lt.data.stepId,li=lt.data.containerEntityId||lt.data.tutorialId,ii=lt.data.type,ci=lt.data.balloonEntityType||"step",yi=lt.data.containerEntityType||"walkthru"),ff(lt.isCaptureBalloon,fr),ui=lt.configuration,c.fixConfiguration(ui),ri=s.wrapCustomerLog(ai),ut.setCustomCssIfNeeded(at),pt=lt.drawer,!at)return void(bt=!0);var n=d.isInIframe(at);bt=!(!o.getSettingsValue(vt,"embed",!1)&&n&&!iu&&!h.isFeatureEnabled(i.FEATURES.ForceEmbedInOwnerDocument))||a.shouldHandlePageAsFramesets();lt.isCaptureBalloon&&sf();or=lt.bindButtonsFunc;of(ui);b.raiseEvent(i.EVENTS.BalloonInitialized,{params:lt})}function vu(n){ri(n,5,ai)}function ff(n,t){var u={balloonEntityId:fi,containerEntityId:li,isCapture:n,isViewStep:t},i=st.getHighlighterSettings(vt,at,u),r;si=f.create("Highlighter",i);di&&(i.element=di,i.drawableType=au,ei=f.create("Highlighter",i));r=ef()?"OldInsideout":"Insideout";hi=f.create(r,i)}function ef(){var n=h.isFeatureEnabled("oldSpotlight"),t=l.isIE()&&l.isIEOlderThan(9);return n||t}function rr(){var n=gi?gi.html():v.parse(vr),t={title:v.parse(ar),content:n,customHtml:{inner:su,outter:hu},stepIndexText:yr};return{balloonData:t,userGuid:ot.getUserGuid(),nextButton:fu,doneButton:eu,backButton:ou,configuration:ui,content:vr,title:ar,subtext:yr,settings:vt,end:dr,stepType:ii,submitButton:lr,contentDiv:gi}}function of(n){var t=n.AnimateFirst&&!cu||gt||fr,i=n.Vibrate&&!gt,r={config:n.Animation,isVibrating:i};kt=f.create("Animator",r);t&&kt.disableAnimation()}function sf(){gt=!0;bt=!1;gt&&kt&&kt.disableAnimation()}function hf(n){var i={},r=wu(),u=bu(r.width),f=vi>0?vi:0;return wt=t.getContainer(vt,n,bt,i),yt=pt.generateBalloonDiv(wt,gt,li,fi,ii,rr(),ci,yi,sr,hr,cr),t.handleEmbedding(vt,yt,i),ht.appendToContainer(wt,yt),ki=pt.fixSize(yt,n,bt,u,f,vt),ti.showPopupBalloon(yt),yt}function cf(n,t){var r=df(n),u={element:n,elementBounds:r,isScrollNeeded:t},i=lf(u)||af(u);if(i)return bt&&yt.data("iframe",lt.element.data("iframe")),te(i,ki,r),pf(yt,i),yt}function lf(n){var f,e,r,u,o;if(!n.isScrollNeeded&&t.isEmbeded(vt)&&!h.isFeatureEnabled("disableStrongEmbed"))for(f=rr(),e=(new Date).getTime(),wt=n.element;wt&&wt.exist();){if(r=pu(n,f,wt),yu(i.EVENTS.BalloonLogs.BalloonPopLocationCalculated,r),u=!!r&&ne(yt,gf),yu(i.EVENTS.BalloonLogs.BalloonIsFullyVisibleCalculated,u),o=!!r&&u,o)return r;yt&&yt.remove();var s=(new Date).getTime(),c=rf<s-e,l=wt.is("body");if(c||l)return void(wt=void 0)}}function yu(n,i){var r={isEmbeded:t.isEmbeded(vt),containerEntityType:yi,containerEntityId:li,balloonEntityType:ci,balloonEntityId:fi,extraData:i};b.raiseEvent(n,r)}function af(n){var t=rr();return pu(n,t,n.element)}function pu(n,i,r){var u=wu(),o=e.getDrawingArea(at,!bt,pt.shouldScrollToElement()),s=bu(u.width),h=vi>0?vi:0,f;if(vf(u.width,u.height),f={},wt=t.getContainer(vt,r,bt,f),wt.exist())return yf(),yt=pt.generateBalloonDiv(wt,gt,li,fi,ii,i,ci,yi,sr,hr,cr),ht.appendToContainer(wt,yt),t.handleEmbedding(vt,yt,f),ki=pt.fixSize(yt,n.element,bt,s,h,vt),kf(yt,ki,wt,n.elementBounds,o)}function wu(){var t=bt?at:mtjQuery("body"),n=w.getElementViewport(t);return{height:n.height(),width:n.width(),top:n.top(),left:n.left()}}function bu(n){var t=pr>0?pr:0;return n<=200&&(0!=dt&&2!=dt&&void 0!=dt||(t=n-at.position().left-20,t<120&&(t=120))),t}function vf(n,t){n<=200||!h.isFeatureEnabled("noHgtLmt")&&t<=200&&(0!=dt&&2!=dt&&void 0!=dt||(dt=1))}function yf(){var n={};null==wi&&null==bi&&(n=ti.getElementPositionRelativeToContainer(at),kr(n.top,n.left,n.height,n.width))}function pf(n,t){var r,i;if(kt.setPosition(t.positionType),r=1==o.getSettingsValue(vt,"isInvisible",0),r)for(n.hide(),i=0;i<ni.length;i++)ni[i].hide();else kt.prepare(n,ni)}function wf(n,t){try{!er&&hi.shouldShow(at,vt)&&hi.highlight();se(n,t)}catch(i){s.error(i)}}function bf(){var n=[];return ur()||!gt&&!si.shouldShow(at,vt)||(n.push(si.highlight()),ei&&n.push(ei.highlight())),p.all(n)}function kf(n,r,u,f,e){var a=o.definedOrDefault(dt,tf),v=pt.arrowHeight()+1,s=pt.decideWhereToPop(f,r,a,v,e),h,c;if(s)return s=ue(s,r,f,u),t.fixPosition(s,vt,u),pt.addPositionClass(n,s),h=ui.BalloonBorderWidth*(pt.hasBorder()?1:0),re(n,s,h,r),c=o.getSettingsValue(vt,"z-index",i.NORMAL_BALLOON_Z_INDEX),et.setTopMostCssStyle(n,c),l.isQuirksMode(at[0])&&pt.fixQuirksMode(n),s}function df(n){return pi?pi:e.getElementBounds(n,bt,window,vt)}function gf(n){return n.is(":wm_interact_all_points")}function ne(n,t){var i=n.css("display"),r="none"==i,u;return r&&yt.css("display","block"),u=t(yt),r&&yt.css("display",i),u}function te(n,t,r){ni=pt.drawArrows(at,fi,n,t,r,wt,ci);for(var f=o.getSettingsValue(vt,"z-index",i.NORMAL_BALLOON_Z_INDEX),u=0;u<ni.length;u++)et.setTopMostCssStyle(ni[u],f);pt.fixArrows({balloonDiv:yt,arrowsDivs:ni,result:n,isInCaptureMode:gt,isQuirksMode:l.isQuirksMode(at[0])})}function ie(){if(or){var n={objectId:fi,type:i.STEP_PLAY_INITIATOR_ENUM.STEP};or(yt,n)}}function re(n,t,r,u){n.css("top",t.top-r+"px");n.css("left",t.left-r+"px");var f=l.isQuirksMode(at[0]);t.positionType==i.POSITION_TYPE.Top&&n.css("top",t.top-2*r+1+"px");t.positionType==i.POSITION_TYPE.Bottom&&n.css("top",t.top-1+"px");t.positionType==i.POSITION_TYPE.Left&&(n.css("left",t.left-2*r+1+"px"),f&&n.css("left",t.left-2*r+"px"));t.positionType==i.POSITION_TYPE.Right&&n.css("left",t.left-1+"px");n.css("width",u.width+"px");f&&n.css("width",u.width+2*r+"px");n.css("height",u.height+"px")}function ue(n,t,r,u){var c=o.definedOrDefault(ui.BalloonRadius,15),e,f;if((n.positionType==i.POSITION_TYPE.Right||n.positionType==i.POSITION_TYPE.Left)&&(f=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI,isFinite(f)&&0!==f||(f=1),e=gt||vt.lv&&vt.lv>0?mtjQuery(o.getElementDocument(u)).height()*f:mtjQuery(o.getElementDocument(at)).height()*f,t.height+n.top>e)){var l=pt.arrowHeight()+1,s=r.top+r.height/2,a=s-t.height/2,h=s-t.height+l+c/2;h=Math.max(0,h);var v=s-l-c/2,y=e-t.height-1,p=Math.min(y,v);n.top=a;n.top=Math.min(p,n.top);n.top=Math.max(n.top,h);n.top=Math.max(0,n.top)}return n}function fe(){oi&&(oi.clear(),oi=null)}function ee(){for(var n=0;n<nr.length;n++)try{nr[n]()}catch(t){}nr.length=0}function oe(n){if(n)try{n.unbind();mtjQuery("*",n).unbind()}catch(t){}}function se(n,t){var c=h.isFeatureEnabled("noScrlAnm")?k.SCROLL_MODES.Normal:k.SCROLL_MODES.Animated,s=o.getSettingsValue(vt,gu,c),e,r,u,f;if(n=n&&k.shouldScroll(at,s,ii),e=!1,n&&(e=k.jspScrollAttempt(at)),u=he(),r=ii&&ii==i.STEP_TYPE.Popup?hf(at):cf(at,n),!r)return void(t&&t());ie(r);de(r);b.raiseEvent(i.EVENTS.BalloonCreated,{Element:r,Configuration:ui,PageElement:at});br.balloonDrawTime=ru("Done drawing balloon");uu=o.getTimer(vu);f=function(){br.balloonShowTime=uu("Done showing balloon");t&&t(br,r)};!e&&n?u.scrollToElementIfNeeded(at,null,function(){var n=function(){u.scrollToBalloon(at,u.getScrollOptions(vt),yt)};gt||!ku(n)?kt.animate(f):f()},vt,dt,s,yt,ni):kt.animate(f);pt.manipulationsForInlineCss(r)}function he(){var n={element:at,balloonDrawer:pt,settings:vt};return f.create("ScrollManager",n)}function ce(){switch(tt.state){case i.WALKTHRU_STATE.WAITING_FOR_ELEMENT_EVENT:case i.WALKTHRU_STATE.WAITING_FOR_NEXT_BUTTON_CLICK:case i.WALKTHRU_STATE.WAITING_FOR_PAGE_CHANGE:return!0;default:return!1}}function le(){ae()?(ri("Sticky - keep looking for element.",5),rt.releaseBalloons(),tt.state=i.WALKTHRU_STATE.WAITING_FOR_STICKY_ELEMENT,it.executeCurrentStep()):ve()?(it.setMember("dontContinueTutorial",!1),ri("Skippable - continue to next step."),it.executeTutorialNextStep()):tt.state!=i.WALKTHRU_STATE.WAITING_FOR_PAGE_CHANGE&&(ri("Stopping walk-thru."),rt.releaseBalloons(),tt.state=i.WALKTHRU_STATE.PAUSED,b.raiseEvent("WalkthruAborted"),b.raiseEvent("WalkthruStopped"))}function ae(){return o.getSettingsValue(tt.getCurrentStep().Settings,"sticky",0)}function ve(){return tt.getCurrentStep().IsSkippable}function ur(){return ii==i.STEP_TYPE.Popup}function ku(n){var i=!1,r=!1,t=ti.getElementPositionRelativeToContainer(at),u,f;return!bt&&be()&&(i=!0),k.isBalloonPositionVisibleRelativeToParents(at,dt)||(i=!0),pi=null,u=ke(t.top,t.left,t.height,t.width),f=pe(),u&&f?(r=!0,g.shouldMoveByIntervals(i,yt,vt)?we(t,n):(ri("Element position changed, destroying it",5,ai),kr(t.top,t.left,t.height,t.width),ye(),ti.destroy(!0,function(){ri("Finished destorying balloon",5,ai);i||gr||(ri("Redrawing balloon",5,ai),ti.Show(!1,function(){pi=null;n&&n()}))}))):n&&n(),r}function ye(){h.isFeatureEnabled(i.FEATURES.CalculateElementBoundsBeforeRedraw)&&(pi=e.getElementBounds(at,bt,window,vt))}function pe(){var n={stepId:fi,balloonDiv:yt,defaultValue:!0};return b.raiseEvent(i.EVENTS.ShouldChangeBalloonPosition,n),n.returnValue}function we(t,i){function u(){r<10?(r++,ti.moveBalloon(t),n.playSetTimeout(u,30)):i&&i()}var r=0;u()}function du(n,t,i){var r=parseFloat(n.css("left")),u=parseFloat(n.css("top")),f=r-t+"px",e=u-i+"px";n.css("left",f);n.css("top",e)}function be(){var n=at.data("iframe");return n&&e.isElementScrolledOut(at,n,dt)}function ke(n,t,i,r){return null!=wi&&null!=bi&&null!=tr&&null!=ir&&(nt.check(wi,n)||nt.check(bi,t)||nt.check(tr,i)||nt.check(ir,r))}function kr(n,t,i,r){wi=n;bi=t;tr=i;ir=r}function de(n){ui.classes&&mtjQuery.each(ui.classes,function(t,i){n.addClass(i)})}var dt,fr,ii,dr,pt,oi,gr,wt,ki,yt,ni,nu,tu,iu,si,ei,hi,ri,er,ru,uu,or,sr,hr,cr,ti=this,at=null,di=null,bt=!0,fu=!1,eu=!1,ou=!1,lr=!1,ar="",vr="",yr="",su="",hu="",gi="",gt=!1,ui="",vt="",pr=0,vi=0,fi=0,ci="step",li=0,yi="walkthru",cu=!1,nr=[],wr=[],pi=null,wi=null,bi=null,tr=null,ir=null,kt=null,gu="scroll",nf=800,lu="displayTO",tf=i.POSITION_TYPE.Bottom,br={},au="trigger",ai="balloon",rf=500;this.onDestroy=function(n){nr.push(n)};this.setReleaseEvents=function(n){wr=n};this.releaseEvents=function(n){for(var i,t=0;t<wr.length;t++)try{wr[t](n)&&(i=!0)}catch(r){}return i};this.SetTimeoutOn=function(){ur()||oi||(oi=n.playSetTimeout(function(){ti.elementDisplayTimeoutFunction()},200))};this.getArrowHeight=function(){return pt.arrowHeight()};this.AddSubmitButton=function(){lr=!0};this.getElementPositionRelativeToContainer=function(){var n={},i,r;return bt?(i=at.offset(),n.top=Math.floor(i.top),n.left=Math.floor(i.left)):(r=e.getPosRelativeToWindow(at[0],window,!0),n.top=r.top,n.left=r.left),n.height=at.height(),n.width=at.width(),e.fixOffsetForIE(at,n),t.fixPosition(n,vt,wt),n};this.showPopupBalloon=function(n){var t=ct.Center,r,s,c,a,v;vt.hasOwnProperty("pagePosition")&&(t=parseInt(vt.pagePosition,10));r=f.create("PopupPosition",{animator:kt,pagePosition:t});s=o.getSettingsValue(vt,"z-index",i.POPUP_BALLOON_Z_INDEX);n.css({"z-index":s,"min-width":pt.minPopupWidth()+"px"});var y=parseInt(o.getSettingsValue(vt,"leftOffset",0)),p=parseInt(o.getSettingsValue(vt,"topOffset",0)),h={top:p,left:y};r.positionElementInPage(n,h);c=u.canDisplayOverlay();a=1==o.getSettingsValue(vt,"fadeBackground",1)||1==o.getSettingsValue(vt,"fadeBackground",!0)||"True"==o.getSettingsValue(vt,"fadeBackground","True");c&&a&&u.displayOverlay(s,!0,void 0,vt.overlay);v=l.isQuirksMode(at[0]);v&&pt.fixQuirksMode(n);kt.prepare(n);kt.postAnimation(function(){e.registerResizeAndScrollEvents({element:n,offset:h,callback:t!==ct.Center?r.positionElementInPage:void 0})})};this.getBalloonDiv=function(){return yt};this.getElement=function(){return at};this.getBalloonData=function(){return{isEmbeded:t.isEmbeded(vt),containerEntityType:yi,containerEntityId:li,balloonEntityType:ci,balloonEntityId:fi}};this.getBalloonHTML=function(){return pt.generateHtml(rr())};this.Show=function(n,t){ru=o.getTimer(vu);var u=bt?ft.getDirectHead(at):r("head"),i=function(){bf().then(function(){wf(n,t)})};gt?i():pt.loadResources(u,i)};this.stop=function(){kt.stop()};this.destroy=function(n,t){b.raiseEvent(i.EVENTS.Walkthrus.DestroyStepBalloon,{balloonDiv:yt});ur()&&at.remove();n||(gr=!0,fe(),ee());oe(yt);kt.disableAnimation();kt.destroy(function(){try{si.unhighlightElement(at,"balloon");ei&&ei.unhighlightElement(di,au);hi.unhighlightElement(at,"balloon")}catch(n){s.error(n,"error removing highlighting elements for balloon")}t&&t()})};this.elementDisplayTimeoutFunction=function(){var n=e.isElementVisible(at,vt.filter);n?ti.handleBalloonDisplay():(ri("Element not visible anymore.",5,ai),ti.destroy(!1,function(){ce()&&le()}))};this.handleBalloonDisplay=function(){ku();oi=n.playSetTimeout(ti.elementDisplayTimeoutFunction,nu)};this.moveBalloon=function(n){var i=at.height(),r=at.width(),u=g.getDeltaLeft(ir,r,bi,n.left),f=g.getDeltaTop(tr,i,wi,n.top),t;for(kr(n.top,n.left,i,r),du(yt,u,f),t=0;t<ni.length;t++)du(ni[t],u,f);!ur()&&(gt||si.shouldShow(at,vt))&&(si.highlight(),ei&&ei.highlight());!er&&hi.shouldShow(at,vt)&&hi.highlight()};uf.apply(null,arguments)}function py(n,t,i){function s(){r=n.wrapCustomerLog(o)}function h(){t.bind(i.EVENTS.BalloonLogs.BalloonPopLocationCalculated,c);t.bind(i.EVENTS.BalloonLogs.BalloonIsFullyVisibleCalculated,l);t.bind(i.EVENTS.BalloonLogs.ClosestCanEmbedReturnsTop,f);t.bind(i.EVENTS.BalloonLogs.ClosestCanEmbedSkipsElement,f)}function c(n,t){t&&t.isEmbeded&&!t.extraData&&u(t.containerEntityType+" "+t.containerEntityId+" "+t.balloonEntityType+" "+t.balloonEntityId+": Something happened while calculaing the position of the balloon, trying to attach it to another element",3)}function l(n,t){t&&t.isEmbeded&&!t.extraData&&u(t.containerEntityType+" "+t.containerEntityId+" "+t.balloonEntityType+" "+t.balloonEntityId+": The balloon is partly covered by an element, trying to attach it to another element",3)}function f(n,t){u(t.reason+", trying to attach the balloon to another element. Invalid parent:",3);r(t.currentParent[0])}function u(n,t){r(e+n,t)}this.init=h;var r,e="[BalloonLogEventHandler] ",o="balloonLogEventHandler";s()}function wy(n){function i(){return n.isFeatureEnabled("moveByIntervals")}function r(n,t){return parseFloat(n)-parseFloat(t)}function u(n,t){return parseFloat(n)-parseFloat(t)}var t=this;t.shouldMoveByIntervals=i;t.getDeltaLeft=u;t.getDeltaTop=r}function by(){function t(n,t){return n!=t}var n=this;n.check=t}function ky(n,t){function r(){return n.isFeatureEnabled("disableWidgetOpenFullUrl")?"":t.getUrl()}var i=this;i.get=r}function dy(n,t,i,r,u,f){function o(n,t,e){var o=r.get(n),h=s(t),c;return null!=h&&1==h.enabled?(c=f.showAndGetStatus(h,e,n,o),o.auditSafeStartFirstStatus(c,e),c==i.SAFESTART_ACTION.AutoRedirect&&u.redirect(h.url,i.SAFESTART_ACTION.AutoRedirect,e,o),!0):(o.auditSafeStartDisabled(e),!1)}function s(i){var r=n.getSettingsValue(i.Settings,"SafeStart",!1);return r&&"0"!=r.enabled||(r=n.getSettingsValue(t.get().Settings,"SafeStart",null)),r}var e=this;e.handleSafeStart=o}function gy(n,t,i,r,u,o,s,h){function y(n,t,r,u){var f,e=n.url;return 1==n.autoRedirect?f=i.SAFESTART_ACTION.AutoRedirect:s.canRedirect(e)&&!s.isUrlDifferentFromCurrentOnlyInHash(e)?(f=i.SAFESTART_ACTION.PopupShown,b(e,t,u)):(f=i.SAFESTART_ACTION.FailOnUrl,p(d(r))),f}function c(){o.releaseBalloons()}function p(n){var t=w();t.enabled&&(n+=e(" or contact <a href='{0}' target='_blank' style='text-decoration: underline; color: blue;'>support.<\/a>",t.url));var i=v(n);f.get("PopupBalloonDisplayer").showSpecialPopupBalloon({htmlContent:i},400,{popupStepButtons:[{id:0,name:"OK",action:7}]},function(n){mtjQuery(".walkme-action-ok",n).click(function(){c()})},!0)}function w(){var i={},f=t.get();return i.enabled=r.isTrue(f.Settings,"openATicketEnabled",!1),i.url=n.getSettingsValue(f.Settings,"openATicketUrl",""),i.url&&r.isValidUrl(i.url)?(i.url=encodeURI(i.url),i.url=u.decodeHtml(i.url,["&"])):(i.enabled=!1,i.url=null),i}function b(n,i,r){var u=t.get(),e=v(u.SafeStartPopupText),o={popupStepButtons:[{id:0,name:u.RedirectButtonText,action:5},{id:1,name:u.StayButtonText,action:6}]};f.get("PopupBalloonDisplayer").showSpecialPopupBalloon({htmlContent:e},400,o,function(t){k(t,n,i,r)})}function k(n,t,r,u){mtjQuery(".walkme-action-redirect",n).click(function(){h.redirect(t,i.SAFESTART_ACTION.RedirectClicked,r,u).then(c)});mtjQuery(".walkme-action-stay",n).click(function(){a(r,u)});mtjQuery(".walkme-action-close",n).attr("onclick","").unbind("click");mtjQuery(".walkme-action-close",n).click(function(){a(r,u)})}function a(n,t){t.auditStayButtonClicked(n);c()}function d(n){return"Sorry about that! The "+i.DEPLOYABLE_DISPLAY_NAME[n]+" cannot be played right now. Please try again later"}function v(n){var t=mtjQuery("<div><\/div>");return n=r.nl2br(n),t.append(n),t}var l=this;l.showAndGetStatus=y;l.closePopup=c}function np(n,t,i){function u(r,u,f,e){var s={url:r},o,h;return t.raiseEvent(i.EVENTS.SafeStartRedirect,s),o=mtjQuery.Deferred(),h=function(){e.redirect(s.url,f);o.resolve()},e.auditSafeStartStatus(u,f),n.setWalkmeTimeout(h),o.promise()}var r=this;r.redirect=u}function tp(n,t,i){function u(r){return r==n.Tutorial?i:r==n.BusinessSolution?t:void 0}var r=this;r.get=u}function ip(n){function i(t){return n.btoa(unescape(encodeURIComponent(t)))}var t=this;t.encrypt=i}function rp(n,t,i,r,u,f){function a(){return!0}function v(n){n=n.toLowerCase();for(var t=0;t<s.length;t++)if(n.indexOf(s[t].toLowerCase())>=0)return!0;return!1}function y(i){var r=t.getSize(),u=f.to_html('<iframe frameborder="0" src="{{{url}}}" style="width: {{{width}}}; height: {{{height}}};"><\/iframe>',{width:r.width,height:r.height,url:n.isUrlEncoded(i)?i:encodeURI(i)});return mtjQuery(u)}function p(n){var i=0==window.location.href.indexOf("https://")&&0!=n.indexOf("/")&&0!=n.indexOf("https://"),t=i||v(n);return t&&o("Can't play content in lightbox",3),t}function w(n){o("Started playing content in lightbox",3);WalkMePlayerAPI.isMenuOpen()&&WalkMePlayerAPI.toggleMenu();b();t.activate(n,l,"searchResult",a(),y,h)}function h(n){o("Started playing content in new tab",3);window.open(n,"_blank")}function b(){t&&t.remove()}var c=this,o=i.wrapCustomerLog(pf),s=[".zendesk.com"],l={width:900,height:500};c.openSearchResult=function(t){if(!n.isValidUrl(t))return void o(e("Content url is invalid: {0}",t),3);o(e("Content url is :{0}",t),3);r.raiseEvent("LoadingContent",t);var i="true"===u.get().Custom.lightboxEnabled;p(t)||!i?h(t):w(t)}}function up(n,t){function e(){i=t.infoComponentActivator;r=t.validationsComponentActivator}function o(t){f();var u=[i.activate(t),r.activate(t)];return n.executeParallely(u)}function f(){var t=[i.destroy(),r.destroy()];return n.executeParallely(t)}var u=this,i,r;u.activate=o;u.destroy=f;e()}function fp(n,t){function e(){u=t.smartTipModel}function o(t){return i=n.get(u,u.Info),i.draw(t)}function s(){return i?i.destroy():r.when()}var f=this,u,i;f.activate=o;f.destroy=s;e()}function ep(n){function u(){}function e(r){switch(r.Mode){case n.SMART_TIP.MODE.OnlyInfo:return t(r);case n.SMART_TIP.MODE.OnlyValidations:return i(r);case n.SMART_TIP.MODE.InfoAndValidations:return o(r);default:throw new Error("Unsupported smartTipMode: "+r.Mode);}}function t(n){var t={smartTipModel:n};return f.create("InfoSmartTipComponentsActivator",t)}function i(n){var t={smartTipModel:n};return f.create("ValidationsSmartTipComponentsActivator",t)}function o(n){var r=t(n),u=i(n),e={infoComponentActivator:r,validationsComponentActivator:u};return f.create("InfoAndValidationsSmartTipComponentsActivator",e)}var r=this;r.get=e;u()}function op(n,t,i,u,f,e){function k(){a=t.create(e.smartTipModel);c=e.smartTipModel}function d(){return p(),w(),h&&(h.reset(),h=null),l=null,o=null,a.removeValidationFeedback()}function g(n){return o=n,p(),it(),nt(),w(),rt(),r.when()}function nt(){var n=i.get(c,o,tt);l=n.activationElementsSelector;h=n.stateMachine;s=n.elementEvents}function y(){return a.drawValidationFeedback(o)}function tt(n,t,i){t&&t.shouldValidate&&o&&f.libSetTimeout(function(){y().then(function(){var n=i&&i.sender==o[0];a.applyBehaviorOnFeedback({tooltipStartShown:n})})},0)}function p(){r(c).off(n.SMART_TIP_INNER_EVENTS.CheckValidations)}function it(){r(c).on(n.SMART_TIP_INNER_EVENTS.CheckValidations,y)}function w(){if(s&&o){var n=b(s);u.off(o,l,n)}}function rt(){if(s&&o)for(var t=b(s),n=0;n<t.length;n++)u.on(o,l,t[n],ut(s[n]))}function ut(n){return function(t){h.evaluate(n,{sender:t.target})}}function b(n){for(var r,i=[],t=0;t<n.length;t++)r=n[t]+"."+c.Id,i.push(r);return i}var v=this,o,l,a,h,s,c;v.activate=g;v.destroy=d;k()}function sp(){var n={dontCheck:"dontCheck",delayValidationCheck:"delayValidationCheck",checkValidation:"checkValidation"},i=".walkme.smarttip.validation",t={onFocusOut:"blur"+i,onFocus:"focus"+i,onKeyDown:"keydown"+i,onChange:"change"+i},r=[{toState:n.checkValidation,valueToReturn:{shouldValidate:1}}],u=[{fromState:n.delayValidationCheck,timeout:500,toState:n.checkValidation}],f=[{fromState:"*",onAction:t.onKeyDown,toState:n.delayValidationCheck}],e=[{fromState:"*",onAction:t.onFocusOut,toState:n.checkValidation},{fromState:"*",onAction:t.onFocus,toState:n.dontCheck}],o=[{fromState:"*",onAction:t.onChange,toState:n.checkValidation}];return{initialState:n.dontCheck,timedOutTransitions:u,defaultTransitionValuesToReturn:r,keyDownTransitions:f,keyDownEvents:[t.onKeyDown],focusTransitions:e,focusEvents:[t.onFocus,t.onFocusOut],changeTransitions:o,changeEvents:[t.onChange]}}function hp(n,t,i,r,u){function o(){}function s(t,r,e){var o=n.focusTransitions,s=n.focusEvents,c=u.containsComplexCondition(t.Validations),l;return t.Settings.validateWhileTyping&&(o=o.concat(n.keyDownTransitions),s=s.concat(n.keyDownEvents)),(i.isSelectInput(r)||c)&&(o=o.concat(n.changeTransitions),s=s.concat(n.changeEvents)),l=h(o,e),{stateMachine:l,elementEvents:s,activationElementsSelector:c?f:r}}function h(i,r){var u={initState:n.initialState,timedOutTransitions:n.timedOutTransitions,defaultTransitionValuesToReturn:n.defaultTransitionValuesToReturn,onStateChangedCallback:r,transitions:i};return t.create(u)}var e=this,f;e.get=s;f="*";o()}function cp(n){function i(t){var i,u,f;if(!t)return!1;for(i=0;i<t.length;i++)if(u=t[i],u.ConditionTrees&&u.ConditionTrees.Validation&&(f=n.anyMatchesCondition(u.ConditionTrees.Validation,r),f))return!0;return!1}function r(n){if("Func"!=n.nodeType)return!1;var t=0===n.funcName.indexOf("Element"),i=0===n.funcName.indexOf("jQuery");return t||i}var t=this;t.containsComplexCondition=i}function lp(n,t,i){function a(){f=i.drawers}function v(n){var t=function(){return b(r(n))};return h(t,c,u.Destroying)}function y(n){for(var t=0;t<f.length;t++)f[t].applyBehavior&&f[t].applyBehavior(n)}function p(){return h(k,l,u.Drawing)}function h(n,t,i){return w(t)?s:s=e==i?s.then(n):n()}function w(n){return t(e,n)!=-1}function b(t){var r,i,s,o;for(e=u.Drawing,r=[],i=0;i<f.length;i++)s=f[i],r.push(d(s));return o=n.executePromiseChain(r,t),o.always(function(){e=u.Drawn}),o}function k(){var i,t,o,r;for(e=u.Destroying,i=[],t=f.length-1;t>=0;t--)o=f[t],i.push(g(o));return r=n.executePromiseChain(i),r.always(function(){e=u.Destroyed}),r}function d(n){return n.draw}function g(n){return n.destroy}var o=this;o.draw=v;o.applyBehavior=y;o.destroy=p;var f,s,e,u={Drawing:"drawing",Drawn:"drawn",Destroying:"destroying",Destroyed:"destroyed"},c=[u.Drawing,u.Drawn],l=[u.Destroying,u.Destroyed];a()}function ap(n,t,i){function u(){}function e(n,i){var r=t.get(i.GlobalStyleId);return o(n,i,r)}function o(t,r,u){var o=n.getConfig(r),e=[],s,h,c;return o.shouldDrawHighlighter&&(s=i.getHighlighterDrawer(t,r,u),e.push(s)),o.shouldDrawIcon&&(h=i.getIconDrawer(t,r,u),e.push(h)),o.shouldDrawTooltip&&(c=i.getInteractiveTooltipDrawer(r,u,t),e.push(c)),f.create("ChainedSmartTipComponentDrawer",{drawers:e})}var r=this;r.get=e;u()}function vp(n){function u(){}function e(n,t,i){var r={smartTipModel:n,smartTipUiComponentModel:t,globalStyling:i};return f.create("SmartTipIconDrawer",r)}function i(n,t,i){var r={smartTipModel:i,smartTipUiComponentModel:n,globalStyling:t};return f.create("SmartTipTooltipDrawer",r)}function o(n,t,r){var u=i(n,t,r),e={smartTipComponentModel:n,tooltipDrawer:u};return f.create("SmartTipInteractiveTooltipDrawer",e)}function s(t,i,u){var f={};return f["z-index"]=t&&t.Settings&&t.Settings["z-index"],f=r.extend({},u.Highlighter,f),n.create(i.Id,"smartTipUiComponent",f,t)}var t=this;t.getIconDrawer=e;t.getStaticTooltipDrawer=i;t.getInteractiveTooltipDrawer=o;t.getHighlighterDrawer=s;u()}function yp(){function t(){}function i(n){var t=n.IsWithIcon,i=!!n.TooltipText,r=n.IsWithHighlighter;return{shouldDrawIcon:t,shouldDrawTooltip:i,shouldDrawHighlighter:r}}var n=this;n.getConfig=i;t()}function pp(n,t,i){function c(){f=i.smartTipModel;e=i.smartTipUiComponentModel;s=i.globalStyling}function l(i){u=n.create(f,e,i,s);var o=r.Deferred();return u.show().then(function(n){v();var t=n.getOriginElement();t&&t[0]?o.resolve(t):o.reject()}),r(f).on(t.SMART_TIP_INNER_EVENTS.SmartTipElementRepositioned,h),o.promise()}function a(){return u&&(u.destroy(),u=null),r(f).off(t.SMART_TIP_INNER_EVENTS.SmartTipElementRepositioned,h),r.when()}function v(){r(e).trigger(t.SMART_TIP_INNER_EVENTS.EventPropogationPrefix,{eventType:t.EVENTS.SmartTips.SmartTipIconShown})}function h(){u.reposition()}var o=this,u,f,e,s;o.draw=l;o.destroy=a;c()}function wp(n,t,i,u){function p(){e=u.smartTipUiComponentModel;l=u.globalStyling;h=u.smartTipModel}function w(n){return o=n,a()}function b(){return o=null,s=s.pipe(v)}function a(){return s=s.pipe(v).pipe(k)}function k(){var s,c,u,a;return o?(s=e.TooltipStyle||l.Tooltip,c=i.getTooltipDrawerOptions(e,h),f=n.create(o,e.TooltipText,s,c),u=r.Deferred(),a=u.promise(),f.show().pipe(function(n){d();u.resolve(n)}),r(h).on(t.SMART_TIP_INNER_EVENTS.SmartTipElementRepositioned,y),a):r.when()}function v(){if(!f)return r.when();r(h).off(t.SMART_TIP_INNER_EVENTS.SmartTipElementRepositioned,y);var n=f.destroy();return f=void 0,n}function d(){r(e).trigger(t.SMART_TIP_INNER_EVENTS.EventPropogationPrefix,{eventType:t.EVENTS.SmartTips.TooltipShown})}function y(){a()}var c=this,f,e,h,l,o,s;c.draw=w;c.destroy=b;o=null;s=r.when();p()}function bp(n,t){function u(n,r){var f={smartTip:r,uiComponent:n},u={};return t.merge(f,u,i),u.cssClasses=[],r&&u.cssClasses.push("walkme-tooltip-smarttip-"+r.Id),n&&u.cssClasses.push("walkme-tooltip-uicomponent-"+n.Id),u}var r=this,i;r.getTooltipDrawerOptions=u;i={"uiComponent.Id":"itemId","smartTip.Settings.z-index":"stepSettings.z-index","smartTip.Settings.embedInParent":"stepSettings.embed","smartTip.Settings.tooltipPosition":"tooltipPosition","smartTip.Settings.tooltipPositionOffset":{destination:"tooltipPositionOffset",where:function(n,t){return void 0!==t("smartTip.Settings.tooltipPosition")}},"smartTip.Settings.Position":{destination:"directionToAvoid",transform:function(t){return n.OPPOSITE_POSITION_TYPE[t]},where:function(n,t){return!!t("uiComponent.IsWithIcon")}}}}function kp(n,t,i,u,f){function l(){s=f.tooltipDrawer;h=f.smartTipComponentModel}function a(i){var u=t.getEventsByElement(i);return e=n.create(s,i,u),e.setEvents(),p(),r.when(i)}function v(n){n&&n.tooltipStartShown&&e&&e.show()}function y(){if(i.unbind(u.EVENTS.SmartTips.TooltipShown,c),!e)return r.when();var n=e.clean();return e=null,n}function p(){i.bind(u.EVENTS.SmartTips.TooltipShown,c)}function c(n,t){t&&t.uiComponent&&e&&t.uiComponent.Id!=h.Id&&e.hide()}var o=this,s,e,h;o.draw=a;o.applyBehavior=v;o.destroy=y;l()}function dp(n,t,i){function a(){o=i.drawableType;s=i.drawableId;c=i.highlighterCustomStyling;e=i.smartTipModel}function v(n){return u=y(n),u.highlight(),r(e).on(t.SMART_TIP_INNER_EVENTS.SmartTipElementRepositioned,l),r.when(n)}function y(t){var i=c,r=n.isTrue(e.Settings,"embedInParent",!1),u={element:t,settings:i,drawableType:o,drawableId:s,monitor:!0,defaultSettings:!1,embedInElement:r,cssKeysValues:[{id:s,name:o},{id:e.Id,name:"smarttipid"}]};return f.create("Highlighter",u)}function p(){return u&&(u.unhighlightElement(),u=null),r(e).off(t.SMART_TIP_INNER_EVENTS.SmartTipElementRepositioned,l),r.when()}function l(){u.highlight()}var h=this,u,c,e,o,s;h.draw=v;h.destroy=p;a()}function gp(){function t(){}function i(n,t,i,r){var u={drawableType:t,drawableId:n,highlighterCustomStyling:i,smartTipModel:r};return f.create("SmartTipHighlighterDrawer",u)}var n=this;n.create=i;t()}function nw(n,t,i,u,f){function v(){s=f.smartTipModel;c=!0}function y(n){var i=t.getFeedbackComponent(s,n);return!b(i)&&!c?r.when():(c=!1,p(n,i).then(function(){return g(i)}))}function p(n,t){var r=[],e=void 0!=o,u,f;return e&&(o=null,r.push(l)),u=void 0!=t,u&&(o=t,f=function(){return d(n,t)},r.push(f)),i.executePromiseChain(r)}function w(n){e&&e.applyBehavior&&e.applyBehavior(n)}function b(n){return n!=o}function k(){return o=null,l()}function l(){if(!e)return r.when();var n=e.destroy();return e=null,n}function d(t,i){return e=n.get(s,i),e.draw(t)}function g(n){n&&n.Type==u.SMART_TIP.COMPONENT_TYPE.Validation?a(u.EVENTS.SmartTips.ValidationFailed,n):a(u.EVENTS.SmartTips.ValidationPassed,n)}function a(n,t){var i={uiComponent:t,eventType:n};r(s).trigger(u.SMART_TIP_INNER_EVENTS.EventPropogationPrefix,i)}var h=this,e,o,s,c;h.drawValidationFeedback=y;h.removeValidationFeedback=k;h.applyBehaviorOnFeedback=w;v()}function tw(){function t(){}function i(n){var t={smartTipModel:n};return f.create("ValidationsSmartTipComponentDrawer",t)}var n=this;n.create=i;t()}function iw(n,t,i,r,u,f,e,o,s){function k(){h=s.smartTipModel;a=f.create(h);st()}function d(){v=!0;l=n.createVisibilityWatch(h,g,rt);l.watchForVisibility()}function g(n){v&&(c=n,a.drawSmartTipElements(c),ct(),ot(),tt(),nt(n))}function nt(n){var i={smartTip:h,element:n};e.raiseEvent(t.EVENTS.SmartTips.SmartTipElementShown,i)}function tt(){var n={isEmbedInElement:h.Settings.embedInParent,element:c,callback:it};u.trackChanges(n)}function it(){o(h).trigger(t.SMART_TIP_INNER_EVENTS.SmartTipElementRepositioned)}function rt(){w();ut()}function ut(){var n={smartTip:h};e.raiseEvent(t.EVENTS.SmartTips.SmartTipElementRemoved,n)}function w(){return u.stopTrackingChanges(),c&&(et(),c=null),a.removeSmartTipElements()}function ft(){return v=!1,l&&l.cleanResources(),l=null,w()}function et(){i.unbind(c,y)}function ot(){i.bind(c,y,b)}function st(){r.doOnAllComponents(h,ht)}function ht(n){o(n).on(t.SMART_TIP_INNER_EVENTS.EventPropogationPrefix,function(i,r){r.uiComponent=n;o(h).trigger(t.SMART_TIP_INNER_EVENTS.EventPropogationPrefix,r)})}function ct(){b(t.EVENTS.SmartTips.SmartTipSegmented)}function b(n){o(h).trigger(t.SMART_TIP_INNER_EVENTS.EventPropogationPrefix,{eventType:n})}var p=this,h,l,c,a,v,y;p.activate=d;p.deactivate=ft;y=".wmst";k()}function rw(n,t,i,r,u){function o(){}function s(){n.wrapSession(function(){var n={type:u.STEP_PLAY_INITIATOR_ENUM.AUTOSTART};r.saveData(r.keysConfig.smartTipSet.initiator.key,n,r.keysConfig.smartTipSet.initiator.expiry);i.setForScope(n,h)})}function h(){f=t.get();for(var n=0;n<f.length;n++)f[n].start()}function c(){for(var n=0;n<f.length;n++)f[n].stop()}var e=this,f=[];e.start=s;e.stop=c;o()}function uw(n,t,i,r){function s(){u=r.smartTipModel;e=t.get(u)}function h(n){c()&&l(n);e.activate(n)}function c(){return void 0!=u.Settings.hlType}function l(t){f=n.create(u.Id,"smartTip",u.Settings,u);f.draw(t)}function a(){var n=[e.destroy()];return f&&n.push(f.destroy()),i.executeParallely(n)}var o=this,u,e,f;o.drawSmartTipElements=h;o.removeSmartTipElements=a;s()}function fw(){function t(){}function i(n){var t={smartTipModel:n};return f.create("SmartTipDrawer",t)}var n=this;n.create=i;t()}function ew(n){function i(){}function r(t){var i=n.get(),r=i.SmarttipSettings;return r[t]}var t=this;t.get=r;i()}function ow(){function t(){}function i(n){var t={smartTipModel:n};return f.create("SmartTip",t)}var n=this;n.create=i;t()}function sw(n){function i(n,t){var u,i,f,e;if(!n.Validations)return null;for(u=0;u<n.Validations.length;u++)if(i=n.Validations[u],i.ConditionTrees&&i.ConditionTrees.Validation&&(f=i.ConditionTrees.Validation,e=r(f,t),!e))return i;return null}function r(t,i){var r=n.createNew({getSelectedElement:function(){return i}});return r.getCurrentEvaluationValueAndStopEvaluating(t)}var t=this;t.getFirstFailedValidation=i}function hw(n,t,i,u,f,e){function w(){h=e.smartTipModels;v=e.setId;c={};it()}function p(){o||(y=f.generateGuid(),g(),tt(),ht(),o=!0)}function b(){p();s(et)}function k(){return o?(o=!1,nt(),ct(),d()):r.when()}function d(){var n=r.map(h,function(n){return c[n.Id]});return i.executeParallelyOnArray(n,ut)}function g(){s(rt)}function nt(){s(ot)}function tt(){s(st)}function it(){s(ft)}function s(n){h&&r.each(h,function(t,i){n(i)})}function rt(n){var t=c[n.Id];return t.activate()}function ut(n){return n.deactivate()}function ft(t){var i=n.create(t);c[t.Id]=i}function et(n){r(n).trigger(t.SMART_TIP_INNER_EVENTS.CheckValidations)}function ot(n){r(n).off(t.SMART_TIP_INNER_EVENTS.EventPropogationPrefix)}function st(n){r(n).on(t.SMART_TIP_INNER_EVENTS.EventPropogationPrefix,function(t,i){var u={smartTipModel:n};u=r.extend(u,i);a(i.eventType,u)})}function ht(){a(t.EVENTS.SmartTips.SetTurnedOn)}function ct(){a(t.EVENTS.SmartTips.SetTurnedOff)}function a(n,t){var i={setId:v,playGuid:y};t=r.extend(i,t||{});u.raiseEvent(n,t)}var l=this,h,c,v,y,o;l.turnOnWithLazyValidations=p;l.turnOnWithImmediateValidations=b;l.turnOff=k;o=!1;w()}function cw(n,t,i){function o(){}function s(n){e=n;h()}function h(){var t,i,r;for(u={},t=e.length-1;t>=0;t--)i=e[t],r=n.create(i.SmartTips,i.Id),u[i.Id]=r}function c(){return e}function l(n){return u[n]}function a(){if(!u)return r.when();var n=i.getDictionaryValues(u);return t.executeParallelyOnArray(n,v)}function v(n){return n.turnOff()}var f=this,u,e;f.init=s;f.getAll=c;f.getSetManagerById=l;f.turnOffAllSets=a;o()}function lw(){function t(n,t){return f.create("SmartTipSetManager",{smartTipModels:n,setId:t})}var n=this;n.create=t}function aw(n){function i(){}function r(t,i){var r=n.getFirstFailedValidation(t,i);return r||t.PositiveFeedback}var t=this;t.getFeedbackComponent=r;i()}function vw(n,t){function r(){}function u(n,i,r){var u=n.ConditionTrees.SmartTip,o={logContext:n.Id,stickyType:t.getStickyType(n.Settings),elementVisibilityParams:{findElementParams:{IdentifySettings:n.IdentifySettings}},isRemoveByCondition:t.getIsRemoveByCondition(n.Settings),conditionCheckerParams:e(n),conditionTree:u&&u.Root?u:void 0,onShow:i,onRemove:r,trackUIChanges:!0};return f.create("UIVisibilityManager",o)}function e(t){return{featureName:n.CONDITION_CHECKER.FEATURE_NAMES.SmartTipSegmentation,elementName:t.Name}}var i=this;i.createVisibilityWatch=u;r.apply(null,arguments)}function yw(n,t){function o(){r=t.set;var i=n.getSetManagerById(r.Id);e={logContext:r.Id,trackUIChanges:!0,conditionTree:r.ConditionTrees.DisplayRules,onShow:i.turnOnWithLazyValidations,onRemove:i.turnOff,conditionCheckerParams:{elementName:r.Name}}}function s(){i||(i=f.create("UIVisibilityManager",e),i.watchForVisibility())}function h(){i&&i.cleanResources();i=null}var u=this,r,e,i;u.start=s;u.stop=h;o()}function pw(n){function i(){}function r(){for(var f,e,i=[],r=n.getAll(),t=0;t<r.length;t++)f=r[t],e=u(f),i.push(e);return i}function u(n){return f.create("SmartTipSetActivator",{set:n})}var t=this;t.get=r;i()}function ww(){function t(){}function i(n,t){var i,r;if(n.Info&&t(n.Info),n.PositiveFeedback&&t(n.PositiveFeedback),n.Validations)for(i=0;i<n.Validations.length;i++)r=n.Validations[i],t(r)}var n=this;n.doOnAllComponents=i;t()}function bw(n){function i(t){for(var u,i=0;i<t.length;i++)u=t[i].SmartTips,n.remove(u,r)}function r(n){return!n.IsEnabled}var t=this;t.remove=i}function kw(n){function r(){}function u(){t={};t[n.DEPLOYABLE_TYPE.Tutorial]=f.get("TutorialsManager");t[n.DEPLOYABLE_TYPE.Content]=f.get("ContentsManager");t[n.DEPLOYABLE_TYPE.Task]=f.get("TodoListManager");t[n.DEPLOYABLE_TYPE.Launcher]=f.get("LaunchersManager");t[n.DEPLOYABLE_TYPE.Category]=f.get("CategoriesManager");t[n.DEPLOYABLE_TYPE.Collection]=f.get("CollectionsManager");t[n.DEPLOYABLE_TYPE.Shuttle]=f.get("ShuttlesManager");t[n.DEPLOYABLE_TYPE.AbExperiment]=f.get("ExperimentsManager");t[n.DEPLOYABLE_TYPE.Survey]=f.get("SurveysManager");t[n.DEPLOYABLE_TYPE.ShoutOut]=f.get("ShoutOutsManager");t[n.DEPLOYABLE_TYPE.ConditionBlock]=f.get("ConditionBlocksManager");t[n.DEPLOYABLE_TYPE.Tag]=f.get("TagsManager");t[n.DEPLOYABLE_TYPE.BusinessSolution]=f.get("BusinessSolutionsManager");t[n.DEPLOYABLE_TYPE.TrackedPage]=f.get("TrackedPagesManager");t[n.DEPLOYABLE_TYPE.Course]=f.get("CoursesManager");t[n.DEPLOYABLE_TYPE.Lesson]=f.get("LessonsManager");t[n.DEPLOYABLE_TYPE.TrackedElement]=f.get("TrackedElementsManager");t[n.DEPLOYABLE_TYPE.SearchProviderUrl]=f.get("SearchProviderUrlsManager")}function e(n){return t||u(),t[n]}var i=this,t;i.get=e;r()}function dw(n,t,i,r){function f(i,r,u,f,o){var s,c,h;if(n.customerLog("Checking if need to open survey"),s=e(i,r,u),s.shouldStart&&(n.customerLog("Starting survey"),c=t.activateById(i,f,o),c))for(h=0;h<s.cookiesToSave.length;h++)s.cookiesToSave[h]()}function e(u,f,e){var h={shouldStart:!1,cookiesToSave:[]},c=t.getById(u),l,s;return c?(l=r.survey.repeat.key+"-"+c.Id,s=i.checkRepeatCookie(l,o(c.Settings)),s&&s.shouldStart&&(h.cookiesToSave.push(s.store),s=i.checkRepeatCookie(f+"-"+c.Id,e),h.cookiesToSave.push(s.store),h.shouldStart=s.shouldStart),h):(n.customerLog("Couldn't find survey with id:"+u,0,"survey"),h)}function o(n){return n.repeat||"visit"}var u=this;u.activateSurvey=f}function gw(n){function i(t){var i=void 0;return mtjQuery.each(n.DEPLOYABLE_TYPE,function(n,r){if(t==r)return i=n,!1}),i}var t=this;t.getDeployableTypeNameByTypeNumber=i}function nb(n){function i(t,i,u){var f=u.isNewConditions?"ConditionTrees":"Settings",e,s,o;return(t[f]||(t[f]={}),e=t[f][u.name],!i)?e:(r(t,u.enabled)&&(t.Settings[u.enabled]=1,e=void 0),s=n.get(u.isNewConditions),o=s.combine("And",i,e),t[f][u.name]=o,o)}function r(n,t){return t&&"true"!==n.Settings[t]&&!n.Settings[t]}var t=this;t.inject=i}function tb(n){var t=this;t.properties={};t.properties[n.DEPLOYABLE_TYPE.Tutorial]={name:"DOCT",enabled:"DOCTEnabled"};t.properties[n.DEPLOYABLE_TYPE.Task]={name:"DisplayCondition",enabled:"DisplayConditionEnabled"};t.properties[n.DEPLOYABLE_TYPE.Launcher]={name:"PlayLauncherConditionTree"};t.properties[n.DEPLOYABLE_TYPE.Shuttle]={name:"DisplayCondition",enabled:"DisplayConditionEnabled"};t.properties[n.DEPLOYABLE_TYPE.Content]={name:"DisplayCondition"};t.properties[n.DEPLOYABLE_TYPE.BusinessSolution]={name:"DisplayRules",enabled:"segmentationEnabled",isNewConditions:!0,dontInjectTagsIntoAutoStartFeature:"SWT_AutoPlayIgnoreTags"};t.properties[n.DEPLOYABLE_TYPE.Course]={name:"DisplayCondition"};t.properties[n.DEPLOYABLE_TYPE.SearchProviderUrl]={name:"DisplayCondition"}}function ib(){var n=this;n.EVENT_NAMESPACE=".wmte";n.LOG_LEVEL_DEFAULT=3;n.FEATURES={analyticsTracking:"analyticsTracking",autoTracking:"autoTracking",pageChangeTracking:"pageChangeTracking"}}function rb(n,t,i){function u(r){n.customerLog(r,t.LOG_LEVEL_DEFAULT,i.FEATURES_LOGS.AnalyticsTracking)}function f(t){n.error(t)}var r=this;r.customerLog=u;r.error=f}function ub(n,t,i,r,u,f){function s(o,s,h){t.customerLog(e("TrackedElementEventBinder - binding events to element with id {0}",s.Id));r.bind(o,n.EVENT_NAMESPACE,function(n){u.get(f.get().getCurrentIndex()).then(function(t){i.send(n,t,s,h,o)})})}function h(i,u){t.customerLog(e("TrackedElementEventBinder - unbinding events from element with id {0}",u.Id));r.unbind(i,n.EVENT_NAMESPACE)}var o=this;o.bind=s;o.unbind=h}function fb(n,t,i){function u(r,u,f,e,o){var s={type:n.EVENT_SENDER_EVENT_APPS.TrackedElement,oId:f.Id,oName:f.Name,owType:n.EVENT_SENDER_EVENT_APPS.TrackedPage,pId:(e?e.Id:"0")+"_"+u},h;e?(s.owId=e.Id,s.owName=e.Name):(s.owId=0,s.owName="Site-Wide");h={eventName:r,eventData:s,trackedElement:f,trackedPage:e,element:o};i.raiseEvent(n.EVENTS.TrackedElementBeforeSendEvent,h);t.postEvent(r,s)}var r=this;r.send=u}function eb(n){function i(t,i,r,u){u?n.bind(t,i,r):n.unbind(t,i)}function r(t,i){t&&n.unbind(t,i)}var t=this;t.toggleBinder=i;t.stopBinder=r}function ob(n,t,i){function o(){f=n.getAllByPageId(i.trackedPage&&i.trackedPage.Id);u=t.create(i)}function s(){u.stopTrack()}function h(){r(f).each(function(n,t){u.startTrack(t)})}var e=this,u,f;e.stopTrack=s;e.startTrack=h;f=[];o()}function sb(n,t,i,r){function o(f){var o=-1,s;e=t.getStickyType(r.trackedElement.Settings);e!=n.STICKY_TYPE.ONCE&&(o=2e3);s={logContext:r.trackedElement.Id,findElementParams:{IdentifySettings:r.trackedElement.IdentifySettings},trackUIChanges:!0,elementEvaluationIntervalMs:o};u=i.create(s);u.setOnVisibilityChanged(function(t){f(t==n.VISIBILITY_STATE.VISIBLE);t==n.VISIBILITY_STATE.VISIBLE&&e!=n.STICKY_TYPE.STRONG&&u.cleanResources()});u.evaluateElementVisibilityAsynch()}function s(){if(u)return u.getElement()}function h(){u&&u.cleanResources()}var f=this,u,e;f.evaluateAsync=o;f.cleanResources=h;f.getElement=s}function hb(n,t){function r(i,r){var u={type:n.EVENT_SENDER_EVENT_APPS.TrackedPage,oId:r.Id,oName:r.Name,pId:r.Id+"_"+i};t.postEvent(n.EVENT_SENDER_EVENT_TYPES.Play,u)}var i=this;i.send=r}function cb(n,t){function u(){var r={featureName:"evaluate tracked page segmentation",elementName:t.trackedPage.Name,stopPollingAfterEvaluateTrue:!1};i=n.createNew(r)}function f(){if(!t.trackedPage.ConditionTrees||!t.trackedPage.ConditionTrees.DisplayRules)return!0;var n=t.trackedPage.ConditionTrees.DisplayRules;return i.getCurrentEvaluationValueAndStopEvaluating(n)}var r=this,i;r.evaluate=f;u()}function lb(n,t,i,r,u,f,o,s){function v(){c=f.create(s);a=o.create(s);h=s.trackedPage}function y(){c.stopTrack()}function p(i){var u=a.evaluate();n.customerLog(e("TrackedPageEventsListener - for page with id {0}, segmentation condition was{1}met",h.Id,u?" ":" not "));u?(r.get(i).then(w),c.startTrack(),h.IsComplex&&t.add(h)):(c.stopTrack(),h.IsComplex&&t.remove(h))}function w(n){u.isAutoTrackingOn()||i.send(n,h)}var l=this,c,a,h;l.stopListen=y;l.evaluateAndUpdateContainer=p;v()}function ab(n,t,i,u){function c(i){n.customerLog("TrackedPagesEventsListener - init");h=i;o=t.get()}function l(){n.customerLog("TrackedPagesEventsListener - startListen");o.bind(s);r(h).each(function(n,t){var i={trackedPage:t},r=u.create(i);f.push(r)});s({uiChangeIndex:0})}function a(){n.customerLog("TrackedPagesEventsListener - stopListen");o.unbind(s);for(var t=0;t<f.length;t++)f[t].stopListen();f=[]}function s(n){for(var t=0;t<f.length;t++)f[t].evaluateAndUpdateContainer(n.uiChangeIndex);i.resolveUIChange(n.uiChangeIndex)}var h,e=this,f=[],o;e.init=c;e.startListen=l;e.stopListen=a}function vb(n,t,i){function l(){f=0;s=n.get();s.bind(c);e();r=mtjQuery.Deferred();mtjQuery(u).on(i.EVENTS.NewSession,e)}function c(n){f=n.uiChangeIndex;e();r&&r.resolve(o);r=mtjQuery.Deferred()}function a(n){return n<f?mtjQuery.Deferred().reject("uiChangeIndex was smaller the the current one"):void 0===n||n==f?mtjQuery.Deferred().resolve(o):r.promise()}function e(){o=t.generateGuid(!0)}function v(){mtjQuery(u).off(i.EVENTS.NewSession,e);s.unbind(c)}var o,f,r,h=this,s;h.get=a;h.releaseResources=v;l()}function yb(n,t){function r(){return n.isFeatureEnabled(t.FEATURES.autoTracking)}var i=this;i.isAutoTrackingOn=r}function pb(n){function e(){u={};i=0;t=mtjQuery.Deferred()}function o(n){i=n;t&&t.resolve(f());t=mtjQuery.Deferred()}function s(n){u[n.Id]=n}function h(n){delete u[n.Id]}function c(n){return n<i?mtjQuery.Deferred().reject("uiChangeIndex was smaller the the current one"):void 0===n||n==i?mtjQuery.Deferred().resolve(f()):t.promise()}function f(){return n.getDictionaryValues(u)}var i,t,r=this,u;r.add=s;r.remove=h;r.getAll=c;r.resolveUIChange=o;e()}function wb(n,t){function r(n){(n.IdentifySettings.IsJquerySelector||1==n.IsViewsOnly)&&t.startTrack(n,f)}function u(){t.stopTrack(e)}function f(t){0==t.trackedElement.IsViewsOnly&&n.toggleBinder(t.element,t.trackedElement,t.trackedPage,t.isVisible)}function e(t,i){0==i.IsViewsOnly&&n.stopBinder(t,i)}var i=this;i.startTrack=r;i.stopTrack=u}function bb(n,t){function r(n){t.startTrack(n,f)}function u(){t.stopTrack(n.stopBinder)}function f(t){n.toggleBinder(t.element,t.trackedElement,t.trackedPage,t.isVisible)}var i=this;i.startTrack=r;i.stopTrack=u}function kb(n,t,i,u,f,o,s){function l(){h={}}function a(n,i){if(!h[n.Id]){t.customerLog(e("TrackedElementVisibilityTracker - trackVisibility for element with id {0}",n.Id));var u={trackedElement:n},r=o.create(u);h[n.Id]={evaluator:r,trackedElement:n};r.evaluateAsync(function(t){var r={isVisible:t,trackedElement:n,trackedPage:s.trackedPage,visibilityCallback:i};y(r)})}}function v(n){t.customerLog(e("TrackedElementVisibilityTracker - stopTrack"));r.each(h,function(t,i){var r=i.evaluator.getElement();n&&n(r,i.trackedElement);i.evaluator.cleanResources()});h={}}function y(r){t.customerLog(e("TrackedElementVisibilityTracker - visibility changed for element with id {0} to {1}",r.trackedElement.Id,r.isVisible));var o=h[r.trackedElement.Id].evaluator.getElement();r.isVisible&&u.get(f.get().getCurrentIndex()).then(function(t){i.send(n.EVENT_SENDER_EVENT_TYPES.Visible,t,r.trackedElement,r.trackedPage,o)});r.element=o;r.visibilityCallback&&r.visibilityCallback(r)}var c=this,h;c.startTrack=a;c.stopTrack=v;l()}function db(n,t,i,r,u,f,e){function s(o){return new oi(n,t,i,r,u,f,e,o)}var o=this;o.create=s}function gb(n){function i(t){var i=f.get("TrackedElementsManager");return new ob(i,n,t)}var t=this;t.create=i}function nk(n,t,i){function u(r){return new sb(n,t,i,r)}var r=this;r.create=u}function tk(n,t,i,r,u,f,e,o){function c(){s=n.isAutoTrackingOn()}function l(n){var h=new kb(t,i,r,u,f,o,n);return s?new wb(e,h):new bb(e,h)}var s,h=this;h.create=l;c()}function ik(n,t,i,r,u,f,e){function s(o){return new lb(n,t,i,r,u,f,e,o)}var o=this;o.create=s}function rk(n){function i(t){return new cb(n,t)}var t=this;t.create=i}function uk(n,t,i,r){function e(){u=n.isFeatureEnabled(t.FEATURES.pageChangeTracking)?r:i}function o(){return u}var f=this,u;f.get=o;e()}function fk(n,t,i){function o(){u.ExtendsInstance(f.create("BaseBalloon",i));r=u._base}var r,u=f.create("WalkmeOOP",this),e=u.Prop.Public("contentMargin",15);u.Override("manipulationsForInlineCss",function(){t.isIE(8,"lte")||r.balloonSettings()});u.Override("createTemplateData",function(){var i=r.createTemplateData();return i.outerDiv=r.getCustomDivHtml("inner-div"),i.colors.xBtn=r.balloonSettings().XButtonColor,i.top={minHeight:30,textAlign:i.direction.side,content:{sideMargin:e(),oppositeSideMargin:e()-2}},i.shadow=n.calculate(r.balloonSettings().ShadowType,r.balloonSettings().ShadowLevel,r.balloonSettings().ShadowColor),i.isNotIe7=!t.isIEBrowser(7),i});u.Override("createHtmlTemplate",function(){return function(n,t,i){var r=this;return r.b(i=i||""),r.b("<div class='walkme-tooltip-outer-div walkme-tooltip-v1' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" width: auto; position: absolute; direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b(";'><div class='walkme-tooltip-mid-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; position: relative; -webkit-box-shadow: 0px 3px 2px -3px rgba(0, 0, 0, 0.6); -moz-box-shadow: 0px 3px 2px -3px rgba(0, 0, 0, 0.6); box-shadow: 0px 3px 2px -3px rgba(0, 0, 0, 0.6); font-family: walkme-opensans; border-radius:3px; overflow: hidden;'><div class='walkme-tooltip-inner-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",n,t,0))),r.b("; border:"),r.b(r.v(r.d("border.size",n,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.border",n,t,0))),r.b("; border-radius: 3px; border-"),r.b(r.v(r.d("position.side",n,t,0))),r.b(": none; overflow: hidden;'>"),r.b(r.t(r.f("outerDiv",n,t,0))),r.b("<div class='walkme-tooltip-top-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",n,t,0))),r.b("; border-radius: 3px;'><div class='walkme-tooltip-content-wrapper' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b(";'>"),r.s(r.d("data.content",n,t,1),n,t,0,1006,1264,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<div class='walkme-tooltip-content' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" direction: ");i.b(i.v(i.d("direction.basic",n,t,0)));i.b("; text-align: ");i.b(i.v(i.d("direction.side",n,t,0)));i.b("; padding: 9px 9px 8px 9px; line-height: 18px; font-size:12px; color:");i.b(i.v(i.d("colors.content",n,t,0)));i.b("; overflow: auto;zoom: 1;'>");i.b(i.t(i.d("data.content",n,t,0)));i.b("<\/div>")}),n.pop()),r.b("<\/div><\/div><\/div><\/div><\/div>"),r.fl()}});o.apply(null,arguments)}function ek(n,t,i,u,e,o,s,h){function v(){return"walkme-tooltip-"+h.itemId}function y(){return a}function p(n,t){return["walkme-custom-tooltip-arrow","walkme-custom-tooltip-arrow-"+t,"walkme-custom-tooltip-arrow-"+n,"walkme-custom-tooltip-arrow-"+n+"-"+t,"walkme-custom-tooltip-item-"+h.itemId]}function w(){l.ExtendsInstance(f.create("BaseBalloonDrawer",h));var n=h.balloonSettings.minPopupWidth?h.balloonSettings.minPopupWidth:300;a=h.cssClasses||[];c=l._base;d();c.balloonClass("TooltipV1");c.minWidth(0);c.minPopupWidth(n);c.arrowHeight(5);c.arrowBaseWidth(9);c.hasBorder(!1);c.shouldScrollToElement(!1);c.balloonTitleSelector(".walkme-tooltip-content");c.balloonContentSelector(".walkme-tooltip-content")}function b(n,t){var f;n.show();var e=c.arrowBaseWidth(),o=parseFloat(t[0].css("top")),u=parseFloat(n.css("top")),s=n[0]?n[0].offsetHeight:0,i=o-u,r=s;(n.hide(),r-i<e&&r>i)&&(f=u-(r-i),n.css("top",f+"px"))}function k(n){n[0].css("border-top-color",c.balloonSettings().Color)}function d(){o.getCurrentPlatform()==u.PLATFORM.MobileWeb&&c.defaultMaxWidth(230)}function g(n){var t,i=r(".walkme-tooltip-arrow-inner",n.parent()),u=r(".walkme-tooltip-arrow-outer",n.parent());if(i.hasClass("walkme-tooltip-arrow-right"))t="right";else{if(!i.hasClass("walkme-tooltip-arrow-left"))return;t="left"}i.css("border-"+t+"-color",c.balloonSettings().Color);u.css("border-"+t+"-color",c.balloonSettings().BorderColor)}var c,l=f.create("WalkmeOOP",this),a=[];l.Override("addBalloonDiv",function(t,u){var f=n.createElementInDocument(t,u[0].ownerDocument);return s.isFeatureEnabled("accessibility")&&(focusableElements=f.find(".walkme-custom-balloon-content-wrapper, .walkme-custom-balloon-button, .walkme-custom-balloon-close-button"),n.addTabIndex(focusableElements),focusableElements.on("focus",function(){r(this).css({outline:"2px solid #efb05e","outline-offset":"-1px"})}),focusableElements.on("blur",function(){r(this).css({outline:"none","outline-offset":"0px"})})),i.setLangAttribute(f),f.css("display","none"),f});l.Override("decideWhereToPop",function(n,t,i,r,u){return void 0!=h.tooltipPosition?e.getPredefinedPosition(n,t,r,u,h.tooltipPosition,h.tooltipPositionOffset):e.findBestPosition(n,t,r,u,h.directionToAvoid)});l.Override("loadResources",function(n,i){var r=c.balloonSettings().FontsData;r?t.fonts(r,n,i,i):i&&i()});l.Override("getArrowsColors",function(){var n=c.balloonSettings(),t=n.Color,i=n.BorderColor;return{innerArrow:t,outterArrow:i}});l.Override("fixArrows",function(n){var i=n.balloonDiv,r=n.arrowsDivs,t=n.result,f=n.isInCaptureMode,e=n.isQuirksMode,o=c.balloonSettings().direction,s=t.positionType==u.POSITION_TYPE.Left||t.positionType==u.POSITION_TYPE.Right;s?b(i,r,t,o,e):f&&t.positionType==u.POSITION_TYPE.Top&&k(r);n.isQuirksMode&&g(i)});l.Override("fixQuirksMode",function(){});l.Override("finalizeArrowsPosition",function(n,t){switch(n){case u.POSITION_TYPE.Top:t.top--;break;case u.POSITION_TYPE.Bottom:t.top++;break;case u.POSITION_TYPE.Left:t.left--;break;case u.POSITION_TYPE.Right:t.left++}});l.Override("handleWiderElement",function(n,t){var i=mtjQuery(".walkme-tooltip-content",t);return i.css("width",n+"px"),t.css("width","auto"),{width:t.width(),height:t.height()}});l.Override("generateIdForBalloon",v);l.Override("generateClassesForBallon",y);l.Override("generateClassesForArrows",p);w.apply(null,arguments)}function ok(n,t){function f(){i=n.createBalloon(t)}function e(){var n=r.Deferred();return i.Show(!1,function(t,i){n.resolve(i)}),n.promise()}function o(){var n=r.Deferred();return i.destroy(!1,function(){n.resolve()}),n.promise()}var u=this,i;u.show=e;u.destroy=o;f.apply(null,arguments)}function sk(n,t,i,u,e){function s(o){var c=e.get(),l=h(c,o.styling),s=r.extend(!0,{},o.drawingOptions),a,v;return s.balloonSettings=l,a={element:o.element,forceEmbedBalloonInIframe:!1,positionHelper:t,stepSettings:s.stepSettings||{},text:{title:"",content:o.text,subText:""},data:{type:n.STEP_TYPE.Normal},configuration:l,logger:i,drawer:f.create("TooltipDrawerV1",s),siteConfig:c,bindButtonsFunc:u.addButtonEventsToBalloon},v=f.create("Balloon",a),v}function h(n,t){var i=d(n.BalloonSettings);return c(i,t),i.Vibrate=!1,l(i),i}function c(n,t){n.Color=t.backColor;n.BorderColor=t.borderColor;n.ContentColor=t.textColor;n.BalloonBorderWidth=1}function l(t){t.Animation&&(t.Animation={Id:n.ANIMATION_TYPES.None,InitCSS:{display:"block"},MetaData:{},Options:{},Properties:{}})}var o=this;o.createBalloon=s}function hk(){function t(){}function i(n,t,i,r){var u={element:n,text:t,styling:i,drawingOptions:r};return f.create("Tooltip",u)}var n=this;n.create=i;t.apply(null,arguments)}function ck(){var n=this;n.actions={element:{mouseover:"mouseover.element",mouseout:"mouseout.element",focus:"focus.element",blur:"blur.element",click:"click.element"},tooltip:{show:"show.tooltip",hide:"hide.tooltip"},document:{click:"click.document",touchstart:"touchstart.document"}}}function lk(n,t,i,u,f,e,o,s){function nt(){var n,t,i,r;for(a=s.tooltipDrawer,h=s.boundElement,n=f.getConfig(ot),t=e.get(s.events),v=t.eventsForElement,y=t.eventsForDocument,w=t.eventsForTooltip,c=u.create(n),i=0;i<n.stateMachineInitialActions.length;i++)r=n.stateMachineInitialActions[i],r.shouldSimulateAction(h)&&c.evaluate(r.action)}function tt(){var n=t(h);return k(n,v),k(n.getDocument(),y),c.reset(),a.destroy()}function it(){c.evaluate(o.actions.tooltip.show)}function rt(){c.evaluate(o.actions.tooltip.hide)}function ut(){p(h,v,d);p(r(h[0].ownerDocument),y,et)}function ft(){a.draw(h).then(function(n){n&&p(n,w,d)})}function p(n,t,r){var u,f;if(t)for(u=t.length-1;u>=0;u--)f=t[u],i.bind(n,f+b,r(f))}function k(n,t){var r,u;if(t)for(r=t.length-1;r>=0;r--)u=t[r],i.unbind(n,u+b)}function d(n){return function(){c.evaluate(n)}}function et(n){return function(t){t.target==h[0]||r.contains(h[0],t.target)||c.evaluate(n)}}function ot(n,t){t&&(t.shouldShow?ft():t.shouldHide&&a.destroy())}var l=this;l.clean=tt;l.setEvents=ut;l.show=it;l.hide=rt;var c,a,h,v,y,w,g=Math.floor(Math.random()*1e7),b=".Walkme.Tooltip."+g;nt()}function ak(){function t(){}function i(n,t,i){return f.create("TooltipController",{tooltipDrawer:n,boundElement:t,events:i})}var n=this;n.create=i;t.apply(null,arguments)}function vk(n,t){function r(){}function u(i){var r={};return r[n.TOOLTIPS_ACTIVATION_MODES.Mouse]=!0,t.isInput(i)&&(r[n.TOOLTIPS_ACTIVATION_MODES.Focus]=!0),r}var i=this;i.getEventsByElement=u;r.apply(null,arguments)}function yk(n,t,i){function y(){p()}function p(){o=[{shouldSimulateAction:function(n){return t.isInput(n)&&r(n).is(":focus")},action:n.actions.element.focus}];i.isIEOlderThan(9)||o.push({shouldSimulateAction:function(n){return r(n).is(":hover")},action:n.actions.element.mouseover})}function w(n){var t=l;return t=t.concat(a),t=t.concat(v),{initState:u.hidden,transitions:t,timedOutTransitions:c,globalActionFlags:e,defaultTransitionValuesToReturn:h,onStateChangedCallback:n,stateMachineInitialActions:o}}var s=this;s.getConfig=w;var f={mouseInside:1,focused:2},u={hidden:"hidden",delayShow:"delayShow",visible:"visible",delayHide:"delayHide"},e={};e[n.actions.element.mouseover]={addFlag:[f.mouseInside]};e[n.actions.element.mouseout]={removeFlag:[f.mouseInside]};e[n.actions.element.focus]={addFlag:[f.focused]};e[n.actions.element.blur]={removeFlag:[f.focused]};var o,h=[{fromState:u.delayShow,toState:u.visible,valueToReturn:{shouldShow:1}},{fromState:u.delayHide,toState:u.hidden,valueToReturn:{shouldHide:1}},{fromState:u.visible,toState:u.hidden,valueToReturn:{shouldHide:1}},{fromState:u.hidden,toState:u.visible,valueToReturn:{shouldShow:1}}],c=[{fromState:u.delayShow,timeout:300,toState:u.visible},{fromState:u.delayHide,timeout:300,toState:u.hidden}],l=[{fromState:u.hidden,onAction:n.actions.tooltip.show,toState:u.delayShow},{fromState:u.delayHide,onAction:n.actions.tooltip.show,toState:u.visible},{fromState:u.visible,onAction:n.actions.tooltip.hide,toState:u.hidden,ifNotFlagged:[f.focused,f.mouseInside]},{fromState:u.delayShow,onAction:n.actions.tooltip.hide,toState:u.hidden}],a=[{fromState:u.hidden,onAction:n.actions.element.mouseover,toState:u.delayShow},{fromState:u.delayShow,onAction:n.actions.element.mouseout,toState:u.hidden},{fromState:u.visible,onAction:n.actions.element.mouseout,toState:u.delayHide,ifNotFlagged:[f.focused]},{fromState:u.delayHide,onAction:n.actions.element.mouseover,toState:u.visible},{fromState:u.hidden,onAction:n.actions.element.click,toState:u.visible},{fromState:u.visible,onAction:n.actions.element.click,toState:u.hidden},{fromState:u.visible,onAction:n.actions.document.click,toState:u.hidden,ifNotFlagged:[f.focused]},{fromState:u.visible,onAction:n.actions.document.touchstart,toState:u.hidden,ifNotFlagged:[f.focused]}],v=[{fromState:u.hidden,onAction:n.actions.element.focus,toState:u.visible},{fromState:u.visible,onAction:n.actions.element.blur,toState:u.hidden,ifNotFlagged:[f.mouseInside]},{fromState:u.delayShow,onAction:n.actions.element.focus,toState:u.visible},{fromState:u.delayHide,onAction:n.actions.element.focus,toState:u.visible}];y()}function pk(n,t){function r(i){var r=[],u=[],f=[t.actions.element.mouseover,t.actions.element.mouseout],e=[t.actions.element.focus,t.actions.element.blur];return i[n.TOOLTIPS_ACTIVATION_MODES.Mouse]&&(r=r.concat(f),u=u.concat(f)),i[n.TOOLTIPS_ACTIVATION_MODES.Focus]&&(r=r.concat(e)),{eventsForElement:r,eventsForDocument:[],eventsForTooltip:u}}var i=this;i.get=r}function wk(n,t){function r(i){var r=[],u=[],f=[];return i[n.TOOLTIPS_ACTIVATION_MODES.Mouse]&&(r=r.concat([t.actions.element.click]),f=f.concat([t.actions.element.click]),u=u.concat([t.actions.document.click,t.actions.document.touchstart])),{eventsForElement:r,eventsForDocument:u,eventsForTooltip:f}}var i=this;i.get=r}function bk(){function t(n){for(var i,t=0;t<n.length;t++)i=n[t].Quiz,i&&!i.IsEnabled&&delete n[t].Quiz}var n=this;n.remove=t}function kk(n){function u(i,u){n.saveData(r(i),u,t.expiry)}function f(t){return n.getData(r(t),null)}function r(n){return t.key+"-"+n.Id}var i=this,t;i.setQuizStatus=u;i.getQuizStatus=f;t=n.keysConfig.teachMe.quizResult}function dk(n,t,i,u){function c(n){o&&o.destroy();o=null;n&&n()}function l(n){return e=f.create("QuizPlayEventRaiser",{quiz:n}),e.raiseQuizPlayEvent(),a(n).pipe(v).pipe(y).pipe(p).always(function(){u.raiseEvent(i.EVENTS.UIComponentDestroyed);o=null})}function a(t){var i=t.WelcomePage,r=n.get(i.UiComponentId,[i,t]);return e.registerXButtonClickedEvent(r),s(r,"start-quiz").pipe(function(){return t})}function v(i){var u=n.get(i.UiComponentId,i);return e.registerXButtonClickedEvent(u),s(u,"quiz-submitted").then(function(n,t,i){for(var u,r=0;r<i.questionsResults.length;r++)u=i.questionsResults[r],e.raiseQuizAnswerSubmittedEvent(u);e.raiseQuizSubmittedEvent()}).pipe(function(n,i,u){var f=1==u.didPassQuiz,o=f?i.SuccessSummeryPage:i.FailSummeryPage;return e.raiseQuizCompletionEvent(f,u.score),t.setQuizStatus(i,u.didPassQuiz),r.Deferred().resolve(i,o,u)})}function y(t,i,r){var u=n.get(i.UiComponentId,[i,t,r]);return e.registerXButtonClickedEvent(u),s(u,"open-quiz-results").pipe(function(){return r})}function p(n){var t=f.create("QuizResultsDisplayer",{quizResults:n});return o=t,t.show()}function s(n,t){var i=r.Deferred();return o=n,n.once("append-end",function(){n.show();i.notify("shown")}),n.once(t,function(){i.resolve.apply(null,arguments)}),"destroy-end"!=t&&n.once("destroy-end",function(){i.reject()}),n.append(),i.promise()}var h=this,e,o;h.releaseAll=c;h.playQuiz=l}function gk(n,t,i,u){function s(){f=u.quiz;o=i.generateNewPlayGuid(f.Id)}function h(){t.raiseEvent(n.EVENTS.Quizzes.QuizPlay,{currentPlayGuid:o,quiz:f})}function c(){t.raiseEvent(n.EVENTS.Quizzes.QuizSubmitted,{currentPlayGuid:o,quiz:f})}function l(i){for(var e={currentPlayGuid:o,quiz:f,questionId:i.questionId,question:i.question},u=0;u<i.userAnswersIds.length;u++)t.raiseEvent(n.EVENTS.Quizzes.QuizAnswerSubmitted,r.extend({},e,{answerId:i.userAnswersIds[u],answer:i.userAnswers||i.correctAnswers}))}function a(i,r){var u=i?n.EVENTS.Quizzes.QuizPass:n.EVENTS.Quizzes.QuizFail;t.raiseEvent(u,{currentPlayGuid:o,quiz:f,score:r})}function v(i){i.once("x-clicked",function(){t.raiseEvent(n.EVENTS.Quizzes.QuizXButtonClicked)})}var e=this,f,o;e.raiseQuizPlayEvent=h;e.raiseQuizSubmittedEvent=c;e.raiseQuizAnswerSubmittedEvent=l;e.raiseQuizCompletionEvent=a;e.registerXButtonClickedEvent=v;s()}function nd(){function t(n,t){return r(t).appendTo(n)}var n=this;n.appendToContainer=t}function td(n,t,i,r,u,e){function ft(){var t=n.getSettingsValue(l,"customButtons",[]),i,r;return 0==t.length&&(i=y()==h.STEP_TYPE.Popup,r=i?n.getSettingsValue(l,"popupStepButtons",[]):[],t=r),t}function et(){it(e.lib);w(e.balloonData.title);b(e.balloonData.content);k(e.balloonData.customHtml);d(e.balloonData.stepIndexText);s(e.balloonSettings);v(e.balloonSettings.direction);g(e.userGuid);y(e.stepType);l=e.settings;tt=e.end}function ot(n,t){var i={},u,f,r,e;if(i.nextButton=i.doneButton=i.backButton=i.submitButton=!1,i.buttonsArr=[],0==t.length)y()!=h.STEP_TYPE.Popup&&(i=p(n.back,n.next,n.done,n.submit));else for(u=0;u<t.length;u++)f=t[u],0==f.action?(r=p(!1,n.next,n.done,!1),i.nextButton=r.nextButton,i.doneButton=r.doneButton,r.buttonsArr.length>0&&i.buttonsArr.push(r.buttonsArr[0])):2==f.action?(e=p(n.back,!1,!1,!1),i.backButton=e.backButton,e.buttonsArr.length>0&&i.buttonsArr.push(e.buttonsArr[0])):i.buttonsArr.push(st(f));return i}function p(n,i,r,u){var f={},e=t.get();return f.backButton=f.nextButton=f.doneButton=f.submitButton=!1,f.buttonsArr=[],n&&(f.backButton={order:2,weak:!0,classes:a("back","weak"),buttonText:e.BackButtonText},f.buttonsArr.push(f.backButton)),i&&(f.nextButton={order:3,normal:!0,classes:a("next","normal"),buttonText:e.NextButtonText},ht()&&(f.nextButton.buttonText=e.DoneButtonText),f.buttonsArr.push(f.nextButton)),r&&(f.doneButton={order:3,normal:!0,classes:a("done","normal"),buttonText:e.DoneButtonText},f.buttonsArr.push(f.doneButton)),u&&(f.submitButton={order:4,normal:!0,classes:a("submit","normal"),buttonText:e.SubmitButtonText},f.buttonsArr.push(f.submitButton)),f}function st(n){var i=t.get(),r=n.action||-1;switch(parseInt(r)){case 1:return{order:4,normal:!0,classes:c("normal","start"),buttonText:i.WelcomeStepButtonStartText};case 3:return{order:1,weak:!0,classes:c("weak","cancel"),buttonText:i.WelcomeStepButtonCancelText};case 4:return{order:4,normal:!0,classes:a("submit","normal"),buttonText:i.SubmitButtonText};case 5:return{order:4,normal:!0,classes:c("normal","redirect"),buttonText:n.name};case 6:return{order:2,weak:!0,classes:c("weak","stay"),buttonText:n.name};case 7:return{order:4,normal:!0,classes:c("normal","ok"),buttonText:n.name}}var u=n.name||"",f=n.type,e=n.weak?"weak":"normal";return{order:2,weak:n.weak,normal:!n.weak,classes:c(e,f),buttonText:u}}function c(n,t){var i="walkme-custom-balloon-button walkme-custom-balloon-"+n+"-button";return t&&(i+=" walkme-custom-balloon-"+t+"-button walkme-action-"+t),i}function ht(){var t=n.getSettingsValue(l,"isNextToDone","0");return"1"==t}function ct(n){if(t.get()[n]){var i=t.get()[n];i=i.replace(/&quot;/gi,'"');i=i.replace(/&#39;/gi,"'");i=i.replace(/&amp;/gi,"&");t.get()[n]=i}}var l,tt,o=f.create("WalkmeOOP",this),it=o.Prop.Protected("lib"),w=o.Prop.Protected("title"),b=o.Prop.Protected("content"),k=o.Prop.Protected("customHtml"),d=o.Prop.Protected("stepIndexText"),s=o.Prop.Protected("balloonSettings"),v=o.Prop.Protected("direction"),g=o.Prop.Protected("userGuid"),y=(o.Prop.Protected("contentDiv"),o.Prop.Protected("fixedWidth"),o.Prop.Protected("fixedHeight"),o.Prop.Protected("stepType")),nt=o.Prop.Protected("buttons"),rt=(o.Virtual.Public("generateHtml",function(){var n=rt(),t=ut();return r.to_html(n,t)}),o.Virtual.Protected("createHtmlTemplate")),ut=o.Virtual.Protected("createTemplateData",function(){ct("BalloonCloseTooltip");var n=u.shouldDisplayX(l);return{data:{title:w(),content:b(),customHtml:k(),stepIndexText:d(),balloonCloseTooltip:t.get().BalloonCloseTooltip},font:s().Font,cssReset:i.CssResetRules,displayX:n,colors:{mainBg:s().Color,minorBg:s().BalloonColor2,border:s().BorderColor,header:s().HeaderColor,content:s().ContentColor,footerText:s().FooterTextColor,buttonBg:s().ButtonBgColor,buttonBg2:s().ButtonBgColor2,buttonBorder:s().ButtonBorderColor,buttonText:s().ButtonTextColor},radiuses:{balloon:s().BalloonRadius+"px",button:s().BalloonButtonRadius+"px"},direction:{basic:v(),side:"rtl"==v()?"right":"left",oppositeSide:"rtl"==v()?"left":"right"},poweredBy:{showText:"txt"==s().showPoweredByFormat,link:s().showPoweredBy?"http://www.walkme.com/?u="+g():""},buttons:nt().buttonsArr,border:{size:s().BalloonBorderWidth+"px"}}}),a=(o.Virtual.Public("manipulationsForInlineCss",function(){}),o.Protected("getCustomDivHtml",function(n){return"<div class='walkme-custom-balloon-custom-div-"+n+"' style='display:none;' ><\/div>"}),o.Virtual.Protected("generateNormalButtonClasses",function(n,t){return c(t,n)}));o.Public("initButtons",function(n){var t={back:n.backButton,next:n.nextButton,done:n.doneButton,submit:n.submitButton},i=ft(),r=ot(t,i);nt(r)});et.apply(null,arguments)}function id(n){function u(){}function f(n,t,u,f,e,o,s){var v;t.show();var l=r(".walkme-custom-balloon-bottom-div",t),y=l[0]?l[0].offsetHeight:0,p=o,w=parseFloat(u[0].css("top")),a=parseFloat(t.css("top")),b=t[0]?t[0].offsetHeight:0,h=w-a,c=b-y;(t.hide(),c-h<p&&c>h)?(v=a-(c-h+1),t.css("top",v+"px"),i(n,u,e,f.positionType,s)):c<=h&&i(n,u,e,f.positionType,s)}function e(n,t,i){var u,f=r(".walkme-custom-balloon-arrow-inner",n.parent()),e=r(".walkme-custom-balloon-arrow-outer",n.parent());if(f.hasClass("walkme-custom-balloon-arrow-right"))u="right";else{if(!f.hasClass("walkme-custom-balloon-arrow-left"))return;u="left"}f.css("border-"+u+"-color",i);e.css("border-"+u+"-color",t)}function o(n,t){t[0].css("border-top-color",n.Color)}function i(t,i,r,u,f){var s=u==n.POSITION_TYPE.Left&&"ltr"==r||u==n.POSITION_TYPE.Right&&"rtl"==r,o,e;for((s||f)&&(o=u==n.POSITION_TYPE.Left?"left":"right",i[0].css("border-"+o+"-color",t.BalloonColor2)),e=0;e<i.length;e++)i[e].addClass("walkme-custom-balloon-arrow-footer")}this.LocalSVNRevision="$Rev$";var t=this;t.finalizeArrowsPosition=function(t,i){switch(t){case n.POSITION_TYPE.Top:i.top--;break;case n.POSITION_TYPE.Bottom:i.top++;break;case n.POSITION_TYPE.Left:i.left--;break;case n.POSITION_TYPE.Right:i.left++}};t.fixArrows=function(t){var u=t.balloonDiv,s=t.arrowsDivs,i=t.result,c=t.isInCaptureMode,h=t.isQuirksMode,r=t.balloonSettings,l=t.arrowBaseWidth,a=t.balloonSettings.Color,v=t.outerArrowColor,y=r.direction,p=i.positionType==n.POSITION_TYPE.Left||i.positionType==n.POSITION_TYPE.Right;p?f(r,u,s,i,y,l,h):c&&i.positionType==n.POSITION_TYPE.Top&&o(r,s);h&&e(u,v,a)};u.apply(null,arguments)}function rd(n,t,i,r,u){function h(){o.ExtendsInstance(f.create("BaseBalloon",u));e=o._base;s=u.balloonSettings}function c(n,t,i){return t="direction:"+t+";",l(n,t,i)}function l(n,t,i){if(n.indexOf(r.SUBTEXT_CURRENT_START)>-1&&n.indexOf(r.SUBTEXT_CURRENT_END)>-1&&n.indexOf(r.SUBTEXT_TOTAL_START)>-1&&n.indexOf(r.SUBTEXT_TOTAL_END)>-1){i="float:"+i+";";var u="<span style='"+i+"'>&nbsp;<\/span>";n="<div class='walkme-custom-balloon-current-step-text' style='"+t+i+"'>"+n;n=n.replace(r.SUBTEXT_CURRENT_START,"<\/div>"+u+"<div class='walkme-custom-balloon-current-step-number' style='"+i+"'>");n=n.replace(r.SUBTEXT_CURRENT_END,"<\/div>"+u+"<div class='walkme-custom-balloon-total-steps-text' style='"+t+i+"'>");n=n.replace(r.SUBTEXT_TOTAL_START,"<\/div>"+u+"<div class='walkme-custom-balloon-total-steps-number' style='"+i+"'>");n=n.replace(r.SUBTEXT_TOTAL_END,"<\/div>");n+="<div style='clear:both;'><\/div>"}return n}var e,s,o=f.create("WalkmeOOP",this);o.Override("generateHtml",function(){return e.customHtml()&&e.customHtml().inner||e.generateHtml()});o.Override("generateNormalButtonClasses",function(n,t){return e.generateNormalButtonClasses(n,t)+" mt-custom-balloon-"+n+"-button CUSTOM-STEP-ID"});o.Override("createTemplateData",function(){var r=e.createTemplateData(),o=i.get(),h,u,f;return r.outerDiv=e.getCustomDivHtml("outer-div"),r.title=e.getCustomDivHtml("title"),r.content=e.getCustomDivHtml("content"),r.poweredBy.showImage="img"==e.balloonSettings().showPoweredByFormat,r.buttonShadowWidth=e.balloonSettings().ButtonShadowWidth,r.serverName=o,h="rtl"==e.direction()?"right":"left",r.data.stepIndexText=c(e.stepIndexText(),e.direction(),h),r.ie7LayoutFix="overflow: auto;zoom: 1;",r.buttonsExist=e.buttons().buttonsArr.length>0,r.showBottomDiv=!("no"==e.balloonSettings().showPoweredByFormat&&0==e.stepIndexText().length),t.fixGradientColorsInConfiguration(s,"ButtonBgColor"),t.fixGradientColorsInConfiguration(s,"ButtonBgColor2"),u=s.ButtonBgColor,f=s.ButtonBgColor2,u==f?r.BackgroundCSS=" background-color: "+u+"; ":(r.BackgroundCSS="background:-moz-linear-gradient(top, "+u+" , "+f+" ); background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+u+"), color-stop(100%,"+f+")); background:-webkit-linear-gradient(top, "+u+" 0%,"+f+" 100%); background:-o-linear-gradient(top, "+u+" 0%,"+f+" 100%); background:-ms-linear-gradient(top, "+u+" 0%,"+f+" 100%); background:linear-gradient(to bottom, "+u+" 0%,"+f+' 100%); filter:progid:DXImageTransform.Microsoft.gradient( startColorstr="'+u+'", endColorstr="'+f+'",GradientType=0 ); ',t.isGradientWithBorderRadiusCompatible()||(r.radiuses.button="0"),n.isGradientUsingFilter(r.BackgroundCSS)&&(r.BackgroundCSS+="background: url("+o+"/player/resources/images/spacer.gif) repeat;")),r});o.Override("createHtmlTemplate",function(){return function(n,t,i){var r=this;return r.b(i=i||""),r.b(r.t(r.f("outerDiv",n,t,0))),r.b("<div class='walkme-custom-balloon-top-div mt-custom-balloon-top-div CUSTOM-STEP-ID' style='text-align: "),r.b(r.v(r.d("direction.side",n,t,0))),r.b(";padding-top:5px; padding-"),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b(": 3px; padding-bottom: 1px; padding-"),r.b(r.v(r.d("direction.side",n,t,0))),r.b(": 7px;margin:3px 3px 0 3px;direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b(";'><div class='walkme-custom-balloon-content-wrapper' style='min-height: "),r.s(r.f("buttonsExist",n,t,1),n,t,0,388,390,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("30")}),n.pop()),r.s(r.f("buttonsExist",n,t,1),n,t,1,0,0,"")||r.b("0"),r.b("px;'>"),r.s(r.f("displayX",n,t,1),n,t,0,460,818,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<div class='walkme-custom-balloon-close-button walkme-action-close mt-custom-balloon-close-button CUSTOM-STEP-ID walkme-action-close' style='opacity:0.7; font-size: 16px; position: absolute; top: 2px; ");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": 8px; cursor: pointer;color:");i.b(i.v(i.d("colors.content",n,t,0)));i.b(";font-weight:normal;font-family:;' title='");i.b(i.v(i.d("data.balloonCloseTooltip",n,t,0)));i.b("'>&#215;<\/div>")}),n.pop()),r.b("<div class='walkme-custom-balloon-title mt-custom-balloon-title CUSTOM-STEP-ID' style='text-align: "),r.b(r.v(r.d("direction.side",n,t,0))),r.b(";font-weight:bold;margin-top:2px;margin-"),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b(":14px;font-size:15px;color:"),r.b(r.v(r.d("colors.header",n,t,0))),r.b(";font-family:"),r.b(r.t(r.f("font",n,t,0))),r.b(";'>"),r.b(r.t(r.f("title",n,t,0))),r.b(r.t(r.d("data.title",n,t,0))),r.b("<\/div>"),r.s(r.d("data.content",n,t,1),n,t,0,1134,1429,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<div class='walkme-custom-balloon-content mt-custom-balloon-content CUSTOM-STEP-ID' style='text-align: ");i.b(i.v(i.d("direction.side",n,t,0)));i.b(";margin-top: 4px; margin-");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": 6px; font-family:");i.b(i.v(i.f("font",n,t,0)));i.b(";font-size:14px;color:");i.b(i.v(i.d("colors.content",n,t,0)));i.b(";");i.b(i.v(i.f("ie7LayoutFix",n,t,0)));i.b("'>");i.b(i.t(i.f("content",n,t,0)));i.b(i.t(i.d("data.content",n,t,0)));i.b("<\/div>")}),n.pop()),r.b("<\/div><div class='walkme-custom-balloon-top-div-bottom mt-custom-balloon-top-div-bottom CUSTOM-STEP-ID' style='clear: both;'>"),r.s(r.f("buttonsExist",n,t,1),n,t,1,0,0,"")||r.b("<div class='walkme-custom-balloon-no-buttons-div' style='height: 10px'><\/div>"),r.s(r.f("buttonsExist",n,t,1),n,t,0,1699,2702,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<div class='walkme-custom-balloon-buttons-div mt-custom-balloon-buttons-div CUSTOM-STEP-ID' style='clear:both;padding:5px;text-align:");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(";direction:");i.b(i.v(i.d("direction.basic",n,t,0)));i.b("'>");i.s(i.f("buttons",n,t,1),n,t,0,1902,2684,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("<button class='");i.b(i.v(i.f("classes",n,t,0)));i.b("' type='button' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(";-moz-border-radius:");i.b(i.v(i.d("radiuses.button",n,t,0)));i.b("; -webkit-border-radius:");i.b(i.v(i.d("radiuses.button",n,t,0)));i.b("; border-radius:");i.b(i.v(i.d("radiuses.button",n,t,0)));i.b("; direction: ");i.b(i.v(i.d("direction.basic",n,t,0)));i.b(";");i.b(i.v(i.f("BackgroundCSS",n,t,0)));i.b("-moz-box-shadow: 0 0 ");i.b(i.v(i.f("buttonShadowWidth",n,t,0)));i.b("px rgba(0, 0, 0, 0.4); -webkit-box-shadow: 0 0 ");i.b(i.v(i.f("buttonShadowWidth",n,t,0)));i.b("px rgba(0, 0, 0, 0.4); box-shadow: 0 0 ");i.b(i.v(i.f("buttonShadowWidth",n,t,0)));i.b("px rgba(0, 0, 0, 0.4); border: 1px solid ");i.b(i.v(i.d("colors.buttonBorder",n,t,0)));i.b("; color: ");i.b(i.v(i.d("colors.buttonText",n,t,0)));i.b("; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal; font-family: Arial; margin-");i.b(i.v(i.d("direction.side",n,t,0)));i.b(": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static; overflow: visible;' ");i.b(i.v(i.f("wtIdAttribute",n,t,0)));i.b(">");i.b(i.t(i.f("buttonText",n,t,0)));i.b("<\/button>")}),n.pop());i.b("<\/div>")}),n.pop()),r.b("<\/div><\/div>"),r.s(r.f("showBottomDiv",n,t,1),n,t,0,2749,4329,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<div class='walkme-custom-balloon-separator' style='display: block; margin: 0 10px; height: 1px; opacity: 0.2; filter: alpha(opacity=20); background-color: ");i.b(i.v(i.d("colors.footerText",n,t,0)));i.b("; line-height: 0px;'>&#160;<\/div><div class='walkme-custom-balloon-bottom-div' style='position: relative; height: 23px; display: block;'><div class='walkme-custom-balloon-subtext mt-custom-balloon-subtext CUSTOM-STEP-ID' style='text-align: ");i.b(i.v(i.d("direction.side",n,t,0)));i.b("; position: absolute; ");i.b(i.v(i.d("direction.side",n,t,0)));i.b(": 10px; display:inline-block;font-family: ");i.b(i.t(i.f("font",n,t,0)));i.b(";font-size:10px;margin-top:3px;margin-bottom:0px;color: ");i.b(i.v(i.d("colors.footerText",n,t,0)));i.b("'>");i.b(i.t(i.d("data.stepIndexText",n,t,0)));i.b("<\/div><div class='walkme-custom-balloon-powered-by-div mt-custom-balloon-powered-by-div CUSTOM-STEP-ID' style='display:inline-block;position: absolute; ");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": 10px; top: 3px;text-decoration:none;font-family:");i.b(i.t(i.f("font",n,t,0)));i.b(";font-size:10px;opacity: 0.9; width:100px; color:");i.b(i.v(i.d("color.content",n,t,0)));i.b(";text-align: ");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(" '>");i.s(i.d("poweredBy.link",n,t,1),n,t,0,3744,3993,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("<a class='walkme-custom-balloon-powered-by-link mt-custom-balloon-powered-by-link CUSTOM-STEP-ID' href='");i.b(i.v(i.d("poweredBy.link",n,t,0)));i.b("' target='_blank' style='text-decoration:none;font-family:");i.b(i.t(i.f("font",n,t,0)));i.b(";font-size:10px;opacity: 0.9; color:");i.b(i.v(i.d("colors.footerText",n,t,0)));i.b("'>")}),n.pop());i.s(i.d("poweredBy.showText",n,t,1),n,t,0,4035,4048,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("By WalkMe.com")}),n.pop());i.s(i.d("poweredBy.showImage",n,t,1),n,t,0,4095,4251,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("<div title='WalkMe.com' style='border: none; background-image: url(");i.b(i.v(i.f("serverName",n,t,0)));i.b("/player/resources/images/by-walkme.png); width: 49px; height: 18px;'><\/div>")}),n.pop());i.s(i.d("poweredBy.link",n,t,1),n,t,0,4294,4298,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("<\/a>")}),n.pop());i.b("<\/div><\/div>")}),n.pop()),r.fl()}});h()}function ud(n,t,i,r,u,e,o,s,h,c){function b(){a.ExtendsInstance(f.create("BaseBalloon",c));l=a._base;v=c.entity}function k(){l.buttons().buttonsArr.sort(function(n,t){return n.order-t.order})}function d(n){var t=function(n,t,i){var r=this;return r.b(i=i||""),r.s(r.f("buttons",n,t,1),n,t,0,12,906,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<button class='");i.b(i.v(i.f("classes",n,t,0)));i.b(" walkme-click-and-hover' type='button' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" zoom: 1; border: none; margin-top: 6px; margin-bottom: 6px; height: 21px; font-family: inherit; cursor: pointer; display: inline-block; direction: ");i.b(i.v(i.d("direction.basic",n,t,0)));i.b(";");i.s(i.f("normal",n,t,1),n,t,0,277,513,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("text-align:center; background-color: ");i.b(i.v(i.d("colors.buttonBg",n,t,0)));i.b("; color: ");i.b(i.v(i.d("colors.buttonText",n,t,0)));i.b("; border-radius:");i.b(i.v(i.d("radiuses.button",n,t,0)));i.b("; margin-");i.b(i.v(i.d("direction.side",n,t,0)));i.b(": 7px; ");i.s(i.f("isNotIe7",n,t,1),n,t,0,445,461,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("min-width: 42px;")}),n.pop());i.b(" padding-left: 5px; padding-right: 5px;")}),n.pop());i.s(i.f("weak",n,t,1),n,t,0,533,690,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("text-align:");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b("; background:none; color: ");i.b(i.v(i.d("colors.footerText",n,t,0)));i.b("; margin-");i.b(i.v(i.d("direction.side",n,t,0)));i.b(": 3px; margin-");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": 2px;")}),n.pop());i.b("'><span class='walkme-custom-balloon-button-text' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" direction: ");i.b(i.v(i.d("direction.basic",n,t,0)));i.b("; text-align:center; font-size: 10px; position:relative; color:inherit;'>");i.b(i.t(i.f("buttonText",n,t,0)));i.b("<\/span><\/button>")}),n.pop()),r.s(r.f("buttons",n,t,1),n,t,1,0,0,"")||(r.b("<div class='walkme-custom-balloon-no-buttons-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b("'><\/div>"),r.s(r.d("poweredBy.link",n,t,1),n,t,0,1028,1546,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.s(i.d("poweredBy.showText",n,t,1),n,t,0,1051,1523,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("<div class='walkme-custom-powered-by-div' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" cursor: pointer; margin-top:6px; margin-bottom:6px; color:");i.b(i.v(i.d("colors.footerText",n,t,0)));i.b("; font-size:9px; display: inline-block; text-align: ");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b("'><a draggable='false' class='walkme-custom-powered-by walkme-click-and-hover' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" text-decoration:none; font-size: inherit; color:");i.b(i.v(i.d("colors.footerText",n,t,0)));i.b("; display: inline;' href='");i.b(i.v(i.d("poweredBy.link",n,t,0)));i.b("' target='_blank'>By WalkMe<\/a><\/div>")}),n.pop())}),n.pop())),r.fl()};return o.to_html(t,n)}var l,v,a=f.create("WalkmeOOP",this),y=8,w=function(n,t,i){var r=this;return r.b(i=i||""),r.b("<div class='walkme-custom-balloon-outer-div walkme-custom-balloon-v3 wm-custom-balloon-"),r.b(r.v(r.d("direction.basic",n,t,0))),r.b(" "),r.b(r.v(r.f("designTemplateCssClass",n,t,0))),r.b("' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" width: auto; min-width: 190px; position: absolute; direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b(";'><div class='walkme-custom-balloon-mid-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; position: relative; "),r.s(r.f("shadow",n,t,1),n,t,0,369,453,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("-webkit-box-shadow: ");i.b(i.v(i.f("shadow",n,t,0)));i.b("; -moz-box-shadow: ");i.b(i.v(i.f("shadow",n,t,0)));i.b("; box-shadow: ");i.b(i.v(i.f("shadow",n,t,0)));i.b(";")}),n.pop()),r.b(" font-family: "),r.b(r.t(r.f("font",n,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",n,t,0))),r.b("; overflow: hidden;'><div class='walkme-custom-balloon-inner-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",n,t,0))),r.b("; border:"),r.b(r.v(r.d("border.size",n,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.border",n,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",n,t,0))),r.b("; border-"),r.b(r.v(r.d("position.side",n,t,0))),r.b(": none; overflow: hidden;'>"),r.s(r.d("data.customHtml.inner",n,t,1),n,t,0,841,868,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b(i.t(i.d("data.customHtml.inner",n,t,0)))}),n.pop()),r.s(r.d("data.customHtml.inner",n,t,1),n,t,1,0,0,"")||(r.b(r.t(r.f("outerDiv",n,t,0))),r.b("<div class='walkme-custom-balloon-top-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",n,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",n,t,0))),r.b(";'><div class='walkme-custom-balloon-content-wrapper' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; min-height: "),r.b(r.v(r.d("top.minHeight",n,t,0))),r.b("px;'>"),r.s(r.f("customHtml",n,t,1),n,t,0,1258,1274,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b(i.t(i.f("customHtml",n,t,0)))}),n.pop()),r.s(r.f("customHtml",n,t,1),n,t,1,0,0,"")||(r.s(r.f("displayX",n,t,1),n,t,0,1317,1737,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<div class='walkme-click-and-hover walkme-custom-balloon-close-button walkme-action-close walkme-inspect-ignore' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" font-size: 12px; color: ");i.b(i.v(i.d("colors.xBtn",n,t,0)));i.b("; position: absolute; ");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": 0px; top: 0px; padding-");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": ");i.b(i.v(i.d("xBtn.marginHorizental",n,t,0)));i.b("; margin-top: ");i.b(i.v(i.d("xBtn.marginTop",n,t,0)));i.b("; cursor: pointer;font-weight:normal;' title='");i.b(i.v(i.d("data.balloonCloseTooltip",n,t,0)));i.b("'>&#215;<\/div>")}),n.pop()),r.b("<div class='walkme-custom-balloon-title' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; padding-top:"),r.b(r.v(r.d("top.title.paddingTop",n,t,0))),r.b("px; padding-"),r.b(r.v(r.d("direction.side",n,t,0))),r.b(": 15px; padding-"),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b(": 13px; text-align: "),r.b(r.v(r.d("top.textAlign",n,t,0))),r.b("; font-size:14px; color:"),r.b(r.v(r.d("colors.header",n,t,0))),r.b(";'>"),r.b(r.t(r.d("data.title",n,t,0))),r.b(r.t(r.f("title",n,t,0))),r.b("<\/div>"),r.s(r.d("data.content",n,t,1),n,t,0,2084,2468,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<div class='walkme-custom-balloon-content' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" direction: ");i.b(i.v(i.d("direction.basic",n,t,0)));i.b("; text-align: ");i.b(i.v(i.d("top.textAlign",n,t,0)));i.b("; margin-top: 2px; margin-");i.b(i.v(i.d("direction.side",n,t,0)));i.b(": ");i.b(i.v(i.d("top.content.sideMargin",n,t,0)));i.b("px; margin-");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": ");i.b(i.v(i.d("top.content.oppositeSideMargin",n,t,0)));i.b("px; line-height: 18px; font-size:12px; color:");i.b(i.v(i.d("colors.content",n,t,0)));i.b(";overflow: auto;zoom: 1;'>");i.b(i.t(i.d("data.content",n,t,0)));i.b("<\/div>")}),n.pop())),r.b("<\/div><\/div><div class='walkme-custom-balloon-separator' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.separator",n,t,0))),r.b(";  height:1px; margin-top:10px;  font-family: Arial; font-size: 1px;'><\/div><div class='walkme-custom-balloon-bottom-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.minorBg",n,t,0))),r.b(";'><div class='walkme-custom-balloon-subtext' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" color: "),r.b(r.v(r.d("colors.stepInfo",n,t,0))),r.b("; font-size: 9px; margin-top: "),r.b(r.v(r.d("bottom.stepIndexMarginTop",n,t,0))),r.b("px; margin-"),r.b(r.v(r.d("direction.side",n,t,0))),r.b(": 10px; float: "),r.b(r.v(r.d("direction.side",n,t,0))),r.b(";'>"),r.b(r.t(r.d("data.stepIndexText",n,t,0))),r.b("<\/div><div class='walkme-custom-balloon-top-div-bottom' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b(";'><div class='walkme-custom-balloon-buttons-wrapper' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; margin-"),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b(": 6px;'>"),r.b(r.t(r.f("buttonsHtml",n,t,0))),r.b("<\/div><\/div><div class='walkme-custom-balloon-bottom-clear' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" clear: both'><\/div><\/div>")),r.b("<\/div><div class='walkme-custom-side-border' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.buttonBg",n,t,0))),r.b("; width: 4px; height: 100%;  top:0px; "),r.b(r.v(r.d("direction.side",n,t,0))),r.b(":0px; border:"),r.b(r.v(r.d("border.side.size",n,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.buttonBg",n,t,0))),r.b("; border-"),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b(": none; border-top: none; border-bottom: none; position: absolute;'><\/div><\/div>"),r.s(r.d("data.customHtml.outter",n,t,1),n,t,0,3884,3912,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b(i.t(i.d("data.customHtml.outter",n,t,0)))}),n.pop()),r.b("<\/div>"),r.fl()},p=a.Prop.Public("contentMargin",15);a.Override("manipulationsForInlineCss",function(n){if(!r.isIE(8,"lte")){var t=l.balloonSettings();i.addClickAndHover({regularColor:t.ButtonBgColor,hoverColor:t.ButtonBgHoverColor,clickColor:t.ButtonBgClickColor,cssProperty:"background-color",elemSelector:".walkme-custom-balloon-normal-button",balloonDiv:n});i.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-powered-by",balloonDiv:n});i.addClickAndHover({regularColor:t.XButtonColor,hoverColor:t.XButtonHoverColor,clickColor:t.XButtonClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-close-button",balloonDiv:n});i.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-weak-button",balloonDiv:n})}});a.Override("createTemplateData",function(){var i=l.createTemplateData(),f,o;return i.outerDiv=l.getCustomDivHtml("inner-div"),i.title=l.getCustomDivHtml("title"),i.colors.xBtn=l.balloonSettings().XButtonColor,i.colors.stepInfo=l.balloonSettings().StepInfoColor,i.colors.separator=l.balloonSettings().SeparatorColor,i.stepIndexHeight=46,i.top={minHeight:57,textAlign:i.direction.side,title:{paddingTop:12},content:{sideMargin:p(),oppositeSideMargin:p()-2}},i.data.title&&!i.data.content&&(i.top.minHeight=43),i.bottom={},i.bottom.stepIndexMarginTop=10,n.isDefined(i.buttons)&&0!=i.buttons.length||(i.stepIndexHeight-=y,i.bottom.stepIndexMarginTop-=y/2),i.stepIndexHeight+="px",i.bottom.poweredByHeight+="px",i.xBtn={marginTop:l.balloonSettings().BalloonBorderWidth+"px",marginHorizental:parseInt(l.balloonSettings().BalloonBorderWidth)+4+"px"},f=l.balloonSettings().BalloonBorderWidth-4,f<0&&(f=0),i.border.side={size:f+"px"},i.shadow=t.calculate(l.balloonSettings().ShadowType,l.balloonSettings().ShadowLevel,l.balloonSettings().ShadowColor),i.isNotIe7=!r.isIEBrowser(7),k(),i.buttonsHtml=d(i),i.designTemplateCssClass=u.get(v,e.templateEntityType.balloon),o=v&&s.get(v.DesignTemplateId),o&&(i.customHtml=h.apply(o,i)),i});a.Override("createHtmlTemplate",function(){return w});b.apply(null,arguments)}function fd(n,t,i,r,u,e){function a(){s.ExtendsInstance(f.create("BaseBalloon",e));o=s._base}function v(){o.buttons().buttonsArr.sort(function(n,t){return n.order-t.order})}function y(n){var t=function(n,t,i){var r=this;return r.b(i=i||""),r.s(r.f("buttons",n,t,1),n,t,0,12,920,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<button class='");i.b(i.v(i.f("classes",n,t,0)));i.b(" walkme-click-and-hover' type='button' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" zoom: 1; border: none; margin-top: 6px; margin-bottom: 6px; height: 25px; font-family: inherit; cursor: pointer; display: inline-block; direction: ");i.b(i.v(i.d("direction.basic",n,t,0)));i.b(";");i.s(i.f("normal",n,t,1),n,t,0,277,513,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("text-align:center; background-color: ");i.b(i.v(i.d("colors.buttonBg",n,t,0)));i.b("; color: ");i.b(i.v(i.d("colors.buttonText",n,t,0)));i.b("; border-radius:");i.b(i.v(i.d("radiuses.button",n,t,0)));i.b("; margin-");i.b(i.v(i.d("direction.side",n,t,0)));i.b(": 7px; ");i.s(i.f("isNotIe7",n,t,1),n,t,0,445,461,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("min-width: 42px;")}),n.pop());i.b(" padding-left: 7px; padding-right: 7px;")}),n.pop());i.s(i.f("weak",n,t,1),n,t,0,533,704,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("text-align:");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b("; background:none; float: left; color: ");i.b(i.v(i.d("colors.footerText",n,t,0)));i.b("; margin-");i.b(i.v(i.d("direction.side",n,t,0)));i.b(": 10px; margin-");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": 2px;")}),n.pop());i.b("'><span class='walkme-custom-balloon-button-text' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" direction: ");i.b(i.v(i.d("direction.basic",n,t,0)));i.b("; text-align:center; font-size: 12px; position:relative; color:inherit;'>");i.b(i.t(i.f("buttonText",n,t,0)));i.b("<\/span><\/button>")}),n.pop()),r.s(r.f("buttons",n,t,1),n,t,1,0,0,"")||(r.b("<div class='walkme-custom-balloon-no-buttons-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b("'><\/div>"),r.s(r.d("poweredBy.link",n,t,1),n,t,0,1042,1581,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.s(i.d("poweredBy.showText",n,t,1),n,t,0,1065,1558,"{{ }}")&&(i.rs(n,t,function(n,t,i){i.b("<div class='walkme-custom-powered-by-div' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" cursor: pointer; margin-top: 11px; margin-bottom:6px; margin-right: 5px; color:");i.b(i.v(i.d("colors.footerText",n,t,0)));i.b("; font-size:9px; display: inline-block; text-align: ");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b("'><a draggable='false' class='walkme-custom-powered-by walkme-click-and-hover' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" text-decoration:none; font-size: inherit; color:");i.b(i.v(i.d("colors.footerText",n,t,0)));i.b("; display: inline;' href='");i.b(i.v(i.d("poweredBy.link",n,t,0)));i.b("' target='_blank'>By WalkMe<\/a><\/div>")}),n.pop())}),n.pop())),r.fl()};return u.to_html(t,n)}var o,s=f.create("WalkmeOOP",this),h=8,l=5,c=s.Prop.Public("contentMargin",15);s.Override("manipulationsForInlineCss",function(n){if(!r.isIE(8,"lte")){var t=o.balloonSettings();i.addClickAndHover({regularColor:t.ButtonBgColor,hoverColor:t.ButtonBgHoverColor,clickColor:t.ButtonBgClickColor,cssProperty:"background-color",elemSelector:".walkme-custom-balloon-normal-button",balloonDiv:n});i.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-powered-by",balloonDiv:n});i.addClickAndHover({regularColor:t.XButtonColor,hoverColor:t.XButtonHoverColor,clickColor:t.XButtonClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-close-button",balloonDiv:n});i.addClickAndHover({regularColor:t.FooterTextColor,hoverColor:t.FooterTextHoverColor,clickColor:t.FooterTextClickColor,cssProperty:"color",elemSelector:".walkme-custom-balloon-weak-button",balloonDiv:n})}});s.Override("createTemplateData",function(){var i=o.createTemplateData();return i.outerDiv=o.getCustomDivHtml("inner-div"),i.title=o.getCustomDivHtml("title"),i.colors.xBtn=o.balloonSettings().XButtonColor,i.colors.stepInfo=o.balloonSettings().StepInfoColor,i.colors.separator=o.balloonSettings().SeparatorColor,i.stepIndexHeight=46,i.top={minHeight:57,textAlign:i.direction.side,title:{paddingTop:12},content:{sideMargin:c(),oppositeSideMargin:c()-2}},i.data.title&&!i.data.content&&(i.top.minHeight=43),i.bottom={},i.bottom.stepIndexMarginTop=10,n.isDefined(i.buttons)&&0!=i.buttons.length||(i.stepIndexHeight-=h,i.bottom.stepIndexMarginTop-=h/2),i.stepIndexHeight+="px",i.bottom.poweredByHeight+="px",i.xBtn={marginTop:o.balloonSettings().BalloonBorderWidth-l+"px",marginHorizental:parseInt(o.balloonSettings().BalloonBorderWidth)+4+"px"},i.shadow=t.calculate(o.balloonSettings().ShadowType,o.balloonSettings().ShadowLevel,o.balloonSettings().ShadowColor),i.isNotIe7=!r.isIEBrowser(7),v(),i.buttonsHtml=y(i),i});s.Override("createHtmlTemplate",function(){return function(n,t,i){var r=this;return r.b(i=i||""),r.b("<div class='walkme-custom-balloon-outer-div walkme-custom-balloon-vm1' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" width: auto; min-width: 190px; position: absolute; direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b(";'><div class='walkme-custom-balloon-mid-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; position: relative; "),r.s(r.f("shadow",n,t,1),n,t,0,305,389,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("-webkit-box-shadow: ");i.b(i.v(i.f("shadow",n,t,0)));i.b("; -moz-box-shadow: ");i.b(i.v(i.f("shadow",n,t,0)));i.b("; box-shadow: ");i.b(i.v(i.f("shadow",n,t,0)));i.b(";")}),n.pop()),r.b(" font-family: "),r.b(r.t(r.f("font",n,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",n,t,0))),r.b("; overflow: hidden;'><div class='walkme-custom-balloon-inner-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",n,t,0))),r.b("; border:"),r.b(r.v(r.d("border.size",n,t,0))),r.b(" solid "),r.b(r.v(r.d("colors.buttonBg",n,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",n,t,0))),r.b("; border-"),r.b(r.v(r.d("position.side",n,t,0))),r.b(": none; overflow: hidden;'>"),r.s(r.d("data.customHtml.inner",n,t,1),n,t,0,779,806,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b(i.t(i.d("data.customHtml.inner",n,t,0)))}),n.pop()),r.s(r.d("data.customHtml.inner",n,t,1),n,t,1,0,0,"")||(r.b(r.t(r.f("outerDiv",n,t,0))),r.b("<div class='walkme-custom-balloon-top-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; background-color:"),r.b(r.v(r.d("colors.mainBg",n,t,0))),r.b("; border-radius:"),r.b(r.v(r.d("radiuses.balloon",n,t,0))),r.b(";'><div class='walkme-custom-balloon-content-wrapper' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; min-height: "),r.b(r.v(r.d("top.minHeight",n,t,0))),r.b("px;'>"),r.s(r.f("displayX",n,t,1),n,t,0,1194,1715,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<div class='walkme-click-and-hover walkme-custom-balloon-close-button walkme-action-close' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" border-radius: 20px; font-size: 23px; color: ");i.b(i.v(i.d("colors.xBtn",n,t,0)));i.b("; position: absolute; ");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": 0px; top: 0px; padding-");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": ");i.b(i.v(i.d("xBtn.marginHorizental",n,t,0)));i.b("; padding-");i.b(i.v(i.d("direction.side",n,t,0)));i.b(": 18px; padding-bottom: 6px; margin-top: ");i.b(i.v(i.d("xBtn.marginTop",n,t,0)));i.b("; cursor: pointer;font-weight:normal; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);' title='");i.b(i.v(i.d("data.balloonCloseTooltip",n,t,0)));i.b("'>&#215;<\/div>")}),n.pop()),r.b("<div class='walkme-custom-balloon-title' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" line-height: 30px; direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; padding-top:"),r.b(r.v(r.d("top.title.paddingTop",n,t,0))),r.b("px; padding-"),r.b(r.v(r.d("direction.side",n,t,0))),r.b(": 15px; padding-"),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b(": 13px; text-align: "),r.b(r.v(r.d("top.textAlign",n,t,0))),r.b("; font-size: 16px; color:"),r.b(r.v(r.d("colors.header",n,t,0))),r.b(";'>"),r.b(r.t(r.d("data.title",n,t,0))),r.b(r.t(r.f("title",n,t,0))),r.b("<\/div>"),r.s(r.d("data.content",n,t,1),n,t,0,2082,2468,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("<div class='walkme-custom-balloon-content' style='");i.b(i.t(i.f("cssReset",n,t,0)));i.b(" direction: ");i.b(i.v(i.d("direction.basic",n,t,0)));i.b("; text-align: ");i.b(i.v(i.d("top.textAlign",n,t,0)));i.b("; margin-top: 2px; margin-");i.b(i.v(i.d("direction.side",n,t,0)));i.b(": ");i.b(i.v(i.d("top.content.sideMargin",n,t,0)));i.b("px; margin-");i.b(i.v(i.d("direction.oppositeSide",n,t,0)));i.b(": ");i.b(i.v(i.d("top.content.oppositeSideMargin",n,t,0)));i.b("px; line-height: 18px; font-size:13px; color:");i.b(i.v(i.d("colors.content",n,t,0)));i.b(";overflow: hidden;zoom: 1;'>");i.b(i.t(i.d("data.content",n,t,0)));i.b("<\/div>")}),n.pop()),r.b("<\/div><\/div><div class='walkme-custom-balloon-separator' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" background-color:"),r.b(r.v(r.d("colors.separator",n,t,0))),r.b(";  height:1px; margin-top:10px;  font-family: Arial; font-size: 1px;'><\/div><div class='walkme-custom-balloon-bottom-div' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" padding: 3px 3px 3px 0; min-height:36px; background-color:"),r.b(r.v(r.d("colors.minorBg",n,t,0))),r.b(";'><div class='walkme-custom-balloon-subtext' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" position: absolute; color: "),r.b(r.v(r.d("colors.stepInfo",n,t,0))),r.b("; font-size: 9px; margin-top: "),r.b(r.v(r.d("bottom.stepIndexMarginTop",n,t,0))),r.b("px; left: 50%; transform: translateX(-65%); float: "),r.b(r.v(r.d("direction.side",n,t,0))),r.b(";'>"),r.b(r.t(r.d("data.stepIndexText",n,t,0))),r.b("<\/div><div class='walkme-custom-balloon-top-div-bottom' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b(";'><div class='walkme-custom-balloon-buttons-wrapper' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" text-align: "),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b("; direction: "),r.b(r.v(r.d("direction.basic",n,t,0))),r.b("; margin-"),r.b(r.v(r.d("direction.oppositeSide",n,t,0))),r.b(": 6px;'>"),r.b(r.t(r.f("buttonsHtml",n,t,0))),r.b("<\/div><\/div><div class='walkme-custom-balloon-bottom-clear' style='"),r.b(r.t(r.f("cssReset",n,t,0))),r.b(" clear: both'><\/div><\/div>")),r.b("<\/div><\/div>"),r.s(r.d("data.customHtml.outter",n,t,1),n,t,0,3616,3644,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b(i.t(i.d("data.customHtml.outter",n,t,0)))}),n.pop()),r.b("<\/div>"),r.fl()}});a.apply(null,arguments)}function ed(n,t,i,r,u,e,o,s,c,l,a,v,y,p,w,b){function ui(n){return!n||n<=0?et():n}function fi(n,t){var i;return(!n||n<=0)&&(i=0,mtjQuery.each(mtjQuery("[width], [style*=width], [style*=WIDTH]",t),function(n,t){mtjQuery(t).width()>i&&(i=mtjQuery(t).width())})),i}function ei(n){return{height:n.height(),width:n.width()}}function oi(n,t){n.width(t.width+"px");n.height(t.height+"px")}function si(n,t,i){return t&&(t>n||t>i)}function di(){ft(400);et(400);gt(!0);it(".walkme-custom-balloon-title");ut(".walkme-custom-balloon-content");ni(!0);ki(b.balloonSettings)}function ct(){return g()+1}function lt(n){var t=n[0],r=t.getBoundingClientRect(),u=i.getElementDocument(n),f=o.getOffsetRect(t,u,window);return o.getElementBoundsWithRectAndOffset(r,f)}function at(){var n=mtjQuery(document);return n.height=n.height(),n.width=n.width(),n.top=0,n.left=0,n}function vt(n){var v=mtjQuery(it(),n).text(),u=0,f=0,t=0,e=mtjQuery(ut(),n),o,r,h,c,l,a,y;if(e.length>0){for(o=e.html().replace(/<br*">/g,"< >").split("< >"),r=0;r<o.length;r++)h=o[r].replace(/(<([^>]+)>)/gi,"").length,t<h&&(t=h);c=mtjQuery(ut()+" span",n);f=c.length>0?parseInt(c.css("font-size").replace(/px/,"")):parseInt(e.css("font-size").replace(/px/,""))}return l=mtjQuery(it()+" span",n),u=l.length>0?parseInt(l.css("font-size").replace(/px/,"")):parseInt(mtjQuery(it(),n).css("font-size").replace(/px/,"")),a=0,a=v.length*u>t*f?v.length*u:t*f,y=parseFloat(i.getSettingsValue(s.get().Settings,"quirksModeFactor",.5)),a*y}function gi(n,t){var i=.5;return n==e.POSITION_OFFSET.Start?i=1:n==e.POSITION_OFFSET.End&&(i=0),2!=t&&3!=t||(i=1-i),i}function yt(n,t,i,r,u,f){var o=nr(u,f),h,c,s;return o.color=r,h=n.top,c=n.left,t.positionType==e.POSITION_TYPE.Bottom,t.positionType==e.POSITION_TYPE.Right,o.point_direction=t.positionType,o.angle=gi(t.positionOffset,o.point_direction),s=tr(o,i[0].ownerDocument),s.css({visibility:"hidden",top:h+"px",left:c+"px"}),mtjQuery(i.append(s)),s}function nr(n,t,i,r,u,f){return{width:n,height:t,point_direction:i||0,angle:r||0,color:u||"red",background:f||"transparent"}}function tr(n,t){var i=mtjQuery(t.createElement("div"));return i.css("display","block"),i.css("width","0"),i.css("height","0"),i.css("border",n.width+"px solid transparent"),i.css("border-"+nt[n.point_direction]+"-color",n.color),i.css("line-height","0"),i.css("border-"+nt[(n.point_direction+2)%4],"0px"),3==n.point_direction||1==n.point_direction?i.css("border-style","outset solid solid solid"):i.css("border-style","solid outset solid solid"),i}function ir(n,t,i,u){var f,o,s,h;return n.positionType==e.POSITION_TYPE.Top||n.positionType==e.POSITION_TYPE.Bottom?(s=n.left+t.width,f=pt(n.left,s,ot(),n.positionOffset,i.width,i.left),o=n.positionType==e.POSITION_TYPE.Top?n.top+t.height:n.top-g()):(n.positionType==e.POSITION_TYPE.Left||n.positionType==e.POSITION_TYPE.Right)&&(h=n.top+t.height,o=pt(n.top,h,ot(),n.positionOffset,i.height,i.top),n.positionType==e.POSITION_TYPE.Left?(f=n.left+t.width,r.isQuirksMode(u[0])&&(f-=2)):f=n.left-g()),{top:o,left:f}}function pt(t,i,r,u,f,o){var s;return u==e.POSITION_OFFSET.Center?s=(i+t-r)/2:u==e.POSITION_OFFSET.Start?s=o+(f-r)/2:u==e.POSITION_OFFSET.End?s=o+(f-r)/2:n.error(null,"incorrect offset type: "+u),rr(s,t,i,r)}function rr(n,t,i,r){var u=i-r;return n>u?u:n<t?t:n}function ur(n,t){var i=t.balloonData;i.title||n.addClass("walkme-custom-no-title");i.content||i.customHtml&&(i.customHtml.inner||i.customHtml.outter)||n.addClass("walkme-custom-no-content");var r=t.settings.customButtons&&t.settings.customButtons.length>0,u=t.settings.popupStepButtons&&t.settings.popupStepButtons.length>0,f=u||r||t.nextButton||t.backButton||t.doneButton||t.submitButton;f||n.addClass("walkme-custom-no-buttons")}function wt(n,t,i,r){var u=n.top-t.height-i>r.top,f=n.right+t.width+i<r.width+r.left,e=n.bottom+t.height+i<r.height+r.top,o=n.left-t.width-i>r.left;return{top:u,right:f,bottom:e,left:o}}var nt=["top","right","bottom","left"],kt=["center","start","end"],k=f.create("WalkmeOOP",this),tt=k.Prop.Protected("balloon"),dt=k.Prop.Protected("balloonClass"),d=k.Prop.Protected("balloonSettings"),rt=k.Prop.Protected("minWidth"),ft=k.Prop.Protected("maxWidth"),et=k.Prop.Protected("defaultMaxWidth"),g=(k.Prop.Public("minPopupWidth"),k.Prop.Public("arrowHeight")),ot=k.Prop.Public("arrowBaseWidth"),gt=k.Prop.Public("hasBorder"),ni=k.Prop.Public("shouldScrollToElement"),it=k.Prop.Public("balloonTitleSelector"),ut=k.Prop.Public("balloonContentSelector"),ti=k.Virtual.Protected("addBalloonDiv"),ii=k.Virtual.Public("loadResources",function(n,t){t&&t()}),ri=k.Virtual.Protected("getArrowsColors"),bt;k.Virtual.Public("fixSize",function(n,t,i,r,u,f,e){var s=fi(r,n),h,o;return n.css("visibility","hidden"),n.show(),h=ei(n,s),o=hi(n,t,i,ui(r),e,h,s,f),o.height=ci(n,u,o.height),oi(n,o),o});var hi=k.Virtual.Protected("fixWidth",function(n,t,i,u,f,o,s,h){var c=y.send(e.EVENTS.BalloonLogs.CalculateBalloonWidthCalled,{settings:h,shouldReturnResult:!0}),l;return void 0==c?(r.isQuirksMode(t[0])&&(o.width=vt(n)),l=void 0!=f?f:rt(),o.width<l&&(o.width=l)):o.width=c,si(o.width,s,u)?o=st(s,n,c,u):o.width>u&&(o=st(u,n,c,u)),void 0==c&&(n.css("width",n.width()+1+"px"),o.width=n.width(),o.height=n.height()),o}),ci=k.Virtual.Protected("fixHeight",function(n,t,i){return t&&t>0&&(i=t),i}),st=k.Virtual.Protected("handleWiderElement",function(n,t){var i=mtjQuery(".walkme-custom-balloon-content",t);return i.css("width",n+"px"),t.css("width","auto"),{width:t.width(),height:t.height()}}),li=k.Virtual.Protected("generateHtmlParams",function(n){var t={balloonSettings:d(),balloonData:n.balloonData,userGuid:n.userGuid,settings:n.settings,end:n.end,stepType:n.stepType,contentDiv:n.contentDiv},i={nextButton:n.nextButton,doneButton:n.doneButton,backButton:n.backButton,submitButton:n.submitButton};return{balloonParams:t,buttonsParams:i}}),ai=k.Public("generateHtml",function(n){var t=li(n);return tt(f.create(dt(),t.balloonParams)),tt().initButtons(t.buttonsParams),tt().generateHtml()}),vi=(k.Public("manipulationsForInlineCss",function(n){return tt().manipulationsForInlineCss(n)}),k.Public("generateBalloonDiv",function(n,t,i,u,f,e,o,s,h,c,l){var y=v(ai(e)),d={html:y,type:p.ENTITY_TYPE.step},k,b;return w.removeIfShould(y,e.settings),a.replace(d,h||[],c||{},l||{}),k=r.isIE(7)?y[0].outerHTML:y,b=ti(k,n,t),wi(b,i,u,f,e,o,s),b}),k.Virtual.Protected("generateIdForBalloon",function(n){return"walkme-balloon-"+n})),yi=k.Virtual.Protected("generateClassesForBallon",function(n,t,i,r,u){return["walkme-custom-"+i+"-"+n,"walkme-custom-"+r+"-"+t,"walkme-custom-"+(u==h.STEP_TYPE.Popup?"popup":"simple")+"-step"]}),pi=k.Virtual.Protected("generateClassesForArrows",function(n,t,i,r){return["walkme-custom-balloon-arrow","walkme-custom-balloon-arrow-"+t,"walkme-custom-balloon-arrow-"+n,"walkme-custom-balloon-arrow-"+n+"-"+t,"walkme-custom-"+r+"-"+i]}),wi=k.Virtual.Protected("addIdentifiers",function(n,i,r,f,e,o,s){var c,h,l;for(n.attr("id",vi(r)),c=yi(i,r,s,o,f),h=0;h<c.length;h++)n.addClass(c[h]);l=u.getCurrentLanguage()||"default";n.addClass("walkme-custom-language-"+l);t.addBrowserSpecificClasses(n);ur(n,e)}),ht=k.Virtual.Protected("addArrowClasses",function(n,t,i,r,u){for(var e=pi(t,i,r,u),f=0;f<e.length;f++)n.addClass(e[f])}),bi=(k.Virtual.Public("fixArrows",function(){}),k.Virtual.Public("fixQuirksMode",function(){}),k.Virtual.Protected("finalizeArrowsPosition",function(){})),ki=(k.Virtual.Public("drawArrows",function(n,t,i,u,f,o,s){var h=ir(i,u,f,n),c={top:h.top,left:h.left},y;i.positionType==e.POSITION_TYPE.Top&&(c.top=h.top,h.top=h.top-d().BalloonBorderWidth+1,c.left=h.left-1);i.positionType==e.POSITION_TYPE.Bottom&&(h.top=h.top+d().BalloonBorderWidth-1,c.top=h.top-d().BalloonBorderWidth,c.left=h.left-1);i.positionType==e.POSITION_TYPE.Left&&(r.isQuirksMode(n[0])?(h.left=h.left-d().BalloonBorderWidth+1,c.left=h.left+d().BalloonBorderWidth,c.top=h.top-1):(h.left=h.left-d().BalloonBorderWidth+1,c.left=h.left+d().BalloonBorderWidth-1,c.top=h.top-1));i.positionType==e.POSITION_TYPE.Right&&(h.left=h.left+d().BalloonBorderWidth-1,c.left=h.left-d().BalloonBorderWidth,c.top=h.top-1);bi(i.positionType,h,c);var a="",l=null,v=nt[i.positionType],p=ri(v);return d().BalloonBorderWidth>0&&(l=yt(c,i,o,p.outterArrow,g()+1,g()+1),ht(l,"outer",v,t,s)),a=yt(h,i,o,p.innerArrow,g(),g()),ht(a,"inner",v,t,s),y=[a],l&&y.push(l),y}),k.Protected("getBalloonBasicWidth",function(n,t,i){var u=0,f;return u=r.isQuirksMode(t[0])?vt(n):n.width(),f=0,f=i||i<=0?ft():i,u<rt()&&(u=rt()),u>f&&(u=f),u}),k.Public("setConfiguration",function(n){c.fixConfiguration(n);d(n);ii()}));k.Public("decideWhereToPopForCaptureBalloon",function(t,i,r,u){try{var f={width:r,height:u},e=at(),o=lt(t),s=ct();return bt(o,f,i,s,e,!0)}catch(h){n.error(h)}});k.Public("getPossiblePositionsForCaptureBalloon",function(t,i,r){try{var u={width:i,height:r},f=at(),e=lt(t),o=ct();return wt(e,u,o,f)}catch(s){n.error(s)}});k.Public("addPositionClass",function(n,t){var i="walkme-custom-position-"+nt[t.positionType];i+=" walkme-custom-offset-"+kt[t.positionOffset];n.addClass(i)});bt=k.Virtual.Public("decideWhereToPop",function(n,t,r,u,f,o){var h,s,p=n.left+n.width/2,w=n.top+n.height/2,c=wt(n,t,u,f),b=p-t.width/2>f.left,k=p+t.width/2<f.width+f.left,d=w-t.height/2>f.top,nt=w+t.height/2<f.height+f.top,a=0,v,y;return r==e.POSITION_TYPE.Top||r==e.POSITION_TYPE.Bottom?(b&&k?s=e.POSITION_OFFSET_TYPE.HorizontalCentered:b?k||(s=e.POSITION_OFFSET_TYPE.SnapToViewportRight):s=e.POSITION_OFFSET_TYPE.ToRight,h=r==e.POSITION_TYPE.Top?e.POSITION_TYPE.Top:e.POSITION_TYPE.Bottom,o&&(h=c.top&&r==e.POSITION_TYPE.Top||r==e.POSITION_TYPE.Bottom&&!c.bottom?e.POSITION_TYPE.Top:e.POSITION_TYPE.Bottom)):r!=e.POSITION_TYPE.Right&&r!=e.POSITION_TYPE.Left||(nt&&d?s=e.POSITION_OFFSET_TYPE.VerticallyCentered:nt?d||(s=e.POSITION_OFFSET_TYPE.Below,a=2-g()):(s=e.POSITION_OFFSET_TYPE.Below,a=2-g()),h=r==e.POSITION_TYPE.Left?e.POSITION_TYPE.Left:e.POSITION_TYPE.Right,o&&(h=c.left&&r==e.POSITION_TYPE.Left||r==e.POSITION_TYPE.Right&&!c.right?e.POSITION_TYPE.Left:e.POSITION_TYPE.Right)),v=l.getOrientationByName(h),y=l.getOffsetByName(s),{top:Math.ceil(i.defaultValue(v.getTopPosition(n,t,u,f),y.getTopPosition(n,t,u,f)+a)),left:Math.ceil(i.defaultValue(v.getLeftPosition(n,t,u,f),y.getLeftPosition(n,t,u,f)+a)),positionType:v.type,positionOffset:y.type}});di.apply(null,arguments)}function od(n,t,i){function o(){e.ExtendsInstance(f.create("BaseBalloonDrawer",i));var n=i.balloonSettings.minPopupWidth?i.balloonSettings.minPopupWidth:400;u=e._base;u.balloonClass("BalloonV2");u.minWidth(190);u.arrowHeight(13);u.arrowBaseWidth(26);u.minPopupWidth(n)}function s(n,t){var i=function(n,t){return(n+t)/2},h=function(n){return parseInt((""+n).replace("#",""),16)},r=function(n){return(n>>0).toString(16)},u=h(n),f=h(t),c=function(n){return n>>16&255},l=function(n){return n>>8&255},a=function(n){return 255&n},e=r(i(c(u),c(f))),o=r(i(l(u),l(f))),s=r(i(a(u),a(f)));return"#"+(e.length<2?"0"+e:e)+(o.length<2?"0"+o:o)+(s.length<2?"0"+s:s)}var u,e=f.create("WalkmeOOP",this);e.Override("addBalloonDiv",function(i,r,f){var e=mtjQuery(r[0].ownerDocument.createElement("div"));return e.addClass("walkme-custom-balloon-outer-div"),e.addClass("mt-custom-balloon-outer-div"),e.css({direction:"ltr",display:"block",visibility:"hidden",top:0}),t.setStyleForBalloon(e,u.balloonSettings(),f),n.setLangAttribute(e),e.html(i),e});e.Override("addIdentifiers",function(n,t,i,f,e,o,s){u.addIdentifiers(n,t,i,f,e,o,s);r("*",n).addClass("walkme-custom-step-"+i)});e.Override("addArrowClasses",function(n,t,i,r,f){u.addArrowClasses(n,t,i,r,f);n.addClass("mt-custom-balloon-arrow-"+t)});e.Override("getArrowsColors",function(n){var t=u.balloonSettings(),i=""==t.BalloonColor2?"transparent":t.BalloonColor2,r=t.BorderColor;switch(n){case"bottom":i=""==t.Color?"transparent":t.Color;break;case"left":case"right":i="transparent"==t.Color||"transparent"==t.BalloonColor2||"#00000000"==t.Color||"#00000000"==t.BalloonColor2?"transparent":s(t.Color,t.BalloonColor2)}return{innerArrow:i,outterArrow:r}});o.apply(null,arguments)}function sd(n,t,i,u,e,o,s,h,c){function v(n,t){n.css("width",t+"px")}function w(){a.ExtendsInstance(f.create("BaseBalloonDrawer",c));var n=c.balloonSettings.minPopupWidth?c.balloonSettings.minPopupWidth:300;l=a._base;l.balloonClass("BalloonV3");l.minWidth(190);l.minPopupWidth(n);l.arrowHeight(10);l.arrowBaseWidth(18);l.hasBorder(!1);y=c.entity}function p(){return l.balloonSettings().BorderColor}var l,y,a=f.create("WalkmeOOP",this);a.Override("addBalloonDiv",function(n,i){var r=t.createElementInDocument(n,i[0].ownerDocument);return u.setLangAttribute(r),r.css({display:"none",top:0}),r});a.Override("loadResources",function(n,t){var r=l.balloonSettings().FontsData;r?i.fonts(r,n,t,t):t&&t()});a.Override("getArrowsColors",function(n){var t=l.balloonSettings(),i=t.Color,r=p(),u=t.direction;switch(n){case"bottom":i=t.Color;break;case"top":i=t.BalloonColor2;break;case"left":"ltr"==u?i=t.Color:(i=t.ButtonBgColor,r=t.ButtonBgColor);break;case"right":"ltr"==u?(i=t.ButtonBgColor,r=t.ButtonBgColor):i=t.Color}return{innerArrow:i,outterArrow:r}});a.Override("fixArrows",function(t){t.balloonSettings=l.balloonSettings();t.arrowBaseWidth=l.arrowBaseWidth();t.outerArrowColor=p();n.fixArrows(t)});a.Override("fixQuirksMode",function(n){var f=r(".walkme-custom-side-border, .walkme-custom-balloon-bottom-clear",n),t,i,u;f.hide();t=r(".walkme-custom-powered-by-div",n);t.length>0&&(i=t.css("margin-bottom"),u=t.css("margin-top"),t.css("margin-bottom","0px").css("margin-top","0px"),t.css("padding-bottom",i).css("padding-top",u))});a.Override("finalizeArrowsPosition",function(t,i){n.finalizeArrowsPosition(t,i)});a.Override("generateHtmlParams",function(n){var t=l.generateHtmlParams(n);return t.balloonParams.entity=y,t});a.Override("handleWiderElement",function(n,t,i,r){var f=mtjQuery(".walkme-custom-balloon-content",t),u=mtjQuery(".walkme-custom-balloon-title",t),e;return u.css("width","10px"),void 0!=i?v(t,i):n<=r?v(t,r):(f.length>0?v(f,n):v(u,n),t.css("width","auto"),e=t.width(),v(t,e)),u.css("width","auto"),{width:t.width(),height:t.height()}});a.Override("generateClassesForArrows",function(n,t,i,r){var u=l.generateClassesForArrows(n,t,i,r),f=s.get(y,h.templateEntityType.balloon);return f&&u.push(f),u});w.apply(null,arguments)}function hd(n,t,i,u,e,o,s){function a(){c.ExtendsInstance(f.create("BaseBalloonDrawer",s));var n=s.balloonSettings.minPopupWidth?s.balloonSettings.minPopupWidth:300;h=c._base;h.balloonClass("BalloonVM1");h.minWidth(190);h.minPopupWidth(n);h.arrowHeight(10);h.arrowBaseWidth(18);h.hasBorder(!1);h.defaultMaxWidth(230)}function l(){return h.balloonSettings().ButtonBgColor}var h,c=f.create("WalkmeOOP",this);c.Override("addBalloonDiv",function(n,i){var f=t.createElementInDocument(n,i[0].ownerDocument);return o.isFeatureEnabled("accessibility")&&(focusableElements=f.find(".walkme-custom-balloon-content-wrapper, .walkme-custom-balloon-button, .walkme-custom-balloon-close-button"),t.addTabIndex(focusableElements),focusableElements.on("focus",function(){r(this).css({outline:"2px solid #efb05e","outline-offset":"-1px"})}),focusableElements.on("blur",function(){r(this).css({outline:"none","outline-offset":"0px"})})),u.setLangAttribute(f),f.css("display","none"),f});c.Override("loadResources",function(n,t){var r=h.balloonSettings().FontsData;r?i.fonts(r,n,t,t):t&&t()});c.Override("getArrowsColors",function(n){var t=h.balloonSettings(),i=t.Color,r=l();return i="top"==n?t.BalloonColor2:t.Color,{innerArrow:i,outterArrow:r}});c.Override("fixArrows",function(t){t.balloonSettings=h.balloonSettings();t.arrowBaseWidth=h.arrowBaseWidth();t.outerArrowColor=l();n.fixArrows(t)});c.Override("fixQuirksMode",function(n){var f=r(".walkme-custom-side-border, .walkme-custom-balloon-bottom-clear",n),t,i,u;f.hide();t=r(".walkme-custom-powered-by-div",n);t.length>0&&(i=t.css("margin-bottom"),u=t.css("margin-top"),t.css("margin-bottom","0px").css("margin-top","0px"),t.css("padding-bottom",i).css("padding-top",u))});c.Override("finalizeArrowsPosition",function(t,i){n.finalizeArrowsPosition(t,i)});c.Override("handleWiderElement",function(n,t){var r=mtjQuery(".walkme-custom-balloon-content",t),i=mtjQuery(".walkme-custom-balloon-title",t);return i.css("width","10px"),r.css("width",n+"px"),t.css("width","auto"),i.css("width","auto"),{width:t.width(),height:t.height()}});a.apply(null,arguments)}function cd(){function t(){}var n=this;n.get=function(n,t){var i;switch(n){case"v3":i=f.create("BalloonDrawerV3",t);break;case"vm1":i=f.create("BalloonDrawerVM1",t);break;default:i=f.create("BalloonDrawerV2",t)}return i};t.apply(null,arguments)}function ld(){function i(){}function n(n,t,i){r(n).css(t,i)}var t=this;t.addClickAndHover=function(t){function l(t){f=!0;var u=r(".walkme-click-and-hover:active")[0]==t.currentTarget;u?n(t.currentTarget,i,s):n(t.currentTarget,i,o)}function a(t){f=!1;n(t.currentTarget,i,e)}function v(t){n(t.currentTarget,i,s)}function y(t){f?n(t.currentTarget,i,o):n(t.currentTarget,i,e)}var i=t.cssProperty,e=t.regularColor,o=t.hoverColor,s=t.clickColor,h=t.elemSelector,f=!1,c=t.balloonDiv,u=c.find(h);u.mouseenter(l);u.mouseleave(a);u.mouseup(y);u.mousedown(v)};i.apply(null,arguments)}function ad(n){function r(){}var i=this,t={None:0,Shadow:1,Glow:2};i.calculate=function(i,r,u){if(i==t.Shadow)switch(r){case 0:return"1px 1px 3px 0px rgba(0, 0, 0, 0.2)";case 1:return"0px 0px 13px 0px rgba(0, 0, 0, 0.2)";case 2:return"0px 0px 13px 5px rgba(0, 0, 0, 0.2)"}else if(i==t.Glow){var f=n.hexToRgba(u,.6);switch(r){case 0:return"0px 0px 7px 0px rgba"+f;case 1:return"0px 0px 14px 0px rgba"+f;case 2:return"0px 0px 26px 5px rgba"+f}}};r.apply(null,arguments)}function vd(n,t){function f(t,i,r,u,f){var o=n.getOrderedDirections({lowPriorityDirection:f}),s=n.getOrderedOffsets();return e({elementBounds:t,balloonSize:i,marginFromElement:r,drawingArea:u},{mainOrientations:o,offsets:s})}function e(n,t){for(var c,e,h,o,i={},f=0;f<t.mainOrientations.length;f++)for(c=t.mainOrientations[f],u(i,c,n),e=0;e<t.offsets.length;e++)if(h=t.offsets[e],h.isRelevant(i)&&(o=r(i,h,n),o&&s(o,n)))return o;return}function o(t,i,f,e,o,s){var h={},c=n.getOrientationByName(o),a=n.getOffsetByName(s)||n.getOffsetByName(c.defaultOffset),l={elementBounds:t,balloonSize:i,marginFromElement:f,drawingArea:e};return u(h,c,l),r(h,a,l)}function r(n,i,r){var u=i.getLeftPosition(r.elementBounds,r.balloonSize,r.marginFromElement,r.drawingArea),f=i.getTopPosition(r.elementBounds,r.balloonSize,r.marginFromElement,r.drawingArea);return{left:t.defaultValue(n.left,u),top:t.defaultValue(n.top,f),positionType:n.positionType,positionOffset:i.type}}function s(n,t){var i=t.drawingArea.top<n.top,r=n.left+t.balloonSize.width<t.drawingArea.left+t.drawingArea.width,u=n.top+t.balloonSize.height<t.drawingArea.top+t.drawingArea.height,f=t.drawingArea.left<n.left;return i&&r&&u&&f}function u(n,t,i){n.top=t.getTopPosition(i.elementBounds,i.balloonSize,i.marginFromElement,i.drawingArea);n.left=t.getLeftPosition(i.elementBounds,i.balloonSize,i.marginFromElement,i.drawingArea);n.positionType=t.type}var i=this;i.findBestPosition=f;i.getPredefinedPosition=o}function yd(n,t){function v(n){n=n||{};var t=f()?c:h;return e(r,t,n.lowPriorityDirection)}function y(){var n=f()?a:l;return e(i,n)}function p(n){return r[n]}function w(n){return i[n]}function f(){var n=t.get();return n&&n[o]==s}function e(n,t,i){for(var r=[],u=0;u<t.length;u++)r.push(n[t[u]]);return void 0!==i&&b(r,i),r}function b(n,t){n.sort(function(n,i){return n.type==t?1:i.type==t?-1:0})}var u=this,r,i;u.getOrderedDirections=v;u.getOrderedOffsets=y;u.getOrientationByName=p;u.getOffsetByName=w;var o="Direction",s="rtl",h=[n.POSITION_TYPE.Top,n.POSITION_TYPE.Bottom,n.POSITION_TYPE.Right,n.POSITION_TYPE.Left],c=[n.POSITION_TYPE.Top,n.POSITION_TYPE.Bottom,n.POSITION_TYPE.Left,n.POSITION_TYPE.Right],l=[n.POSITION_OFFSET_TYPE.VerticallyCentered,n.POSITION_OFFSET_TYPE.HorizontalCentered,n.POSITION_OFFSET_TYPE.Above,n.POSITION_OFFSET_TYPE.Below,n.POSITION_OFFSET_TYPE.ToRight,n.POSITION_OFFSET_TYPE.ToLeft],a=[n.POSITION_OFFSET_TYPE.VerticallyCentered,n.POSITION_OFFSET_TYPE.HorizontalCentered,n.POSITION_OFFSET_TYPE.Above,n.POSITION_OFFSET_TYPE.Below,n.POSITION_OFFSET_TYPE.ToLeft,n.POSITION_OFFSET_TYPE.ToRight];r={};r[n.POSITION_TYPE.Top]={type:n.POSITION_TYPE.Top,defaultOffset:n.POSITION_OFFSET_TYPE.HorizontalCentered,getTopPosition:function(n,t,i){return n.top-t.height-i},getLeftPosition:function(){return}};r[n.POSITION_TYPE.Bottom]={type:n.POSITION_TYPE.Bottom,defaultOffset:n.POSITION_OFFSET_TYPE.HorizontalCentered,getTopPosition:function(n,t,i){return n.bottom+i},getLeftPosition:function(){return}};r[n.POSITION_TYPE.Right]={type:n.POSITION_TYPE.Right,defaultOffset:n.POSITION_OFFSET_TYPE.VerticallyCentered,getTopPosition:function(){return},getLeftPosition:function(n,t,i){return n.right+i}};r[n.POSITION_TYPE.Left]={type:n.POSITION_TYPE.Left,defaultOffset:n.POSITION_OFFSET_TYPE.VerticallyCentered,getTopPosition:function(){return},getLeftPosition:function(n,t,i){return n.left-t.width-i}};i={};i[n.POSITION_OFFSET_TYPE.VerticallyCentered]={type:n.POSITION_OFFSET.Center,isRelevant:function(n){return isNaN(n.top)},getTopPosition:function(n,t){return Math.ceil(n.top+n.height/2-t.height/2)},getLeftPosition:function(){return}};i[n.POSITION_OFFSET_TYPE.Above]={type:n.POSITION_OFFSET.End,isRelevant:function(n){return isNaN(n.top)},getTopPosition:function(n,t){return n.bottom-t.height},getLeftPosition:function(){return}};i[n.POSITION_OFFSET_TYPE.Below]={type:n.POSITION_OFFSET.Start,isRelevant:function(n){return isNaN(n.top)},getTopPosition:function(n){return n.top},getLeftPosition:function(){return}};i[n.POSITION_OFFSET_TYPE.HorizontalCentered]={type:n.POSITION_OFFSET.Center,isRelevant:function(n){return isNaN(n.left)},getTopPosition:function(){return},getLeftPosition:function(n,t){return Math.ceil(n.left+n.width/2-t.width/2)}};i[n.POSITION_OFFSET_TYPE.ToRight]={type:n.POSITION_OFFSET.Start,isRelevant:function(n){return isNaN(n.left)},getTopPosition:function(){return},getLeftPosition:function(n){return n.left}};i[n.POSITION_OFFSET_TYPE.ToLeft]={type:n.POSITION_OFFSET.End,isRelevant:function(n){return isNaN(n.left)},getTopPosition:function(){return},getLeftPosition:function(n,t){return n.right-t.width}};i[n.POSITION_OFFSET_TYPE.SnapToViewportRight]={type:n.POSITION_OFFSET.End,isRelevant:function(n){return isNaN(n.left)},getTopPosition:function(){return},getLeftPosition:function(n,t,i,r){return r.left+r.width-t.width-1}}}function pd(n,t,i){function e(n,t){var e=n.offset(),u=n.height(),f=n.width(),r={top:e.top,left:e.left};switch(t){case 0:r.left+=f/2;break;case 1:r.top+=u/2;r.left+=f;break;case 2:r.top+=u;r.left+=f/2;break;case 3:r.top+=u/2;break;default:i.error(new Error("Unknown balloon position"))}return r}function o(n){return"auto"==n||"scroll"==n||"hidden"==n}function s(n){var t=n.css("position");return"absolute"==t||"fixed"==t}function h(n,t){var i=t.offset();return r(n.top,i.top,t.outerHeight())||r(n.left,i.left,t.outerWidth())}function r(n,t,i){var r=t+i;return n<t||n>r}var f=this,u;f.isBalloonPositionVisibleRelativeToParents=function(n,i){var r;if(t.isFeatureEnabled("disableIEVRTP")||(r=s(n),r))return!0;var l=e(n,i),a=n.parents("div"),f=!1,c=!1,v=!u(a,function(n){var n=mtjQuery(n);if(!t.isFeatureEnabled("disableAbsRTP")&&"absolute"==n.css("position"))return f=!0,!0;if(!t.isFeatureEnabled("disableFixRTP")&&"fixed"==n.css("position"))return c=!0,!0;var i=n.css("overflow"),r=o(i),u=h(l,n);return r&&u});return f||c||v};u=function(t,i){return null!=n.firstMatch(t,i)}}function wd(n,t,i,u,e,o,s,h){function l(c,l,a,v,y,w,b,k){var it=n.get(!0),tt=d(a),g,nt;return y&&(tt.displayX=!1),g=t.get().BalloonSettings,g=d(g),r.extend(g,w),nt=f.create("Balloon",{element:it,forceEmbedBalloonInIframe:!1,positionHelper:i,fixedSize:{width:l,height:0},stepSettings:tt,htmlContent:c.htmlContent,text:{title:c.title||"",content:c.text||"",subText:c.subText||""},data:{type:u.STEP_TYPE.Popup},configuration:g,logger:e,drawer:s.getBalloonDrawer(g,k),siteConfig:t.get(),bindButtonsFunc:b?void 0:h.addButtonEventsToBalloon}),new p(function(n){nt.Show(!1,function(){var t=mtjQuery(nt.getBalloonDiv()),i;(t.removeClass("walkme-custom-step-undefined"),mtjQuery("*",t).removeClass("walkme-custom-step-undefined"),t.removeClass("walkme-custom-walkthru-undefined"),mtjQuery("*",t).removeClass("walkme-custom-walkthru-undefined"),w&&w.surveyId)&&(i=w.surveyId,t.attr("id","walkme-survey-balloon-"+i));v(t,g);n(nt)});o.add(nt)})}var c=this;c.showSpecialPopupBalloon=l}function bd(n,t){function r(){}function u(n,i){var r=f(n),u={balloonSettings:r,entity:i},e=r.BalloonVersion;return t.get(e,u)}function f(t){var i=d(t),r=n.get();return r&&(i.direction=r.Direction,i.showPoweredBy="1"==r.PoweredByLink,i.showPoweredByFormat=r.IsDisplayPoweredBy),i}var i=this;i.getBalloonDrawer=u;r()}function kd(n,t,i,r,u,e,o,s,h,c,l){function b(n,t){k(n);p(n);c.bind(n,null,t);n.on("click mousedown mouseup",function(n){n.stopPropagation()})}function k(n){mtjQuery(".walkme-action-next, .walkme-action-start",n).click(function(){tt()});mtjQuery(".walkme-action-back",n).click(function(){g()});mtjQuery(".walkme-action-done",n).click(function(){it()})}function p(n){mtjQuery(".walkme-action-close, .walkme-action-cancel",n).click(function(n){d(n)})}function d(i){var o={ClickEvent:i},e;u.raiseEvent("UserStoppedWalkthru",o);e=n.currentStep==-1;e||f.get("AuditStepsManager").auditStep(n.getCurrentWalkthru(),n.getCurrentStep(),t.STEP_STATUS.Exited);r.stopTutorial(e);u.raiseEvent("UserStoppedWalkthruAfterStop",o)}function g(){u.raiseEvent("BackButtonClicked");var t=n.getCurrentStep();a(t);n.stepPlayStack.pop();nt()&&r.executePreviousStep()}function nt(){return l.isFeatureEnabled("backButtonAlways")?!0:!v(n.lastBackButtonStepIndex-1)}function tt(){var i,f;u.raiseEvent("NextButtonClicked");i=n.getCurrentStep();u.deprecatedRaiseEvent(t.EVENTS.Walkthrus.StepTriggered,i);a(i);f=v();f||(n.state=t.WALKTHRU_STATE.RUNNING,h.releaseBalloons(function(){w(i)||(r.stepWasCompleted(),r.executeTutorialNextStep())}))}function it(){var i,f;u.raiseEvent("DoneButtonClicked");i=n.getCurrentStep();(u.deprecatedRaiseEvent(t.EVENTS.Walkthrus.StepTriggered,i),a(i),w(i))||(f=v(),f||(r.stepWasCompleted(),r.tutorialFinished()))}function a(n){n.durationHandler&&(n.durationHandler.clear(),n.durationHandler=null)}function v(n){for(var i,r=o.getAll(),t=0;t<r.length;t++)r[t].releaseEvents(n)&&(i=!0);return i}function w(n){return!(n.Type!=t.STEP_TYPE.Popup||!n.LinkedTutorialIds||!r.isTutorialIdsExist(n.LinkedTutorialIds.split(";")))&&(e.makeSplit(n.LinkedTutorialIds.split(";")),!0)}var y=this;y.addButtonEventsToBalloon=b;y.attachBalloonXButtonClickEvent=p}function dd(n){function i(t){return 1==n.getSettingsValue(t,"displayX",!0)||"True"==n.getSettingsValue(t,"displayX","True")||1==n.getSettingsValue(t,"displayX",1)}var t=this;t.shouldDisplayX=i}function gd(n,t,i,r,u,e,o,s,h,c,l,a,v,y){function tt(){k=f.create("Highlighter",{element:y.element,settings:y.launcher.Settings,embedInElement:y.launcher.Settings.embedInParent,drawableType:"launcher",drawableId:y.launcher.Id,monitor:!0,defaultSettings:!1,cssKeysValues:[{id:y.launcher.Id,name:"launcher"}]})}function it(n){st().then(function(){a.report();pt();n&&n(w)})}function rt(n){d&&(d.destroy(),d=null);p.watchLauncherTimeout&&p.watchLauncherTimeout.clear();wt();w=null;y.element=null;k=null;b=null;n&&n()}function ut(){d=s.create(y.element,function(){b&&(b.reposition(),nt())});d.track()}function ft(){try{return bt()}catch(n){return!1}}function et(){w.show()}function ot(){w.hide()}function st(){return b=ht(),b.show().then(function(n){var t,i;w=n.getOriginElement();at(n);t=kt(y.launcher);t.applyBehavior(n);i=vt();i.applyBehavior(n);nt();"onHover"==y.launcher.Settings.displayStyle&&w.css("display","none")})}function ht(){var i=ct(),r=n.get(y.element,i);return t.create(r,y.element)}function ct(){var n=g(),r={TemplateId:n.data.id,Type:n.type,Predefined:n},t=i.get(r);return t||(t={mainImageUrl:n.data.url,hoverImageUrl:n.data.hover,clickImageUrl:n.data.click,text:n.data.customText,cssClassName:"custom-launcher-"+n.data.id,kind:n.data.url?u.ICON_CONTENT_KIND.Image:u.ICON_CONTENT_KIND.Text}),{uniqueIdentifierType:"Launcher",uniqueIdentifierId:y.launcher.Id,isEmbedInElement:y.launcher.Settings.embedInParent,attachmentSide:y.launcher.Position,zindex:y.launcher.Settings["z-index"],perimeterType:y.launcher.Settings.context,isAnimated:y.launcher.Settings.animated,growingDirection:y.launcher.Settings.direction,positionTopCustomOffset:y.launcher.Settings.topOffset,positionLeftCustomOffset:y.launcher.Settings.leftOffset,contentElementCssClassNames:["walkme-launcher-image-div"],positionElementCssClassNames:lt(),contentData:t}}function g(){return c.getSettingsValue(y.launcher.Settings,"imageObject",l)}function lt(){var n=[];return n.push("walkme-launcher-id-"+y.launcher.Id),n.push("walkme-custom-launcher-outer-div"),n.push("walkme-text-launcher"),n}function at(n){if(y.launcher.Settings.embedInParent){var t=n.getTopMostElement();t.addClass("walkme-launcher-container");t.addClass("walkme-launcher-container-id-"+y.launcher.Id)}}function vt(){var n={clickAction:yt()};return f.create("ClickIconExecutionBehavior",n)}function yt(){return function(){r.raiseEvent(u.EVENTS.Launchers.LauncherClicked,{launcherId:y.launcher.Id});e.SendClickAudit(u.DEPLOYABLE_TYPE.Launcher,y.launcher.Id);var n={type:u.STEP_PLAY_INITIATOR_ENUM.LAUNCHER,objectId:y.launcher.Id};o.setForScope(n,function(){v.getAction(y.launcher).doAction()})}}function nt(){k&&k.shouldShow()&&!h.isQuirksMode(y.element[0])&&k.highlight()}function pt(){r.deprecatedRaiseEvent(u.EVENTS.Launchers.LauncherIsShown,{getId:function(){return y.launcher.Id},getName:function(){return y.launcher.Name}},{customText:g().data.customText,name:y.launcher.Name,launcherDiv:w,launcherId:y.launcher.Id})}function wt(){b&&b.destroy();k&&k.unhighlightElement()}function bt(){return w.parents("html").length>0}function kt(n){var t=c.getSettingsValue(n.Settings,"tooltip",""),i={tooltipText:t};return f.create("TolltipIconUiBehavior",i)}var p=this,b,d,w,k;p.show=it;p.destroy=rt;p.setTimeoutOn=ut;p.isDrawn=ft;p.display=et;p.removeDisplay=ot;p.watchLauncherTimeout=null;tt()}function ng(n,t,i,r,u,o,s,h,c,l,a,v,y,p){function nt(){return w}function tt(n){p.reset();w=n}function ut(){var n,t,u,r,f,s;try{t=0;u=0;function h(){try{n()}catch(t){}}function i(){u++;u>=t&&(h(),k(!1,i))}try{window._walkmeInternals&&(n=profilerAPI.startProfile("showAllLaunchers"),n&&k(!0,i))}catch(l){k(!1,i)}for(r=0;r<w.length;r++)f=w[r],s=it(f),s&&t++,o.customerLog(e("willDrawLauncher={0} for launcher with id {1}",s,f.Id),1,bt);n&&0==t&&(h(),k(!1,i))}catch(c){o.error(c)}}function ft(n){for(var t=0;t<w.length;t++)if(w[t].Id==n)return w[t]}function et(n){var t=ft(n);return p.getAction(t)}function it(n,t){var r=v.isFeatureEnabled("hideLauncherWithoutLink"),i;return r&&!at(n)?!1:(i=u.getSettingsValue(n.Settings,"PlayLauncherConditionTree",null),st(n,t,i))}function ot(n){var f={featureName:bt,elementName:n.Name,stopPollingAfterEvaluateTrue:!1},t=y.createOld(f),i,r,u;n.hoverLauncherEvaluator&&n.hoverLauncherEvaluator.cleanResources();n.hoverLauncherEvaluator=t;t.onValueChanged(function(t){if(!t)return n.hoverDestroyTimeout=h.libSetTimeout(function(){n.drawable&&n.drawable.isDrawn()&&(n.hoverLauncherEvaluator.getCachedValue()||n.drawable.removeDisplay())},300),!1;n.hoverDestroyTimeout&&(n.hoverDestroyTimeout.clear(),n.hoverDestroyTimeout=void 0);n.drawable&&n.drawable.display()});r=".walkme-launcher-id-"+n.Id;n.IdentifySettings.IsJquerySelector?i={nodeType:"Or",leftSon:{nodeType:"Func",funcName:"jQueryHoverSwitch",funcArgs:{jQuerySelector:n.IdentifySettings.JquerySelector},nodeDepth:0},rightSon:{nodeType:"Func",funcName:"jQueryHoverSwitch",funcArgs:{jQuerySelector:r},nodeDepth:0},nodeDepth:0}:(u=vt(n.IdentifySettings),i={nodeType:"Or",leftSon:{nodeType:"Func",funcName:"ElementHoverSwitch",funcArgs:{IdentifySettings:u},nodeDepth:0},rightSon:{nodeType:"Func",funcName:"jQueryHoverSwitch",funcArgs:{jQuerySelector:r},nodeDepth:0},nodeDepth:0});t.evaluateAsync(i)}function k(n,t){var i=window._walkmeInternals,r;i&&(r="LauncherIsShown",n?i.bind(r,t):i.unbind(r,t))}function st(n,i,r){function w(t){o=!0;ht(n,t,b)&&(n.drawable.uiVisibilityManager=e)}function b(){"onHover"===n.Settings.displayStyle&&ot(n);y()}function v(){n.drawable&&n.drawable.destroy();n.hoverLauncherEvaluator&&(n.hoverLauncherEvaluator.cleanResources(),n.hoverLauncherEvaluator=null)}function y(){n.drawable.watchLauncherTimeout=h.libSetTimeout(k,2e3)}function k(){n.drawable.isDrawn()?y():(v(),e.cleanResources(),e.watchForVisibility())}var o=!1,s=t.STICKY_TYPE.ONCE,c=u.getSettingsValue(n.Settings,t.IS_STICKY_SETTING_KEY,!1),p=!0,l,a,e;return c&&parseInt(c)>0&&(l=parseInt(u.getSettingsValue(n.Settings,t.STICKINESS_TYPE_SETTING_KEY,null)),s=l==t.OLD_STICKIES.STICKINESS_TYPES.soft?t.STICKY_TYPE.SOFT:t.STICKY_TYPE.STRONG,p=!1),a={logContext:n.Id,stickyType:s,isRemoveByCondition:1==n.Settings.condHide,elementVisibilityParams:{findElementParams:{IdentifySettings:n.IdentifySettings}},conditionCheckerParams:{featureName:bt,elementName:n.Name},conditionTree:r,onShow:w,onRemove:v,trackUIChanges:!0},e=f.create("UIVisibilityManager",a),e.watchForVisibility(),o}function ht(n,i,f){var c=u.getSettingsValue(n.Settings,"imageObject",""),l=ct(i,c,n),e,h;return l?(n.isContentSecure=!1,o.customerLog("Launcher ["+n.Id+"] will not be displayed. Launcher URL must be https in secure page",1),r.raiseEvent(t.EVENTS.Launchers.LauncherIsInsecure,{name:n.Name}),!1):(n.isContentSecure=!0,s.setCustomCssIfNeeded(i),e=pt(i,n),n.drawable=e,h=function(n){return function(){n.show(function(){n.setTimeoutOn();f&&f()})}}(e),lt(n,h),!0)}function ct(n,t,i){if(void 0===typeof i.isContentSecure)return i.isContentSecure;var r=n[0].ownerDocument.location.href;return!g(r)||"custom"!=t.type?!1:!g(t.data.url)||!rt(t.data.click)||!rt(t.data.hover)?!0:!1}function lt(n,t){var f=i.isTrue(n.Settings,"hasDelay",!1),r;f?(r=u.getSettingsValue(n.Settings,"delayInSeconds",0),h.libSetTimeout(t,1e3*r)):t()}function at(n){var t=n.Settings.action;switch(t.actionType){case"playWt":return null!=c.getById(parseInt(t.arguments.wtId));case"playContent":return null!=l.getById(parseInt(t.arguments.contentId));case"playSurvey":return null!=a.getById(parseInt(t.arguments.surveyId))}return!0}function vt(n){var t=d(n);return t.Sensitivity=n.StepSensitivity,t.StepSensitivity=void 0,t.IgnoreId=n.IsIgnoreId,t.IsIgnoreId=void 0,t.IgnoreText=n.IsIgnoreText,t.IsIgnoreText=void 0,t.IgnorePageIdentification=void 0,t.IsValidPageId=void 0,t}function rt(n){return!n||g(n)}function g(n){return/^https/i.test(n)}function yt(n,t,r){var u=function(n,t){n.drawable?n.drawable.destroy(t):t&&t()};i.executeParallel({objectsArray:nt(),functionsToExecute:[u],successCallback:function(){r||tt([]);n&&n()}})}function pt(n,t){return f.create("Launcher",{element:n,launcher:t})}var b=this,w;b.getLaunchers=nt;b.setLaunchers=tt;b.showLauncher=it;b.showAllLaunchers=ut;b.getLauncherAction=et;b.releaseLaunchers=yt;w=[]}function tg(n,t,i,r){function e(){u={}}function o(f){if(u[f.Id])return u[f.Id];var e=n.getSettingsValue(f.Settings,"action",null);return e?(u[f.Id]=i.get(e.actionType,e.arguments,r.STEP_PLAY_INITIATOR_ENUM.LAUNCHER,f),u[f.Id]):(t.customerLog("No action core. aborting..."),null)}var f=this,u;f.reset=e;f.getAction=o;u={}}function ig(n,t,i,r,u,f,o,s,h,c,l,a,v,y,p,w,b){function it(){d=r.wrapCustomerLog(ci)}function rt(){g=t.register("sa",{beforeSendingManipulationFunc:ut,actionUrl:"/Statistics/AddStepsLogs",prefixForStorage:"sa",sendingThreshold:5,dataType:"step audit",dataIdFieldName:"Id",requestParamsFunc:function(n){return{stepActionsSerialized:h.toJSON(n),source:i.getEnvironmentId(),customFieldsSerialized:h.toJSON(i.getAnalyticsCustomFields()),browser:u.browser.string,os:u.os.name,domain:window.location.host,permutationId:i.getPermutationId(),endUserGuid:i.getEndUserGuid()}}})}function ut(n,t){vt(n,t)}function ft(n,t){var u,i;if(!b.isEnabled())return d("Audit steps manager - Auditing is disabled, doing nothing",3),!0;try{u={tutorialId:t.TutorialId,tutorialName:t.Name,playGuid:k._currentPlayGUID,playInitiator:k._currentPlayInitiator,status:n};l.send(u)}catch(f){r.error(f)}try{i=tt(t.Id,-1,-1,o.STEP_STATUS.SupposedToShow,t.Steps.length,!1);i.SafeStartAction=n;g.sendData(i)}catch(f){r.error(f)}}function et(n,t,i,u){var f,s;if(ct(i,t),f=n.Steps.length,!b.isEnabled())return d("Audit steps manager - Auditing is disabled, doing nothing",3),!0;if(t.TutorialId<0)return void d(e("Audit steps manager - Step with id {0} has negative tutorial id ({1})",t.Id,t.TutorialId),3);try{s=tt(t.TutorialId,t.Id,t.StepIndex+1,i,f,u);g.sendData(s);try{return ot(t,n,f,i)}catch(o){return r.error(o,"Failed auditStep: stepId="+t.Id+", wtId="+n.TutorialId+", status="+i+", pId="+k._currentPlayGUID),!0}}catch(o){return r.error(o),o}}function ot(n,t,i,r){var u=v.getSettingsValue(n.Settings,"action","");return c.postEvent(c.EVENT_TYPES.Play,{type:c.EVENT_APPS.Step,oId:n.Id,oName:n.StepTitle||"",aType:st(u),aAppType:ht(u),oType:n.Type,indx:n.StepIndex+1,owId:t.TutorialId,owName:t.Name,owType:c.EVENT_APPS.Walkthru,total:i,status:r,pId:k._currentPlayGUID})}function st(n){return n?a.map(n.actionType):""}function ht(n){return n?y.map(n.actionType):""}function nt(n){void 0!=k._currentPlayGUID&&0!=k._currentPlayGUID.length||(k._currentPlayGUID=w.generateNewPlayGuid(n))}function ct(n,t){if(n!=o.STEP_STATUS.SkippedByActionStep){var i=n==o.STEP_STATUS.SkippedStartedFromBiggerStep?"NewSkippedStep":"CheckNewStep";p.deprecatedRaiseEvent(i,t)}}function tt(n,t,i,r,u,f){nt(n);var e={};return e.tutorialID=n,e.stepId=t,e.stepIndex=i,e.totalSteps=u,e.playGuid=k._currentPlayGUID,e.TicksSince1970=h.getDateAtUTC(),e.StepStatus=r,lt(e),h.defaultValue(f,!1)&&(e.isFirstStepError=!0),e}function lt(n){if(!k._currentPlayInitiator||k._currentPlayInitiator.type==o.STEP_PLAY_INITIATOR_ENUM.NONE)return void(n.playInitiator=o.STEP_PLAY_INITIATOR_ENUM.NONE);n.playInitiator=k._currentPlayInitiator.type;void 0!=k._currentPlayInitiator.objectId&&k._currentPlayInitiator.objectId>-1&&(n.initObjId=k._currentPlayInitiator.objectId)}function at(){g.clearAndStopSavingData()}function vt(n,t){var r=[],i;if(n.length<=0)return r;for(i=0;i<n.length;i++)n[i].stepIndex==t.stepIndex&&n[i].playGuid==t.playGuid&&(r.push(n.splice(i,1)[0]),i--);return r}var k=this,d,g;k.init=rt;k.safeStartAudit=ft;k.auditStep=et;k.removeAllStepAuditsLogs=at;this._currentPlayGUID="";this._currentPlayInitiator=null;this.createPlayGuidIfNeeded=nt;it.apply(null,arguments)}function rg(n,t,i,r){function f(){}function e(u,f,e,o,s){if(r.isEnabled()){var h=u.Steps;t.postEvent(t.EVENT_TYPES.Play,{type:t.getEventAppByDeployable(n.Tutorial),oId:u.TutorialId,oName:u.Name,pId:s||-1,pInit:i.map(f),oRequestedSubObject:h[e].Id,oActualSubObject:h[o].Id})}}var u=this;u.auditWalkthruStart=e;f.apply(null,arguments)}function ug(n){function i(n,t,i,u){var e,f;if(i)for(i=[].concat(i),e=r(n[0].ownerDocument),t=t||n,f=0;f<i.length;f++)e.find(t).on(i[f],u)}function u(t,i,r){var f,u;if(r)for(r=[].concat(r),f=n(t).getDocument(),i=i||t,u=0;u<r.length;u++)f.find(i).off(r[u])}var t=this;t.on=i;t.off=u}function fg(n,t,i,r,u,f){function o(){}function s(e,o){if(f.isEnabled()){var h=u.get(e.RelatedDeployableType),s=h.getById(e.RelatedDeployableId);n.postEvent(t.EVENT_SENDER_EVENT_TYPES.Play,{type:t.EVENT_SENDER_EVENT_APPS.Task,oId:e.Id,oName:e.Name,pId:"-1",aoId:s.Id,aoName:s.Name,aAppType:r.map(e.RelatedDeployableType),pInit:i.map(o)})}}var e=this;e.auditTaskPlayed=s;o.apply(null,arguments)}function eg(n,t,i,r){function f(){}function e(t){if(s(t)){var r=o(t);n.postEvent(n.EVENT_TYPES.PlayFailed,r)}else i.error(null,"params is not valid for send action in AuditSafeStartManager")}function o(n){return{oId:n.tutorialId,oName:n.tutorialName,pId:n.playGuid,pInit:t.map(n.playInitiator),status:n.status,type:r.EVENT_SENDER_ACTIONS.PlayWalkthru}}function s(n){return null!=n&&null!=n.tutorialId&&null!=n.playGuid&&null!=n.status}var u=this;u.send=e;f.apply(null,arguments)}function og(n,t,i,r,u,f,e,o,s){function tt(){}function it(n){h=n;f.raiseEvent(e.EVENTS.EndUserSettingsSet,{endUserSettings:n})}function rt(){return!u.isValueTrue(h.FallbackDisabled)||d()||ut()}function ut(){return k(!0)!==!1}function d(){return"walkme"==h.Method||"none"==h.Method}function ft(){return h}function et(){var n=!0;return h&&(n=d()||!k(!0)),n}function ot(){(h||nt("Cannot create end user guid before end user settings were set"),l)||(l=st(),l&&t.customerLog("getEndUserGuid: created endUserGuid-"+l,3,p))}function k(n){return(l||s.get()||nt("Cannot get end user guid before it was created"),!n||!v)?l:(t.customerLog("Could not retrieve endUserGuid",3,p),!1)}function st(){if(h){var n=c.calculateCustomEndUserGuid(h);return n?(a="Identifier",g(n)):n=ct()||lt(),n}}function ht(n){var f,e,r,s;if(n){e=n.Method;r=n.Parameters;switch(e){case"var":r.VarName&&(f=u.getWindowData(w.Var,r.VarName),yt(f)&&(t.customerLog("endUserGuid - invalid variable name",1,p),f=void 0));break;case"salesforce":f=vt();break;case"cookie":r.VarName&&(f=u.getWindowData(w.Cookie,r.VarName));break;case"jquery":r.VarName&&(f=i.getjQueryElementText(r.VarName))}return s={method:e,params:r},o.send("EndUserRetrieved",s)||f}}function ct(){var n=pt();if(n)return a="Cache",n}function lt(){var i=!1,n;return h&&"walkme"!=h.Method&&"none"!=h.Method?(a="Generated",i=!0):a="Identifier",n=r.generateGuid(),t.customerLog("getEndUserGuid: generating new user guid-"+n+" isForced: "+i,3,p),g(n,i),n}function at(){return a}function vt(){if(window.walkme_sf_vars)return window.walkme_sf_vars.userId}function yt(n){return n&&n.nodeType}function g(t,i){n.saveData(b.key,t,b.expiry);i?(v=!0,n.saveData(y.key,1,y.expiry)):(v=!1,n.removeData(y.key))}function pt(){return v=n.getData(y.key),n.getData(b.key)}function nt(n){var i=new Error(n);throw t.error(i),i;}var c=this;c.setEndUserSettings=it;c.getEndUserSettings=ft;c.isWalkMeGeneratedEndUserType=et;c.getEndUserGuid=k;c.createEndUserGuid=ot;c.getEndUserGuidSource=at;c.isEndUserGuidValid=rt;c.calculateCustomEndUserGuid=ht;var h,l,a,v,b=n.keysConfig.endUser.guid,y=n.keysConfig.endUser.forcedGenerate,p="endUser";tt.apply(null,arguments)}function sg(n,t,i,r,u,f,e,s,h,c,l){function tt(){y=u.getCurrentPermutation}function it(){if(window.walkme_sf_vars)return window.walkme_sf_vars.organizationName}function rt(){if(window.walkme_sf_vars)return window.walkme_sf_vars.organizationId}function ut(){if(window.walkme_sf_vars)return window.walkme_sf_vars.roleId}function ft(){if(window.walkme_sf_vars){var n=d(window.walkme_sf_vars);return delete n.organizationName,delete n.organizationId,delete n.userId,n}}function et(){return window.walkme_sf_vars&&window.walkme_sf_vars.walkme_error?!0:!1}function b(){return p.key+i.getEndUserGuid()}function ot(){var n=window.walkme_sf_vars,i="walkme_sf_error:"+o(n);t.customerLog(i,1,w)}function st(){return void 0===a&&(a=r.get().EndUserSettings&&r.get().EndUserSettings.logWalkMeVisible),a}function k(t,i){n.saveData(b(),i,p.expiryFunc(t))}function ht(){return n.getData(b())}var y,a,v,g=this,p=n.keysConfig.endUserLogging.auditFreq,nt=1e4,w="endUser";g.reportEndUser=function(n,u){var a,b,d,p,g,tt;if(!v&&(a=r.get().EndUserSettings?r.get().EndUserSettings.auditFreq:null,b=st(),b&&!a&&(a=1440),a&&(!b||u))){if(d=ht(),d)return void(v=!0);if(0===d)return t.customerLog("Loading WalkMe Failed due to ISV Limitations",1),void(n&&n());if(et())return void ot();p={permutationId:y(),endUserGuid:i.getEndUserGuid(),domain:window.location.host,source:c.get(),browser:e.browser.string,os:e.os.name,userGuid:l.getUserGuid()};s.isFeatureEnabled("dontReportSF")||(p.organizationName=it(),p.organizationId=rt(),p.roleId=ut(),p.extraData=ft());g="Logging WalkMe EndUser ("+i.getEndUserGuid()+"). Caused by WalkMe Visible : "+!!u;t.customerLog(g,1,w);tt=o(p);v=!0;h.execute({dataType:"jsonp",url:f.get()+"/EndUser/AddEndUserData",data:{endUsersDataSerialized:tt},timeout:nt,success:function(t){"true"==t?k(a,1):"false"==t&&(k(a,0),n&&n())}})}};tt.apply(null,arguments)}function hg(n){var t=n.get("isEmulator");return t?{width:window.innerWidth,height:window.innerHeight}:screen}function cg(){var t=this,n=f.get("screen");t.getFuncList=function(){return o};t.getFuncAssert=function(){return s};t.getAsyncFuncs=function(){return h};var i=function(t){return n.width>t.funcArgs.WidthInput?!0:!1},r=function(t){return n.width<t.funcArgs.WidthInput?!0:!1},u=function(t){return n.height>t.funcArgs.HeightInput?!0:!1},e=function(t){return n.height<t.funcArgs.HeightInput?!0:!1},o={widthMoreThan:i,widthLessThan:r,heightMoreThan:u,heightLessThan:e},s=[],h=[]}function lg(){function t(n,t,i){return t==n.WindowSizeInput?!1:t>n.WindowSizeInput===i}var i=this,n=f.get("win");i.getFuncList=function(){return e};i.getFuncAssert=function(){return o};i.getAsyncFuncs=function(){return s};var r=function(i){switch(i.funcArgs.SizeParameter){case"Width":return t(i.funcArgs,n.innerWidth||document.documentElement.clientWidth,!0);case"Height":return t(i.funcArgs,n.innerHeight||document.documentElement.clientHeight,!0)}},u=function(i){switch(i.funcArgs.SizeParameter){case"Width":return t(i.funcArgs,n.innerWidth||document.documentElement.clientWidth,!1);case"Height":return t(i.funcArgs,n.innerHeight||document.documentElement.clientHeight,!1)}},e={WindowSizeMoreThan:r,WindowSizeLessThan:u},o=[],s=[]}function ag(n,t,i,r,u){function h(u,f,e,s){var h=function(o){var l,h,c;if(t.customerLog("An event was fired for condition checker result. (event:'"+f+"', element specified below) ",3),t.customerLog(u[0],3),l=r.send("SonarEventRaised",{event:o}),!l){if(n.isFeatureEnabled("verifySonarAfterEvent")&&(h=s(),c=o.srcElement||o.target,!h||h.length>0&&c&&!h.is(c)))return t.customerLog("triggered element does not match condition selector",5),void e.setValue(!1);i.wrapSession(function(){e.setValue(!0)})}};c(u,f,h);e.onResourceClean(function(){o(u,f,h)})}function c(n,i,r){if(t.customerLog("Listening to event on element. (event:'"+i+"', element specified below) ",5),t.customerLog(n,5),n){var e=s(i,f);u.bind(n,e,r)}}function o(n,i,r){try{if(t.customerLog("Stopped listening for event in condition checker result. (event:'"+i+"', element specified below) ",5),t.customerLog(n,5),n){var e=s(i,f);u.unbind(n,e,r)}}catch(o){}}function s(n,t){return n.replace(/ /g,t+" ")+t}var e=this,f;e.handleEvent=h;e.unbindEvent=o;f=".mtCond"}function vg(n,t,i,u,s,h,l,a,v,y,p,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at){function ci(n,t){return i.isBigger(n,t)}function li(n,t){return i.isSmaller(n,t)}function wt(n,t){return i.isLike(n,t)}function fi(n,t){var i,r;try{t.regexText&&(r=new RegExp(t.regexText,t.regexFlags),i=r.exec(n))}catch(u){}return null!=i}function gi(n){var t=n.split(":"),i=Number(t[0]),r=Number(t[1]);return 60*i+r}function bt(n){var t=new RegExp("[ \t"+String.fromCharCode(160)+"\r\n\x0b\f]+","gi");return n=n.replace(t," "),n=r.trim(n)}function nr(n){ot.customerLog("jQuery find element for condition",5);var i=t.findElementsByjQueryComplexSelector(n.jQuerySelector);return ot.customerLog(i,5),0===i.length&&(i=!1),i}function gt(n,t){var i=function(){return nr(n.funcArgs)};return ai(t,n.pollingInterval,i)}function ve(n,t,i,r){var u=function(){return nr(n)};return hr(n,t,i,r,u)}function ni(n){return"boolean"==typeof n?n:1===n||0!==n&&("string"==typeof n?"true"==n.toLowerCase()||"1"==n||"false"!=n.toLowerCase()&&"0"!=n&&void 0:void 0)}function ti(n){var t=ae();return n.IdentifySettings?(t.ElementDescription=c(o(n.IdentifySettings.ElementDescription)),t.IsIgnoreText=void 0===n.IdentifySettings.IgnoreText?ni(n.IdentifySettings.IsIgnoreText):parseInt(n.IdentifySettings.IgnoreText),t.StepSensitivity=void 0===n.IdentifySettings.Sensitivity?parseInt(n.IdentifySettings.StepSensitivity):parseInt(n.IdentifySettings.Sensitivity),t.IsIgnoreId=void 0===n.IdentifySettings.IgnoreId?ni(n.IdentifySettings.IsIgnoreId):parseInt(n.IdentifySettings.IgnoreId),t.IgnorePosition=ni(n.IdentifySettings.IgnorePosition),t.IsIdentifyByText=ni(n.IdentifySettings.IsIdentifyByText),t.IgnorePageIdentification=ni(n.IdentifySettings.IgnorePageIdentification),t.IsValidPageId=ni(n.IdentifySettings.IsValidPageId)):t.ElementDescription=c(o(n.ElementDescription)),t}function wi(n){return rt.decodeHtml(n.UrlInput,["&"])}function ai(n,t,i){function e(){ot.customerLog("Poll Element: start search for element (polling: "+t>"0)",5);f&&f.clear();var o=!!u&&is(u);o||(lt.unbindEvent(u,n),u=i(),ot.customerLog("Poll Element: element matched: ",5),ot.customerLog(u,5),u?lt.handleEvent(u,n,r,i):t>=0&&r.setValue(!1));t>=0&&(f=s.libSetTimeout(e,t))}var f,u,r=new b.regular(!1);return r.onResourceClean(function(){t=-1}),r.onRefresh(function(){r.getValue()&&r.setValue(!1);e()}),r.getValue()||e(),r}function is(n){var t,i;try{t=n[0].ownerDocument}catch(r){return!1}return(i=t.defaultView||t.parentWindow,!i||i.top!=window.top||!n.is(":mt_visible"))?!1:!0}function hr(n,t,i,r,u){var s,h=function(n){return n?s:s=u()},f=new b.regular,e=ai(t,r,function(){return h(!1)}),o=ai(i,r,function(){return h(!0)});return e.onGotValue(function(){e.getValue()&&f.setValue(!0)}),o.onGotValue(function(){o.getValue()&&f.setValue(!1)}),f.onResourceClean(function(){e.cleanResources();o.cleanResources()}),f}function cr(t){var r=ti(t),i;return ot.customerLog("Find element for condition",5),i=n.findElement(r,null),ot.customerLog(i,5),i}function ii(n,t){var i=function(){return cr(n.funcArgs)};return ai(t,n.pollingInterval,i)}function rs(n,t,i){var r=function(){return cr(n.funcArgs)};return hr(n.funcArgs,t,i,n.pollingInterval,r)}function vr(n,t){return fi(n,t)}function ys(n,t){return!vr(n,t)}function ki(n,t){var i=rt.decodeHtml(t,["&",'"',"'",">","<"]);return n!==!1&&bt(n.toLowerCase())==bt(i.toLowerCase())}function yr(n,t){return!ki(n,t)}function pr(n,t){var i=rt.decodeHtml(t,["&",'"',"'",">","<"]);return n!==!1&&wt(bt(n),bt(i))}function ps(n,t){return!pr(n,t)}function ws(n,t){return n!==!1&&ci(n,t)}function bs(n,t){return n!==!1&&li(n,t)}function ks(n,t){return n=r.trim(n),n.length<parseInt(t)}function ds(n,t){return n=r.trim(n),n.length==parseInt(t)}function gs(n,t){return n=r.trim(n),n.length>parseInt(t)}function di(n){return r.grep(n.split(/\s+/),function(n){return 0!=n.length}).length}function nh(n,t){return di(n)<parseInt(t)}function th(n,t){return di(n)==parseInt(t)}function ih(n,t){return di(n)>parseInt(t)}function wr(n){return n?isNaN(n)?/^[+-]?(?=.)(\d{1,3}(,\d{3})*)?(\.\d+)?$/.test(n)?!0:isNaN(n.replace(",","."))?/^[+-]?(?=.)(\d{1,3}(\.\d{3})*)?(,\d+)?$/.test(n)?!0:!1:!0:!0:!1}function rh(n){return!wr(n)}function br(n){var i=e("(({0}{2}{0}\\4{1})|({1}{2}{0}\\9{0})|({0}{2}{0}\\14{0}))","([1-9]\\d?|0?[1-9])","([1-9]\\d\\d\\d)","([.\\-\\/ ])"),r=new RegExp(i,"i"),t=r.exec(n);return null!=t&&n==t[0]}function uh(n){return!br(n)}function kr(n){var t=n.match(/((2[0-4])|([0-1]?[0-9])):([0-5][0-9])[^:]*/);return null!=t&&n==t[0]}function fh(n){return!kr(n)}function dr(n){var t=n.match(/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/);return null!=t&&n==t[0]}function eh(n){return!dr(n)}function gr(n){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)}function oh(n){return!gr(n)}function nu(n){var t=n.match(/(https?:\/\/)?[-a-zA-Z0-9@:%_\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/);return null!=t&&n==t[0]}function sh(n){return!nu(n)}function nc(n,t){return n/=t,n--,Math.sqrt(1-n*n)}function hf(n){var t=parseInt(n.funcArgs.TaskId),i=parseInt(n.funcArgs.GoalId);return f.get("TodoListManager").isTaskGoalReached(t,i)}function ue(n){return pt(ia,function(t){return t&&t[n.funcArgs.workletUid]})}function ra(n){return!ue(n)}function ee(n){return pt(fe,function(t){return t&&t[n.funcArgs.inboxItemUid]})}function ua(n){return!ee(n)}function fa(n,i){var r=he+i;dt[r]=function(i){var r=t.getjQueryElementText(i.funcArgs.jQuerySelector);return i.funcArgs.jQueryText||""==i.funcArgs.jQueryText?n.call(this,r,i.funcArgs.jQueryText):n.call(this,r)}}function ea(n,t){var u=ce+t;dt[u]=function(t){var u=i.checkElementText(r(t.funcArgs.getSelectedElement()));return t.funcArgs.ElementText||""==t.funcArgs.ElementText?n.call(this,u,t.funcArgs.ElementText):n.call(this,u)}}function oa(n,t){var i=le+t;dt[i]=function(t){var i=hi.getElementText(t.funcArgs);return i===!1?!1:t.funcArgs.ElementText||""==t.funcArgs.ElementText?n.call(this,i,t.funcArgs.ElementText):n.call(this,i)}}function se(t,i){if(i.identifySettings&&p.checkIfTreeContainsSelectedElement(t)){var r=i.identifySettings;t.funcArgs.getSelectedElement=function(){return n.findElement(r,!1)}}}function sa(n){n.node&&n.node.Root&&(n.node=et.convert(n.node.Root))}function ha(n){function t(i){if("Func"==i.nodeType)return se(i,n),hi.evaluationPreview(i);var r=t(i.leftSon),u=t(i.rightSon);return"And"==i.nodeType?r==yt.TRUE&&u==yt.TRUE?yt.TRUE:r==yt.CANNOT_ASSERT||u==yt.CANNOT_ASSERT?yt.CANNOT_ASSERT:yt.FALSE:"Or"==i.nodeType?r==yt.TRUE||u==yt.TRUE?yt.TRUE:r==yt.CANNOT_ASSERT||u==yt.CANNOT_ASSERT?yt.CANNOT_ASSERT:yt.FALSE:void 0}var i=n.node;return null==i?yt.TRUE:t(i)}var hi=this,yt={TRUE:0,FALSE:1,CANNOT_ASSERT:2},he="jQuery",ce="SelectedElement",le="Element",ae=function(){return{Id:-1,TutorialId:-1,StepText:"",StepTitle:"",ElementDescription:"",StepIndex:-1,ConfigurationId:"1",Configuration:null,StepSensitivity:1,Type:-1,Settings:{},Duration:4,Delay:0}},bi,fe,dt,ui,kt,vt,yi,oe,si;this.getElementTextForEditor=function(n){var t=c(n);return hi.getElementText(t)};this.getElementStrength=function(t){var r=c(t),u=ti(r),i={score:-1},f=n.findElement(u,null,i);if(f)return i.score};this.getElementText=function(t){var f=ti(t),u=n.findElement(f,!1);return u!==!1&&i.checkElementText(r(u))};var ye=function(n){return n=r.extend(n,{pollingInterval:-1}),gt(n,"hover")},pe=function(n){return gt(n,"hover")},we=function(n){return n=r.extend(n,{pollingInterval:-1}),gt(n,"click mouseup mousedown")},be=function(n){return gt(n,"click mouseup mousedown")},ke=function(n){return n=r.extend(n,{pollingInterval:-1}),gt(n,"swipe")},de=function(n){return gt(n,"swipe")},ge=function(n){return ve(n.funcArgs,"mouseenter","mouseleave",n.pollingInterval)},no=function(n){return t.findElementsByjQueryComplexSelector(n.funcArgs.jQuerySelector).length>0},to=function(n){return 0==t.findElementsByjQueryComplexSelector(n.funcArgs.jQuerySelector).length},io=function(n){return t.findElementsByjQueryComplexSelector(n.funcArgs.jQuerySelector).length>parseInt(n.funcArgs.jQueryLength)},ro=function(n){return t.findElementsByjQueryComplexSelector(n.funcArgs.jQuerySelector).length<parseInt(n.funcArgs.jQueryLength)},uo=function(n){return t.findElementsByjQueryComplexSelector(n.funcArgs.jQuerySelector).length==parseInt(n.funcArgs.jQueryLength)},fo=function(n){return t.findElementsByjQueryComplexSelector(n.funcArgs.jQuerySelector).length!=parseInt(n.funcArgs.jQueryLength)},tr=function(n){for(var r=parseInt(n.funcArgs.StepId),i=g.stepPlayHistory,t=0;t<i.length;t++)if(i[t]==r)return!0;return!1},eo=function(n){return!tr(n)},ir=function(n){for(var i=parseInt(n.funcArgs.StepId,10),t=0;t<g.stepCompletedHistory.length;t++)if(g.stepCompletedHistory[t]==i)return!0;return!1},oo=function(n){return!ir(n)},rr=function(n){var i=new Date(rt.decodeHtml(n.funcArgs.DateInput,["&"])),t=new Date;return t.setHours(0,0,0,0),i-t==0},so=function(n){return!rr(n)},ho=function(n){var i=new Date(rt.decodeHtml(n.funcArgs.DateInput,["&"])),t=new Date;return t.setHours(0,0,0,0),t>=i},co=function(n){var i=new Date(rt.decodeHtml(n.funcArgs.DateInput,["&"])),t=new Date;return t.setHours(0,0,0,0),t<=i},lo=function(n){var t=new Date;return Number(n.funcArgs.DateInput)==t.getDay()},ao=function(n){var t=new Date;return Number(n.funcArgs.DateInput)==t.getMonth()},vo=function(n){var t=new Date;return Number(n.funcArgs.DateInput)==t.getFullYear()},yo=function(n){var t=new Date,i=60*t.getHours()+t.getMinutes();return i>=gi(n.funcArgs.TimeInput)},po=function(n){var t=new Date,i=60*t.getHours()+t.getMinutes();return i<=gi(n.funcArgs.TimeInput)},ur=function(n){var t=rt.decodeHtml(n.funcArgs.UrlInput,["&"]);return a.remove(t.toLowerCase())==a.remove(ut.getCurrentLocation().toLowerCase())},wo=function(n){return!ur(n)},pi=function(n){var t=rt.decodeHtml(n.funcArgs.UrlInput,["&"]);return a.remove(ut.getCurrentLocation()).toLowerCase().indexOf(a.remove(t).toLowerCase())>=0},bo=function(n){return!pi(n)};var fr=function(n){var t=wi(n.funcArgs);return a.remove(t).toLowerCase()==a.remove(ut.getCurrentUrlPath()).toLowerCase()},ko=function(n){return!fr(n)},er=function(n){var t=wi(n.funcArgs);return ut.getCurrentUrlPath().toLowerCase().indexOf(t.toLowerCase())>=0},go=function(n){return!er(n)},or=function(n){var t=wi(n.funcArgs),i=a.remove(ut.getCurrentUrlPath()),r=a.remove(t);return wt(i,r)},ns=function(n){return!or(n)},sr=function(n){var t=a.remove(ut.getCurrentUrlPath()),i=n.funcArgs.UrlInput;return fi(t,i)},ts=function(n){return!sr(n)};bi=function(t){var i=ti(t.funcArgs);return 0!=n.findElement(i,!1)};var us=function(n){return n=r.extend(n,{pollingInterval:-1}),ii(n,"hover")},fs=function(n){return ii(n,"hover")},es=function(n){return n=r.extend(n,{pollingInterval:-1}),ii(n,"click mouseup mousedown")},os=function(n){return ii(n,"click mouseup mousedown")},ss=function(n){return n=r.extend(n,{pollingInterval:-1}),ii(n,"swipe")},hs=function(n){return ii(n,"swipe")},cs=function(n){return rs(n,"mouseenter","mouseleave")},ls=function(n){return!bi(n)},lr=function(t){var i=ti(t.funcArgs);return 0!=n.findElement(i,!0)},as=function(n){return!lr(n)},ar=function(t){var i=ti(t.funcArgs),u=n.findElement(i,!1);return r(u).is(":checked")},vs=function(n){return!ar(n)};var tu=function(n){return!!n.funcArgs.getSelectedElement()},hh=function(n){return!tu(n)},iu=function(n){return r(n.funcArgs.getSelectedElement()).is(":checked")},ch=function(n){return!iu(n)},ru=function(n){return!!n.funcArgs.getSelectedElement()},lh=function(n){return!ru(n)},uu=function(n){var t=rt.decodeHtml(n.funcArgs.UrlInput,["&"]),i,r;return 0==t.indexOf("regexp:")?ft.isLocationMatchString(t):(i=a.remove(ut.getCurrentLocation()),r=a.remove(t),wt(i,r))},ah=function(n){return!uu(n)},fu=function(n){var t=a.remove(ut.getCurrentLocation()),i=n.funcArgs.UrlInput;return fi(t,i)},vh=function(n){return!fu(n)},eu=function(n){var t=rt.decodeHtml(n.funcArgs.UrlInput,["&"]);return a.remove(t.toLowerCase())==a.remove(si().toLowerCase())},yh=function(n){return!eu(n)},ou=function(n){var t=rt.decodeHtml(n.funcArgs.UrlInput,["&"]);return a.remove(si().toLowerCase()).indexOf(a.remove(t.toLowerCase()))>=0},ph=function(n){return!ou(n)},su=function(n){var t=rt.decodeHtml(n.funcArgs.UrlInput,["&"]),i=a.remove(si()),r=a.remove(t);return wt(i,r)},wh=function(n){return!su(n)},hu=function(n){var t=a.remove(si()),i=n.funcArgs.UrlInput;return fi(t,i)},bh=function(n){return!hu(n)},cu=function(n){return wt(u.browser.string,"*"+n.funcArgs.BrowserName+"*")},kh=function(n){return!cu(n)},lu=function(){return window.self!==window.top},dh=function(n){return!lu(n)},vi=4e3,au=function(){var n=it.getData(k.PASS_OWNERSHIP.NEW_WINDOW_TIME_KEY),t,i;return n?(t=((new Date).getTime()-n)/2,i=t>vi?vi:nc(t,vi)*vi,f.get("WalkmeLoadTimeManager").getWalkmeLoadTime()+i>n):!1},gh=function(n){return!au(n)};var vu=function(n){var t=tt.getCookie(n.funcArgs.CookieName),i=rt.decodeHtml(n.funcArgs.CookieInput,["&",'"',"'"]);return t!==!1&&t.toLowerCase()==i.toLowerCase()},tc=function(n){return!vu(n)},ic=function(n){var t=tt.getCookie(n.funcArgs.CookieName);return t!==!1&&ci(t,n.funcArgs.CookieInput)},rc=function(n){var t=tt.getCookie(n.funcArgs.CookieName);return t!==!1&&li(t,n.funcArgs.CookieInput)},yu=function(n){var t=tt.getCookie(n.funcArgs.CookieName),i=rt.decodeHtml(n.funcArgs.CookieInput,["&",'"',"'"]);return t!==!1&&wt(t,i)},uc=function(n){return!yu(n)},pu=function(n){var t=tt.getCookie(n.funcArgs.CookieName);return t!==!1},fc=function(n){return!pu(n)},wu=function(n){var t=ht.getData(n.funcArgs.DataKey,void 0),i;return void 0===t?!1:(null===t&&(t="null"),i=rt.decodeHtml(n.funcArgs.DataValue,["&",'"',"'"]),t.toString().toLowerCase()==i.toLowerCase())},ec=function(n){return!wu(n)},oc=function(n){var t=ht.getData(n.funcArgs.DataKey,void 0);return void 0===t?!1:ci(t,n.funcArgs.DataValue)},sc=function(n){var t=ht.getData(n.funcArgs.DataKey,void 0);return void 0===t?!1:li(t,n.funcArgs.DataValue)},bu=function(n){var t=ht.getData(n.funcArgs.DataKey,void 0),i;return void 0===t||null===t?!1:(i=rt.decodeHtml(n.funcArgs.DataValue,["&",'"',"'"]),wt(t,i))},hc=function(n){return!bu(n)},ku=function(n){var t=ht.getData(n.funcArgs.DataKey,void 0);return void 0!==t},cc=function(n){return!ku(n)},du=function(n){var t=i.getWindowData(w.Var,n.funcArgs.WindowVarName),r=rt.decodeHtml(n.funcArgs.WindowVarInput,["&",'"',"'"]);return void 0!==t&&null!==t&&t.toString().toLowerCase()==r.toLowerCase()},lc=function(n){return!du(n)},ac=function(n){var t=i.getWindowData(w.Var,n.funcArgs.WindowVarName);return void 0!==t&&ci(t,n.funcArgs.WindowVarInput)},vc=function(n){var t=i.getWindowData(w.Var,n.funcArgs.WindowVarName);return void 0!==t&&li(t,n.funcArgs.WindowVarInput)},gu=function(n){var t=i.getWindowData(w.Var,n.funcArgs.WindowVarName),r=rt.decodeHtml(n.funcArgs.WindowVarInput,["&",'"',"'"]);return void 0!==t&&null!==t&&wt(t.toString(),r)},yc=function(n){return!gu(n)},nf=function(n){var t=i.getWindowData(w.Var,n.funcArgs.WindowVarName);return void 0!==t&&null!==t},pc=function(n){return!nf(n)},tf=function(n){var t=i.getWindowData(w.Var,n.funcArgs.WindowVarName);return fi(t,n.funcArgs.WindowVarInput)},wc=function(n){return!tf(n)},rf=function(n){var t=h.getCurrentLanguage(),i;return""===t&&(t="default"),i=rt.decodeHtml(n.funcArgs.LanguageName,["&",'"',"'"]),i.toLowerCase()==t.toLowerCase()},bc=function(n){return!rf(n)},uf=function(n){var t=h.getCurrentLanguage(),i;return""===t&&(t="default"),i=rt.decodeHtml(n.funcArgs.LanguageName,["&",'"',"'"]),wt(t,i)},kc=function(n){return!uf(n)},ff=function(t){var e=parseInt(t.funcArgs.StepId),i=parseInt(t.funcArgs.TutorialId),r=y.getWalkthruById(i),u=v.getStepIndex(e,i),f;return r&&u>-1?(f=r.Steps[u],n.findElement(f,!1)!==!1):!1},dc=function(n){return!ff(n)},ef=function(n){var f=parseInt(n.funcArgs.StepId),t=parseInt(n.funcArgs.TutorialId),i=y.getWalkthruIndexByWalkthruId(t),r=v.getStepIndex(f,t),u;return r>-1&&i>-1&&(u=d.checkIfStepExistsWithSkippables(i,r,void 0,void 0,void 0,k.CHECK_STEP_MODE.Sandbox),u>=0)?!0:!1},gc=function(n){return!ef(n)},of=function(t){var e=parseInt(t.funcArgs.StepId),i=parseInt(t.funcArgs.TutorialId),r=y.getWalkthruById(i),u=v.getStepIndex(e,i),f;return r&&u>-1?(f=r.Steps[u],n.findElement(f,!0)!==!1):!1},nl=function(n){return!of(n)},sf=function(n){var t=parseInt(n.funcArgs.GoalId);return ct.value&&ct.value.isGoalReached(t)},tl=function(n){return!sf(n)},il=function(n){return!!hf(n)},rl=function(n){var t=hf(n);return null==t?null:!t};var cf=function(n){var t=r("#tsidLabel"),i=rt.decodeHtml(n.funcArgs.SfTabInput.toString(),["&",'"',"'",">","<"]);return 0!=t.length&&bt(t.text().toLowerCase())==bt(i.toLowerCase())},ul=function(n){return!cf(n)},lf=function(n){var t=r("#tsidLabel"),i=rt.decodeHtml(n.funcArgs.SfTabInput,["&",'"',"'",">","<"]);return 0!=t.length&&bt(t.text().toLowerCase()).indexOf(bt(i.toLowerCase()))>=0},fl=function(n){return!lf(n)},el={Accounts:"salesforce.com/001/",Contacts:"salesforce.com/003/",Opportunities:"salesforce.com/006/",Documents:"salesforce.com/015/",Cases:"salesforce.com/500/",Solutions:"salesforce.com/501/",Contracts:"salesforce.com/800/",Reports:"salesforce.com/00O/",Leads:"salesforce.com/00Q/",Dashboards:"salesforce.com/01Z/",CustomTabs1:"salesforce.com/a00/",Products:"salesforce.com/a01/"},ol={MainPage:"o",New:"e"},af=function(n){var t=n.funcArgs.SfType,i=n.funcArgs.SfModoule,r={funcArgs:{UrlInput:""+el[t]+ol[i]}};return pi(r)},sl=function(n){return!af(n)},hl=function(n){return n.funcArgs.conditionBlockId>0?nt.activateById(n.funcArgs.conditionBlockId,void 0):!1},pt=function(n,t){var r=i.getWindowData(w.Var,n);return void 0!==r&&null!==r&&t(r)},ri="walkMeWorkday.segmentation.flow.forms";this.WORKDAY_FORMS_VAR_NAME=ri;var vf=function(n){return pt(ri,function(t){return t[n.funcArgs.FormInput]})},cl=function(n){return!vf(n)},yf=function(n){return pt(ri,function(t){var i=rt.decodeHtml(n.funcArgs.FormInput,["&",'"',"'"]);for(var r in t)if(r.toLowerCase().indexOf(i.toLowerCase())>=0)return!0;return!1})},ll=function(n){return!yf(n)},pf=function(n){return pt(ri,function(t){var i=rt.decodeHtml(n.funcArgs.FormInput,["&",'"',"'"]);for(var r in t)if(wt(r,i))return!0;return!1})},al=function(n){return!pf(n)},vl=function(n){return pt(ri,function(t){var i=0;for(var r in t)i++;return i.toString()===n.funcArgs.FormInput})},wf=function(){return i.getWindowData(w.Var,ri)},yl=function(n){return!wf(n)},ei="walkMeWorkday.segmentation.flow.page";this.WORKDAY_PAGE_VAR_NAME=ei;var bf=function(n){return pt(ei,function(t){var i=rt.decodeHtml(n.funcArgs.PageInput,["&",'"',"'"]);return t.toString().toLowerCase()==i.toLowerCase()})},pl=function(n){return!bf(n)},kf=function(n){return pt(ei,function(t){var i=rt.decodeHtml(n.funcArgs.PageInput,["&",'"',"'"]);return t.toLowerCase().indexOf(i.toLowerCase())>=0})},wl=function(n){return!kf(n)},df=function(n){return pt(ei,function(t){var i=rt.decodeHtml(n.funcArgs.PageInput,["&",'"',"'"]);return wt(t,i)})},bl=function(n){return!df(n)},gf=function(){return pt(ei,function(n){return""===n?!1:!0})},kl=function(n){return!gf(n)},oi="walkMeWorkday.segmentation.flow.subPage";this.WORKDAY_SUB_PAGE_VAR_NAME=oi;var ne=function(n){return pt(oi,function(t){var i=rt.decodeHtml(n.funcArgs.SubPageInput,["&",'"',"'"]);return t.toString().toLowerCase()==i.toLowerCase()})},dl=function(n){return!ne(n)},te=function(n){return pt(oi,function(t){var i=rt.decodeHtml(n.funcArgs.SubPageInput,["&",'"',"'"]);return t.toLowerCase().indexOf(i.toLowerCase())>=0})},gl=function(n){return!te(n)},ie=function(n){return pt(oi,function(t){var i=rt.decodeHtml(n.funcArgs.SubPageInput,["&",'"',"'"]);return wt(t,i)})},na=function(n){return!ie(n)},re=function(){return pt(oi,function(n){return""===n?!1:!0})},ta=function(n){return!re(n)},ia="walkMeWorkday.segmentation.worklets";fe="walkMeWorkday.segmentation.inbox";dt={jQueryTrue:no,jQueryFalse:to,jQueryLengthBigger:io,jQueryClicked:we,jQueryClickedSticky:be,jQueryHovered:ye,jQueryHoveredSticky:pe,jQueryHoverSwitch:ge,jQuerySwiped:ke,jQuerySwipedSticky:de,jQueryLengthSmaller:ro,jQueryLengthEquals:uo,jQueryLengthNotEquals:fo,StepPlayed:tr,StepNotPlayed:eo,StepCanPlay:ef,StepCannotPlay:gc,StepIsVisible:of,StepIsNotVisible:nl,StepExists:ff,StepNotExists:dc,StepCompleted:ir,StepNotCompleted:oo,UrlEquals:ur,UrlNotEquals:wo,UrlContains:pi,UrlNotContains:bo,UrlLike:uu,UrlNotLike:ah,UrlIsPerRegularExpression:fu,UrlIsNotPerRegularExpression:vh,UrlPathEquals:fr,UrlPathNotEquals:ko,UrlPathContains:er,UrlPathNotContains:go,UrlPathLike:or,UrlPathNotLike:ns,UrlPathIsPerRegularExpression:sr,UrlPathIsNotPerRegularExpression:ts,DateEquals:rr,DateNotEquals:so,DateFrom:ho,DateUntil:co,DateIsDay:lo,DateIsMonth:ao,DateIsYear:vo,TimeFrom:yo,TimeUntil:po,ReferrerUrlEquals:eu,ReferrerUrlNotEquals:yh,ReferrerUrlContains:ou,ReferrerUrlNotContains:ph,ReferrerUrlLike:su,ReferrerUrlNotLike:wh,ReferrerUrlIsPerRegularExpression:hu,ReferrerUrlIsNotPerRegularExpression:bh,ElementExists:bi,ElementNotExist:ls,ElementVisible:lr,ElementNotVisible:as,ElementClicked:es,ElementClickedSticky:os,ElementHovered:us,ElementHoveredSticky:fs,ElementHoverSwitch:cs,ElementSwiped:ss,ElementSwipedSticky:hs,ElementSelected:ar,ElementNotSelected:vs,BrowserEquals:cu,BrowserNotEquals:kh,ContainerIsIframe:lu,ContainerNotIframe:dh,WindowIsNew:au,WindowIsNotNew:gh,CookieExists:pu,CookieNotExists:fc,CookieEquals:vu,CookieNotEquals:tc,CookieBigger:ic,CookieSmaller:rc,CookieLike:yu,CookieNotLike:uc,WalkMeDataExists:ku,WalkMeDataNotExists:cc,WalkMeDataEquals:wu,WalkMeDataNotEquals:ec,WalkMeDataBigger:oc,WalkMeDataSmaller:sc,WalkMeDataLike:bu,WalkMeDataNotLike:hc,LanguageEquals:rf,LanguageNotEquals:bc,LanguageLike:uf,LanguageNotLike:kc,WindowVarEquals:du,WindowVarNotEquals:lc,WindowVarBigger:ac,WindowVarSmaller:vc,WindowVarLike:gu,WindowVarNotLike:yc,WindowVarExists:nf,WindowVarNotExists:pc,WindowVarIsPerRegularExpression:tf,WindowVarIsNotPerRegularExpression:wc,TaskGoalReached:il,TaskGoalNotReached:rl,ExperimentGoalReached:sf,ExperimentGoalNotReached:tl,SalesforceTabEquals:cf,SalesforceTabNotEquals:ul,SalesforceTabContains:lf,SalesforceTabNotContains:fl,SalesforceUrlEquals:af,SalesforceUrlNotEquals:sl,ConditionBlockTrue:hl,FormEquals:vf,FormNotEquals:cl,FormContains:yf,FormNotContains:ll,FormLike:pf,FormNotLike:al,FormCount:vl,FormExists:wf,FormNotExists:yl,PageEquals:bf,PageNotEquals:pl,PageContains:kf,PageNotContains:wl,PageLike:df,PageNotLike:bl,PageExists:gf,PageNotExists:kl,SubPageEquals:ne,SubPageNotEquals:dl,SubPageContains:te,SubPageNotContains:gl,SubPageLike:ie,SubPageNotLike:na,SubPageExists:re,SubPageNotExists:ta,SelectedElementVisible:tu,SelectedElementNotVisible:hh,SelectedElementSelected:iu,SelectedElementNotSelected:ch,SelectedElementExists:ru,SelectedElementNotExist:lh,WorkletExists:ue,WorkletNotExists:ra,InboxItemExists:ee,InboxItemNotExists:ua};ui={TextPerRegularExpression:vr,TextNotPerRegularExpression:ys,TextEquals:ki,TextNotEquals:yr,TextLike:pr,TextNotLike:ps,TextEmpty:ki,TextNotEmpty:yr,TextBigger:ws,TextSmaller:bs,TextLengthIsLessThan:ks,TextLengthIsEqualTo:ds,TextLengthIsGreaterThan:gs,TextWordCountIsLessThan:nh,TextWordCountIsEqualTo:th,TextWordCountIsGreaterThan:ih,TextNumeric:wr,TextNotNumeric:rh,TextIsDate:br,TextIsNotDate:uh,TextIsTime:kr,TextIsNotTime:fh,TextIsUSPhoneNumber:dr,TextIsNotUSPhoneNumber:eh,TextIsEmail:gr,TextIsNotEmail:oh,TextIsWebAddress:nu,TextIsNotWebAddress:sh};for(kt in ui)ui.hasOwnProperty(kt)&&(fa(ui[kt],kt),ea(ui[kt],kt),oa(ui[kt],kt));r.extend(dt,l.getFuncList());vt=[];vt.StepPlayed=!1;vt.StepNotPlayed=!1;vt.StepCanPlay=!1;vt.StepCannotPlay=!1;vt.StepCompleted=!1;vt.StepNotCompleted=!1;vt.LanguageEquals=!1;vt.LanguageNotEquals=!1;vt.LanguageLike=!1;vt.LanguageNotLike=!1;vt.TaskGoalReached=!1;vt.TaskGoalNotReached=!1;vt.jQueryClicked=!1;vt.jQueryClickedSticky=!1;vt.jQueryHovered=!1;vt.jQueryHoveredSticky=!1;vt.jQuerySwiped=!1;vt.jQuerySwipedSticky=!1;vt.ElementClicked=!1;vt.ElementClickedSticky=!1;vt.ElementHovered=!1;vt.ElementHoveredSticky=!1;vt.ElementSwiped=!1;vt.ElementSwipedSticky=!1;vt.ExperimentGoalReached=!1;vt.ExperimentGoalNotReached=!1;r.extend(vt,l.getFuncAssert());yi=["ElementClicked","ElementHovered","ElementHoverSwitch","jQueryClicked","jQueryHovered","jQueryHoverSwitch","jQuerySwiped","ElementSwiped","LikelyToChurn"];yi.push.apply(yi,l.getAsyncFuncs());this.isFuncAsync=function(n){return st.inArray(n,yi)>=0};oe=["jQueryHoveredSticky","jQueryClickedSticky","jQuerySwipedSticky","ElementClickedSticky","ElementHoveredSticky","ElementSwipedSticky"];this.isFuncSticky=function(n){return st.inArray(n,oe)>=0};this.hasCoreFunction=function(n){return!!dt[n]};this.getFunctionsByLibNameType=function(n){return dt[n]||at.get(n)};this.canAssertFunction=function(n){return void 0==vt[n]||0!=vt[n]};this.evaluationPreviewForEditor=function(n){var t=c(n);return se(t.node,t),hi.evaluationPreview(t.node)};this.evaluationPreview=function(n){var i=this.getFunctionsByLibNameType(n.funcName),t;return this.canAssertFunction(n.funcName)?(t={funcArgs:n.funcArgs,conditionId:-1,pollingInterval:-1},i(t)?yt.TRUE:yt.FALSE):yt.CANNOT_ASSERT};this.evaluationTreePreviewForEditor=function(n){var t=c(n);return sa(t),ha(t)};si=function(){return document.referrer}}function yg(n,t,i){function s(n){if(!n)throw new Error("A handler name must be defined");var t=i.get(n,u[n]);return e("Got a "+(u[n]?"real":"dummy")+" handler for "+n),t}function h(n,t){if(e("Register called for "+n+" function."),!n||!t)throw new Error("Name and handler must be defined.");if(c(n))throw new Error(n+" is a core condition. Core conditions cannot be overridden.");e((u[n]?"Replacing":"Registering")+" a condition handler for "+n);u[n]=t;l(n)}function c(n){return!!f.get("ConditionFunctions").hasCoreFunction(n)}function l(n){var i=t.get(n);e(n+" had "+i.length+" pending results.");r(i).each(function(t,i){u[n](i.asyncResult,i.params)});e("Finished handling pending results for "+n)}var o=this,u={},e=n.wrapCustomerLog(ai);o.get=s;o.register=h}function pg(n,t){function c(n,t,i){var r=a(n);h(t,n);r.push({asyncResult:t,params:i});f++;h(t,n);u("Pending result for "+n+" added.");y()}function l(n){var t=i[n];return t?(u("Returning "+t.length+"pending results for "+n),i[n]=void 0,f-=t.length):u(n+" doesn't have pending results."),t||[]}function a(n){var t=i[n];return t||(t=[],i[n]=t),t}function h(n,t){n.onResourceClean(function(){v(t,n)})}function v(n,t){var u=i[n];u&&(i[n]=r(u).filter(function(n,i){return i.asyncResult!=t}).toArray())}function y(){f>o&&!s&&(t.logError("ExternalConditionsHandler: The Pending results excceded the the current threshold.",{threshold:o}),s=!0)}var e=this;e.add=c;e.get=l;var o=100,i={},u=n.wrapCustomerLog(ai),s=!1,f=0}function wg(n){function i(n,t){return t?u(t):r(n)}function r(t){return function(i){var r=new b.regular(!1);return n.add(t,r,i),r}}function u(n){return function(t){var i=new b.regular(!1);return n(i,t),i}}var t=this;t.get=i}function bg(n,t,i,r,u,f,e,o,s,h,c,l){function p(n,t){return n&&n.Root?v(t):y(t)}function v(n){return new t(i,r,u,f,e,o,s,h,l,c,n)}function y(t){return new n(i,r,u,f,e,o,s,h,l,t)}var a=this;a.createConditionChecker=p;a.createNew=v;a.createOld=y}function kg(){function t(n,t,i){return t?i?{nodeType:n,leftSon:t,rightSon:i,nodeDepth:0}:t:i}var n=this;n.combine=t}function dg(n,t,i){function u(r,u,f){var e=f?t.convert(f.Root):void 0,o=u&&u.Root?t.convert(u.Root):u,s=n.combine(r,o,e);return i.convert(s)}var r=this;r.combine=u}function gg(){function t(n){return n?f.get("NewConditionsCombiner"):f.get("OldConditionsCombiner")}var n=this;n.get=t}function nn(n,t,i,r,u,e,o,s,h){function g(){var n=nt();return n?(r.setWalkmeTimeout(v,w),u.when(n)):v()}function nt(){return n.getData(a,null)}function v(){return tt().then(ut)}function tt(){var t=u.Deferred(),i=rt(t),r,f,o;if(c(i,t))return t.promise();if(r=i,f=s.browser.name,("Chrome"==f||"Safari"==f)&&!n.getData(l,!1)){var a=i.indexOf("users"),v=i.substring(a,i.length),y=h.get()+"/FilesContentRetriever/LoadFileByName";r=y+"?fileName="+v}return o=it(t),e.addScriptWithCallback(r,p,function(i){0!=i.length&&n.saveData(l,!0,k);var r=ft(i);o.clear();t.resolve(r)},function(){o.clear();t.resolve({})}),t.promise()}function it(n){return f.create("EngagementRulesErrorTimer",{loadScriptDeferred:n})}function c(n,t){return n?!1:(t.resolve({}),!0)}function rt(n){var f=t.getEndUserGuid(),e=o.encrypt(f),u=i.getSettingsFile(),r;if(!c(u,n))return(r=u.BaseUserCdnFolder,c(r,n))?void 0:r+b+e+".json"}function ut(t){n.saveData(a,t,d)}function ft(n){for(var i={},t=0;t<n.length;t++)i[n[t]]=!0;return i}var y=this;y.init=g;var p="loadEngagementRules",w=5e3,b="/engagementRulesReports/",l=n.keysConfig.engagementRules.fileExists.key,k=n.keysConfig.engagementRules.fileExists.expiry,a=n.keysConfig.engagementRules.uniqueData.key,d=n.keysConfig.engagementRules.uniqueData.expiry}function tn(n,t,i,r){function e(){var f=r.loadScriptDeferred;u=n.setWalkmeTimeout(function(){f.isResolved()||(t.error(null,"Error trying to get engagement rules data from player server"),f.resolve({}),i.removeWalkMe("Failed loading engagement rules data after 5 seconds"))},5e3)}function o(){u.clear()}var f=this,u;f.clear=o;e.apply(null,arguments)}function rn(n,t,i){function o(){t.isFeatureEnabled("engagementRules")?u=n.init().then(e):(e({}),u=i.when())}function e(n){f=n}function s(n){u.then(n)}function h(){return f}var r=this,u,f;r.init=o;r.isReady=s;r.get=h;f={}}function un(n){function f(n,t){r.each(n,function(n,r){u[r]=t;i[r]=!1})}function s(){return u}function h(){return i}function c(){return o}function e(t){var i=n.get()[t.conditionId];return!!i}function l(n){return!e(n)}var t=this;t.getFuncList=s;t.getFuncAssert=h;t.getAsyncFuncs=c;var i=[],o=[],u={};f(["UserWebsiteVisitedBefore","UserWebsiteVisitedAfter","UserWebsiteVisitedMoreThan","UserWebsiteVisitedInLast","UserTrackedElementClickedMoreThan","UserTrackedElementClickedInLast","UserTrackedElementClickedAfter","UserTrackedElementClickedBefore","UserTrackedPageVisitedInLast","UserTrackedPageVisitedBefore","UserTrackedPageVisitedAfter","UserTrackedPageVisitedMoreThan"],e);f(["UserWebsiteVisitedFirstTime","UserWebsiteVisitedLessThan","UserWebsiteNotVisitedEver","UserWebsiteNotVisitedBefore","UserWebsiteNotVisitedAfter","UserWebsiteNotVisitedInLast","UserTrackedElementClickedLessThan","UserTrackedElementNotClicked","UserTrackedElementNotClickedAfter","UserTrackedElementNotClickedBefore","UserTrackedElementNotClickedInLast","UserTrackedPageVisitedLessThan","UserTrackedPageNotVisited","UserTrackedPageNotVisitedBefore","UserTrackedPageNotVisitedAfter","UserTrackedPageNotVisitedInLast"],l)}function fn(n){function e(){return u}function o(){return i}function s(){return f}function h(t){var i=n.getTasksCompletionProgress();return i>t.funcArgs.UserOnboardingProgressInput}function c(t){var i=n.getTasksCompletionProgress();return i<t.funcArgs.UserOnboardingProgressInput}function l(){var t=n.getTasksCompletionProgress();return 0==t}function a(){var t=n.getTasksCompletionProgress();return t>0&&t<100}function v(){var t=n.getTasksCompletionProgress();return 100==t}var t=this;t.getFuncList=e;t.getFuncAssert=o;t.getAsyncFuncs=s;var i=[],f=[],u={UserOnboardingProgressMoreThan:h,UserOnboardingProgressLessThan:c,UserOnboardingProgressNotStarted:l,UserOnboardingProgressOngoing:a,UserOnboardingProgressComplete:v};r.each(u,function(n){i[n]=!1})}function en(n,t,i,r){function e(n){if(!o(n.Settings))return!1;var i=s(n);return i?t.checkConditions(i,n):!0}function o(t){var i=n.getSettingsValue(t,"IsVisible",!0);return"False"!=i}function s(t){var i=1==n.getSettingsValue(t.Settings,u.enabled,0);return i?t.ConditionTrees&&t.ConditionTrees[u.name]:!1}var f=this,u;f.isShowInMenu=e;u=r.properties[i.DEPLOYABLE_TYPE.BusinessSolution]}function on(n){function i(t){var i=r(t);return i?n.checkConditions(i,t):!0}function r(n){return n.Settings&&n.Settings.DisplayCondition}var t=this;t.isShowInMenu=i}function sn(n,t,i,r,u){function e(r){switch(r){case u.DEPLOYABLE_TYPE.Task:return o;case u.DEPLOYABLE_TYPE.Tutorial:return n.canShowTutorial;case u.DEPLOYABLE_TYPE.BusinessSolution:return t.isShowInMenu;case u.DEPLOYABLE_TYPE.Content:case u.DEPLOYABLE_TYPE.Shuttle:case u.DEPLOYABLE_TYPE.Course:return i.isShowInMenu;default:return s}}function o(n){return r.isTaskDisplayed(n)}function s(){return!0}var f=this;f.getDisplayConditionCheckerFunc=e}function hn(n){function i(t,i){if(!t)return!0;var r=n.createConditionChecker(t,{featureName:af,elementName:i.Name});return r.getCurrentEvaluationValueAndStopEvaluating(t)}var t=this;t.checkConditions=i}function cn(n,t){function f(n,u,f){var e=i[n]?i[n]:r;return t.getSettingsValue(u[e],f,"")}var u=this,r,i;u.get=f;r="Settings";i={};i[n.BusinessSolution]="ConditionTrees"}function ln(n){function u(i,r){return f(i)&&(i=n.convert(i.Root)),t(i,r)}function f(n){return n.Root}function t(n,i){return"Func"==n.nodeType?r.inArray(n.funcName,i)>-1:("And"==n.nodeType||"Or"==n.nodeType)&&(t(n.leftSon,i)||t(n.rightSon,i))}var i=this;i.containsFuncName=u}function an(n){this.evaluate=function(t){function i(t){var f,u,r;return"Func"==t.nodeType?(f=n.getFunctionsByLibNameType(t.funcName),u=[],u.push({funcArgs:t.funcArgs}),r=f.apply(this,u),t.result=r,r):"And"==t.nodeType?(r=i(t.leftSon)&&i(t.rightSon),t.result=r,r):"Or"==t.nodeType?(r=i(t.leftSon)||i(t.rightSon),t.result=r,r):!1}return null==t||i(t)}}function vn(n,t,i){function f(n){var t,f,i,u,s;if(n=n.replace(/&quot;/gi,'"'),n=n.replace(/&apos;/gi,"'"),n=n.replace(/&#39;/gi,"'"),n=n.replace(/&amp;/gi,"&"),void 0==n||n.length<=0)throw"Ilegal Expression";t=0;for(f in this.supportedFunctions)if(this.supportedFunctions.hasOwnProperty(f))for(i=e(n,f,t),n=i[1],u=t;u<i[0].length;u++)s=o(i[0][u]),r.setFunction(s,t++);r.setExpression(n)}function e(n,t,i){for(var o,s=Array(),e=i,u=n.indexOf(t);u>-1;){if("("!=n.charAt(u+t.length))throw"Ilegal function definition in expression";for(var h=u+t.length+1,f=Array(),r=h;(")"!=n.charAt(r)||0!=f.length)&&r<n.length;)("'"==n.charAt(r)||'"'==n.charAt(r))&&(0==f.length?f.push(n.charAt(r)):(o=f.pop(),o!=n.charAt(r)&&(f.push(o),f.push(n.charAt(r))))),r++;if(")"!=n.charAt(r))throw"Ilegal function definition in expression";s[e]=n.substring(u,r+1);n=n.substring(0,u)+"["+e+"]"+n.substr(r+1);e++;u=n.indexOf(t)}return[s,n]}function o(n){if(void 0==n||n.length<=0)throw"Ilegal function definition";for(var r=n.substr(0,n.indexOf("(")),t=n.substring(n.indexOf("(")+1,n.length-1).split(","),i=0;i<t.length;i++)t[i]=t[i].replace(/^\s+|\s+$/g,""),("'"==t[i].charAt(0)&&"'"==t[i].charAt(t[i].length-1)||'"'==t[i].charAt(0)&&'"'==t[i].charAt(t[i].length-1))&&(t[i]=t[i].substring(1,t[i].length-1));return function(){return u.supportedFunctions[r].apply(this,t)}}function s(i){var u,r,f;for(i=parseInt(i),u=n.stepPlayHistory,r=0;r<u.length;r++)if(f=t.getStepById(u[r]),f&&f.StepIndex==i)return!0;return!1}function h(n,t){return void 0==t&&(t=1),mtjQuery(n).length>=t}function c(n,t){return mtjQuery(n).text()==t}function l(n){return i.isLocationMatchString(n)}var u=this,r;u.supportedFunctions={isExistJQ:h,isTextValueJQ:c,isLocationMatch:l,isStepPlayed:s};r=new lr;this.evaluate=function(n){if(f(n),void 0!=r)return r.evaluate();throw"Evaluator is undefined";}}function yn(){function b(){return f.get("TimerManager")}function si(t,r,e,o,h,c){s=f.get("StorageResourceManager");v=r;i=new ar;w=f.get("CookiesStorageManager");u=[];l=hi(e,o);nt=t;bt=nt.isLocalStorageEnabled();kt=c;st=h;ht=f.get("CDStorageOriginChecker");f.get("Logger").customerLog("Storage mode: "+l+", ["+(o?"from db/feature":"auto detected")+"], compressed: "+h,3);n._origin=s.getOrigin();n._saveCookiePath=s.getSaveCookiePath();n._path=s.getHiddenIframePath(h)}function hi(n,t){var i=f.get("HostData");return n&&"Safari"==i.browser.name?rt.Cookies:t?t:n&&i.isIEBrowser(10,"gte")?rt.IndexedDB:rt.LocalStorage}function lt(n){for(var t=0;t<ft.length;t++)ft[t].push(n)}function at(t,i,r){var u=n.getData(t,i)||r;return u&&"string"==typeof u&&(u=c(u)||r),u}function ci(n,i,r,u){var f={requestType:t.add,userGuid:u,key:n,keyValues:i,saveObj:{value:"{}",saveTime:(new Date).getTime(),expireSeconds:r}};e(f)}function li(n,i,r,u){var f={requestType:t.remove,userGuid:u,key:n,keysToRemove:i,saveObj:{value:"{}",saveTime:(new Date).getTime(),expireSeconds:r}};e(f)}function dt(n,t){e(ai(n,t))}function ai(n,t){var i=vi();return n.actionId=i,y[i]=t,n}function vi(){return k+=1,k>1e3&&(k=1),k}function yi(n){if(n&&y[n.actionId]){var t=y[n.actionId];delete y[n.actionId];t(n.value)}}function pi(){return window.postMessage?l==rt.LocalStorage?bt:!0:!1}function gt(n,i,r,u,f){return{requestType:f||t.set,userGuid:u,key:n,saveObj:{value:i,saveTime:(new Date).getTime(),expireSeconds:r}}}function ni(n,t,i,r,u){var f=gt(n,t,i,r,u);e(f)}function bi(n,i){e({requestType:t.del,userGuid:i,key:n})}function ki(t){var c=ft.shift(),e,u,f,o,s,h;if(t)for(e in t)if(u=t[e],u&&u.length&&u.length>0&&void 0!=u[0].saveObj)for(f=0;f<u.length;f++)o=u[f].key,r.inArray(o,c)==-1&&(s=u[f].saveObj,h=ti(s),h>0?i.saveData(o,s.value,h/1e3,e):n.removeData(o,e))}function ti(n){var t=(new Date).getTime();return n.saveTime+1e3*n.expireSeconds-t}function e(t){n._iframeReady&&(a.isInitialized()?h!==!1&&d(t):n.init(function(){d(t)}))}function d(n){a.postMessage(o(n),"*")}function ii(n){ft.push([]);var i={requestType:t.getAll,usersToLoad:n};e(i)}function vt(){var n={requestType:t.checkCanSave,saveMode:l,userGuids:v};e(n)}function di(){mtjQuery.browser.msie&&window.opener?(ri(),b().libSetTimeout(yt,3e3)):yt()}function ri(){n._iframeReady||(gi(),b().libSetTimeout(ri,100))}function gi(){d({requestType:t.get,key:ct,userGuids:v,saveMode:l})}function yt(){n._iframeReady||(n._iframeReady=!0,ui(),vt())}function ui(){ot();it=b().libSetTimeout(et,oi)}function et(){f.get("Logger").customerLog("storage failed loading, removing walkme",3);ot();h=!1;f.get("LibDestroyer").removeWalkMe("storageFailedLoading."+ht.getErrors(),{sendLog:!0})}function nr(){window.open(n._saveCookiePath,"_blank");pt=!0;window.focus();mtjQuery(document).unbind("click.wmpopup");fi()}function fi(n){n=n||0;n>10?et():h!==!0&&(n++,vt(),b().libSetTimeout(function(){fi(n)},200))}function ot(){it&&(it.clear(),it=null)}function tr(n){ot();n.canSave||pt?n.canSave&&(clearTimeout(wt),rr(),ui(),ii(v)):"cookies"==l?(void 0===wt&&ir(),wt=b().libSetTimeout(vt,500)):et()}function ir(){var n=parseInt(w.getData(g.key)||0);n<3?(n++,w.saveData(g.key,n.toString(),g.expiry),mtjQuery(document).bind("click.wmpopup touchend.wmpopup",nr)):et()}function rr(){mtjQuery(document).unbind(".wmpopup")}function ur(){h||(h=!0,ot(),w.removeData(g.key),w.removeData(f.get("Consts").DOMAIN_IN_COOKIE))}function fr(i){var r,f,u;if(ht.checkMessageOrigin(i),s.shouldHandleMessage(i)){try{r=c(i.data)}catch(e){return}if(r.key==t.checkCanSave)tr(r);else if(r.key==t.getAll)(ur(),ki(r.allValues),ut)&&(f=ut,ut=null,f()),ei();else if(void 0!==r.actionId)yi(r);else if(r.key==t.get)if(ti(r.saveObj)>0)er(r.dataKey,r.saveObj.value);else for(u=0;u<v.length;u++)n.removeData(r.dataKey,v[u]);else r.key==t.terminate&&hr()}}function er(n,t){n==ct&&t&&yt()}function or(n){n&&u.push(n)}function ei(){if(u.length>0){var n=u.shift();n&&n()}}function sr(){var n=new p(function(n){tt=n});return d({requestType:t.terminate}),n}function hr(){a&&a.terminate();tt&&tt();tt=null}var l,bt,kt,a,st,nt,s,ht,tt,v,it,h,i=null,u=null,n=this,y={},ut=function(){},w=null,ct="wm-sync",oi=15e3,ft=[],t={terminate:"terminate",getAll:"getAllMultiple",checkCanSave:"checkCanSave",get:"get",increment:"increment",del:"delete",setSession:"setSession",getSession:"getSession",set:"set",addSet:"addSet",add:"add",remove:"remove"},k,pt,wt,g;n._iframeReady=!1;n.refreshGetData=function(n,t){or(t);h!==!0||f.get("LibDestroyer").removingWalkMe?ei():ii(n)};n.saveData=function(n,t,r,u){ni(n,t,r,u);i.saveData(n,t,r,u);lt(n)};n.getData=function(n,t){return i.getData(n,t)};n.removeData=function(n,t){bi(n,t);i.removeData(n,t);lt(n)};n.increment=function(n,i,r,u,f){dt({requestType:t.increment,userGuid:u,key:n,ttl:r,lastValue:i},f)};n.setSyncFlag=function(n){var t=gt(ct,1,10,n);d(t)};n.addToSet=function(n,r,u,f){for(var s=at(n,f,[]),e=0;e<r.length;e++)s.indexOf(r[e])==-1&&s.push(r[e]);ni(n,r,u,f,t.addSet);i.saveData(n,o(s),u,f);lt(n)};n.addToDictionary=function(n,t,r,u,f){var e=at(n,f,{}),s;e[t]=r;e=o(e);s={};s[t]=r;ci(n,s,u,f);i.saveData(n,e,u,f)};n.removeFromDictionary=function(n,t,r,u){var f=at(n,u,{}),e;delete f[t];f=o(f);e=[t];li(n,e,r,u);i.saveData(n,f,r,u)};n.getInternalKeys=function(n,t){return i.getInternalKeys(n,t)};this.sessionSetData=function(n,i,r){var u={requestType:t.setSession,userGuid:r,key:n,value:i};e(u)};this.sessionGetData=function(n,i,r,u){dt({requestType:t.getSession,userGuid:r,key:n,defaultValue:i},u)};k=0;this.init=function(t){if(n._iframeReady=!1,ut=t,!pi())return f.get("Logger").customerLog("Cannot run cross-domain Walk-Thrus on this browser. Removing WalkMe."),!1;h=void 0;a=kt?new pe(st,nt,s,f.get("Consts")):new wi(st,nt,s);a.init(fr,di);f.get("PostMessageListener").addTeardownCallback(sr)};this.removeAllData=function(t){var f=i.getStorageInternal(),r=f[t],u;if(r)for(u in r)n.removeData(u,t)};pt=!1;g=f.get("StorageKeysConfigurations").hiddenIframe.popupHackTries;n.releaseCallbacks=function(){u.length=0;y={}};n.releaseCallback=function(n){for(var t=0;t<u.length;t++)if(u[t]==n)return void(u[t]=null)};si.apply(null,arguments)}function ar(){function u(){n={}}function t(t){return void 0===n[t]&&(n[t]={}),n[t]}var i=this,n=null;this.saveData=function(n,i,r,u){var f={},e;f.value=i;f.saveTime=(new Date).getTime();f.expiresSeconds=r;e=t(u);e[n]=f};this.getData=function(n,r){var o=t(r),u=o[n],f,e;if(u){if(f=(new Date).getTime(),e=u.saveTime+1e3*u.expiresSeconds-f,e>0)return u.value;i.removeData(n,r)}return};this.removeData=function(n,i){var r=t(i);delete r[n]};this.clear=function(t){n[t]={}};this.getStorageInternal=function(){return n};this.getInternalKeys=function(n,u){var f={},e=t(n);return r.safeEach(e,function(t){0===r.trim(t).toLowerCase().indexOf(u)&&(f[t]=i.getData(t,n))}),f};u.apply(null,arguments)}function at(){function l(t,r,o,h,c){e={type:t,mode:"client"};n.dataManager=r;s=o;i=h;u=c;n.keysConfig=f.get("StorageKeysConfigurations")}function a(){return n.dataManager.isInitialized?n.dataManager.isInitialized():h}function v(t,i,r,u){n.removeData(t,u);for(var f in i)i.hasOwnProperty(f)&&void 0!==i[f]&&n.dataManager.addToDictionary(t,f,i[f],r,u)}function t(n){return u.defaultValue(n,s)}function y(n){r.safeEach(n,function(t,i){void 0!==i&&""!==i&&(i=c(i));n[t]=i})}this.ONE_HOUR_SECONDS=3600;var e,i,u,n=this,s=null,h=!1;this.getStorageType=function(){return e};this.init=function(t){if(t=t||function(){},a())return void t();if(h=!0,n.dataManager.init)return n.dataManager.init(t);t()};this.refreshGetData=function(i,r){i=i&&i.length>0?i:[t()];n.dataManager.refreshGetData?n.dataManager.refreshGetData(i,r):r&&r()};this.saveData=function(r,f,e,s){if(0===e&&i.error(null,"ClientStorageManager.saveData - expiresSeconds is 0"),r=mtjQuery.trim(r),s=t(s),void 0===f)return void n.removeData(r,s);if(void 0==e){var h="storageManager: trying to save key in storage manager without expiration, key: "+r+", value: "+f+", userGUID: "+s;i.customerLog(h,3)}n.dataManager.addToDictionary&&u.isDict(f)?v(r,f,e,s):n.dataManager.saveData(r,o(f),e,s)};this.getData=function(i,r,u){i=mtjQuery.trim(i);u=t(u);var f=n.dataManager.getData(i,u);return void 0===f||""===f?r:c(f)};this.addToDictionary=function(i,r,u,f,e){if(i=mtjQuery.trim(i),e=t(e),n.dataManager.addToDictionary)n.dataManager.addToDictionary(i,r,u,f,e);else{var o=n.getData(i,e);null!==o&&"object"==typeof o||(o={});o[r]=u;n.saveData(i,o,f,e)}};this.removeFromDictionary=function(i,r,u,f){if(i=mtjQuery.trim(i),f=t(f),n.dataManager.removeFromDictionary)n.dataManager.removeFromDictionary(i,r,u,f);else{var e=n.getData(i,f);e&&void 0!==e[r]&&(delete e[r],n.saveData(i,e,u,f))}};this.addToSet=function(i,u,f,e){var o,s;if(i=mtjQuery.trim(i),e=t(e),n.dataManager.addToSet)n.dataManager.addToSet(i,u,f,e);else{for(o=n.getData(i,e),r.isArray(o)||(o=[]),s=0;s<u.length;s++)o.indexOf(u[s])==-1&&o.push(u[s]);n.saveData(i,o,f,e)}};this.removeData=function(i,r){i=mtjQuery.trim(i);r=t(r);n.dataManager.removeData(i,r)};this.addToQueue=function(i,r,u,f,e){i=mtjQuery.trim(i);e=t(e);var o=n.getData(i,[],e);o||(o=[]);o.push(r);o.splice(0,o.length-u);n.saveData(i,o,f,e)};n.convertOldCookieStorage=function(t){var u=f.get("CookiesManager"),i=u.getCookie(t),e='"#!@DeL@!#"',r;i&&i!=e&&0!==i.indexOf('"')&&(n.saveData(t,i,tt),r=f.get("SettingsFile").getStorageType(),r&&r!=STORAGE_TYPE.Cookie&&u.setCookie(t,e,-1))};n.increment=function(i,r,u,f,e){if(i=mtjQuery.trim(i),f=t(f),n.dataManager.increment)n.dataManager.increment(i,r,u,f,e);else{var o=n.getData(i,0,f);r!==o&&(o++,n.saveData(i,o,u,f));e&&e(o)}};n.getInternalKeys=function(i,r){r&&""!==r||(r="wm-");var u=n.dataManager.getInternalKeys(t(i),r);return y(u),u};this.removeAllData=function(i){n.dataManager.removeAllData(t(i))};n.sessionSetData=function(t,i,r){t=mtjQuery.trim(t);n.dataManager.sessionSetData?n.dataManager.sessionSetData(t,i,r):window.sessionStorage[r+t]=i};n.sessionGetData=function(t,i,r,u){t=mtjQuery.trim(t);n.dataManager.sessionGetData?n.dataManager.sessionGetData(t,i,r,u):u&&u(window.sessionStorage[r+t]||i)};n.setSyncFlag=function(t){n.dataManager.setSyncFlag&&n.dataManager.setSyncFlag(t)};n.isEnabled=function(){return n.dataManager.isEnabled()};n.releaseCallbacks=function(){n.dataManager.releaseCallbacks&&n.dataManager.releaseCallbacks()};n.releaseCallback=function(t){t&&n.dataManager.releaseCallback&&n.dataManager.releaseCallback(t)};l.apply(null,arguments)}function pn(){function r(i,r){t=r;n=i}var t,n,i=this;i.saveToStorage=function(i,r,u){n.saveData(i+t,r,u)};i.getFromStorage=function(i,r){return n.getData(i+t,r)};i.removeFromStorage=function(i){return n.removeData(i+t)};i.refreshGetData=function(t,i){return n.refreshGetData(t,i)};r.apply(null,arguments)}function wn(n){function a(){u=n.storageManager;h=n.storageLifetime;o=n.encodeStorageData;r=n.decodeStorageData}function v(n,i,r){t[n]||(t[n]={success:[],fail:[]});i&&t[n].success.push(i);r&&t[n].fail.push(r)}function s(n,i){for(var u=i?t[n].success:t[n].fail,f=[].splice.call(arguments,2,arguments.length-2),r=0;r<u.length;r++)try{e.apply(this,[u[r]].concat(f))}catch(o){}t[n]=void 0}function y(n){return!!t[n]}var i,u,h,o,r,c=this,l=f.get("TimerManager"),e=function(n){if(n){var t=arguments;l.libSetTimeout(function(){n.apply(this,Array.prototype.slice.call(t,1))},0)}},t={};this.loadServerData=function(n,t,i,r,u,e){var o=y(i);(v(i,r,u),o)||f.get("WmAjax").execute({url:n,data:t,traditional:e,success:function(n){n.ErrorMessage?s(i,!1,n.ErrorMessage):(c.updateLocalData(i,n),s(i,!0,n))},error:function(n,t){s(i,!1,t)}})};this.retrieveData=function(n,t,f,e,o,s){var h=u.getData(f,null),t;h&&(t=r?r(h):h,i=t);void 0!==i?e&&e(i):c.loadServerData(n,t,f,e,o,s)};this.retrieveLocalData=function(n){if(void 0!==i)return i;var t=u.getData(n,null);return r&&t?r(t):t};this.updateLocalData=function(n,t){i=t;var r=o&&t?o(t):t;u.saveData(n,r,h)};this.updateRemoteData=function(n,t,i,r){f.get("WmAjax").execute({url:n,data:t,success:function(n){n.ErrorMessage?e(r,n.ErrorMessage):e(i)},error:function(n,t){e(r,t)}})};a.apply(null,arguments)}function bn(n,t,i,u,e,s,h,c,l){function ft(){b=c.get();y=t.get();var n=l.getSettingsValue(b.Settings,"remoteDataLifeTime",rt);p=f.create("RemoteDataSynchronizer",{storageManager:i,storageLifetime:n,encodeStorageData:et,decodeStorageData:ot});w=e.error;d=u;g=i.keysConfig.todoList.endUserUniqueKey.key}function tt(n,t,i){return{userGuid:i||s.getUserGuid(),endUserId:n,taskGoalsIds:o(t),source:s.getEnvironmentId()}}function et(n){var t=[];return mtjQuery.each(n,function(n,i){if(i.TaskId){var r=mtjQuery.extend(!0,{},i);v(r,"TaskId","t");v(r,"IsCompleted","c");v(r,"CompletedGoals","g");t.push(r)}}),t}function ot(n){var t={};return mtjQuery.each(n,function(n,i){if(i.t){var r=mtjQuery.extend(!0,{},i);v(r,"t","TaskId");v(r,"c","IsCompleted");v(r,"g","CompletedGoals");t[r.TaskId]=r}}),t}function v(n,t,i){n.hasOwnProperty(t)&&(n[i]=n[t],delete n[t])}function st(n,t){var u=0,i,r;for(i in n)r=n[i],n.hasOwnProperty(i)&&r.IsCompleted&&t[r.TaskId]&&u++;return u}function ht(n,t){if(n&&0!==n.length)for(var i=n.length-1;i>=0;i--)n[i].taskId==t.taskId&&n[i].goalId==t.goalId&&n[i].permutationId==t.permutationId&&n[i].source==t.source&&n[i].endUserGuid==t.endUserGuid&&n.splice(i,1)}var y,p,w,b,k,d,g,a=this,it=1948,rt=3600,nt="/ToDoList/UserCompletedTasksByIdsAndGoalsIds",ut="/ToDoList/UpdateUserTasksCompleted";a.init=function(){k=d.register("tg",{beforeSendingManipulationFunc:ht,actionUrl:ut,prefixForStorage:"tg",sendingThreshold:1,dataType:"task goal",dataIdFieldName:"Id",requestParamsFunc:function(n){return{userCompletedTasksSerialized:o(n),userGuid:s.getUserGuid()}}})};a.getEndUserUniqueDataKey=function(n,t){return t=t||s.getUserGuid(),g+s.getEnvironmentId()+"_"+t+"_"+n};this.asyncRetrieveCompletedTasks=function(n,t,i,u,f){if(f=f||{},y){var e=tt(n,t,f.userGuid);r.param(e).length>it&&(e.taskGoalsIds=null);p.retrieveData(y+nt,e,a.getEndUserUniqueDataKey(n,f.userGuid),i,u,!0)}};this.syncRetrieveCompletedTasks=function(n,t,i){if(i=i||{},!y)return null;var r=p.retrieveLocalData(a.getEndUserUniqueDataKey(n,i.userGuid));return r?r:(p.loadServerData(y+nt,tt(n,t,i.userGuid),a.getEndUserUniqueDataKey(n,i.userGuid),null,null,!0),null)};this.updateTaskCompleted=function(n,t,i,r,u,e){var v=a.getEndUserUniqueDataKey(n),o,c;if(p.updateLocalData(v,r),o=f.get("DictionaryUtils").getDictionaryKeys(u).length,e){c={endUserId:n,taskId:t?t.Id:-1,goalId:i?i.Id:-1,tasksCount:o,permutationId:s.getPermutationId(),endUserGuid:s.getEndUserGuid(),source:s.getEnvironmentId()};k.sendData(c);try{if(h.isReportingEnabled()&&t&&t!=={}){var y=f.get("DeployablesManagerFactory").get(t.RelatedDeployableType),l=y.getById(t.RelatedDeployableId),b=st(r,u),d=b/o,g=Number(d.toFixed(2)),nt=f.get("DeployableTypeToEventSenderAppTypeMapper"),tt={type:h.EVENT_APPS.Task,oId:t.Id,oName:t.Name,pId:"-1",total:u?o:-1,aoId:l.Id,aoName:l.Name,aAppType:nt.map(t.RelatedDeployableType),ratio:g};h.postEvent(h.EVENT_TYPES.Complete,tt)}}catch(it){w(it)}}};ft.apply(null,arguments)}function kn(){function w(t){e=t.serverAddress;r=t.userGuidContainer.getUserGuid();v=t.lib.Logger.error;i=t.getPermutationId;y=t.getEndUserGuid;o=t.getAuditSource;s=e+"/AbTesting/UserCompletedGoals";h=f.get("StorageKeysConfigurations").abTestingGoals.endUserUniqueKey.key;n=f.create("RemoteDataSynchronizer",{storageManager:t.storageManager,storageLifetime:p})}function t(n){return h+r+"_"+n}function b(n,t){return{userGuid:r,endUserId:n,source:o(),permutationId:i(),goalsToCheck:t}}function l(n){var t={};return t[c]=i(),t[u]=n,t}function a(r){var u=n.retrieveLocalData(t(r));return u&&i()==u[c]?u:null}var e,n,r,v,i,y,o,s,h,p=86400,c="p",u="g";this.asyncRetrieveCompletedGoals=function(i,r,u,f){var e=function(r){var f=t(i),e=l(r);n.updateLocalData(f,e);u&&u(r)},o=b(i,r);n.loadServerData(s,o,t(i),e,f,!0)};this.syncRetrieveCompletedGoals=function(n){var t=a(n);return t?t[u]:null};this.updateGoalCompleted=function(i,r){var e=t(i),f=a(i)||l([]);f[u].push(r);n.updateLocalData(e,f)};this.tempClearUserCompletedGoals=function(i){n.updateLocalData(t(i),{})};w.apply(null,arguments)}function dn(){function r(r){i=r.goalsManager;n=r.todoListManager;t=_makeTutorial.Logger.wrapCustomerLog(kt)}function f(n){return n.GoalsNotCompleted?n.GoalsNotCompleted:[]}var t,i=null,n=null,u=this,e=function(t){n.updateGoalCompleted(t)};this.startWatchingTasks=function(){var t=n.getTasksGoalsNotCompleted();mtjQuery.each(t,function(n,t){t.TaskId&&u.startWatchingTask(t)})};this.startWatchingTask=function(n){var r=f(n),u;r.length>0&&(u={goalCompletedFunc:e},i.addGoalsWatch(r,u));t("Started watching Task : "+n.Name,2)};r.apply(null,arguments)}function gn(n,t){function u(){t.bind(e)}function e(){i=void 0}function o(){if(void 0===i){var t=f.get("UiDataProvider").uiTasksTree();t&&t.length>0&&(i=n.calculate(t[0],"task"))}return i}var r=this,i;r.getTasksCompletionProgress=o;u()}function ntt(n,t,i,u){function d(){o=n.wrapCustomerLog(yf)}function g(){return void 0===v&&(v=r("frameset").length>0),v}function nt(n){i.libSetTimeout(at,n);l=y();e=[];h=i.playSetInterval(ot,5);null!=a&&a.clear();a=i.libSetTimeout(vt,k)}function tt(n){function t(){return e.length>0?(i.libSetTimeout(t,200),n.promise()):n.resolve()}return t()}function it(){var n=r.Deferred();return tt(n)}function rt(n){return null==n?(o("Frame is not active (Frame is null)",s),!1):null==n.contentWindow?(o("Frame is not active (frame.contentWindow is null)",s),!1):null==n.contentWindow.document?(o("Frame is not active (frame.contentWindow.document is null)",s),!1):0==mtjQuery("head",n.contentWindow.document).length?(o('Frame is not active (mtjQuery("head", frame.contentWindow.document).length == 0)',s),!1):0==mtjQuery("body",n.contentWindow.document).length&&0==mtjQuery("frameset",n.contentWindow.document).length?(o('Frame is not active (mtjQuery("body", frame.contentWindow.document).length == 0)',s),!1):!0}function ut(n){for(var i=b(),t=0;t<i.length;t++)n(i[t])}function b(){for(var t=[],i=y(),n=0;n<i.length;n++)t.push(i[n].contentWindow.document);return t}function ft(n){function r(){var e=f.findBiggestFrame(),s=f.isFrameActive(e);if(s)return o("Biggest frame is active. waitCount: "+t,5,"FramesetsUtils"),void n();if(t>u)return void o("Failed waiting for head and body in biggest frame. Stopping execution"+t,1,"FramesetsUtils");i.setWalkmeTimeout(function(){t++;o("Biggest frame wasn't ready on attempt "+t,5,"FramesetsUtils");r()},200)}if(!f.isFramesetsPage())return void n();var u=40,t=0;r()}function et(){return!u.isFeatureEnabled("oldframesets")&&f.isFramesetsPage()}function y(n,t){return void 0===t&&(t=[]),mtjQuery("frame",n).each(function(){try{mtjQuery("frame, frameset",this.contentWindow.document).length>0&&(t=y(this.contentWindow.document,t));t.push(this)}catch(n){o("Frame is cross-domain, we can't access it",s)}}),t}function ot(){for(var n,t=0;t<l.length;t++)n=l[t],f.isFrameActive(n)||null!=n&&null!=n.contentWindow&&st(n)}function st(n){if(!ct(n)){if(e.push(n),u.isFeatureEnabled("useDocumentReadyForIframeLoad"))return void mtjQuery(n.contentWindow.document).ready(function(){p(n)});t.isIE(9,"lte")?n.addEventListener?n.addEventListener("load",c,!1):n.attachEvent("onload",c):mtjQuery(n).bind("load.walkme",function(){p(n)})}}function c(n){p(n.currentTarget)}function ht(n){t.isIE(9,"lte")?n.removeEventListener?n.removeEventListener("load",c,!1):n.detachEvent("onload",c):mtjQuery(n).unbind("load.walkme")}function p(n){ht(n);lt(n)}function ct(n){for(var t=0;t<e.length;t++)if(e[t]==n)return!0;return!1}function lt(n){for(var t=0;t<e.length;t++)e[t]==n&&e.splice(t,1)}function at(){null!=h&&(h.clear(),h=null)}function vt(){for(var n=0;n<e.length;n++)mtjQuery(e[n]).unbind("load.walkme");e=[]}function yt(n,t){n=n?n:document;var i=t?w(t):-1;return mtjQuery("frame",n).each(function(){var n,r;try{mtjQuery("frame, frameset",this.contentWindow.document).length>0?(n=this.contentWindow.document,n&&(t=f.findBiggestFrame(n,t),i=t?w(t):-1)):(r=w(this),r>i&&(i=r,t=this))}catch(u){}}),t}function w(n){return void 0!==n.height&&void 0!==n.width?n.height*n.width:mtjQuery(n).height()*mtjQuery(n).width()}var o,k=7e3,s=5,h=null,e=[],l=void 0,a=null,v=void 0,f=this;f.isFramesetsPage=g;f.checkIfAnyFrameIsUnloaded=nt;f.waitForFramesToLoad=it;f.isFrameActive=rt;f.getAllFramesDocuments=b;f.waitForFramesHeadsAndBodies=ft;f.shouldHandlePageAsFramesets=et;f.findBiggestFrame=yt;f.doForAllFrames=ut;d.apply(null,arguments)}function ttt(n,t,i){var r=this,u=n,f=t,e=i.wrapCustomerLog(bf);r.foreachDocument=function(n){function t(t){try{n(t.iframe.contentWindow.document)}catch(i){e("DocumentsManager - Skipping inaccessible document",3)}}n(document);u.doForAllFrames(n);f.foreachIframe(t)}}function itt(n,t,i,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt){function vt(){}function yt(){var n=e.get();return n.Settings.keyPressedNextStepDelay?n.Settings.keyPressedNextStepDelay:ct}function ot(n,t,i,r,u){function s(n){var i,r=t.Settings.complexHtml;return i="option"==n.target.tagName.toLowerCase()?n.target:n.target.options[n.target.selectedIndex],i.value==r.val||i.text==r.txt}var f=void 0,e,o;u&&(f=s);e=["change"];o={change:f};r.push(it(n,t,e,i,ut,o))}function it(n,t,i,f,e,o){var l,v;a.state=h.WALKTHRU_STATE.WAITING_FOR_ELEMENT_EVENT;for(var y=function(n,t){u.customerLog("Step event triggered.");var o=r.inArray("click",i)!==-1;return ht(f,e,o,n,t),!0},c=ft(y),s=0;s<i.length;s++){l=o&&o[i[s]];function p(n){return function(t){(!n||n(t))&&c(t)}}v=p(l);st(n,i[s]+".mt",v)}return function(n){return c(null,n)}}function ft(n){function i(i,r){var u;return t||(u=n(i,r),t=!0),u}var t=!1;return i}function st(n,t,i){w.bind(n,t,i);tt.push({element:n,eventName:t})}function ht(i,r,u,f,e){p.releaseBalloons();u&&(t.shouldHandlePageAsFramesets()&&t.checkIfAnyFrameIsUnloaded(r),null!=f&&g.setIgnoreNextBeforeUnload(pt(mtjQuery(f.target))));a.state=h.WALKTHRU_STATE.RUNNING;v.storeStateInCookie();l.stepWasCompleted(void 0==e);void 0!=e&&(a.currentStep=e);i&&void 0==e?l.tutorialFinished():n.playSetTimeout(function(){l.executeTutorialNextStep()},r)}function pt(n){var t,i;return b.isIE()&&(t=!1,"a"==n[0].nodeName.toLowerCase()?t=n:(i=n.parents("a"),i.length>0&&(t=mtjQuery(i[0]))),t&&t.attr("href")&&0==t.attr("href").indexOf("javascript:"))?!0:!1}function wt(n,t,i){a.state=h.WALKTHRU_STATE.WAITING_FOR_ELEMENT_EVENT;l.releaseEvents(n,t);for(var f=function(){u.customerLog("Clicked the branched walk-thru.");l.releaseEvents(n,t);y.makeSplit(i)},e=ft(f),o=ft(function(){l.releaseEvents(n,t)}),r=0;r<t.length;r++)st(n,t[r]+".mt",e);return function(){return o()}}var rt=this;rt.getDelay=yt;var ut=1e3,ct=2e3,et=500,tt=[],lt=9,at=16;rt.handle=function(t,i,r,e,v){var y=a.getStep(r),yt=!1,ft=!!y.LinkedTutorialIds,w=[],st,pt,g,dt,vt,gt,tt;ft&&(st=y.LinkedTutorialIds.split(";"),pt=l.isTutorialIdsExist(st),pt?(u.customerLog("This is a branched step. Branched walk-thru's: "+y.LinkedTutorialIds),w.push(wt(t,["click","mousedown"],st,ut))):(u.customerLog("Branch walk-thru id, not found: "+y.LinkedTutorialIds),ft=!1));var bt=!1,ct=!1,kt=-1,b=l.getNextStepIncludingSplit(),p=null==b;if(l.isStepTrigger(y.End,h.WALKTHRU_STEP_TRIGGER.NEXT_BUTTON)&&(a.state=h.WALKTHRU_STATE.WAITING_FOR_NEXT_BUTTON_CLICK,p?ct=!0:(b.IsSkippable||d.getSettingsValue(b.Settings,"skipNotExists",!1)||l.getPlayConditionMode(b)!=h.playConditionModes.STICKY_CONDITION&&!l.checkPlayStepCondition(b)||d.getSettingsValue(b.Settings,"fake",!1))&&l.checkIfStepExistsWithSkippables(b.TutorialIndex,b.StepIndex,void 0,void 0,void 0,h.CHECK_STEP_MODE.Normal)==-2?ct=!0:bt=!0),l.isStepTrigger(y.End,h.WALKTHRU_STEP_TRIGGER.NOTHING))p||(yt=!0);else if(l.isStepTrigger(y.End,h.WALKTHRU_STEP_TRIGGER.HOVER))g=["mouseenter"],w.push(it(t,i,g,p,et));else if(l.isStepTrigger(y.End,h.WALKTHRU_STEP_TRIGGER.CLICK)&&!ft)g=c.get(),w.push(it(t,i,g,p,ut));else if(l.isStepTrigger(y.End,h.WALKTHRU_STEP_TRIGGER.KEY_PRESSED)){if(dt=rt.getDelay(i),g=["keydown","paste","change"],vt={},f.isFeatureEnabled("wmAccessibility")){function ni(n){return n.which!=lt&&n.which!=at}vt.keydown=ni}w.push(it(t,i,g,p,dt,vt))}else l.isStepTrigger(y.End,h.WALKTHRU_STEP_TRIGGER.PAGE_CHANGED)?(a.state=h.WALKTHRU_STATE.WAITING_FOR_PAGE_CHANGE,l.setMember("dontContinueTutorial",!0)):l.isStepTrigger(y.End,h.WALKTHRU_STEP_TRIGGER.DURATION)?y.durationHandler=n.playSetTimeout(function(){l.stepWasCompleted();l.executeTutorialNextStep()},1e3*y.Duration):l.isStepTrigger(y.End,h.WALKTHRU_STEP_TRIGGER.SELECT_ANY)?ot(t,i,p,w,!1):l.isStepTrigger(y.End,h.WALKTHRU_STEP_TRIGGER.SELECT_VALUE)?ot(t,i,p,w,!0):l.isStepTrigger(y.End,h.WALKTHRU_STEP_TRIGGER.SWIPE)&&(g=["swipe"],w.push(it(t,i,g,p,et)));return y.Settings.additionalTriggers&&(s.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepAdditionalTriggerSet,y),gt={elementName:i.StepTitle||i.StepText,evaluationPollingIntervalMs:500,onlyPollConditionFunctions:!0},tt=k.createOld(gt),tt.onValueChanged(function(n){if(s.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepAdditionalTriggersInitialized,y),n){l.setMember("dontContinueTutorial",!1);y.durationHandler&&(y.durationHandler.clear(),y.durationHandler=null);var t=o.containsFuncName(y.Settings.additionalTriggers,["ElementClicked"]);ht(p,ut,t)}}),tt.evaluateAsync(y.Settings.additionalTriggers),l.addCurrentStepResource(tt)),kt=nt.handleStepIndex(y,v,e),{executeNextStep:yt,clearElementEventsFuncs:w,buttons:{nextButton:bt,doneButton:ct,backButtonStepIndex:kt}}};rt.releaseAllEventBindings=function(){for(var t,i,n=0;n<tt.length;n++)try{t=tt[n].element;i=tt[n].eventName;w.unbind(t,i)}catch(r){}tt.length=0};vt.apply(null,arguments)}function rtt(n,t,i,r){function f(r,u,f){var o,s;return r.StepIndex>0&&n.isStepTrigger(r.End,t.WALKTHRU_STEP_TRIGGER.NEXT_BUTTON)&&!e(u)&&((o=n.checkIfStepExistsWithSkippables(f,r.StepIndex-1,0,-1,void 0,t.CHECK_STEP_MODE.Normal),o>=0)&&(s=i.getStep(o),n.isStepTrigger(s.End,t.WALKTHRU_STEP_TRIGGER.NEXT_BUTTON)||(o=-1)),i.lastBackButtonStepIndex=o),o}function e(n){if(null!=n){var t=i.getStep(n);return r.isActionStep(t)}return!1}var u=this;u.handleStepIndex=f}function g(){function n(n,t){var f={},i,r,u;for(i in t)f[i]=t[i],r="function"==typeof t[i],u="function"==typeof n[i],r&&!u?n[i]=t[i]:r&&u&&t[i].WM_VIRTUAL&&(t[i]=n[i]);return f}this.extend=function(t,i,r,u,f,e){var o=new i(r,u,f,e),s=n(t,o);t._base=s};this.VIRTUAL=function(n){return n.WM_VIRTUAL=!0,n};var t=this.VIRTUAL(function(){throw"Function is pure virtual. must override";});this.WM_PURE_VIRTUAL=function(){return t}}function utt(n,t,i){function u(){}var r=this;r.findFirstStep=function(n,r,u){return r=r?r:0,i.checkIfStepExistsWithSkippables(n,r,void 0,void 0,u,t.CHECK_STEP_MODE.Normal)};u.apply(null,arguments)}function ftt(n){function i(t){return t.Type&&t.Type==n.STEP_TYPE.Action}function r(t){return t.Type&&t.Type==n.STEP_TYPE.Action&&t.Settings&&t.Settings.action&&t.Settings.action.actionType==n.STEP_ACTION.Branch}function u(t){return t&&t.Type&&t.Type==n.STEP_TYPE.Popup}function f(n){return n&&n.Settings&&(1==n.Settings.fadeBackground||"True"==n.Settings.fadeBackground||1==n.Settings.fadeBackground)}var t=this;t.isActionStep=i;t.isBranchStep=r;t.isPopupStep=u;t.isSpotlightStep=f}function ett(n){function i(t,i){var f=n.getWalkthruIndexByWalkthruId(t),e,u;return f>-1&&(e=n.getWalkthruByIndex(f),u=r(i,e),u)?u:null}function r(t,i){var f,r,e;if(i)return u(t,i);for(f=n.getWalkthrus(),r=0;r<f.length;r++)if(e=u(t,f[r]),e)return e;return null}function u(n,t){for(var r=t.Steps,i=0;i<r.length;i++)if(r[i].Id==n)return r[i];return null}function f(n,t){var r=i(t,n);return r?r.StepIndex:-1}var t=this;t.getStepByWalkthruAndStepIds=i;t.getStepById=r;t.getStepIndex=f}function ott(){function a(i,r,u,s,h){f=u;n=i;e=s;t=r.isFeatureEnabled("sfLightningPo");o=h;t&&y()}function v(r){if(!t||window==top)return r();i.push(r);try{var u={wm:!0,type:s};c(window,n.toJSON(u))}catch(e){f.error(e)}}function c(n,t){var i=n&&n.parent;i&&i!=n&&(o.apply(i,[t,"*"]),c(i,t))}function y(){e.listen(p)}function l(n,t){if(null!==t){var i=void 0;return r("iframe,frame",t).each(function(t,u){if(u.contentWindow==n)return i=r(u).is(":mt_visible"),!1;try{if(i=l(n,u.contentDocument),void 0!==i)return!1}catch(f){}}),i}}function p(t){var r,u,f;try{if(r=n.secureEvalJSON(t.data),!r.wm)return;switch(r.type){case s:u=l(t.source);void 0===u&&(u=!0);t.source.postMessage(n.toJSON({wm:!0,type:h,isVisible:u}),"*");break;case h:r.isVisible&&(f=i.shift(),f&&f())}}catch(e){}}function w(){i=[]}var u=this;u.executeIfVisible=v;u.reset=w;var n,t,f,e,o,s="isVisibleFrameAsk",h="isVisibleFrameAnswer",i=[];a.apply(null,arguments)}function stt(n){function i(t){return t&&t.Settings&&t.Settings.action&&t.Settings.action.actionType==n.STEP_ACTION.PassOwnership}function r(t,r,f){return f&&!i(t)?n.PASS_OWNERSHIP.EvaluateOwnership.CantBeDetermined:u(t,r)?n.PASS_OWNERSHIP.EvaluateOwnership.Owner:n.PASS_OWNERSHIP.EvaluateOwnership.NotOwner}function u(n,t){if(null===n)return f.get("WalkthruStepsLoader").LoadStepsForWT(t),!1;try{return _makeTutorial.evaluateConditionTree(n.Settings.action.arguments.condition)}catch(i){return!0}}var t=this;t.isPassOwnershipStep=i;t.evaluateOwnership=r}function htt(n,t,i){function u(r){return r==n.Tutorial?i:r==n.BusinessSolution?t:void 0}var r=this;r.getDeterminatorByType=u}function ctt(){function f(n,i,r){t(n,i);var f=r();return u(),f}function e(){return i}function o(){return r}function u(){t(void 0,void 0)}function t(n,t){i=n;r=t}var n=this,i,r;n.wrap=f;n.setCurrent=t;n.getCurrent=e;n.clearCurrent=u;n.getCurrentStepData=o}function ltt(n,t,i,r,u,e,o,s,h,c,l,a,v,y,p,w){function g(){k=l.wrapCustomerLog(t.PASS_OWNERSHIP.LOG_FEATURE)}function nt(n,i){return p.wrap(t.PASS_OWNERSHIP.PassOwnershipEntity.Walkthru,ct(n,i),function(){return tt(n,i)})}function tt(r,u){var f=n.get().optimizedDetermineOwnership();return f||(e.state=t.WALKTHRU_STATE.WAITING_FOR_OWNERSHIP,e.currentWalkthru=r,e.currentStep=u,o.storeStateInCookie(),i.terminateTutorial(),e.state=t.WALKTHRU_STATE.NOT_RUNNING,n.get().reset()),f}function it(n,i){return i?p.wrap(t.PASS_OWNERSHIP.PassOwnershipEntity.Walkthru,i,function(){return d(n)}):d(n)}function d(n){var t=rt(),i=t?p.getCurrentStepData():lt(),u=r.evaluateOwnership(i.step,i.walkthruId,t);return t||n||ht(u),u}function rt(){return p.getCurrent()==t.PASS_OWNERSHIP.PassOwnershipEntity.Walkthru}function ut(){return(v.isFeatureEnabled("po_peek")||v.isFeatureEnabled("passOwnership"))&&r.isPassOwnershipStep(a.peekNextCookieStep())}function ft(n,t,i){i&&et(n,t)}function et(n,t){n?st():(k("ownership granted to: "+t,3),c.restoreStateFromCookie(h.getUserGuid()))}function ot(){f.get("WalkthrusModule").terminateTutorial()}function st(){f.get("WalkthrusModule").setMember("dontContinueTutorial",!1);y.resumeTimeoutsArray("playTimeouts")}function ht(n){switch(n){case t.PASS_OWNERSHIP.EvaluateOwnership.Owner:at();break;case t.PASS_OWNERSHIP.EvaluateOwnership.NotOwner:vt()}}function ct(n,t){var i=u.getWalkthruByIndex(n);return{walkthruId:i.Id,step:i.Steps[t]}}function lt(){var n=w.getData(t.PASS_OWNERSHIP.PASS_OWNERSHIP_COOKIE,void 0,h.getUserGuid());if(n)return{walkthruId:n.tutorialId,step:s.getStepByWalkthruAndStepIds(n.tutorialId,n.stepId)}}function at(){i.stepWasCompleted();i.executeTutorialNextStep()}function vt(){e.state!=t.WALKTHRU_STATE.PASSING_OWNERSHIP&&e.currentStep++;e.state=t.WALKTHRU_STATE.PASSING_OWNERSHIP;o.storeStateInCookie()}var b=this,k;b.walkthruStarted=nt;b.evaluateOwnership=it;b.evaluateOwnershipByPeeking=ut;b.gainedOwnership=ft;b.lostOwnership=ot;g()}function att(n,t,i,r,u,f){function h(n,t,i){return o(i).evaluateOwnership(n,t)}function c(){return u.raiseEvent("loseOwnership"),s().lostOwnership()}function l(n,t,i){return u.raiseEvent("gainOwnership"),o().gainedOwnership(n,t,i)}function a(){return o().evaluateOwnershipByPeeking()}function o(n){return r.load(),s(n)}function s(u){switch(u){case n.PASS_OWNERSHIP.PassOwnershipEntity.Walkthru:return i;case n.PASS_OWNERSHIP.PassOwnershipEntity.BizFlow:return t;default:return r.isEmpty()&&!f.getData(n.FLOW_BEFORE_PLAY_KEY)?i:t}}var e=this;e.evaluateOwnership=h;e.loseOwnership=c;e.gainOwnership=l;e.evaluateOwnershipByPeeking=a}function vtt(n,t,i,r,u,f,e,o,s,h){function p(){o.on(t.EVENTS.Flows.FlowStopped,function(){n.get().reset()});o.on(t.EVENTS.Flows.FlowCompleted,function(){n.get().loseOwnership()})}function w(t,r){y({flowId:t,stageId:r});var u=n.get().optimizedDetermineOwnership();u||(n.get().reset(),i.isPassOwnershipNode(v())&&n.get().setOwnershipCondition({flowId:t,stageId:r}))}function b(n,t){return i.evaluateOwnership(d(t))}function k(){var n=v();return i.isPassOwnershipNode(n)}function d(n){if(n)return a(n.flowId,n.node.Id);var t=s.getData(l);return t?a(t.flowId,t.stageId):g()}function v(){var n=s.getData(l)||e.peek();return a(n.flowId,n.stageId)}function g(){var n=s.getData(t.PASS_OWNERSHIP.PASS_OWNERSHIP_COOKIE);if(n)return a(n.flowId,n.stageId)}function y(n){s.saveData(l,n,s.keysConfig.flow.beforePlay.expiry);s.refreshGetData()}function nt(n,t,i){var r=s.getData(l);r?(y(null),it(n,rt(r.flowId,r.stageId))):h.restore();n&&i&&f.resumeAllTimeouts()}function tt(){u.pause()}function it(n,t){var r=t.node,f;r&&(f=r.Id,!n&&i.isPassOwnershipNode(r)&&(f=r.Links[0].TargetFlowNodeId),u.play(t.flowId,f))}function rt(n,t){return{flowId:n,node:a(n,t)}}function a(n,t){return r.getNodeById(n,t)}var c=this,l;c.determineOwner=w;c.evaluateOwnership=b;c.evaluateOwnershipByPeeking=k;c.gainedOwnership=nt;c.lostOwnership=tt;l=s.keysConfig.flow.beforePlay.key;p()}function ytt(n,t){function r(t){return t&&t.ActionType==n.FLOW_ACTION_TYPE.PassOwnership}function u(t){return r(t)?f(t)?n.PASS_OWNERSHIP.EvaluateOwnership.Owner:n.PASS_OWNERSHIP.EvaluateOwnership.NotOwner:n.PASS_OWNERSHIP.EvaluateOwnership.CantBeDetermined}function f(n){var i=t.createNew({featureName:"SwitchToFrameNode",elementName:n.Name});return i.getCurrentEvaluationValueAndStopEvaluating(n.ConditionTrees.SwitchToFrame)}var i=this;i.isPassOwnershipNode=r;i.evaluateOwnership=u}function vr(){function pt(n){at=f.get("CommonEvents");u=f.get("Consts");tt=f.get("Logger");p=f.get("FeaturesManager");a=f.get("TimerManager");ft(wt());g=n.errorHandler;r=n.userGuid;i(n.storageManager);ut(n.allUserGuids);nt=n.topWindow==n.owner;t=tt.wrapCustomerLog(u.PASS_OWNERSHIP.LOG_FEATURE);var e=n.storageManager.keysConfig.passOwnership;c=e.stopOwnership;s=e.play}function gt(){a.setWalkmeTimeout(ni,it)}function o(){return w||(w=f.get("PassOwnershipRouter")),w}function si(){return i().getData(c.key,!1,r)}function lt(n){i().saveData(c.key,n,c.expiry,r)}function hi(){return l=i().getData(u.PASS_OWNERSHIP.PASS_OWNERSHIP_COOKIE,!1,r)}var c,s,l,g,r,nt,tt,p,w,t,a,at,u,n=new st(this),vt=2e3,it=3e3,yt=1100,rt=this,e=!1,v=n.Prop.Protected("isRunning",!1),i=n.Prop.Protected("storageManager",!1),ut=n.Prop.Protected("allUserGuids",{}),ft=n.Prop.Public("crossDomainSampleRate",{}),y=n.Prop.Protected("listenCallback"),wt=n.Virtual.Protected("getSampleRate",function(){return 200}),h=n.Public("enabled",function(){return p.isFeatureEnabled("cd_play")||p.isFeatureEnabled("passOwnership")}),et,ot,k,d;n.Virtual.Public("start",function(n){h()&&(t("starting cross domain listening..."),y(n),b())});n.Virtual.Public("stop",function(){i().releaseCallback(ct)});n.Virtual.Public("reset",function(){h()&&(lt(!0),d(),a.libSetTimeout(function(){lt(!1)},yt))});n.Virtual.Public("determineOwnership",function(n){if(h()){t("switching owner...");var u=et(n);return u||(ht(),ot(),i().setSyncFlag(r)),u}});et=n.Virtual.Protected("checkIsConditionMet",function(n){return k(n),bt()});n.Virtual.Public("loseOwnership",function(n,i){h()&&(t("losing ownership..."+document.location.href),v()&&(n&&(t("reset state: reseting the ownership condition"),d()),i?dt():v(!1)))});ot=n.Virtual.Protected("removeOwner",function(){});n.Virtual.Public("optimizedDetermineOwnership",function(){return h()?(kt(),!1):(o().gainOwnership(),!0)});var bt=n.Virtual.Public("isConditionMet",function(n,t,i){var r=o().evaluateOwnership(n,t,i);return r==u.PASS_OWNERSHIP.EvaluateOwnership.Owner||r==u.PASS_OWNERSHIP.EvaluateOwnership.CantBeDetermined&&rt.isOwnerByDefault()}),kt=n.Virtual.Protected("dontStartAsOwner",function(){}),dt=(n.Virtual.Protected("startAsOwner",function(){}),n.Virtual.Protected("resumeCrossDomain",function(){t("saving data to resume after unload",3);k(l);e=!0;l=null;gt()}));var ni=n.Virtual.Protected("actualResume",function(){t("continue listening after "+it+" milliseconds",3);b()}),ht=n.Virtual.Protected("terminate",function(){t("owner killed, losing ownership",3);o().loseOwnership();rt.loseOwnership()}),ti=n.Virtual.Protected("gainOwnership",function(){t("gaining ownership with state "+f.get("CurrentWalkthruData").state+" "+document.location.href,3);v(!0);o().gainOwnership(e,ii(),!0);e=!1}),ii=n.Virtual.Protected("windowIdentifier",function(){return window.location.href}),b=n.Virtual.Protected("listen",function(){i().refreshGetData(ut(),ct)}),ct=n.Virtual.Protected("handleOwnership",function(){var n=si();v()?n&&ht():n||!ei()&&!fi()?n?t("waiting for other owner to die before gaining ownership...",3):e&&(e=!1):ti();a.libSetTimeout(b,ui());ri()}),ri=n.Protected("handleListenCallback",function(){y()&&(y()(),y(null))}),ui=n.Protected("calculateDomainListenInterval",function(){return e?vt:ft()}),fi=n.Protected("checkOwnership",function(){try{if(hi())return o().evaluateOwnership(!0)==u.PASS_OWNERSHIP.EvaluateOwnership.Owner;if(oi())return t("no ownership condition, owner by default",5),!0}catch(n){g(n,"Error determining the owner of a cross domain step")}return!1}),ei=n.Protected("isOwnerByPeeking",function(){var n=o().evaluateOwnershipByPeeking();return n&&t("[passownership] owner by peeking",5),n}),oi=n.Public("isOwnerByDefault",function(){return nt});k=n.Public("setOwnershipCondition",function(n){l=n;i().saveData(s.key,n,s.expiry,r)});d=n.Protected("resetOwnershipCondition",function(){i().saveData(s.key,!1,s.expiry,r)});pt.apply(null,arguments)}function ptt(n,t,i,r){function f(){}function e(u){try{u=u||0;var f=n.getData(t.STORAGE_KEYS.WALKTHRU_PERSISTENCE_DATA,{},r.getAllUserGuids()[0]),e=f[t.WALKTHRU_PERSISTANCE_DATA_FIELDS.CURRENT_TUTORIAL_COOKIE_NAME],o=i.getWalkthruById(e),s=f[t.WALKTHRU_PERSISTANCE_DATA_FIELDS.CURRENT_STEP_COOKIE_NAME];return o.Steps[s+u]}catch(c){return null}}var u=this;u.peekNextCookieStep=e;f()}function yr(){function ir(t){d=f.get("Consts");et=f.get("CommonEvents");l=f.get("TimerManager");ut=f.get("PassOwnershipRouter");var o=f.get("Logger");ot=f.get("POVisibleIframeChecker");b=t.isFeatureEnabled("po_doubleCheck");i.Extends(vr,t);n=i._base;n.crossDomainSampleRate(fi());nt=2*n.crossDomainSampleRate();wt=ui()?5e3:800;bt=ui()?2e4:5e3;kt="Chrome"==f.get("HostData").browser.name?1200:700;dt=t.errorHandler;u=t.userGuid;e=n.storageManager;rt=n.allUserGuids;s=n.isRunning;r=o.wrapCustomerLog(d.PASS_OWNERSHIP.LOG_FEATURE);rr();pr()}function rr(){var t=n.storageManager().keysConfig.tabbedOwnership;a=t.priorityCheck;tt=t.lastPriority;v=t.currentOwner;y=t.prioritiesQueue;it=t.priority.key}function ui(){return lt()||f.get("HostData").isIEBrowser(10,"gte")}function ur(){var n={priority:t,asyncCallback:nu};et.raiseEvent(d.EVENTS.PassOwnership.PORegisterPriority,n)}function hi(){if(n.isOwnerByPeeking())return ht++,ht>=tr;ht=0}function fr(){return w?(w--,!0):!1}function or(){n.storageManager().refreshGetData(rt(),function(){g=null;var u=tu(),i=bi(),f=hi();!u||t!=u||i&&!f?!f&&i&&i!=t&&pt():(r("priority is highest, gaining ownership - "+t,4),yt(t),n.gainOwnership())})}function sr(n){ci(function(i){var u=parseInt(i,10)||0;r("got priority "+u+" from sessionStorage",4);yi(u,function(i){0===u||i?(r((i?"inherited priority from parent":"priority is zero")+", getting a new priority",4),h(null,n,!0)):(t=u,b?hr(n):n&&n())})})}function hr(n){yi(t,function(t){t?h(null,n,!0):n&&n()})}function ai(){return f.get("HostData").isIE()||b}function cr(){ai()&&vi()}function vi(){var n=a.key+t,i=e().getData(n,void 0,u);i>=1&&e().increment(n,null,a.expiry,u);l.libSetTimeout(vi,gi)}function lr(n,t){var i=a.key+n;e().increment(i,null,a.expiry,u,function(){function r(){n&&e().refreshGetData(rt(),function(){if(n){var t=e().getData(i,void 0,u);t>1&&o(!0);l.libSetTimeout(r,nr)}})}function o(r){r=!!r;e().saveData(i,0,a.expiry,u);e().removeData(i,u);n=!1;f&&f.clear();t&&t(r)}var n=!0,f=l.libSetTimeout(o,kt);r()})}function yi(n,t){if(!n)return void(t&&t(!1));ai()?(r("checking if priority is inherited using storageManager",4),lr(n,t)):(r("checking if priority is inherited using window.opener",4),ar(n,t))}function ar(n,t){if(window.opener){var f,e,i;function u(n){r("is priority inherited: "+n,4);e&&e.clear();f&&f();t&&t(n)}f=k.registerEventHandler("message",function(t){try{var f=c(t.data);f.requestType==ti&&(f.priority==n?(w=ii,u(!0)):(i--,0==i&&u()))}catch(e){r("Error in priority inherited message event "+e,4)}});e=l.libSetTimeout(function(){u(!1)},1e3);i=k.postMessageToAllFramesChain(window.opener,o({requestType:ni}));0==i&&u(!1)}else t&&t(!1)}function yr(){at()&&(mtjQuery(window).bind("focus",h),mtjQuery(window).bind("mouseenter",h))}function pr(){k.registerEventHandler("message",pi)}function wr(){at()&&(mtjQuery(window).unbind("focus",h),mtjQuery(window).unbind("mouseenter",h))}function br(){k.unregisterEventHandler("message",pi)}function pi(n){var i;try{switch(i=c(n.data),i.requestType){case gt:kr(i.priority);break;case ni:n.source.postMessage(o({requestType:ti,priority:t}),"*")}}catch(r){i&&dt(r,"error handling priority message from parent")}}function gr(n){t=n;li(t);s()&&(r("is running during set priority - setting current owner",4),yt(t));r("updated priority: "+t,4)}function wi(n){var t={requestType:gt,priority:n};r("sending priority to all frames: "+n,4);mtjQuery("iframe").each(function(n,i){i.contentWindow.postMessage(o(t),"*")})}function bi(){return e().getData(v.key,!1,u)}function yt(n){return r("setting owner to: "+document.location.href+"owner id:"+n,4),w=ii,e().saveData(v.key,n,v.expiry,u)}function ki(){r("removing current owner",4);e().saveData(v.key,null,v.expiry,u)}function nu(){ot.executeIfVisible(function(){r("register in queue with priority "+t,4);e().addToDictionary(y.key,t,di(),y.expiry,u);g&&!g.cleared||(g=l.libSetTimeout(or,nt))})}function di(){return(new Date).getTime()}function pt(){r("po_tabs - clear priorities queue",4);e().saveData(y.key,null,y.expiry,u)}function tu(){var t=e().getData(y.key,!1,u),n,i,f,s;for(r("registered priorities: "+o(t),4),n=0,i=wt;!n&&i<bt;){for(f in t)t.hasOwnProperty(f)&&(s=parseInt(f,10),di()-t[f]<i&&s>n&&(n=s));i+=nt}return n}var nt,wt,bt,kt,n,d,t,a,tt,v,y,it,u,dt,p,e,rt,s,ut,w,g,ft,b,l,et,ot,r,i=new st(this),gi=300,gt="wm-setPriority",ni="wm-qp-req",ti="wm-qp-res",nr=100,ii=1,tr=10,ri=this,ht=0,ct=!1,lt,fi,ei,oi,si,ci,li,at;i.Virtual.Public("getPriority",function(){return t});lt=i.Protected("isSlowerBrowser",function(){return f.get("HostData").isIEBrowser(9,"lte")});fi=i.Override("getSampleRate",function(){var t=n.getSampleRate();return lt()&&(t*=2),t});i.Override("start",function(i){sr(function(){et.raiseEvent(d.EVENTS.PassOwnership.PriorityInitialized,{priority:t});yr();cr();n.start(i)})});i.Override("stop",function(){ri.enabled()&&(wr(),br(),r("stop ownership",4),s(!1),n.stop())});i.Override("reset",function(){ri.enabled()&&(w=0,r("reset ownership",4),n.resetOwnershipCondition(),ki(),s(!1))});ei=i.Override("dontStartAsOwner",function(){n.dontStartAsOwner();pt()});oi=i.Override("startAsOwner",function(){s(!0);yt(t)});i.Override("resumeCrossDomain",function(){s(!1);ct=!0;n.resumeCrossDomain()});i.Override("actualResume",function(){ct=!1;n.actualResume()});i.Override("handleOwnership",function(){var i=bi();fr()||(s()&&t!=i&&(n.terminate(),ot.reset()),s()||(!i&&n.checkOwnership()||hi()?ur():t==i&&si()&&(n.gainOwnership(),h())));l.libSetTimeout(n.listen,n.calculateDomainListenInterval());n.handleListenCallback()});si=i.Virtual.Protected("shouldRegainOwnership",function(){return n.checkOwnership()});i.Override("determineOwnership",function er(t,i){n.setOwnershipCondition(t);p=n.isConditionMet(i);p||pt();b&&!i?h(null,function(){er(t,!0)},b):n.determineOwnership(t);var r=p;return p=void 0,r});i.Override("checkIsConditionMet",function(){return p});i.Override("optimizedDetermineOwnership",function(){return n.enabled()?n.isConditionMet()?(oi(),ut.gainOwnership(),!0):(ei(),!1):(ut.gainOwnership(),!0)});i.Override("windowIdentifier",function(){return t+":"+window.location.href});i.Override("removeOwner",function(){n.removeOwner();ki()});ci=i.Virtual.Protected("restorePriority",function(t){n.storageManager().sessionGetData(it,0,u,t)});li=i.Virtual.Protected("storePriority",function(n){e().sessionSetData(it,n,u)});at=i.Virtual.Protected("shouldRegisterFocusEvents",function(){return window==top});var kr=i.Virtual.Protected("handleSendPriorityRequest",function(n){r("frame got new priority from parent window: "+n,4);t=n;wi(n)}),vt=[],h=i.Virtual.Public("updatePriority",function(n,i,f){var o,s;(i&&vt.push(i),ft||ct)||(o=t,ft=!0,s=f?null:t,e().increment(tt.key,s,tt.expiry,u,function(n){var u,i;for(n!==t&&(r("updating priority from "+o+" to "+n,4),gr(n),dr(n,o)),u=vt,vt=[],ft=!1,i=0;i<u.length;i++)u[i](t)}))}),dr=i.Virtual.Protected("afterUpdatingPriority",function(n){wi(n)});ir.apply(null,arguments)}function wtt(){function v(i){var r=f.get("Logger"),e=f.get("Consts");h=f.get("UserGuidContainer").getUserGuid();n.Extends(yr,i);u=n._base;t=r.wrapCustomerLog(e.PASS_OWNERSHIP.LOG_FEATURE)}function l(){var n=sessionStorage.getItem(e);if(t("[po_frames] getting session priorities: "+n,4),n)return c(n)}function a(n,t){n&&!y(n)?t&&t(n):u.updatePriority(null,function(n){a(n,t)})}function y(n){return r.inArray(n,s(top))!=-1}function p(){try{return top.frames,top}catch(n){return window}}function s(n){var t=[],i,u,f,r;try{n!=window&&n._walkmeInternals&&(i=n._walkmeInternals.ctx.get("CrossDomainManager"),i&&i.isReady()&&(u=i.get().getPriority()),u&&h==n._walkmeInternals.ctx.get("UserGuidContainer").getUserGuid()&&t.push(parseInt(u,10)))}catch(e){}try{for(f=n.frames,r=0;r<f.length;r++)t=t.concat(s(f[r]))}catch(e){}return t}function w(n){var i=l(),u;(t("[po_frames] removing priority "+n+" from session",4),i&&n)&&(u=r.inArray(n,i),u>=0&&(i.splice(u,1),sessionStorage.setItem(e,o(i))))}var t,i,u,h,n=new st(this),e="walkme-priorities";n.Override("getPriority",function(){return u.getPriority()||i});n.Override("restorePriority",function(n){var f,c,h;if(t("[po_frames] restoring priority, temp priority is: "+i,4),window==top)u.restorePriority(n);else{if(f=l(),f&&f.length)for(c=s(p()),f.sort(function(n,t){return n>t?-1:n<t?1:0}),t("[po_frames] used priorities: "+o(f),4),h=0;h<f.length&&!i;h++)r.inArray(f[h],c)==-1&&(c.push(f[h]),sessionStorage.setItem(e,o(c)),i=f[h]);a(i,n)}});n.Override("storePriority",function(n){if(n=parseInt(n,10),window==top)u.storePriority(n);else{var i=c(sessionStorage.getItem(e)||"[]");r.inArray(n,i)==-1&&i.push(n);t("[po_frames] storing priority "+n+" in the session",4);sessionStorage.setItem(e,o(i))}});n.Override("afterUpdatingPriority",function(n,t){w(t)});n.Override("handleSendPriorityRequest",function(){});n.Override("shouldRegisterFocusEvents",function(){return!0});n.Override("shouldRegainOwnership",function(){return!0});v.apply(null,arguments)}function wr(){function v(n){c=n.lib;l=n.cdnServer;h=n.clickAuditManager;t=f.get("Logger").wrapCustomerLog(dt);o=f.get("CommonEvents")}function y(t){i=f.create("LightboxDisplayer");i.activate(t,n.defaultLightboxSize(),n.getContentTypeName(),n.needsNewTabButton(),n.createContentElement,s)}function s(n){f.get("CommonUtils").isValidUrl(n.Url)?(o.deprecatedRaiseEvent(r.EVENTS.LoadingContentInNewTab),t(e("Opening content in new tab. Url: {0}",n.Url)),window.open(n.Url,"_blank")):t(e("Content url is invalid: {0}",n.Url))}function p(){throw"activateContentInWidget is unimplemented";}var c,l,h,i,o,t,n=this,r=f.get("Consts"),a="ContentPlayMode",u=r.PLAY_MODE;n.getContentTypeName=g.WM_PURE_VIRTUAL();n.createContentElement=g.WM_PURE_VIRTUAL();n.needsNewTabButton=g.WM_PURE_VIRTUAL();n.defaultLightboxSize=g.WM_PURE_VIRTUAL();n.cannotPlayInLightbox=function(n){var i=0==window.location.href.indexOf("https://")&&0!=n.indexOf("/")&&0!=n.indexOf("https://");return i&&t("Can't play content in lightbox"),i};n.activateContent=function(i,c,l){var v=parseInt(f.get("SettingsValuesRetriever").getSettingsValue(i.Settings,a,u.NewTab));switch(t(e("Started playing content, play mode is :{0}",v)),h.SendClickAudit(r.DEPLOYABLE_TYPE.Content,i.Id,{type:c,id:l},{contentType:i.Type}),i.Url=f.get("HtmlDecoder").decodeHtml(i.Url,["&"]),t(e("Content url is :{0}",i.Url)),o.deprecatedRaiseEvent(r.EVENTS.LoadingContent,i),v){case u.Widget:p(i);break;case u.LightBox:n.cannotPlayInLightbox(i.Url)?(t("Falling back to playing content in a new tab instead"),s(i)):y(i);break;case u.NewTab:s(i)}};n.removeContent=function(){i&&i.remove()};n.getLightboxSize=function(){return i.getSize()};v.apply(null,arguments)}function dtt(){function a(u){g.extend(n,wr,u);s=u.lib;t=u.vendorName;i=u.videoId;r=u.content;o=f.get("Logger").wrapCustomerLog(dt)}function v(n){var h=y(n),o,s;if("html5video"==t)return o="",o+=u(),s=mtjQuery("<video controls "+o+' src="'+r.Url+'"><\/video>'),h.indexOf("autoplay")>-1&&s.attr("autoplay",1),s;var c=e("[{0} {1}]{2}[/{3}]",t,h,i,t),l=f.get("BBCodeParser").parse(c);return mtjQuery(l)}function y(n){var t=f.get("SettingsValuesRetriever").getSettingsValue(n.Settings,h,"");return t=p(t,n),t+' wmode="opaque"'}function p(n){n=n.replace(/&quot;/gi,'"');n=n.replace(/((width|height)="[^\\"]+)"/gi,"");var t=u();return n+(" "+t)}function u(){var t=n.getLightboxSize();return e('width="{0}" height="{1}"',t.width,t.height)}var t,i,o,r,n=this,s=null,h="VideoParameters",c=420,l=315;n.getContentTypeName=function(){return"video"};n.createContentElement=function(n){return v(n)};n.needsNewTabButton=function(){return!1};n.defaultLightboxSize=function(){return{width:c,height:l}};a.apply(null,arguments)}function br(){function e(r){g.extend(n,wr,r);i=r.lib;t=f.get("Logger").wrapCustomerLog(dt)}function o(t){if(f.get("CommonUtils").isValidUrl(t.Url)){var i=n.getLightboxSize(),r=f.get("Mustache").to_html('<iframe frameborder="0" src="{{{url}}}" style="width: {{{width}}}; height: {{{height}}};"><\/iframe>',{width:i.width,height:i.height,url:encodeURI(t.Url)});return mtjQuery(r)}}var t,n=this,i=null,r=900,u=500;n.getContentTypeName=function(){return"article"};n.createContentElement=function(n){return o(n)};n.needsNewTabButton=function(){return!0};n.defaultLightboxSize=function(){return{width:r,height:u}};e.apply(null,arguments)}function gtt(n,t,i,u,f,e,o){function w(){s=o.wrapCustomerLog(y)}function v(n,t){return l.forcedPermutation.key+"-"+n+"-"+t}function b(n){return l.currentPermutation.key+"-"+n}function k(i,r,o,h){var k=parseInt(n.getData(l.permutationOverride.key)),c,ft,et;if(!isNaN(k))return f.setCurrentPermutation(k),s("Using debug permutation from 'wm-force-permutation' key: "+k,1),void h(k);if(!i)return void h(-1);if(c=t.getEndUserGuid(!0),c===!1)return s("WalkMe ABTesting - Cannot retrieve end user. Stopping execution",1),void e.removeWalkMe("AbTesting - Cannot fetch EndUser",{sendLog:!0});var a,tt=b(c),y=null!=o,ut=it(i,r),w=g(tt,ut);if(void 0!=w&&!y)return f.setCurrentPermutation(w),s("using permutation from storage: "+w,1),void h(w);if(y){if(p=!0,ft=d(c,o,w),!ft)return s("using permutation from activation rule: "+o,1),f.setCurrentPermutation(o),void h(o);s("got permutation from activation rule: "+o,2);a=o}else a=rt(i),s("permutation was drawn: "+a,1);s("sending permutation id to server: "+a,2);et=r?r.PermutationId:void 0;nt(c,a,ut,et,y,function(t){var i,r;s("server returned permutation id : "+t,2);s("saving permutation in storage : "+t,3);n.saveData(tt,t,l.currentPermutation.expiry);y?(s("Activation rule was used.",2),r=v(c,o),n.saveData(r,1,l.forcedPermutation.expiry),i=a):i=t;f.setCurrentPermutation(i);s("Final permutation: "+i,1);u.postEvent(y);h(i)})}function d(t,i,r){if(r==i)return!1;var u=v(t,i);return 1!=n.getData(u)}function g(t,i){var u=parseInt(n.getData(t));if(!isNaN(u)){if(r.inArray(u,i)>-1)return s("permutation exists in storage: "+u,1),u;s("permutation exists in storage but was out of date: "+u,1)}return void s("no valid permutation exists in storage",2)}function nt(n,t,r,u,f,e){i.sendPermutationToServer(n,t,r,u,f,e,tt)}function tt(){s("WalkMe ABTesting - Error when saving end-user permutation. Removing WalkMe",1);e.removeWalkMe("AbTesting - Cannot fetch EndUser Permutation",{sendLog:!0})}function it(n,t){for(var i=[],r=0;r<n.length;r++)i.push(n[r].PermutationId);return t&&i.push(t.PermutationId),i}function rt(n){for(var i=0,r=Math.random(),t=0;t<n.length;t++)if(i+=n[t].Percentage,i>=r)return n[t].PermutationId;return n[n.length-1].PermutationId}var s,h,a,c=this,y="ABTesting",p=!1,l=n.keysConfig.abPermutation;c.setPermutations=function(n,t){h=n;a=t};c.getPermutations=function(){return h};c.initGetPermutation=function(n,t){k(h,a,n,function(n){f.setCurrentPermutation(n);t(n)})};c.getPermutation=function(){return f.getCurrentPermutation()};c.getPermutationById=function(n){for(var t=0;t<h.length;t++)if(h[t].PermutationId==n)return h[t];return!1};w.apply(null,arguments)}function nit(){function i(){return n}function r(t){n=t}var t=this,n;t.setCurrentPermutation=r;t.getCurrentPermutation=i;n=-1}function tit(n,t,i,r,u){function s(){}var f=this,e=1e4;f.sendPermutationToServer=function(f,s,h,c,l,a,v){var y=t.execute({url:n.get()+"/AbTesting/SaveEndUserPermutation",dataType:"jsonp",data:{endUser:f,walkmeUserGuid:u.getUserGuid(),source:r.get(),permutationId:s,isForcedPermutation:l,availablePermutationsSerialized:o(h),browser:i.browser.string,os:i.os.name,timeout:e,defaultPermutation:c}});y.success(function(n){"error"===n?v():a(n)});y.error(function(){v()})};s.apply(null,arguments)}function iit(n,t,i){function u(r){try{var u={type:n.EVENT_SENDER_EVENT_APPS.AbTesting,reason:f(r)};t.postEvent(n.EVENT_SENDER_EVENT_TYPES.Draw,u)}catch(e){i.error(e)}}function f(t){return t?n.EVENT_SENDER_AB_TESTING_DRAW_REASONS.ActivationRule:n.EVENT_SENDER_AB_TESTING_DRAW_REASONS.Draw}var r=this;r.postEvent=u}function rit(n){function w(){var n=t.match(/android\s([0-9\.]*)/i);return!!n&&n[1]}function g(){return i().name==a}function tt(){return n.location.href}function it(){return[n.location.protocol,"//",n.location.host,n.location.pathname].join("")}function rt(){return e.title}function ut(){return/android|ipad|android.+mobile|blackberry|iemobile|ip(hone|od)|phone|symbian|windows (ce|phone)/i.test(t||n.navigator.vendor||n.opera)}var t=f.create("UserAgent",n),e=n.document,l="Firefox",a="Edge",o=function(n){var i=t.substring(n).indexOf(".");return t.substring(n,n+i)},i=function(){var r,i,u,n,f;return(n=t.indexOf("MSIE"))!=-1?(r="IE",i=o(n+5)):t.indexOf("Trident")!=-1&&(n=t.indexOf("rv:"))!=-1?(r="IE",i=o(n+3)):(n=t.indexOf("Edge/"))!=-1?(r=a,i=o(n+5)):(n=t.indexOf("Chrome"))!=-1?(r="Chrome",i=t.substring(n+7,t.lastIndexOf(" "))):/Firefox\/(\S+)/.test(t)?(r=l,i=RegExp.$1):(n=t.indexOf("Safari")!=-1)?(r="Safari",/Version\/(\S+)/.test(t)&&(i=RegExp.$1)):(n=t.indexOf("Opera"))!=-1?(r="Opera",/Version\/(\S+)/.test(t))?i=RegExp.$1:(f=Math.max(t.lastIndexOf(" "),t.lastIndexOf("/")),i=t.substring(f+1)):(u=t.lastIndexOf(" ")+1)<(n=t.lastIndexOf("/"))&&(r=t.substring(u,n),i=t.substring(n+1)),{name:r,version:i,string:r+" "+i,documentMode:e.documentMode}},s=function(n,t,i){switch(n){case"lt":return t<i;case"lte":return t<=i;case"gt":return t>i;case"gte":return t>=i;default:return t==i}},h=function(n,t){var r=i();return"IE"!=r.name?!1:n?s(t,r.version,n):!0},p=function(n,t){if("android"!=y().name.toLowerCase())return!1;if(!n)return!0;var i=w();return i?s(t,i,n):!1},u=function(n,t,r){var o=i(),f,u;return"IE"!=o.name?!1:n?(f=r&&r.ownerDocument||e,u=f.documentMode,u||("BackCompat"==f.compatMode?u=5:"7"==o.version&&(u=7)),s(t,u,n)):!0},v=function(n,t,i,r){return r?h(n,t)&&u(n,t,i):h(n,t)||u(n,t,i)},b=function(n){return v(n,"lt")},k=function(n){return u(5,null,n)},d=function(){return i().name==l},c=[{n:"Android",os:"Android"},{n:"Linux",os:"Linux"},{n:"X11",os:"UNIX"},{n:"iPad",os:"iOS"},{n:"iPod",os:"iOS"},{n:"iPhone",os:"iOS"},{n:"Mac",os:"MacOS"},{n:"Win",os:"Windows"}],y=function(){for(var i,r,n=0;n<c.length;n++)if(r=c[n].n,t.indexOf(r)!=-1){i=c[n].os;break}return i||(i="Unknown"),{name:i}},nt=function(){try{var t=r(n);return{height:t.height(),width:t.width()}}catch(i){return null}};return{browser:i(),getUrl:tt,getUrlWithoutQueryString:it,getPageTitle:rt,os:y(),isIE:v,isIEOlderThan:b,isIEDoc:u,isIEBrowser:h,isQuirksMode:k,getWinSize:nt,isMobile:ut,isAndroid:p,isFirefox:d(),isEdge:g}}function uit(){function p(h){o=h.deployablesGoalManager;i=h.experiments;c=h.lib;r=h.getEndUserGuid;n=f.get("Logger").wrapCustomerLog(y);e=h.commonEvents;t=new kn({lib:c,serverAddress:h.serverAddress,getPermutationId:h.getPermutationId,getEndUserGuid:h.getEndUserGuid,getAuditSource:h.getAuditSource,storageManager:h.storageManager,userGuidContainer:h.userGuidContainer});u=f.get("Consts");s=f.get("ArrayUtils")}function b(n,i){t.updateGoalCompleted(n,i.Id)}function k(n){return void 0!=h[n]}function d(n){var t=h[n.Id],i={goal:{Id:n.Id,GoalType:u.DEPLOYABLE_TYPE.AbExperiment,RelatedObjectId:t,Name:n.Name},identifier:n.identifier,interactionGuid:n.interactionGuid};e.raiseEvent(u.EVENTS.AbExperimentLinkedGoalReached,i)}function g(n,t){for(var i,u=[],f=[],r=0;r<n.Goals.length;r++)i=n.Goals[r],s.inArray(i.Id,t)>-1?u.push(i):f.push(i);n.Goals=f;n.CompletedGoals=u}function nt(n){for(var r,t=0;t<i.length;t++)r=i[t],g(r,n)}function tt(n,t){for(var r,u,f,i=0;i<n.length;i++)for(r=n[i],u=0;u<r.Goals.length;u++)f=r.Goals[u],t.push(f.Id),1==f.IsLinkedGoal&&(h[f.Id]=r.Id)}function a(t,r){var u,f;for(nt(t),u=0;u<i.length;u++)f=i[u],n("Start watching Experiment goals. ExperimentID : "+f.Id,2),o.startWatchingDeployable(f,void 0);r&&r()}var c,o,t,i,n,r,u,e,s,v=this,y="ABTesting",h={},w=function(i){var f=i.GoalType==u.DEPLOYABLE_TYPE.AbExperiment,h=k(i.Id),c=f||h,o;if(c){var e=r(),l=t.syncRetrieveCompletedGoals(e),a=s.inArray(i.Id,l)==-1;a&&(n("Experiment Goal was completed! Goal ID:"+i.Id+", Goal Name : "+i.Name,1),b(e,i),o=f,o||d(i))}},l=!1;this.startWatching=function(u){var s,h,c;if(!l){if(l=!0,s=[],tt(i,s),0==s.length)return n("No AbTesting goals were defined"),void(u&&u());o.onGoalCompleted(w);h=r();c=t.syncRetrieveCompletedGoals(h);c?(n("Completed goals data exists. Starting goals watch"),e.raiseEvent("ABTestingGoalsFetched"),a(c,u)):(n("No completed goals data exists locally. Fetching from server"),t.asyncRetrieveCompletedGoals(h,s,function(t){n("Completed goals data recieved. Starting goals watch");e.raiseEvent("ABTestingGoalsFetched");a(t,u)},function(){n("WalkMe ABTesting - Error when fetching end-user goals. Removing WalkMe",1);f.get("LibDestroyer").removeWalkMe("AbTesting - Cannot fetch EndUser Goals",{sendLog:!0})}))}};v.isGoalReached=function(n){for(var u=t.syncRetrieveCompletedGoals(r()),i=0;i<u.length;i++)if(u[i]==n)return!0;return!1};p.apply(null,arguments)}function fit(n,t,i,u,f,e,o,s,h){function a(){var t=n.get(),i=t.TutorialCantPlayText;l(t,i,!0)}function v(n){var t=i.getSiteConfigByTutorialId(n.Id),r=e.getSettingsValue(n.Settings,"cantPlayAlert",t.TutorialCantPlayText);l(t,r,!1)}function l(n,i,r){var u=n.BalloonSettings,f=r||p(u),e=y(u,i,f,!0);f?w(e):t.showPopupOldBalloon(n,u,tutorial,e)}function y(n,t,i){var r=i?"14px":"21px";return t=o.parse(t),"<h1 class='walkme-custom-first-step-not-available-text mt-custom-first-step-not-available-text CUSTOM-TUTORIAL-ID' style='CSS-RESET font-family: "+n.Font+";color: "+n.HeaderColor+"; font-size: "+r+"; border: none; margin: 10px; word-wrap: break-word;'>"+t+"<\/h1>"}function p(n){return"v3"==n.BalloonVersion||"vm1"==n.BalloonVersion}function w(n){var t=r("<div><\/div>"),i;t.append(n);i=!0;u.showSpecialPopupBalloon({htmlContent:t},446,{popupStepButtons:[{id:0,name:"OK",action:7}]},function(n){mtjQuery(".walkme-action-ok",n).click(function(){f.releaseBalloons()})},i).then(function(){s.raiseEvent(h.EVENTS.FirstStepNotAvailable)})}var c=this;c.showFlowFailedToStartPopup=a;c.showWalkthruFailedToStartPopup=v}function eit(n,t,i,r,u,f,e,o,s){function y(){}function v(n){c&&c.clear();r.handleOverlayRemoval();r.destroyDivWithIframes(h,n);h=null}function p(n,t,i,r){r+="<div style='float: right'>";r+=b(n,"walkme-custom-first-step-not-available-ok-button mt-custom-first-step-not-available-ok-button CUSTOM-TUTORIAL-ID","OK",t);r+="<\/div>";w(n,t,"first-step-not-available",r,420,i.Id,d)}function w(i,e,a,v,y,p,w){var b='<div class="mt-to-destroy walkme-custom-popup mt-custom-popup walkme-custom-popup-'+a+" mt-custom-popup-"+a+' CUSTOM-TUTORIAL-ID mt-to-destroy" id="walkme-popup-body" style="CSS-RESET width:'+y+'px">'+v+"<\/div>",d,k;b=b.replace(/CSS-RESET/g,l);b=b.replace(/CUSTOM-TUTORIAL-ID/g,"walkme-custom-walkthru-"+p);d=s.getTopContainer();d.append(b);h=mtjQuery("#walkme-popup-body",d);h.css({position:"fixed","z-index":t.POPUP_BALLOON_Z_INDEX,padding:"8px 12px 12px 12px","font-family":"Arial"});n.setStyleForBalloon(h,e,!1);k=0;mtjQuery.each(mtjQuery("[width], [style*=width]",h),function(n,t){mtjQuery(t).width()>k&&(k=mtjQuery(t).width())});h.width()<k&&h.css("width",k+"px");f.centerElementInPage(h,!1);c=u.playSetInterval(function(){f.centerElementInPage(h,!0)},1e3);host.isQuirksMode()||framesetsUtils.shouldHandlePageAsFramesets()||r.displayOverlay(2147483630,!0);h.fadeIn("slow");o.addButtonEventsToBalloon(h,{objectId:p,type:t.STEP_PLAY_INITIATOR_ENUM.WALKTHRU});w&&w(h)}function b(t,i,r,u){var a;u=n.fixConfiguration(u);u.ButtonBorderColor=u.ButtonBorderColor||"#6c84a6";a="rtl"==t.Direction?"right":"left";n.fixGradientColorsInConfiguration(u,"ButtonBgColor");n.fixGradientColorsInConfiguration(u,"ButtonBgColor2");var f=u.ButtonBgColor,o=u.ButtonBgColor2,h=u.ButtonShadowWidth,c=u.BalloonButtonRadius,v=f!=o,s="CSS-RESET "+(v?"background:-moz-linear-gradient(top, "+f+", "+o+");background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+f+"), color-stop(100%,"+o+"));background:-webkit-linear-gradient(top, "+f+" 0%,"+o+" 100%);background:-o-linear-gradient(top, "+f+" 0%,"+o+" 100%);background:-ms-linear-gradient(top, "+f+" 0%,"+o+" 100%);background:linear-gradient(to bottom, "+f+" 0%,"+o+' 100%);filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="'+f+'", endColorstr="'+o+'",GradientType=0 );':"background-color:"+f+";")+"border: 1px solid "+u.ButtonBorderColor+";color:"+u.ButtonTextColor+"; cursor: pointer; display: inline-block; float: none; font-size: 14px; font-weight: normal;font-family: Arial; margin-"+a+": 6px; padding: 2px 14px; text-align: center; text-decoration: none; position: static;overflow: visible;-moz-box-shadow: 0 0 "+h+"px rgba(0, 0, 0, 0.4);-webkit-box-shadow: 0 0 "+h+"px rgba(0, 0, 0, 0.4); box-shadow: 0 0 "+h+"px rgba(0, 0, 0, 0.4); -moz-border-radius:"+c+"px;-webkit-border-radius:"+c+"px;border-radius:"+c+"px;";return f!=o&&host.isIE()&&(s+="border-radius: 0px;"),v&&k.isGradientUsingFilter(s)&&(s+="background: url("+e.get()+"/player/resources/images/spacer.gif) repeat;"),s=s.replace(/CSS-RESET/g,l),"<button class='"+i+"' type='button' style='"+s+"'>"+r+"<\/button>"}function d(n){mtjQuery(".walkme-custom-first-step-not-available-ok-button",n).click(function(){v()})}var a=this,h,c,l;a.showPopupOldBalloon=p;a.closePopup=v;l="display: block; padding: 0; margin: 0;\tvertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit;  font-family: Arial; letter-spacing: normal; text-align: left; text-transform: none; font-weight: normal; outline: invert none medium; width: auto;  border-top: none; border-right: none; border-bottom: none; border-left: none; direction: ltr; position: static; top: auto; left: auto;";y()}function oit(n,t,i,r){function e(){}function o(n){try{var r=t.getEventAppByDeployable(n.auditType),u={type:n.initiatorType,objectId:n.initiatorId},f=h(r,n.auditType,n.objectId,u,n.additionalParams),e=s(r);t.postEvent(e,f)}catch(o){i.error(o)}}function s(n){switch(n){case t.EVENT_APPS.Launcher:return t.EVENT_TYPES.Click;default:return t.EVENT_TYPES.Play}}function h(i,r,f,e,o){var h,v,a=n.get(r),y={},s;a&&(s=a.getById(f),s&&(h=s.Name,y=a.getActionData(s),v=a.isWithAction(s)));switch(i){case t.EVENT_APPS.Launcher:return c(i,f,h,y);case t.EVENT_APPS.Content:return l(i,f,h,e,v,o);default:return u(i,f,h,e,v)}}function c(n,t,i,r){return{type:n,oId:t,oName:i,aType:r.Type,aAppType:r.aAppType,aoId:r.ItemId,aoName:r.Name,pId:"-1"}}function u(n,t,i,u,f){return{type:n,oId:t,oName:i,pInit:r.map(u),pId:"-1",oIsWithAction:f}}function l(n,t,r,f,e,o){var s=u(n,t,r,f,e,o);return o&&null!=o.contentType?s.oType=o.contentType:i.error(null,"No contentType was not provided for resouce params"),s}var f=this;f.send=o;e.apply(null,arguments)}function sit(n,t){function e(){u=["input","textarea","select"]}function o(n){return f(n,u)}function s(n){return f(n,["select"])}function f(n,i){var f=r(n),u=f.prop("nodeName");return u&&t(u.toLowerCase(),i)!=-1}var i=this,u;i.isInput=o;i.isSelectInput=s;e.apply(null,arguments)}function hit(n,t,i,r,u){function e(n,t){var i=r.timing.map;return i[t]-i[n]}var f=this;f.run=function(){var r,f;i.isFeatureEnabled("addLoadingTime")&&(r=e("snippetStartInit","walkmeReadyEnd"),t.raiseEvent(n.EVENTS.WalkMeTotalLoadingTime,{totalLoadTime:r}),f="WalkMe total loading time was "+r+" ms",u.customerLog(f,3,n.EVENTS.WalkMeTotalLoadingTime))}}function cit(){function n(t,i,f,e){var s,o;if(f[0]>0&&(s=!0,e&&e(t)===!1&&(s=!1),s))if(t&&(3===t.nodeType||4===t.nodeType))o=r(t.nodeValue),o=o.toLowerCase(),o=u(o),o&&(i.push(o),f[0]--);else if(t&&1===t.nodeType&&!t.tagName.match(/^(script|style)$/i))for(var c=t.childNodes,h=0,l=c.length;h<l;h++)n(c[h],i,f,e)}function r(n){return n=n.replace(new RegExp(String.fromCharCode(160),"g")," "),n=n.replace(new RegExp(String.fromCharCode(10),"g"),""),n=n.replace(new RegExp(String.fromCharCode(13),"g"),""),n=n.replace(new RegExp(String.fromCharCode(9),"g"),""),n=n.replace(new RegExp(" ","g"),""),n=mtjQuery.trim(n),n=n.substring(0,i)}function u(n){var t;if(!f(n))return n;for(var r=-1,u=n.length,i="";++r<u;){if(t=n.charAt(r),!/[\uD800-\uDBFF]/.test(t)&&!/[\uDC00-\uDFFF]/.test(t)){i+=t;continue}i+=e(t)}return i}function f(n){return null!=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.exec(n)}function e(n){var r=n.charCodeAt(0),t=r.toString(16).toUpperCase(),i=t.length>2;return"\\"+(i?"u":"x")+("0000"+t).slice(i?-4:-2)}var t=this,i=70;t.getElementTextArray=function(t,i){var r=[];return n(t,r,[3],i),r}}function lit(n,t,i,u){function c(){}function s(){var i,t;if(o){for(i=[],t=0;t<f.length;t++)try{a(f[t],t)}catch(r){i.push(t)}for(t=i.length-1;t>=0;t--)f.splice(t,1)}f.length&&n.libSetTimeout(s,3e3)}function l(n){return n.nextAll(h).length>0}function a(n,t){var r=n.parent(),e=r.contents().length,f;l(n)||v(n[0])+t+1==e||(f=document.activeElement,n.appendTo(r),i.raiseEvent(u.EVENTS.ElementLocationChanged,{activeElement:f,element:n}))}function v(n){for(var t=0;n=n.previousSibling;)t++;return t}var e=this,h=".ui-dialog.ui-widget.ui-widget-content.ui-corner-all.ui-front:visible",o=!0,f=[];e.addElement=function(i){t.isFeatureEnabled("noElk")||(f.length||n.libSetTimeout(s,3e3),f.push(i))};e.removeElement=function(n){if(!t.isFeatureEnabled("noElk")){var i=r.inArray(n,f);i!=-1&&f.splice(i,1)}};e.setState=function(n){t.isFeatureEnabled("noElk")||(o=n)};c.apply(null,arguments)}function ait(n,t,i,r,u,f){function c(){e=t.error;t.customerLog("Analytics manager was created",3,o)}function l(n,e,o){var s,h,c;if(!f.isEnabled())return!0;try{r.postEvent(r.EVENT_TYPES.Loaded,{type:r.EVENT_APPS.Walkme})}catch(l){t.error(l)}if(s=u.get(),!s)return!0;h=s+"/Analytics/UniqueEndUser";c={userId:n,permutationId:e,endUserGuid:o};i.execute({url:h,data:c})}var e,s="wm-ueuT",o="uniqueEndUser",h=this;h.auditUniqueEndUser=function(i,r,u){var h,f;try{h=n.getData(s)!=u;h&&(l(i,r,u),t.customerLog("auditUniqueEndUser: sent unique user request. userGuid="+i+" permutationId="+r+"endUserGuid="+u,3,o),f=n.keysConfig.analytics.lastAuditedUser,n.saveData(f.key,u,f.expiryFunc()))}catch(c){e(c,"Failed while auditing unique end users")}};c.apply(null,arguments)}function vit(n,t,i,r,u,f,e,s,h,c,l,a,v){function it(){tt=i.wrapCustomerLog(ci)}function rt(n,t,i,r){var u,f,e,o;return(t=v.isDefined(t)?t:-1,i?(u=i.type,f=i.hasOwnProperty("objectId")?i.objectId:i.id):u=a.STEP_PLAY_INITIATOR_ENUM.NONE,void 0===n||!l.isEnabled())?!0:(e=p(),o={auditType:n,objectId:t,auditGuid:e,playInitiator:u,initiatorId:f},b.sendData(o),h.send({auditType:n,objectId:t,initiatorType:u,initiatorId:f,additionalParams:r}),e)}function ut(n){var t,u;if(!l.isEnabled()||!w)return!0;t={userId:s.getUserGuid(),fullUrl:r.getUrl(),source:s.getEnvironmentId(),browser:r.browser.string,os:r.os.name,permutationId:s.getPermutationId(),endUserGuid:s.getEndUserGuid(),auditGuid:p()};w.sendData(t);try{return n&&(u=c.map(n)),e.postEvent(e.EVENT_TYPES.Open,{type:e.EVENT_APPS.Player,pInit:u})}catch(f){return i.error(f),!0}}function ft(t,r,u,o){var a,c,h,s;if(!l.isEnabled())return!0;a={shoutOutId:t,deployableType:r,clickType:u,auditGuid:p(),relatedClickAuditGuid:o};k.sendData(a);try{if(c=n.get(f.ShoutOut),h=c.getById(t),ot(u))return s=c.getActionData(h),e.postEvent(e.EVENT_TYPES.Click,{type:e.getEventAppByDeployable(r),oId:t,oName:h.Name,aType:s.Type,aAppType:s.aAppType,aoId:s.ItemId,aoName:s.Name,pId:"-1"});if(st(u))return e.postEvent(e.EVENT_TYPES.Close,{type:e.getEventAppByDeployable(r),oId:t,oName:h.Name,pId:"-1",reason:u})}catch(v){return i.error(v),!0}}function et(n,t,i,r){if(!l.isEnabled())return!0;var u={deployableId:n,deployableType:t,interactionType:i,auditGuid:p(),relatedClickAuditGuid:r};d.sendData(u)}function ot(n){return n===a.SHOUTOUT_CLICK_TYPE.Action}function st(n){return n===a.SHOUTOUT_CLICK_TYPE.Close||n===a.SHOUTOUT_CLICK_TYPE.XButton||n===a.SHOUTOUT_CLICK_TYPE.RemindMeLater}function p(){return(new Date).getTime()+"-"+u.generateGuid()}function ht(){b=t.register("ca",{actionUrl:"/Statistics/AddClickAudits",prefixForStorage:"ca",sendingThreshold:1,dataType:"click audit",dataIdFieldName:"Id",requestParamsFunc:nt});w=t.register("wo",{actionUrl:"/Statistics/AddWidgetOpens",prefixForStorage:"wo",sendingThreshold:1,dataType:"widget open",dataIdFieldName:"Id",requestParamsFunc:function(n){return{serizlizedWidgetOpens:o(n)}}});k=t.register("ac",{actionUrl:"/Statistics/AddShoutOutAudits",prefixForStorage:"ac",sendingThreshold:1,dataType:"shoutOut click",dataIdFieldName:"Id",requestParamsFunc:nt});d=t.register("di",{actionUrl:"/Statistics/AddInteractionAudits",prefixForStorage:"di",sendingThreshold:1,dataType:"deployable interaction",dataIdFieldName:"Id",requestParamsFunc:ct})}function g(t){var i,r,e=t[0],o=e.auditType,h=e.objectId,u;return void 0!=o&&void 0!=h&&(i=n.get(o),i&&i.getById&&(r=i.getById(h),r&&r.userGuid))?r.userGuid:(u=t[0].shoutOutId,void 0!=u&&(i=n.get(f.ShoutOut),i&&i.getById&&(r=i.getById(u),r&&r.userGuid)))?r.userGuid:s.getUserGuid()}function nt(n){var t=g(n),i=r.browser.string,u=r.os.name,f=s.getEnvironmentId(),e=s.getEndUserGuid(),h=s.getPermutationId(),c=r.getUrl();return{serizlizedClickAudits:o(n),userGuid:t,fullUrl:c,source:f,browser:i,os:u,permutationId:h,endUserGuid:e}}function ct(n){var t=g(n),i=r.browser.string,u=r.os.name,f=s.getEnvironmentId(),e=s.getEndUserGuid(),h=s.getPermutationId(),c=r.getUrl();return{serizlizedInteractionAudits:o(n),userGuid:t,fullUrl:c,source:f,browser:i,os:u,permutationId:h,endUserGuid:e}}var y=this,b,w,k,d,tt;y.SendClickAudit=rt;y.SendWidgetOpen=ut;y.SendShoutOutAudit=ft;y.SendInteractionAudit=et;y.init=ht;it.apply(null,arguments)}function yit(n,t,i,u,f,e,o,s,h){function v(n){return"object"==typeof n&&null!==n}function y(n,t,i){return v(n)?a(n,t,i):h.run(n,i)}function b(n,t,i){var r=void 0,e;return void 0!=n&&(r=y(n,t,i),r.length>0)&&(e=f.getElementTagName(r[0]),"IFRAME"==e||"FRAME"==e?(t&&(t.ElementDescription.extended.elementIframe&&r.data("iframe",t.ElementDescription.extended.elementIframe),t.ElementDescription.extended.elementIframe=r),r=u.getFrameContents(r)):t&&(t.ElementDescription.extended.elementIframe=!1)),r}function k(n){return void 0!=n&&mtjQuery.inArray(n,w)>-1?!0:!1}function d(n,t){var i;try{i=n[t]().eq(0)}catch(u){o.error(u,"runJqueryMethod : element has no method named '"+t+"'");i=r()}return i}function g(n,t){if(void 0!=n.method){var i;i=v(n.method)?n.method.name:n.method;k(i)?t=d(t.eq(0),i):(o.customerLog("Unknown jQuery Selector Method : '"+i+"'"),t=r())}return t}function a(n,t,i){try{var u=b(n.context,t,i),f=y(n.element,t,u);return g(n,f)}catch(e){return o.customerLog("jQuery Element Finder: Could not parse input"),r()}}function p(n){if(n=r.trim(n),!s.startsWith(n,"{")){var t={};return t.element=n,t}try{return c(n)}catch(i){return null}return null}function nt(n){function u(n,t){for(var u=n.split("."),i=t,r=0;r<u.length;r++)i=i[u[r]];return i}var f={result:null,iframe:null},o=[],i,t,e,r,s;if(n.params)for(i=0;i<n.params.length;i++)o.push(n.params[i].value);if(t=window,n.iframe){if(t=mtjQuery(n.iframe),0==t.length)throw"Iframe not found: "+n.iframe;t=t.contents()[0];t=t.parentWindow||t.defaultView;f.iframe=mtjQuery(n.iframe)}if(e=u(n["function"],t),!e)throw"Function not found: "+n["function"];if(n["this"]){if(r=u(n["this"],t),!r)throw"'This' not found: "+n["this"];}else r=n["function"].indexOf(".")==-1?null:u(n["function"].substring(0,n["function"].lastIndexOf(".")),t);return s=e.apply(r,o),f.result=s,f}var l=this,w=["parent","children","next"];l.findElementsByjQueryComplexSelector=function(n){n=e.decodeHtml(n,["&",'"',"'",">"]);var t=p(n);return a(t)};l.getjQueryElementText=function(t){var i=l.findElementsByjQueryComplexSelector(t);return n.checkElementText(i)};l.findElements=function(n,r){var u,c,d,l,v,tt;if(!n.JquerySelector)return[];u=n.JquerySelector;u=u.replace(/&quot;/gi,'"');u=u.replace(/&apos;/gi,"'");u=u.replace(/&#39;/gi,"'");u=u.replace(/&amp;/gi,"&");u=u.replace(/&gt;/gi,">");var e,b="context:",y=",element:",k="func:";if(s.startsWith(u,b)){if(c=u.substr(b.length),d=c.substr(c.indexOf(y)+y.length),c=c.substr(0,c.indexOf(y)),l=h.run(c),!(l.length>0))return[];n.ElementDescription.extended.elementIframe="IFRAME"==f.getElementTagName(l[0])?l:!1;l=l.contents();e=h.run(d,l);o.customerLog("jQuery selector found these elements:",5);o.customerLog(v,5)}else if(s.startsWith(u,k))try{var it=u.substr(k.length),rt=mtjQuery.parseJSON(it),w=nt(rt);return w.iframe&&(n.ElementDescription.extended.elementIframe=mtjQuery(w.iframe)),v=mtjQuery(w.result),(void 0==r||r)&&(v=v.filter(t.getVisibleFilter(n))),o.customerLog("func selector found these elements:",5),o.customerLog(v,5),v}catch(g){return i.get()?(console.log("Using jQuery selector with function raised an exception:"),console.log(g)):(o.customerLog("Using jQuery selector with function raised an exception:"),o.customerLog(g)),[]}else tt=p(u),e=a(tt,n);return e.length>0&&(void 0==r||r)&&(e=e.filter(t.getVisibleFilter(n))),o.customerLog("jQuery selector found these elements:",5),o.customerLog(e,5),e}}function pit(){function t(n,t){return mtjQuery(n,t)}var n=this;n.run=t}function wit(n,t,i,r,u){function o(){}function s(){for(var t=r.uiTasksTree(),n=0;n<t.length;n++)if(f(t[n]))return!0;return!1}function f(n){var t,i;if("task"==n.type())return!0;if(t=n.children(),!t||0===t.length)return!1;for(i=0;i<t.length;i++)if(f(t[i]))return!0;return!1}function h(){if(!t.isIEBrowser(9,"lte"))return!0;var n="abTasksIE"+t.browser.version;return u.isFeatureEnabled(n)?!0:!1}var e=this;e.shouldTrackAbTasks=function(){var t=parseInt(n.get().TodoListSettings.isActive);return t&&s()?!0:i.hasTaskGoalCompletionCondition()?!0:u.isFeatureEnabled("untrack_tasks")&&!t?!1:h()};o.apply(null,arguments)}function bit(){function t(n,t){n.append(t)}var n=this;n.inject=t}function kit(n,t,i,u,e,o,s,h,c,l){function ct(){a=n.wrapCustomerLog(vf);"Edge"==i.browser.name&&(g="Arial");p={}}function lt(n){return at(n)&&vt()}function at(n){return"widget-font"==n.name||"lib-font"==n.name}function vt(){return i.isAndroid("4.3","lt")&&"Chrome"!=i.browser.name}function yt(n,t){for(var i=0;i<n[0].ownerDocument.styleSheets.length;i++)if(n[0].ownerDocument.styleSheets[i][t])return!0;return!1}function pt(n,t,i,u){a("Start loading embeded file for font '"+n.name+"'",4);wt(n,t,i);r.ajax({type:"GET",url:u+".js",dataType:"script",cache:!0})}function wt(n,t,i){var r=y+n.name;w[r]={name:r,tagId:t,heads:[i[0]]}}function bt(n,r,u,f){a("Start loading eot file for font '"+n.name+"'",4);f+=".eot";i.isIEBrowser(8)&&h.isFeatureEnabled("fixFontsCompatibility")&&(f+="?frame="+t.getFrameIndex(u[0].ownerDocument.parentWindow));var e=l.to_html(it,{family:y+n.name,src:f,weight:"normal",style:"normal"});i.isIEBrowser(8)?d(e,r,u):ot(e,u,n.name,r)}function rt(n){n&&(ut(top),b.libSetTimeout(function(){rt(n-1)},100))}function ut(n){var i,u,t;try{i=r("head",n.document);d("",nt,i);b.libSetTimeout(function(){i.find("#"+nt).remove()},100)}catch(f){}for(u=n.frames,t=0;t<u.length;t++)ut(u[t])}function k(n,t,i,u){if(!i&&!u)return void a("Stop Tracking font '"+n.name+"' because we don't have success/fail Callback",4);a("Start tracking font '"+n.name+"'",4);var f=r(t.createElement("span")).addClass("walkme-font-tester").important({position:"absolute",top:"-9999px",left:"-9999px",visibility:"hidden","font-family":g,"font-size":"250px","line-height":"normal"}).html((n.dummeyText||st)+"a").appendTo(r("body",t).or("html",t)),o=f[0].offsetWidth,s=f[0].offsetHeight,e=y+n.name;f.important("font-family",e+","+g);ft(f,o,s,ht,e,i,u)}function ft(n,t,i,r,u,f,e){if(c(n).isSafe()){var o=5;a("================================================================================",o);a("Tracking font '"+u+"'",o);a("Comparison tester width: "+t+" === "+n[0].offsetWidth,o);a("Comparison tester height: "+i+" === "+n[0].offsetHeight,o);a("================================================================================",o);t===n[0].offsetWidth&&i===n[0].offsetHeight?r<0?(a("Finished with failure tracking font '"+u+"'",4),n.remove(),p[u]=!0,e&&e()):b.libSetTimeout(function(){ft(n,t,i,r-tt,u,f,e)},tt):(a("Finished successfully tracking font '"+u+"'",4),n.remove(),p[u]=!1,f&&f())}}function et(){return!!document.createStyleSheet}function ot(n,t,i,r,u){try{kt(n,t,i,r,u)||dt(n,t,i,r,u)}catch(f){throw a("Cannot inject style sheet"),f;}}function kt(n,t,i,r,f){var e=u._walkmeInternals,o,s;if(e&&e.customInjectStyleSheetFuncs){for(a("Attempting to use custom CSS Injector"),o=0;o<e.customInjectStyleSheetFuncs.length;o++)s=e.customInjectStyleSheetFuncs[o],"function"==typeof s&&s(n,t,i,r,f);return!0}return!1}function dt(n,t,i,u,f){var o,s=t?t[0].ownerDocument:r("body")[0].ownerDocument,e;f&&(o=gt(f,s));e=void 0===o?s.createStyleSheet(""):s.createStyleSheet("",o);e.cssText=n;e.owningElement.id=u;e.walkmeToRemove=!0;e[i]=!0}function d(n,t,i,u,f){var h,c=i||r("head"),o,l;return e.get()&&mtjQuery("#"+t,c).remove(),o=r('<style type="text/css" class="walkme-to-remove">'+(f?"":n)+"<\/style>"),(t&&o.attr("id",t),u&&(h=c.find("#"+u)),h&&h.length>0?h.first().before(o):s.inject(c,o),f)&&(l=o.prop("styleSheet"),l?l.cssText=n:o.append(n)),o}function gt(n,t){for(var r=t.styleSheets,i=0;i<r.length;i++)if(r[i].owningElement.id==n)return i}var a,p,v=this,w={},nt="walkme-framesets-fix-id",y="walkme-",g="Comic Sans MS",st="QW@HhsXJ",tt=50,ht=2500,it=function(n,t,i){var r=this;return r.b(i=i||""),r.b("@font-face {"),r.b("\n"+i),r.b("font-family: '"),r.b(r.v(r.f("family",n,t,0))),r.b("';"),r.b("\n"+i),r.b("src: url("),r.b(r.v(r.f("src",n,t,0))),r.b(") "),r.s(r.f("format",n,t,1),n,t,0,69,89,"{{ }}")&&(r.rs(n,t,function(n,t,i){i.b("format('");i.b(i.v(i.f("format",n,t,0)));i.b("')")}),n.pop()),r.b(";"),r.b("\n"+i),r.b("font-weight: "),r.b(r.v(r.f("weight",n,t,0))),r.b(";"),r.b("\n"+i),r.b("font-style: "),r.b(r.v(r.f("style",n,t,0))),r.b(";"),r.b("\n"+i),r.b("}"),r.fl()},b=f.get("TimerManager");v.font=function(t,u,f,e){var o,c,b,l,s,d;if(h.isFeatureEnabled("noFonts"))return void(f&&f());if(u&&u.length||(u=r("head")),!u.length)return n.error(null,"cannot inject font - head element does not exist"),void(e&&e());if(o=u[0].ownerDocument,i.isIEDoc(8,"lte",u[0])&&"widget-font"!=t.name&&!h.isFeatureEnabled("loadAllFonts"))return a("Not loading font '"+t.name+"' (IE7/8), to load all fonts enable the loadAllFonts feature",4),void(f&&f());if(a("Start loading font '"+t.name+"'",4),c="wm-font-"+t.id,b=r("#"+c,u),b&&b.length)return void k(t,o,f,e);if(l=w[y+t.name],l)return r.inArray(u[0],l.heads)==-1&&l.heads.push(u[0]),void k(t,o,f,e);if(p[y+t.name])return void e();if(s=v.getResourcePath(t.url),i.isIEDoc(8,"lte",u[0])){if(yt(u,t.name))return void k(t,o,f,e);bt(t,c,u,s)}else lt(t)&&(s=s.concat("_svg")),pt(t,c,u,s);d=i.isIEDoc(8,null,u[0])?function(){h.isFeatureEnabled("highPerf")||rt(5);f&&f()}:f;k(t,o,d,e)};v.preloadResources=function(n,t){var u,f,e;for(n=n||r("head"),u=0;u<t.length;u++)f=v.getResourcePath(t[u].url),f+=i.isIEDoc(8,null,n[0])?".eot":".js",e=new Image,e.src=f,e.onload=function(){}};v.fonts=function(n,t,i,r){var f=n.length,e=!1,u;if(f||i&&i(),i||r)for(u=0;u<n.length;u++)v.font(n[u],t,function(){0==--f&&(e?r&&r():i&&i())},function(){e=!0;0==--f&&r&&r()});else for(u=0;u<n.length;u++)v.font(n[u],t)};v.finishFontLoad=function(n,t){var f,u,i;for(a("finish loading font '"+n+"'",4),f="",i=0;i<t.length;i++)f+=l.to_html(it,{family:n,src:t[i].src,format:t[i].format,weight:t[i].weight,style:t[i].style});for(u=w[n],delete w[n],i=0;i<u.heads.length;i++)v.injectCss(f,u.tagId,r(u.heads[i]),n,null,!0)};v.getResourcePath=function(n){if(n&&n.indexOf("/"))return n;var t=o.get();return t+n};v.injectCss=function(n,t,i,r,u,f){et()?ot(n,i,r,t,u):d(n,t,i,u,f)};v.refreshContentCss=function(n,t){var i=d(t+" :before,"+t+" :after{content:none !important;}",null,n);b.libSetTimeout(function(){i.remove()},0)};v.emptyStyleSheets=function(){if(et())for(var t=document.styleSheets,n=0;n<t.length;n++)t[n].walkmeToRemove&&(t[n].disabled=!0)};ct.apply(null,arguments)}function dit(n,t,i){function c(n,t,i){var e=(new Date).getMilliseconds(),u,f;(r(n).find(v).each(function(){var n=w(this,t);n.documentAccessible&&c(r(n.iframe.contentWindow.document),n);i&&l(n)}),void 0==t)&&(u=(new Date).getMilliseconds(),f=u-e,h("Mapping iframes took "+f+" ms",5))}function p(){var f,i,e,n,c,l;if(!g()){for(o&&o.clear(),f=(new Date).getMilliseconds(),s++,i=[],r(document).find(v).each(function(){for(var t=!1,n=0;n<u.length;n++)if(u[n].iframe==this){u[n].foundInRemap=s;t=!0;break}t||i.push(this)}),n=0;n<u.length;n++)u[n].foundInRemap!=s&&(e=u[n],b(e.iframe),u.splice(n,1));for(n=i.length-1;n>=0;n--)w(i[n],void 0);c=(new Date).getMilliseconds();l=c-f;h("Remapping top iframes took "+l+" ms",5);o=t.libSetTimeout(p,1e4)}}function w(n,t){var i={iframe:n,documentAccessible:d(n),children:[]};return t?t.children.push(i):u.push(i),l(i),r(n).on("load.wmIframeManager",function(){i.children=[];d(n)&&(c(r(n.contentWindow.document),i,!0),l(i))}),i.documentAccessible||h("Cross domain iframe detected: "+n.src,4),i}function b(n){try{r(n).off("load.wmIframeManager")}catch(t){}}function l(n){for(var t=e.length-1;t>=0;t--)e[t](n)}function k(){u=[];a={children:u}}function d(n){try{n.contentWindow.document}catch(t){return!1}return!0}function g(){return i.isFeatureEnabled("dontMapIframes")}var f=this;f.remapTopIframes=p;var u,a,o,v="iframe:not(#walkme-hidden-iframe),frame",s=-1,y=!1,e=[],h=n.wrapCustomerLog("IFramesManager");f.mapIframes=function(){if(g())return void k();y||(k(),c(document,void 0));y=!0};f.getAll=function(){return u};f.foreachIframe=function(n,t){function i(r){for(var f,u=0;u<r.children.length;u++)f=r.children[u],t&&!f.documentAccessible||(n(f),i(f))}i(a)};f.onIframeLoad=function(n){e.push(n)};f.unbindIframeLoad=function(n){for(var t=e.length-1;t>=0;t--)if(e[t]===n){e.splice(t,1);break}};f.releaseEvents=function(){if(u)for(var n=0;n<u.length;n++)b(u[n].iframe)}}function git(n,t,i,r,u,e,o,s,h,c,l,a){function ht(){y=[t,i,r,u,e,o];p=h.wrapCustomerLog(li)}function ct(){if(v.triggerUIChangeAPI=st,g&&ft(),g=!0,v.isEnabled()){c.mapIframes();for(var t=[],n=0;n<y.length;n++)y[n].start(),y[n].isActivated()&&t.push(y[n].getSpaTypeName());t.length>0?(ut=!0,p("UIChangeTracker - Creating UIChangeTracker for types: "+t.join(", ")+". Using the following redrawer: "+s.getRedrawerName(),2)):p("UIChangeTracker - Did not activate",2)}}function lt(){return nt}function at(){return a.isWalkMeVisible()}function ft(){if(g=!1,v.isEnabled())for(var n=0;n<y.length;n++)y[n].isActivated()&&y[n].stop()}function vt(n){d.push(n)}function yt(n){k.push(n)}function pt(n){et(d,n);et(k,n)}function et(n,t){for(var i=0;i<n.length;i++)if(n[i]===t){n.splice(i,1);break}}function wt(){nt++;ot(d);ot(k);w={}}function ot(n){for(var t=n.length-1;t>=0;t--)try{n[t]({uiChangeIndex:nt,notifiers:w})}catch(i){}}function st(n){n&&(w[n]=!0);tt()}function tt(){s.redrawElements()}function bt(n){n&&(w[n]=!0);kt()}function kt(){function n(){b&&(tt(),l.libSetTimeout(n,f.get("UICT_DEFAULT_THROTTLE_TIME_WINDOW")));it=b;b=!1}it?rt||(b=!0):(tt(),it=!0,rt=!0,l.libSetTimeout(n,f.get("UICT_DEFAULT_THROTTLE_TIME_WINDOW")),l.libSetTimeout(function(){rt=!1},f.get("UICT_THROTTLE_FIRST_EVENT_BLOCK_TIME_WINDOW")))}function dt(){return ut}function gt(){return"ElementsRedrawer"}function ni(){p("UIChangeTracker - Not triggering UI Change. Wait For WalkMe to Load",2)}var v=this;v.init=ct;v.isEnabled=at;v.stop=ft;v.bind=yt;v.bindPreListener=vt;v.unbind=pt;v.callListeners=wt;v.triggerUIChange=st;v.triggerThrottledUIChange=bt;v.isActivated=dt;v.getElementRedrawerType=gt;v.getCurrentIndex=lt;v.triggerUIChangeAPI=ni;var y,p,k=[],d=[],ut=!1,g=!1,nt=0,w={};var it=!1,b=!1,rt=!1;ht()}function nrt(n,t,i){function a(){f=[i.UI_CHANGE_NOTIFIERS.HASH,i.UI_CHANGE_NOTIFIERS.HASH_ON_AJAX_CALLS,i.UI_CHANGE_NOTIFIERS.HISTORY,i.UI_CHANGE_NOTIFIERS.IFRAME_LOAD_SELECTOR,i.UI_CHANGE_NOTIFIERS.CLICK_SELECTOR]}function v(){e||(e=!0,h())&&(n.bindPreListener(c),s=!0)}function y(){(e=!1,h())&&n.unbind(c)}function p(n){u.push(n)}function w(n){for(var t=0;t<u.length;t++)if(u[t]===n){u.splice(t,1);break}}function b(){l()}function k(){return o}function h(){return t.isWalkMeVisible()}function d(){return s}function c(n){g(n.notifiers)||l()}function l(){o++;for(var n=u.length-1;n>=0;n--)try{u[n]({uiChangeIndex:o})}catch(t){}}function g(n){if(!n)return!0;for(var t=0;t<f.length;t++)if(n[f[t]])return!1;return!0}var r=this;r.init=v;r.stop=y;r.bind=p;r.unbind=w;r.triggerPageChange=b;r.getCurrentIndex=k;r.isActivated=d;var f,u=[],e=!1,o=0,s=!1;a()}function trt(){function e(){t=window.onhashchange;window.onhashchange=function(){t&&t.apply(null,arguments);f.triggerUIChange(i.UI_CHANGE_NOTIFIERS.HASH)}}function o(){return u.getValue(i.UI_CHANGE_NOTIFIERS.HASH)&&!u.getValue(i.UI_CHANGE_NOTIFIERS.HASH_ON_AJAX_CALLS)}var f,u,i,n=this,t=null,r=!1;n.ready=function(n,t,r){f=n;u=t;i=r};n.start=function(){o()&&(e(),r=!0)};n.stop=function(){r&&(window.onhashchange=t,t=null,r=!1)};n.isActivated=function(){return r};n.getSpaTypeName=function(){return"Hash"}}function irt(){function o(){window.history&&window.history.pushState&&(t=window.onpopstate,window.onpopstate=function(){t&&t.apply(null,arguments);f.triggerUIChange(r.UI_CHANGE_NOTIFIERS.HISTORY)},i||(i=window.history.pushState,window.history.pushState=function(){i.apply(window.history,arguments);f.triggerUIChange(r.UI_CHANGE_NOTIFIERS.HISTORY)}))}var f,e,r,n=this,t=null,i=null,u=!1;n.ready=function(n,t,i){f=n;e=t;r=i};n.start=function(){e.getValue(r.UI_CHANGE_NOTIFIERS.HISTORY)&&(o(),u=!0)};n.stop=function(){u&&(window.onpopstate=t,t=null,window.history.pushState=i,i=null,u=!1)};n.isActivated=function(){return u};n.getSpaTypeName=function(){return"History"}}function rrt(){function l(){var t=o(),i=!t,r=i?"all iframes/frames":t,n;h.customerLog("UIChangeTracker - iframeLoadSelector config defined. Listening to iframe load events for "+r,2);i?n=v:(c(document),n=a);f.foreachIframe(n,!0);f.onIframeLoad(function(t){t.iframeLoadListenerSet=!1;n(t)})}function c(t){r(t).find(o()).on("load.wmSpa",function(){i.triggerUIChange(n.UI_CHANGE_NOTIFIERS.IFRAME_LOAD_SELECTOR)})}function a(n){if(!n.iframeLoadListenerSet&&n.documentAccessible){var t=r(n.iframe.contentWindow.document);c(t);n.iframeLoadListenerSet=!0}}function o(){var t=u.getValue(n.UI_CHANGE_NOTIFIERS.IFRAME_LOAD_SELECTOR);return s.decodeHtml(t,["&",'"',"'"])}function v(t){t.iframeLoadListenerSet||(r(t.iframe).on("load.wmSpa",function(){i.triggerUIChange(n.UI_CHANGE_NOTIFIERS.IFRAME_LOAD_SELECTOR)}),t.iframeLoadListenerSet=!0)}var i,u,n,f,s,h,t=this,e=!1;t.ready=function(t,r,e,o,c,l){i=t;u=r;f=e;s=o;h=c;n=l};t.start=function(){void 0!=u.getValue(n.UI_CHANGE_NOTIFIERS.IFRAME_LOAD_SELECTOR)&&(l(),e=!0)};t.stop=function(){var n=o();n&&r(n).off("load.wmSpa");e=!1};t.isActivated=function(){return e};t.getSpaTypeName=function(){return"IFrame load"}}function urt(){function h(){s.customerLog("UIChangeTracker - clickSelector config defined. Listening to click events for "+n(),2);r(document).on("mousedown.wmSpa",n(),f);r(document).on("click.wmSpa",n(),f);r(document).on("mouseup.wmSpa",n(),f)}function n(){return o.getValue(i.UI_CHANGE_NOTIFIERS.CLICK_SELECTOR)}function f(){e.triggerThrottledUIChange(i.UI_CHANGE_NOTIFIERS.CLICK_SELECTOR)}var e,o,s,i,t=this,u=!1;t.ready=function(n,t,r,u){e=n;o=t;s=r;i=u};t.start=function(){n()&&(h(),u=!0)};t.stop=function(){n()&&(r(document).off("mousedown.wmSpa"),r(document).off("click.wmSpa"),r(document).off("mouseup.wmSpa"));u=!1};t.isActivated=function(){return u};t.getSpaTypeName=function(){return"Click"}}function frt(){function a(){c(r(document));u.foreachIframe(h,!0);u.onIframeLoad(function(n){n.userInputListenerSet=!1;h(n)})}function h(n){if(!n.userInputListenerSet&&n.documentAccessible){var t=r(n.iframe.contentWindow.document);c(t);n.userInputListenerSet=!0}}function c(t){t.on("click.wmUITrack",n);t.on("dblclick.wmUITrack",n);t.on("mousedown.wmUITrack",n);t.on("mouseup.wmUITrack",n);i.getValue("userInputHoverOff")||(t.on("hover.wmUITrack",n),t.on("mouseenter.wmUITrack",n),t.on("mouseleave.wmUITrack",n),t.on("mousemove.wmUITrack",n),t.on("mouseout.wmUITrack",n),t.on("mouseover.wmUITrack",n));t.on("keydown.wmUITrack",n);t.on("keypress.wmUITrack",n);t.on("keyup.wmUITrack",n)}function v(){f.customerLog("UIChangeTracker - Stopped listening to User Input",2);l(r(document))}function l(n){n.off("click.wmUITrack");n.off("dblclick.wmUITrack");n.off("mousedown.wmUITrack");n.off("mouseup.wmUITrack");i.getValue("userInputHoverOff")||(n.off("hover.wmUITrack"),n.off("mouseenter.wmUITrack"),n.off("mouseleave.wmUITrack"),n.off("mousemove.wmUITrack"),n.off("mouseout.wmUITrack"),n.off("mouseover.wmUITrack"));n.off("keydown.wmUITrack");n.off("keypress.wmUITrack");n.off("keyup.wmUITrack");n.find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){try{l(r(this.contentWindow.document));r(this).off("load.wmUITrack")}catch(n){f.customerLog("User input change tracker did not stop listening for all iframes.. This can occur for cross-domain iframes ",4)}})}function n(){s.triggerThrottledUIChange(e.UI_CHANGE_NOTIFIERS.USER_INPUT)}var s,i,u,f,e,t=this,o=!1;t.ready=function(n,t,r,o,h){s=n;i=t;u=r;f=o;e=h};t.start=function(){i.getValue(e.UI_CHANGE_NOTIFIERS.USER_INPUT)&&(a(),o=!0)};t.stop=function(){v();o=!1};t.isActivated=function(){return o};t.getSpaTypeName=function(){return"User input"}}function ert(){function w(){l(window);i.foreachIframe(a,!0);i.onIframeLoad(function(n){n.ajaxCallsListenerSet=!1;a(n)})}function l(n){n.XMLHttpRequest&&(o=n.XMLHttpRequest.prototype.send,s=n.XMLHttpRequest.prototype.open,b(n.XMLHttpRequest))}function b(n){var r=n.prototype.send,u=n.prototype.open,i;n.prototype.open=function(n,t){return this._wmUrl=t,u.apply(this,arguments)};i=function(){var n=this;h.setWalkmeTimeout(function(){var i=n.onreadystatechange;n.onreadystatechange=function(){i&&i.apply(n,arguments);c.filter(n._wmUrl)&&t.handler()}},0);r.apply(this,arguments)};n.prototype.send=i}function a(n){!n.ajaxCallsListenerSet&&n.documentAccessible&&(l(n.iframe.contentWindow),n.ajaxCallsListenerSet=!0)}function k(){u.customerLog("UIChangeTracker - Stopped listening to Ajax calls",2);v(window);y(r(document))}function v(n){n.XMLHttpRequest&&(n.XMLHttpRequest.prototype.send=o,n.XMLHttpRequest.prototype.open=s)}function y(n){n.find("iframe:not(.walkme-editor-popup):not(#walkme-hidden-iframe),frame").each(function(){try{v(this.contentWindow);y(r(this.contentWindow.document));r(this).off("load.wmAjaxResposive")}catch(n){u.customerLog("Ajax calls were not overridden for all iframes. (ajax calls ui tracker). This can occur for cross-domain iframes ",4)}})}var p,i,o,s,h,u,c,t,n=this,e=!1;n.ready=function(n,t,r,f,e){p=n;i=t;h=r;u=f;c=e};n.start=function(){t=f.get("SPAAjaxConfig");t.active&&(w(),e=!0)};n.stop=function(){k();e=!1};n.isActivated=function(){return e};n.getSpaTypeName=function(){return t.name}}function ort(n,t){var i=this;i.filter=function(i){var r,u;return i?(r=n.get(),0===i.indexOf(r))?!1:(u=t.get(),0===i.indexOf(u))?!1:!0:!0}}function srt(n,t){function r(i){return t.getValue(n.get(),"Settings.spaConfig."+i)}var i=this;i.getValue=r}function hrt(n,t,i,r,u){return n.getValue(u.UI_CHANGE_NOTIFIERS.HASH_ON_AJAX_CALLS)?t:n.getValue(u.UI_CHANGE_NOTIFIERS.AJAX_CALLS)?i:r}function crt(n,t){function f(){i=n.location.hash;r=t.wrapCustomerLog("HashChecker")}function e(){var t=i!=n.location.hash;return t?(r("Hash has changed. Previous hash: "+i+". New hash: "+n.location.hash,3),i=n.location.hash):r("Hash has't changed",3),t}var i,r,u=this;u.hashChanged=e;f()}function lrt(n,t,i){function r(){n.hashChanged()&&t.triggerUIChange(i.UI_CHANGE_NOTIFIERS.HASH_ON_AJAX_CALLS)}this.name="Hash on Ajax Calls";this.handler=r;this.active=!0}function art(n,t){function i(){n.triggerThrottledUIChange(t.UI_CHANGE_NOTIFIERS.AJAX_CALLS)}this.name="Ajax Calls";this.handler=i;this.active=!0}function vrt(n){function t(){n.customerLog("That's a dummy ajax calls handler. If you see it, please check your configuration")}this.name="Dummy ajax handler";this.handler=t;this.active=!1}function yrt(){function a(){u=!1;e.remapTopIframes();f.callListeners()}function v(){return parseInt(o.getValue(l))||c}var s,i,f,n,t,h,e,o,r=this,c=300,l="redrawTimeout",u=!1;r.ready=function(n,r,u,c,l,a,v){s=n;i=r;f=u;t=l.wrapCustomerLog(li);h=c;e=a;o=v};r.redrawElements=function(){var r=function(){if(u)return void t("UIChangeTracker - Canceling uiChange, already waiting for redraw",4);t("UIChangeTracker - UI change triggered",2);u=!0;var r=v();t("UIChangeTracker - redrawing in "+r,4);n&&(n.clear(),n=void 0);n=i.libSetTimeout(a,r)};i.libSetTimeout(r,0)};r.getRedrawerName=function(){return"ElementsRedrawer"}}function prt(n,t,i,r,u,f,e,o,s,h,c){function d(){y=c.element;v=c.balloonDrawer;p=c.settings;a=y.offset()}function g(n,i,r,u,f){var o,h=f[0],e=n,s=t.getElementViewport(n),c=l.calculateScrollMargins(n,r),y=a.top<u.offset().top||a.top+n.height()<u.offset().top+u.height(),p=s.top()-0+s.height()-0,v;return!r||1!=i&&3!=i?y?(o=p-c.bottom<=a.top+n.height()+u.height()+h.height()?"down":"up",e="down"==o?u:n):(o=s.top()+c.top>=a.top-u.height()-h.height()?"up":"down",e="down"==o?n:u):e=n.outerHeight()>u.height()?n:u,v=k(n.height(),u.height(),i,h.height(),s.height()-0),v&&(e=u),e}function nt(n,t,i,r,u){var f=l.calculateScrollMargins(n,r);l.isElementVisibleBeforeScroll(n,f,i)||w(n,r,!0,o.isInIframe(t));u&&u()}function tt(n,t,u,f,e,o){function s(r){var h={duration:"slow",rootElement:r,elementToFindScrollableFor:t,complete:function(){o&&o()},heightLimit:!i.isFeatureEnabled("noHgtLmt")},s;return u&&(s=e.height(),h.endScroll={scrollOptions:u,balloonHeight:rt(t,f,s),totalDrawnHeight:it(t,f,s)}),n.scrollintoview(h)}return r.isQuirksMode(y[0])?!1:s("html")?!0:l.isElementVisibleBeforeScroll(t,l.calculateScrollMargins(t,u),f)?!1:s("body")}function w(n,t,i,r){t&&!r?window.scrollTo(0,n.offset().top-b(n,t)):h.doNormalScroll(n,i,t)}function b(n,i){return"px"==i.unit?i.distance:t.getElementViewport(n).height()*i.distance/100}function it(i,r,u){var f=i.outerHeight(),e=t.getElementViewport(i).height()-0;return k(f,u,r,v.arrowHeight(),e)?u:0==r||2==r?f+u+v.arrowHeight()+1-parseInt(n.getSettingsValue(p,"topOffset",0)):Math.max(f,u)}function rt(t,i,r){var f=t.height(),u=parseInt(n.getSettingsValue(p,"topOffset",0));return 0==i?r+v.arrowHeight()+1-u:2==i?f+r+v.arrowHeight()+1-u:r>f?r-u:(f-r)/2+r-u}function k(n,t,i,r,u){return 0==i||2==i?n+t+r>u:n>u}var y,a,v,p,l=this;l.scrollToElementIfNeeded=function(t,i,r,f,s,h,c,a){try{var v,w=h==e.SCROLL_MODES.Animated&&!o.isInIframe(t)&&1!=n.getSettingsValue(f,"scrollOld","0"),p=!1,y=l.getScrollOptions(f);if(w){v=g(t,s,y,c,a);try{tt(v,t,y,s,c,r)&&(p=!0)}catch(b){}}p&&h!=e.SCROLL_MODES.Normal||(v=t,nt(v,t,s,y,r))}catch(b){u.error(b)}};l.getScrollOptions=function(t){var i=n.getSettingsValue(t,"endScroll",-1);if(i>=0)return{distance:parseInt(i,10),unit:n.getSettingsValue(t,"scrollUnit","%"),force:n.getSettingsValue(t,"forceScroll",0)}};l.scrollToBalloon=function(n,t,i){var u=l.calculateScrollMargins(n,t),r;s.isElementInViewport(i,u)||(r=n.offset().top>i.offset().top,w(i,t,r))};this.calculateScrollMargins=function(n,t){if(t&&t.force){var i=b(n,t);return{top:i,bottom:0}}return f.DEFAULT_POSITIONS};l.isElementVisibleBeforeScroll=function(n,t,i){return s.isElementInViewport(n,t)&&e.isBalloonPositionVisibleRelativeToParents(n,i)};d.apply(null,arguments)}function wrt(n){function i(){}var t=this;t.doNormalScroll=function(t,i){var u,f,e;t[0].scrollIntoView(i);u="hidden"===r("html").css("overflow");f="hidden"===r("body").css("overflow");(n.isQuirksMode(t[0])||u||f)&&(e=r("html"),e[0].scrollIntoView())};i.apply(null,arguments)}function brt(n){function r(){return t||u(),t}function u(){var i=n.get().enabled()?"PassOwnershipAutoStartHelper":"RegularAutoStartHelper";t=f.get(i)}var i=this,t;i.get=r}function krt(n,t,i,r,u){function s(){f=void 0;e=void 0}function h(t,i,r){return t!=n.Tutorial?!0:c(i,r)}function c(n,r){var f=t.getWalkthruIndexByWalkthruId(n.Id),e=i.checkTutorialSkipFirstStepCondition(f),s=i.checkTutorialRedirectCondition(f,!1),h=n.IsWelcomeStep,o=l();return!(o.state==u.WALKTHRU_STATE.RUNNING&&o.step==e)&&a(o,r)&&(s&&h||i.checkIfStepExistsWithSkippables(f,e,void 0,void 0,void 0,u.CHECK_STEP_MODE.Sandbox,"- Check if Exists with Skippables")>=e&&!s)}function l(){return f||(f=r.get()),f}function a(n,t){return void 0!=e?e:e=n.state==u.WALKTHRU_STATE.PAUSED||n.state==u.WALKTHRU_STATE.NOT_RUNNING||!t&&i.checkIfStepExistsWithSkippables(n.tutorial,n.step,void 0,void 0,void 0,u.CHECK_STEP_MODE.Sandbox,"- Engagement")<0}var o=this,f,e;o.clearCache=s;o.checkShouldAutoStart=h}function drt(n,t,i,r,u,f){function s(n,i,r){var f=h(n),e,s;return void 0!=f&&(e=c(n,i),s=u.get().isConditionMet(!0,e,f),!s)?(o(u.get().isOwnerByDefault()?"AutoStartHelper - not top window, not starting":"AutoStartHelper - condition not met, not starting"),!1):t.checkShouldAutoStart(n,i,r)}function h(t){var r=void 0;return t==i.Tutorial?r=n.PASS_OWNERSHIP.PassOwnershipEntity.Walkthru:t==i.BusinessSolution&&(r=n.PASS_OWNERSHIP.PassOwnershipEntity.BizFlow),r}function c(n,t){return n==i.Tutorial?{walkthruId:t.Id,step:t.Steps[0]}:{flowId:t.Flow.Id,node:f.getNodeById(t.Flow.Id,t.Flow.RootFlowNodeId)}}var e=this,o;e.clearCache=t.clearCache;e.checkShouldAutoStart=s;o=r.wrapCustomerLog(ht)}function grt(n,t,i,r,u,f,e,o,s,h,l,a,v,y,p,w,b,k,d){function et(){s.registerProfilerCallback(function(n){it.run=n.profile("runAutoStart",it.run)})}function rt(n,t,i){if(!ct(t))return g("Deployable doesn't support auto start: "+t.Name,4),!1;var r=st(t,i);return r.forceStart?(g("Deployable can auto start (remind me later): "+t.Name,4),r.startResult):r.canStart?ot(n,t,i):!1}function ot(n,t,i){if(n.autoStartEnabled(t.Id)){var r=at(i,t);if(r.shouldStart)return g("Deployable can auto start (storage): "+t.Name,4),r}return!1}function st(t,i){var r={forceStart:!1,canStart:!1},o=i?i+"-":"",f=l.STORAGE_KEYS.remindMeLater+"-"+o+t.Id,e=n.getData(f,void 0,void 0,void 0),u;return e?(u=c(e),u.expiry&&u.expiry<Date.now()&&(r.forceStart=!0,r.startResult={shouldStart:!0,repeatCookieExpiry:-1,store:function(){n.removeData(f)}})):r.canStart=!0,r}function ct(n){return o.getSettingsValue(n.Settings,"ASEnabled",0)}function lt(n,t,i,r){var f=o.getSettingsValue(i.Settings,"ASCTEnabled",0),u;if(1!=f)return g("Non-conditional autostart, trying to auto start "+i.Name,3),ft(t,i,r);if(g("Autostart is enabled for deployable: "+i.Name,3),u=b.get(t,i,"ASCT"),""!=u)try{vt(n,t,i,r,u)}catch(e){}}function at(n,t){var r=wt(n,t),i=o.getSettingsValue(t.Settings,"ASRep","visit");return""===i&&(i="visit"),it.checkRepeatCookie(r,i)}function vt(n,t,i,r,u){var e=w.get(t,i),f=k.createConditionChecker(u,e);yt(t,i,r,u,f);pt(n,t,i,r,u,f)}function yt(n,t,i,r,u){var f=u.getCurrentEvaluationValueAndStopEvaluating(r);ut(f,n,t,i,i,u)}function pt(n,t,i,r,u,f){var e=!0;f.onEvaluated(function(u){var o=rt(n,i,t);o&&ut(u,t,i,o,r,f,e)});f.evaluateAsyncAndDontEvaluateImmediately(u)}function wt(n,t){var i=f.keysConfig.autoStart.repeat.key;return 0==n?i+"-"+t.Id:i+"-"+n+"-"+t.Id}function bt(n,t,r){return i.get().checkShouldAutoStart(n,t,r)}function ut(n,t,i,r,u,f,e){n?(g("Autostart condition met, trying to auto start: "+i.Name,3),kt(t,i,r,u,f,e)):g("Condition didn't meet, not starting deployable: "+i.Name,3);a.deprecatedRaiseEvent(l.EVENTS.AutoStart.ConditionEvaluated,i,{result:n})}function kt(n,t,r,f,e,o){function s(){i.get().clearCache();var u=ft(n,t,r,o);u&&f.repeatCookieExpiry!=-1&&e.cleanResources()}n==u.Tutorial?v.afterStepsLoaded(t.TutorialId,s):s()}function ft(n,t,i,r){function f(r,u){d.unbind(l.EVENTS.AutoStart.Activated,f);u.deployableType==n&&u.deployable==t&&i.store()}if(d.bind(l.EVENTS.AutoStart.Activated,f),bt(n,t,r)){var u=parseFloat(o.getSettingsValue(t.Settings,"Delay",0));return u?e.libSetTimeout(function(){p.deployableCanAutoplay(n,t)},1e3*u):p.deployableCanAutoplay(n,t),!0}return p.deployableCannotAutoplay(n,t),!1}var it=this,g=t.wrapCustomerLog(ht);this.run=function(){p.deployablesChecksStarting();g("Trying to find a deployable that can auto start",1);i.get().clearCache();h.wrapSession(function(){var n=function(n,t,i){var r=rt(n,i,t);r?lt(n,t,i,r):p.deployableCannotAutoplay(t,i)};y.iterate(n)})};this.checkRepeatCookie=function(i,r,u){var e={shouldStart:!0,repeatCookieExpiry:-1},h=u?f:n,s,c;return"always"==r||("visit"==r&&(i+="-v"),s=1,c=h.getData(i,void 0,void 0,s),c==s?e.shouldStart=!1:o.isNumber(r)?e.repeatCookieExpiry=r:"visit"==r?e.repeatCookieExpiry=nt:"once"==r?e.repeatCookieExpiry=tt:t.error(new Error("checkRepeatCookie bad value: "+r))),e.store=function(){e.repeatCookieExpiry>=0&&h.saveData(i,1,e.repeatCookieExpiry)},e};et.apply(null,arguments)}function nut(n,t,i){function f(){r[n.ShoutOut]=t;r[n.Tutorial]=i;r[n.BusinessSolution]=i;r[n.Survey]=i}function e(n){return r[n]}var u=this,r;u.get=e;r=[];f()}function tut(n,t,i,r){function e(){u=r.wrapCustomerLog(ht)}function o(r,f){u("Autostarting: "+f.Name,3);t.raiseEvent(n.EVENTS.AutoStart.Activated,{deployableType:r,deployable:f});i.get(r).activateById(f.Id,{type:n.STEP_PLAY_INITIATOR_ENUM.AUTOSTART})}var f=this,u;f.run=o;e()}function iut(n,t){function u(n,t){i.push({deployableType:n,deployable:t});f()}function f(){t.isSomeoneRunning().then(e).fail(function(){var t=i.shift();n.run(t.deployableType,t.deployable)})}function e(){i=[]}var r=this,i;r.run=u;i=[]}function rut(n){function i(){function i(){var n=u.shift();if(!n)return void t.reject();n.isRunning().then(t.resolve,i)}var t=r.Deferred(),u=n.getRunningStateServices();return i(),t.promise()}function u(){for(var i=n.getRunningStateServices(),t=0;t<i.length;t++)i[t].cleanResources&&i[t].cleanResources()}var t=this;t.isSomeoneRunning=i;t.cleanResources=u}function uut(n,t){function s(){o();e(!0)}function e(t){for(var r,f,o,e=t?n.bind:n.unbind,i=0;i<u.length;i++)for(r=u[i],f=0;f<r.eventNames.length;f++)o=r.eventNames[f],e(o,r.method)}function o(){i=r.Deferred();i.reject()}function h(){i=r.Deferred()}function c(){i.resolve()}function l(){i.reject()}function a(){return i.promise()}function v(){e(!1)}var f=this,i,u;f.isRunning=a;f.cleanResources=v;u=[{eventNames:t.resetEvents,method:o},{eventNames:t.startingEvents,method:h},{eventNames:t.resolvingEvents,method:c},{eventNames:t.rejectingEvents,method:l}];s()}function fut(n,t,i){function f(){var f,u=n.get();return f=!(u.state==i.WALKTHRU_STATE.PAUSED||u.state==i.WALKTHRU_STATE.NOT_RUNNING||t.checkIfStepExistsWithSkippables(u.tutorial,u.step,void 0,void 0,void 0,i.CHECK_STEP_MODE.Sandbox,"- Engagement")<0),f?r.when():r.Deferred().reject()}var u=this;u.isRunning=f}function eut(n,t,i){function u(){var r=n.getPersistenceData();return i.state==t.WALKTHRU_STATE.PAUSED&&(r.state=i.state),r}var r=this;r.get=u}function out(n){function i(t,i){n.get(t).run(t,i)}var t=this;t.deployableCanAutoplay=i;t.deployableCannotAutoplay=function(){};t.deployablesChecksStarting=function(){}}function sut(){function t(n,t){return{trackUIChange:!0,stopPollingAfterEvaluateTrue:!1,evaluationPollingIntervalMs:2e3,onlyPollConditionFunctions:!0,featureName:ht,elementName:t.Name}}var n=this;n.get=t}function hut(n,t,i,r){function f(){return[n.ShoutOut,n.BusinessSolution,n.Tutorial,n.Survey]}function e(){return[t,i,r]}var u=this;u.getDeployableTypes=f;u.getRunningStateServices=e}function cut(n,t,i){function f(n){for(var s,i=0;i<r.length;i++)for(var f=r[i],e=t.get(f),o=e.getAll(),u=0;u<o.length;u++)s=o[u],n(e,f,s)}var u=this,r;u.iterate=f;r=i.getDeployableTypes()}function lut(n,t,i,r){function f(n){var u=e(),i=u.exec(n);if(i&&i.length>1){var f=i[2]||i[1],s=i[2]?i[1]:t.Tutorial,r={type:parseInt(s,10),id:parseInt(f,10)};if(o(r))return r}}function e(){var n=r.get();return n.IsDisplayPoweredBy===i.IS_DISPLAY_POWERED_BY.Hide?/(?:walkme|walkthroughid)=([0-9]+)-?([0-9]*)/:/walkme=([0-9]+)-?([0-9]*)/}function o(t){var i=n.get(t.type),r;if(i)return(r=i.getById(t.id),!r)?void 0:!0}var u=this;u.getByString=f}function aut(n,t,i,u,e,o,s,h,c){function y(){return!n.get().enabled()||n.get().isOwnerByDefault()}function p(t,i){var r=1e3*parseFloat(e.getSettingsValue(t.Settings,"Delay",0)),u=i&&n.get().enabled()?2*n.get().crossDomainSampleRate():1;return Math.max(r,u)}function w(){return a}var a,l=this,v;l.window=window;l.isTrainingInStartingMode=w;v=[u.Tutorial,u.BusinessSolution];l.run=function(){var n;if(y()&&(n=c.getByString(f.create("PermalinkString",l.window)),n)){var i=r.inArray(n.type,v)!=-1,u=t.get(n.type),e=u.getById(n.id),w=p(e,i);h.libSetTimeout(function(){s.raiseEvent(o.EVENTS.PermalinkClicked);u.activateById(n.id,{type:o.STEP_PLAY_INITIATOR_ENUM.PERMALINK});i&&(a=!1)},w);i&&(a=!0)}}}function et(){function i(t){n=t}var n,t=this;t.set=function(t){n=t};t.get=function(){return n};i.apply(t,arguments)}function vut(n){function r(){t=n.SOURCES.production}function u(i){var r=n.SOURCES[i];t=void 0!=r?r:parseInt(i)}function f(){return t}var i=this,t;i.set=u;i.get=f;r()}function yut(n){var t=this;t.isFeatureEnabled=function(t){var i=n.get();return"undefined"!=i.Features&&i.Features?i.Features.indexOf(t)>-1:!1};t.isReady=function(){var t=n.get();return t&&0!==t.length}}function put(n,t,i,r,u){function a(){var t=i.getData(s);if(t==h&&(t=f),!t&&t!==f&&n.walkme_get_language)try{t=n.walkme_get_language()}catch(r){}return!t||!c(t,o)?f:t}function y(n){var t=a();return t===f&&(t=h),t===n}function p(n,t){var i=n.url;return t&&c(t,n.languages)&&(i=i.substring(0,i.length-3),i=i+"_"+t+".js"),i}function c(n,t){for(var i=0;i<t.length;i++)if(t[i].shortName==n)return!0;return!1}var e=this,s=i.keysConfig.language.current.key,v=i.keysConfig.language.current.expiry,h="_default_",f="",o=[],l=[];e.setLanguages=function(n){var e,y,c,a,v,t;for(o.length=l.length=0,e=i.getData(s),e==h&&(e=f),y=!1,c=0;c<n.length;c++)for(a=n[c].languages,r.raiseEvent(u.EVENTS.BeforeLanguageSet,{languages:a}),v=0;v<a.length;v++)t=a[v],o.push(t),t.showInPlayer&&l.push(t),t.shortName===e&&(y=!0);y||i.removeData(s)};e.getMenuLanguages=function(){return l};e.getCurrentLanguage=function(){var n=a();return c(n,o)?n:f};e.changeLanguage=function(n){var t=n;return(n===f&&(t=h),y(t)||!c(n,o))?!1:(i.saveData(s,t,v),!0)};e.fixLanguageUrlInDataFiles=function(n,t){for(var r,u=a(),i=0;i<n.length;i++)r=n[i],r.url=p(r,u,t);return n}}function wut(){function o(t){var i=r.inArray(t,n);i>-1&&n.splice(i,1)}function u(n){t||(t=h());t.css({zIndex:n.zIndex,backgroundColor:n.color||"#000",opacity:n.opacity||.7})}function f(n){u(n);t.insertBefore(n.element)}function e(n,t){return n.zIndex>t.zIndex||n.zIndex==t.zIndex&&n.index>t.index}function s(){if(n.length){for(var i=n[0],t=1;t<n.length;t++)e(n[t],i)&&(i=n[t]);return i}}function h(){return r('<div id="walkme-overlay-all" style="position: fixed; height: 100%; width: 100%; top: 0; left: 0;"/>')}var t,i,n=[];this.create=function(h,c,l){var a={element:h,color:l,opacity:c};return{remove:function(){o(a);a==i&&(i=s(),i?f(i):(t.remove(),t=null))},show:function(){a.zIndex=h[0].style.zIndex;a.index=h.index();r.inArray(a,n)<0&&n.push(a);i&&i!=a&&!e(a,i)||(i=a,f(a))},getOverlayElement:function(){return t||u(a),t}}}}function but(n,t,i,r,u){function l(){}var f,e,o,s,h=this,c=1e4;h.init=function(){f=n.get();e=u.getEndUserGuid();o=t.get();s=o+"/EndUserStorage/Get"};h.get=function(n,t,u,o){var h={walkmeUserGuid:n,source:f,endUserGuid:e,secondsSinceUpdate:t};r.execute({url:s,data:h,success:function(r){r.Data.ErrorMessage?(i.error(null,"ServerStorageAjaxCaller: Couldn't fetch for user guid: "+n+", source: "+f+", end user: "+e+", seconds since update: "+t+". Error: "+r.Data.ErrorMessage+"."),o&&o()):u(r.Data)},error:function(r,u){i.error(null,"ServerStorageAjaxCaller: Couldn't fetch for user guid: "+n+", source: "+f+", end user: "+e+", seconds since update: "+t+". Error: "+u+".");o&&o()},timeout:c})};l.apply(null,arguments)}function kut(n,t,i,u,f,e,o,s,h){function et(){v=i;k=!1;l.keysConfig=u.keysConfig}function ot(){var n=u.getData(y.key,null,a),t=u.getData(p.key,null,a);return!g&&(n!=w||t!=b)}function st(){for(var i,n=u.getInternalKeys(a),t=0;t<ut.length;t++)r.each(n,function(i){0==i.indexOf(ut[t])&&delete n[i]});for(i in n)n.hasOwnProperty(i)&&u.removeData(i,a)}function ht(){u.saveData(y.key,w,y.expiry,a);u.saveData(p.key,b,p.expiry,a)}function ct(n){var t=s.getStorageType(),i=t[u.keysConfig.serverStorage.invalidateIntervalKey.key]||ft;return null===n||i<=n}function lt(n,t,i,r){e.get(a,n,function(n){l.updateLocalStorage(n,t);d=0;i&&i()},function(){d=1;r&&r()})}function at(){return d}function it(t,i){var r=!1;return i>=n.TIME_PERIODS.OneHourSeconds&&(r=!0),r}var v,a,w,b,k,d,l=this,rt=!1,g=!0,ft=nt,y=u.keysConfig.serverStorage.currentEndUserGuid,p=u.keysConfig.serverStorage.currentEnvironment,tt=u.keysConfig.serverStorage.lastGetDataTime,ut=["wm-c-test","wm-dbg-cnf","wm-dbg","wm-ueug","wm-fgug","wm-gb","wm-load-testme","wm-prsst","wm-sf-lst-usr","wm-sf-users-data","wm-sat","wm-sst","wm-sk","wm-SrvSmt","wm-wtchd","wm-cond-win","wm-prf-stt","wm-prf-snk","wm-cdstop","wm-cdplay","wm-po-pc","wm-po-r","wm-po-q","wm-dt","wm-ne","wm-nx","wm_abg_","wm_ct_","wm-po-p",y.key,p.key,"wm-ftr-cnf","wm-ftr","wm-ltm","wm-ct-prv","wm-lg-act"];l.init=function(n,i){var r,s,c;if(k)return void(n&&n());k=!0;v.init();e.init();a=t.getUserGuid();w=h.getEndUserGuid();b=f.get();r=u.getData(tt.key,null,a);r&&(g=!1);ot()&&(st(),r=null);ht();s=o.getDateAtUTC();c=null==r?null:(s-r)/1e3;ct(c)?lt(c,s,n,i):n&&n()};l.updateLocalStorage=function(n,t){rt=!!g;l.updateLocalStorageItems(n);u.saveData(tt.key,t,tt.expiry,a)};l.updateLocalStorageItems=function(n){for(var t,i=0;i<n.length;i++)t=n[i],t.IsDeleted?u.removeData(t.Key,a):u.saveData(t.Key,c(t.Value),t.SecondsToExpiry,a)};l.shouldUpdateOldKeys=function(){return rt};l.getStorageType=function(){var n=u.getStorageType();return n.mode="server",n};l.refreshGetData=u.refreshGetData;l.saveData=function(n,t,i,r){void 0==r&&(r=a);it(n,i,r)&&v.update(n,t,i,r);u.saveData(n,t,i,r)};l.getData=function(n,t,i,r){return void 0!==r&&at(i)&&(t=r),u.getData(n,t,i)};l.addToDictionary=function(n,t,i,r,f){it(n,r,f)&&v.updatePropertyInObject(n,t,i,r,f||a);u.addToDictionary(n,t,i,r,f)};l.addToSet=function(n,t,i,r){void 0==r&&(r=a);it(n,i,r)&&v.addToSet(n,t,i,r);u.addToSet(n,t,i,r)};l.removeData=function(n,t){void 0==t&&(t=a);v.remove(n,t);u.removeData(n,t)};l.addToQueue=u.addToQueue;l.convertOldCookieStorage=u.convertOldCookieStorage;l.increment=u.increment;l.getInternalKeys=u.getInternalKeys;l.removeAllData=u.removeAllData;l.sessionSetData=u.sessionSetData;l.sessionGetData=u.sessionGetData;l.setSyncFlag=u.setSyncFlag;et.apply(null,arguments)}function dut(n,t,i,r,u,f){function p(){a=i.register("up",{actionUrl:"/EndUserStorage/UpdatePropertyInObject",prefixForStorage:"up",sendingThreshold:1,dataType:"end user storage",requestParamsFunc:e.updateRequestParamsFunc,shouldTruncateData:!1});v=i.register("as",{actionUrl:"/EndUserStorage/AddToSet",prefixForStorage:"as",sendingThreshold:1,dataType:"end user storage",requestParamsFunc:e.updateRequestParamsFunc,shouldTruncateData:!1});c=i.register("us",{actionUrl:"/EndUserStorage/Update",prefixForStorage:"us",sendingThreshold:1,dataType:"end user storage",requestParamsFunc:e.updateRequestParamsFunc,shouldTruncateData:!1});l=i.register("rs",{actionUrl:"/EndUserStorage/Remove",prefixForStorage:"rs",sendingThreshold:1,dataType:"end user storage",requestParamsFunc:e.removeRequestParamsFunc,shouldTruncateData:!1})}function y(t,i,r){return{Key:t,Value:n.toJSON(i),Expiry:r}}var o,s,h,c,a,v,l,e=this;e.init=function(){o=f.getUserGuid();s=u.getEndUserGuid();h=t.get()};e.updatePropertyInObject=function(n,t,i,r,u){o=u||o;var f={Key:n,FieldKey:t,FieldValue:i,Expiry:r};a.sendData(f)};e.addToSet=function(n,t,i,r){o=r||o;v.sendData(y(n,t,i))};e.update=function(n,t,i,r){o=r||o;c.sendData(y(n,t,i))};e.remove=function(n,t){o=t||o;l.sendData({Key:n})};e.getUpdateTypedDataSender=function(){return c};e.getRemoveTypedDataSender=function(){return l};e.updateRequestParamsFunc=function(t){return{walkmeUserGuid:o,source:h,endUserGuid:s,keyValueExpiryListSerialized:n.toJSON(t)}};e.removeRequestParamsFunc=function(t){return{walkmeUserGuid:o,source:h,endUserGuid:s,keyListSerialized:n.toJSON(t)}};p.apply(null,arguments)}function gut(n,t,i,r){function h(){u=t.wrapCustomerLog("SettingsCacheBusterActivator")}function c(n){if(r&&l(n)){var t=new Date(n+1e3*f);a(t)}}function l(n){var t=((new Date).getTime()-n)/1e3,i=t<f;return u("SettingsCacheManager.shouldActivateSettingsCacheBuster - secondsSincePublish: "+t,5),i}function a(n){u(i.formatString("SettingsCacheManager - Will fetch newset settings file until {}",n),3);var t=n.getTime()-(new Date).getTime();t<=0||r.setItem("walkMe_"+e,o({val:"true",exp:(new Date).getTime()+t}))}var s=this,u,e,f;s.activeIfPublishedRecently=c;e="wm-settings-cache-bust";f=900;h.apply(null,arguments)}function nft(n,t,i,r,u,f,e,o,s){function y(){c=i.wrapCustomerLog("SettingsCacheManager")}function l(n){var i=t.getUrl()+"?"+n.queryStringParams;c("SettingsCacheManager - Fetching newest settings file from: "+i,3);u.execute({url:i,cache:!1,dataType:"jsonp",jsonpCallback:"fixedCallback",success:n.onSuccess,error:n.onFailure})}function p(n){(c("SettingsCacheManager.settingsFileReceived - publishDate: "+new Date(n.PublishDate),5),n.PublishDate)&&(e.activeIfPublishedRecently(n.PublishDate),w(n)&&(o.raiseEvent(h.EVENTS.SettingsFileNewPublish,{settingsData:n}),b()))}function w(n){var i=t.getSettingsFile().PublishDate!=n.PublishDate;return c("SettingsCacheManager.shouldActivateSettingsCacheBuster - isNewPublish: "+i,5),i}function b(){f.setWalkmeTimeout(function(){l({onFailure:a,queryStringParams:"b="+(new Date).getTime()})},v)}function a(n,t,i){c(r.formatString("SettingsCacheManager - Error fetching settings file. jqXHR: {0}, textStatus: {1}, errorThrown: {2}",n,t,i))}var c,v=1e3;this.start=function(){c("SettingsCacheManager.start - Check if need to fetch settings ",5);s?l({onSuccess:p,onFailure:a,queryStringParams:"forceUpdate="+(new Date).getTime()}):c("SettingsCacheManager - storage is not enabled , settings file will not be checked",3)};y.apply(null,arguments)}function tft(n,t,i,u,f,e,o){function k(){h=o.getUserGuid()}function d(t){var r,i;for(r in t)t.hasOwnProperty(r)&&(i=g(r,t),i.Key&&n.saveData(i.Key,i.Value,i.Expiry,h))}function g(n,t){var i,r={},u,f;return l[n]?i=l[n]:y[n]?i=it(n):(u=ut(n),u&&(f=u.KeyWithoutSuffix,a[f]?i=a[f]:v[f]&&(i=rt(u)))),i&&(r.Key=n,r.Value=t[n],r.Expiry=i),r}function it(n){var t=y[n],r=t.SettingsKey,u=t.PropertyForKey,f=i.getSettingsValue(e.get().Settings[r],u,void 0);return p(f)}function rt(n){var s=v[n.KeyWithoutSuffix],u=n.SuffixParts,f,r,c;if("v"==u[u.length-1])return nt;for(f=0;f<s.length;f++)if(r=s[f],r.Parts==u.length){var e,h=r.DeployableTypeIndex,l=void 0!==h?u[h]:r.DeployableType,a=t.get(parseInt(l)),o=a.getById(u[r.DeployableIdIndex]);return r.SubSettings?e=i.getSettingsValue(o.Settings,r.SubSettings,void 0):o&&(e=o.Settings),e&&(c=i.getSettingsValue(e,r.SettingsKey,void 0)),p(c)}}function p(n){var t;return i.isNumber(n)&&n>=nt?t=n:"once"==n&&(t=tt),t}function ut(n){var i,u,t=n.split(c),f,e;return t.length>1&&(e=t[0]+c+t[1],t.length>2&&(f=e+c+t[2]),r.inArray(f,b)>-1?(i=f,u=t.slice(3)):(i=e,u=t.slice(2))),{KeyWithoutSuffix:i,SuffixParts:u}}function ft(r){for(var a,s,v,c,y,o,p,b,f,k=t.get(0),w=k.getAll(),e={},l=0;l<w.length;l++)for(a=w[l].Steps,s=0;s<a.length;s++)v=a[s],u.isActionStep(v)&&(c=i.getSettingsValue(v.Settings,"action",null),c&&"setWalkMeData"==c.actionType&&(y=c.arguments,f=y.dataKey,r[f]&&(o=y.dataDuration,o>=nt&&(e[f]?o>e[f].Expiry&&(e[f].Expiry=o):(p=r[f],void 0!==p&&(b={Value:p,Expiry:o},e[f]=b))))));for(f in e)e.hasOwnProperty(f)&&n.saveData(f,e[f].Value,parseInt(e[f].Expiry),h)}var h,w=this,s=f.get(),l=s.fixedKeys,a=s.keyNamesWithSuffixes,v=s.repeatKeysWithRelatedObject,y=s.keysWithRepeat,c="-",b=s.keysWithThreeParts;w.convertData=function(){if(n.shouldUpdateOldKeys&&n.shouldUpdateOldKeys()){var t=n.getInternalKeys(h);d(t);ft(t)}};k.apply(null,arguments)}function ift(n){function i(){return{fixedKeys:{"wm-lang":yi,"wm-ldv":tt,"wm-ag-rep-v":nt,"wm-ag-d":tt},keyNamesWithSuffixes:{"wm-stpcond":tt},repeatKeysWithRelatedObject:{"wm-ASRep":[{Parts:1,DeployableIdIndex:0,SettingsKey:"ASRep",DeployableType:n.DEPLOYABLE_TYPE.Tutorial},{Parts:2,DeployableTypeIndex:0,DeployableIdIndex:1,SettingsKey:"ASRep"}],"wm-SrvWtRep":[{Parts:2,DeployableIdIndex:0,SubSettings:"survey",SettingsKey:"repeat",DeployableType:n.DEPLOYABLE_TYPE.Tutorial}],"wm-SrvRep":[{Parts:1,DeployableIdIndex:0,SettingsKey:"repeat",DeployableType:n.DEPLOYABLE_TYPE.Survey}]},keysWithRepeat:{"wm-ag-rep":{SettingsKey:"AG",PropertyForKey:"repeat"}},keysWithThreeParts:["wm-ag-rep"]}}var t=this;t.get=i}function rft(n,t,i){function u(){}var r=this;r.init=function(u){function o(n){i.addTimeStamp("loadWalkmeConfigEnd");window._walkmeInternals.walkmeConfig=n;r.Data=n;u&&u()}var e=t.getSettingsFile(),f=e.WalkMeConfigFile;f?(i.addTimeStamp("loadWalkmeConfigStart"),n.loadTextFile(f,"WalkMeConfigCallback",o,void 0,!0)):u&&u()};u.apply(null,arguments)}function uft(n,t,i,u){function h(){}function c(n,i){var s,u,f;return(i=i||{},n.Actions&&(s=r.grep(n.Actions,function(n){return o(n)})[0]))&&(u=e[s.Type],u&&(i.Type=u.eventType,f=s.Args,f&&f[u.idField]&&(i.ItemId=f[u.idField].toString(),i.Name=t.getDeployableName(u.deployableType,i.ItemId),i.aAppType=u.aAppType))),i}function l(n){var i=n.Actions,t,r;if(i)for(t=0;t<i.length;t++)if(r=i[t],o(r)&&r.Type!=s)return!0;return!1}function o(t){return u.get(t.Type).Type==n.DEPLOYABLE_ACTION_TYPES.Action}var f=this,s="none",e={};e={playWt:{idField:"wtId",deployableType:n.DEPLOYABLE_TYPE.Tutorial,eventType:n.EVENT_SENDER_ACTIONS.PlayWalkthru,aAppType:n.EVENT_SENDER_EVENT_APPS.Walkthru},playContent:{idField:"contentId",deployableType:n.DEPLOYABLE_TYPE.Content,eventType:n.EVENT_SENDER_ACTIONS.PlayResource,aAppType:n.EVENT_SENDER_EVENT_APPS.Content},playShuttle:{idField:"shuttleId",deployableType:n.DEPLOYABLE_TYPE.Shuttle,eventType:n.EVENT_SENDER_ACTIONS.PlayShuttle,aAppType:n.EVENT_SENDER_EVENT_APPS.Shuttle},openMenu:{eventType:n.EVENT_SENDER_ACTIONS.OpenMenu},none:{eventType:n.EVENT_SENDER_ACTIONS.None},playBf:{idField:"bfId",deployableType:n.DEPLOYABLE_TYPE.BusinessSolution,eventType:n.EVENT_SENDER_ACTIONS.PlayBizFlow,aAppType:n.EVENT_SENDER_EVENT_APPS.BizFlow}};f.fillActionData=c;f.isWithAction=l;h.apply(null,arguments)}function fft(n,t){function f(){}function e(n,i){var f,o,r,e;return(i=i||{},null==n)?i:(f=n.Settings,f&&f.action&&(o=f.action,r=u[o.actionType],r&&(i.Type=r.actionEntityType,e=o.arguments,e&&e[r.idField]&&(i.ItemId=e[r.idField].toString(),i.Name=t.getDeployableName(r.deployableType,i.ItemId),i.aAppType=r.aAppType))),i)}function o(n){var t=n.Settings,i;return t&&t.action&&(i=t.action.actionType,i&&i!=r)?!0:!1}var i=this,r="none",u={playWt:{idField:"wtId",deployableType:n.DEPLOYABLE_TYPE.Tutorial,actionEntityType:n.EVENT_SENDER_ACTIONS.PlayWalkthru,aAppType:n.EVENT_SENDER_EVENT_APPS.Walkthru},playContent:{idField:"contentId",deployableType:n.DEPLOYABLE_TYPE.Content,actionEntityType:n.EVENT_SENDER_ACTIONS.PlayResource,aAppType:n.EVENT_SENDER_EVENT_APPS.Content},playSurvey:{idField:"surveyId",deployableType:n.DEPLOYABLE_TYPE.Survey,actionEntityType:n.EVENT_SENDER_ACTIONS.PlaySurvey,aAppType:n.EVENT_SENDER_EVENT_APPS.Survey},playShuttle:{idField:"shuttleId",deployableType:n.DEPLOYABLE_TYPE.Shuttle,actionEntityType:n.EVENT_SENDER_ACTIONS.PlayShuttle,aAppType:n.EVENT_SENDER_EVENT_APPS.Shuttle},shoutOut:{idField:"id",deployableType:n.DEPLOYABLE_TYPE.ShoutOut,actionEntityType:n.EVENT_SENDER_ACTIONS.PlayShoutOut,aAppType:n.EVENT_SENDER_EVENT_APPS.ShoutOut},openMenu:{actionEntityType:n.EVENT_SENDER_ACTIONS.OpenMenu,aAppType:n.EVENT_SENDER_EVENT_APPS.None,aType:n.EVENT_SENDER_ACTIONS.OpenMenu},playBf:{idField:"bfId",deployableType:n.DEPLOYABLE_TYPE.BusinessSolution,actionEntityType:n.EVENT_SENDER_ACTIONS.PlayBizFlow,aAppType:n.EVENT_SENDER_EVENT_APPS.BizFlow},checkMyForm:{idField:"businessSolutionId",deployableType:n.DEPLOYABLE_TYPE.BusinessSolution,actionEntityType:n.EVENT_SENDER_ACTIONS.PlaySmartTipSet,aAppType:n.EVENT_SENDER_EVENT_APPS.SmartTipSet},openTeachMe:{actionEntityType:n.EVENT_SENDER_ACTIONS.OpenCoursesMenu,aAppType:n.EVENT_SENDER_EVENT_APPS.None,aType:n.EVENT_SENDER_ACTIONS.OpenCoursesMenu}};i.fillActionData=e;i.isWithAction=o;f.apply(null,arguments)}function eft(n){function i(){}function r(t,i){var r,u;if(null!=t&&null!=i)return(r=n.get(t),!r)?void 0:(u=r.getById(i),u)?u.Name:void 0}var t=this;t.getDeployableName=r;i.apply(null,arguments)}function ti(){var n=this;n.run=function(){}}function oft(n){function o(){e();s();h()}function s(){u=[]}function h(){t=n.onbeforeunload;n.onbeforeunload=f}function f(){if(c(),t)return t.apply(n,arguments)}function c(){function n(n,t){t()}r.each(u,n)}function l(n){u.push(n)}function e(){n.onbeforeunload===f&&(n.onbeforeunload=t)}var i=this,u,t;i.init=o;i.register=l;i.cleanResources=e}function sft(n,t,i,r,u){function h(){return s()||c(),e}function s(){return!!e}function c(){var o;o=t.isFeatureEnabled("po_frames")||t.isFeatureEnabled("passOwnership")?"FramedOwnershipManager":t.isFeatureEnabled("po_tabs")?"TabbedOwnershipManager":"PassOwnershipManager";f.entry(o).args({storageManager:i,errorHandler:n.error,userGuid:u.getUserGuid(),owner:window,isFeatureEnabled:t.isFeatureEnabled,allUserGuids:u.getAllUserGuids(),topWindow:top,isPlayMode:r.isInPlayMode()});e=f.get(o)}var o=this,e;o.isReady=s;o.get=h}function hft(n,t,i){function f(){r.isEnabled()&&(i.bind(s),r.updateCurrentPage())}function e(n){var t,i;if(r.isEnabled()&&(r.resetCollection(),n))for(t=0;t<n.length;t++)i=n[t],r.addSerializedPage(i.PageDescription,i.Id)}function o(){if(!r.isEnabled())return null;var n=r.captureCurrentPage();return t.toJSON(n)}function s(){r.isEnabled()&&r.updateCurrentPage()}var u=this,r;u.setPageIdentifiers=e;u.capture=o;r=n.getPageComparerCacheManagerEditorApi();f()}function cft(n,t){function o(){}function s(){f()}function h(){i&&(i.clear(),i=null)}function f(){c();i=t.setWalkmeTimeout(f,1e4)}function c(){var n,t,i;try{for(n in r.cache)t=r.cache[n],i=l(t),i&&delete r.cache[n]}catch(u){}}function l(n){try{if(n&&n.handle&&n.handle.elem)return e(n.handle.elem);if(n&&n.data&&n.data.iframe)return e(mtjQuery(n.data.iframe)[0])}catch(t){return!0}return!1}function e(n){var u=n.documentElement,i,t,r;return(u&&(n=n.documentElement),i=n.parentNode,!i)?!0:(t=n.ownerDocument,r=t.defaultView||t.parentWindow,r?void 0:!0)}var u=this,i;u.init=s;u.destroy=h;o()}function lft(n){return f.create("wmjQuerySafeProxy",{element:n})}function aft(){function n(n,t,i,r){this.wmjQuery=n;this.wmjQuerySafe=t;this.eventBinder=i;this._element=n(r.element)}function i(){try{return this._element[0].ownerDocument,!0}catch(n){return!1}}function r(){var n=this,t=this;return this.safeExecute(function(){t=n.wmjQuerySafe(n._element[0].ownerDocument)}),t}function u(n,t){var i=this;return this.safeExecute(function(){i.eventBinder.unbind(i._element,n,t)}),this}function t(n){return function(){var t=this,r=arguments,i=t;return t.safeExecute(function(){var u=t._element[n].apply(t._element,r);i=t.wmjQuerySafe(u)}),i}}return n.prototype.isSafe=i,n.prototype.getDocument=r,n.prototype.off=u,n.prototype.stop=t("stop"),n.prototype.remove=t("remove"),n.prototype.find=t("find"),n.prototype.show=t("show"),n.prototype.safeExecute=function(n){try{n()}catch(t){this._element=this.wmjQuery()}},n}function vft(n){function i(t){var r=n.getTopContainer(),i,u,f;return 0==r.length?!1:(i=mtjQuery(".walkme-popup-element",r),(i.length<=0||t)&&(u="walkme-popup-element",f="walkme-popup-element",t&&(u+="-"+i.length),i=mtjQuery(r[0].ownerDocument.createElement("div")),i.attr("id",u),i.attr("class",f),i.css("width","0px;"),i.css("height","0px;"),mtjQuery(r.append(i))),i)}var t=this;t.get=i}function yft(n,t,i){function e(){return f}function o(i){i=n.defaultValue(i,"No-User-Guid");t.inArray(i,r)==-1&&r.push(i);f=i}function s(){return i.getAllUserGuids()||r}var u=this,f,r;u.getUserGuid=e;u.setUserGuid=o;u.getAllUserGuids=s;f=null;r=[]}function pft(n,t){function u(){i={}}function f(){var r=n.get().Settings,u,f,e;if(r&&r.analyticsProperties)for(u=0;u<r.analyticsProperties.length;u++)f=r.analyticsProperties[u],e=t.get(f),i[f.name]=e}function e(n,r){var u=t.getPredefinedProvider(r);i[n]=u}function o(n){if(i[n])return i[n].get()}var r=this,i;r.setPredefinedPropertyValue=e;r.getPropertyValue=o;r.init=f;u.apply(this,arguments)}function wft(n,t,i){function e(){}function o(i){var e=s(i),r,o;return n.isFeatureEnabled(t.FEATURES.StickyCustomVars)?(r={calculateValueFunc:e},f.create("StickyValueProvider",r)):n.isFeatureEnabled(t.FEATURES.StrongStickyCustomVars)?(r={calculateValueFunc:e},f.create("StrongStickyValueProvider",r)):(o=e(),u(o))}function s(n){var t=i.get(n.calculationMethod),r=n.variable;return function(){return t.calculate(r)}}function u(n){var t={value:n};return f.create("PredefinedValueProvider",t)}var r=this;r.get=o;r.getPredefinedProvider=u;e.apply(this,arguments)}function bft(n){function f(n){i=n.calculateValueFunc;r()}function e(){return void 0===t&&r(),t}function r(){t=i()}var u=this,t,i;u.get=e;f.apply(this,[n])}function kft(n){function u(n){i=n.calculateValueFunc}function f(){return e(),t}function e(){t=i()}var r=this,t,i;r.get=f;u.apply(this,[n])}function dft(n){function r(n){t=n.value}function u(){return t}var i=this,t;i.get=u;r.apply(this,[n])}function gft(){function t(n,t){n.css("position","absolute");n.css("z-index",t);n.addClass("SkipThisFixedPosition")}var n=this;n.setTopMostCssStyle=t}function net(n,t,i,r){function e(){}function o(f,e,o,h){var c=window,l,a;return(n.shouldHandlePageAsFramesets()&&(c=t.getBiggestFrame().contentWindow),r.isInFacebookCanvas())?s(f,e):(l={top:0,left:0},o&&(l.top+=o.top,l.left+=o.left),a=i.calculateOffset(f.parent()[0],c),l.top-=a.top,l.left-=a.left,u(f,e,mtjQuery(c).scrollLeft(),mtjQuery(c).scrollTop(),mtjQuery(c).width(),mtjQuery(c).height(),l,h))}function u(n,t,i,r,u,f,e,o){var e,s,h;((void 0==e||null==e)&&(e={top:0,left:0}),i>500&&(i=0),s=(f-mtjQuery(n).outerHeight())/2+r+e.top,h=(u-mtjQuery(n).outerWidth())/2+i+e.left,s=Math.round(s>0?s:0),h=Math.round(h>0?h:0),Math.abs(s-mtjQuery(n).offset().top)<2&&Math.abs(h-mtjQuery(n).offset().left)<2)||(s+="px",h+="px",mtjQuery(n).css({position:"absolute",margin:0}),t?(o=o?o:{duration:400},mtjQuery(n).animate({top:s,left:h},o)):mtjQuery(n).css({top:s,left:h}))}function s(n,t){FB.Canvas.getPageInfo(function(i){h(n,t,i)})}function h(n,t,i){u(n,t,i.scrollLeft,i.scrollTop,mtjQuery(window).width(),i.clientHeight)}var f=this;f.centerElementInPage=o;e()}function tet(n,t,i,u,f,o,s,h,c,l,a,v,y,p,w,b){function ii(){ot=r.expr.filters.mt_hidden;li()}function ri(n){var r=0,f=0,e=mtjQuery(n),s=e.offset(),t,i;return(r=s.top,f=s.left,o.isFeatureEnabled("iframepadding")&&e.is("iframe")&&(f+=parseFloat(e.css("padding-left")),r+=parseFloat(e.css("padding-top"))),n.ownerDocument)&&(t=ct(u.getBody(n.ownerDocument)),i=ct(n.ownerDocument.documentElement),r-=t.top==i.top?t.top:t.top+i.top,f-=t.left==i.left?t.left:t.left+i.left),{left:f,top:r}}function ct(n){return n?{top:n.scrollTop||0,left:n.scrollLeft||0}:{top:0,left:0}}function ui(n){var t=0,i=0;do"FRAME"==s.getElementTagName(n)?(t+=mtjQuery(n).offset().top,i+=mtjQuery(n).offset().left):(t+=n.offsetTop||0,i+=n.offsetLeft||0),n=n.offsetParent;while(n);return{left:i,top:t}}function fi(n,t){var i={};return n.left>t.right||t.left>n.right?null:n.bottom<t.top||t.bottom<n.top?null:(i.left=Math.max(n.left,t.left),i.right=Math.min(n.right,t.right),i.top=Math.max(n.top,t.top),i.bottom=Math.min(n.bottom,t.bottom),i.height=i.bottom-i.top,i.width=i.right-i.left,i)}function ei(n,t){var i=t.left,r=t.top;n.left+=i;n.right+=i;n.top+=r;n.bottom+=r}function oi(n,t){var i=h.getScrollOffset(t);n.left+=i.Left;n.right+=i.Left;n.top+=i.Top;n.bottom+=i.Top}function si(n){var t=s.getElementViewport(n);return{height:t.height(),width:t.width(),top:t.top(),left:t.left()}}function lt(n,t,i){var u,f,r;t.top=i.top;t.left=i.left;u=n.outerWidth();f=n.outerHeight();n.length>1&&(r=d.getMultipleElementsRect(n),u=r.right-r.left,f=r.bottom-r.top);t.height=f;t.width=u;t.bottom=t.top+t.height;t.right=t.left+t.width}function hi(n,t,i,r,u){d.removeScrollAndResizeEvents(r);var f=at(r);mtjQuery(n).bind(f,function(){t.stop(!1,!0);i=ci(i,r);u(t,i)})}function ci(n,t){var i={offset:n,eventName:t,defaultValue:n};return a.raiseEvent(f.EVENTS.Scrolls.ScrollFired,i),i.returnValue}function at(n){return n=n?n:"walkme",e("scroll.{0}, resize.{0}, scrollstop.{0}, orientationchange.{0}",n)}function li(){it("wm_hdn_st",function(n){var t=r(n);return t.is(":mt_hidden")||!ut&&!wt(t)});it("wm_vsb_st",function(n){return!r.expr.filters.wm_hdn_st(n)});it("wm_interact_any_point",function(n){return ft(n,tt.ANY_POINT)});it("wm_interact_all_points",function(n){return ft(n,tt.ALL_POINTS)})}function it(n,t){r.expr.filters[n]=t}function vt(n){if(yt(n))return!0;var t=!1;return n.parents().each(function(){if(yt(r(this)))return t=!0,!1}),t}function yt(n){if(0==n.css("opacity"))return!0;var t=n[0].filters;return t&&t.alpha&&0===t.alpha.opacity}function g(n){var t=r.expr.filters.mt_hidden;r.expr.filters.mt_hidden=function(i){return t(i)||n(r(i))}}function pt(n){g(n);var t=r.expr.filters.wm_vsb_st,i=r.expr.filters.wm_interact_any_point,u=r.expr.filters.wm_interact_all_points;r.expr.filters.wm_vsb_st=function(i){return t(i)&&!n(r(i))};r.expr.filters.wm_interact_any_point=function(t){return i(t)&&!n(r(t))};r.expr.filters.wm_interact_all_points=function(t){return u(t)&&!n(r(t))}}function wt(n){for(var i=n.parents().add(n),t=i.length-1;t>0;t--)if(ai(r(i[t]),r(i[t-1])))return!1;return!0}function ai(n,t){if("absolute"==n.css("position")||"hidden"!=t.css("overflow"))return!1;var o=rt(t,"border-top"),s=rt(t,"padding-top"),h=t.offset().top,i=o+s+h,c=t.height(),r=i+c,u=t.offset().left,l=u+t.width();if(i==r)return!0;var a=rt(n,"border-top"),v=rt(n,"padding-top"),y=n.offset().top,f=a+v+y,p=n.height(),w=f+p,e=n.offset().left,b=e+n.width(),k=w<i,d=f>r,g=b<u,nt=e>l;return k||d||g||nt}function ft(n,t){var o=n.ownerDocument,i=r(n),u=i.parents("html"),f=i.parents("body"),s=f.scrollTop()||u.scrollTop(),h=f.scrollLeft()||u.scrollLeft(),e={element:i,html:u,topScroll:s,leftScroll:h,workingDocument:o};return t==tt.ALL_POINTS?vi(e):yi(e)}function vi(n){for(var t=l.length-1;t>=0;t--)if(!bt(l[t],n))return!1;return!0}function yi(n){for(var t=l.length-1;t>=0;t--)if(bt(l[t],n))return!0;return!1}function bt(n,t){var i=t.element,u=n(i),e=u.x-t.leftScroll,o=u.y-t.topScroll,f=t.workingDocument.elementFromPoint(e,o);return f==i[0]||r.contains(i[0],f)}function pi(n,t){var i;return(i=d.findFirstSelfOrChildByType(n.children("tr"),t),i&&i.exist())?i:(i=d.findFirstSelfOrChildByType(n.children("thead").children("tr"),t),i&&i.exist())?i:(i=d.findFirstSelfOrChildByType(n.children("tbody").children("tr"),t),i&&i.exist())?i:(i=d.findFirstSelfOrChildByType(n.children("tfoot").children("tr"),t),i&&i.exist())?i:void 0}function wi(n){var t=!0;return n.parentsUntil("html").each(function(n,i){"relative"!=mtjQuery(i).css("position")&&(t=!1)}),t}function bi(n,t){var i=parseInt(b.getSettingsValue(t,"leftOffset",0)),r=parseInt(b.getSettingsValue(t,"topOffset",0));return n.top=n.top+r,n.left=n.left+i,n.right=n.right+i,n.bottom=n.bottom+r,n}function ki(n,t){if("BODY"==n.tagName&&"relative"==t.position&&"auto"==n.style.marginLeft&&"auto"==n.style.marginRight&&0==d.tryParsingStyleValue(t.marginLeft))return!0}function di(n,t){return(new Date).getTime()-n<t}function gi(){var i={top:0,left:0},n,t;return o.isFeatureEnabled("collapsedMargins")?(n=r("body"),t=0,nr(n)&&(n.css("margin-top"),n.find("> div").each(function(){var n=r(this),u=n.offset().top,f=n.position().top,i;parseInt(n.css("margin-top"),10)>0&&(i=u-f,i>t&&(t=i))})),i.top+=t,i):i}function nr(n){return n.offset().top<=0&&"relative"==n.css("position")&&(!v.isIE()||"visible"==n.css("overflow-x")&&"visible"==n.css("overflow-y"))&&(!v.isIEBrowser(9)||tr(n))}function tr(n){var t,i;try{return t=r("<div />"),t.important({position:"absolute",top:0,visibility:"hidden"}),n.append(t),i=t.offset().top,t.remove(),i>0}catch(u){return!1}}function kt(n,t,i){"static"!=i.position&&(n.top+=d.tryParsingStyleValue(i.top),n.left+=d.tryParsingStyleValue(i.left))}function et(n,t,i,r){n.top+=d.tryParsingStyleValue(i[r+"Top"]);n.left+=d.tryParsingStyleValue(i[r+"Left"])}function dt(n,t,i){/(html|body)/i.test(t.tagName)||(n.top+=gt(i.borderTopWidth),n.left+=gt(i.borderLeftWidth))}function gt(n){var t=0;switch(n){case"thin":t=1;break;case"medium":t=3;break;case"thick":t=5;break;default:t=Math.round(parseFloat(n))}return t}function ir(n){var t,i;try{if("1.7.1"!=n.jquery)return;if(t=n[0].ownerDocument.documentMode,(7==t||8==t)&&(i=n.data("iframe"),i&&"FRAME"==i[0].tagName))return!0}catch(r){}}function rr(n){for(var f,e,i=ni(n),r={top:0,left:0},t=0;t<i.length;t++)f=i[t].offset(),e=u.getBody(i[t][0].contentWindow.document),r.top+=f.top,r.top-=e.scrollTop||i[t][0].contentWindow.document.documentElement.scrollTop,r.left+=f.left,r.left-=e.scrollLeft||i[t][0].contentWindow.document.documentElement.scrollLeft;return r}function ni(n,t){var i=n.data("iframe");return t||(t=[]),i&&(t.push(i),ni(i,t)),t}function ur(n,t,i,r,u,f,e,o){return i<=e&&n>=u&&r>=o&&t<=f}function rt(n,t){var i=n.css(t);return i?parseFloat(i):0}var ot,ut,nt,st,d=this,tt={ALL_POINTS:0,ANY_POINT:1},ht={0:"mt_visible",1:"wm_vsb_st",2:"wm_interact_any_point",3:"wm_interact_all_points"},ti=5e3;d.getVisibleFilter=function(n){return":"+ht[(n.Settings||n).filter||0]};this.getPosRelativeToWindow=function(n,t,i){var s,r,f,l,e=0,o=0,h;for(t=t||top,i&&!window.opera&&n&&n.tagName&&"input"==n.tagName.toLowerCase()&&(e+=n.scrollLeft,o+=n.scrollTop);n;){if((r=n.ownerDocument,f=c.getDocumentWindow(r),i&&f==t)&&(h=u.getBody(r),e+=r.documentElement.scrollLeft||h.scrollLeft,o+=r.documentElement.scrollTop||h.scrollTop),l=!f||f==t,s=i?ri(n):ui(n),e+=s.left,o+=s.top,l)break;n=f.frameElement}return{left:e,top:o}};this.getRectRelativeToWindow=function(n,t,i){var f,u,r,e=!1,o={left:0,top:0},s;for(r=n.length>1?d.getMultipleElementsRect(n):t.getBoundingClientRect(),i=i||top;!e;){if(f=t.ownerDocument,u=c.getDocumentWindow(f),s=f.documentElement.getBoundingClientRect(),r=fi(r,s),!r)return r;e=!u||u==i;e||(o=u.frameElement.getBoundingClientRect(),ei(r,o),t=u.frameElement)}return oi(r,f),r};this.getDrawingArea=function(n,t,i){if(!i||d.isElementInViewport(n))return si(t?mtjQuery("body"):n);var r=mtjQuery(document);return{top:0,left:0,height:r.height(),width:r.width()}};this.isElementScrolledOut=function(n,t,i){var r=y.getFrameContents(t),u=n.offset().top,e=n.offset().left,s=n.outerHeight(),h=n.outerWidth(),o=parseInt(i);return(o==f.POSITION_TYPE.Bottom&&(u+=s),o==f.POSITION_TYPE.Right&&(e+=h),r.scrollTop()>u||t.height()+r.scrollTop()<u)?!0:r.scrollLeft()>e||t.width()+r.scrollLeft()<e?!0:!1};d.getCenterPositionByBounds=function(n){var t=n.left+n.width/2,i=n.top+n.height/2;return{left:t,top:i}};d.getEmbedInElementPosition=function(n,t){var i={},r=parseInt(b.getSettingsValue(t,"leftOffset",0)),u=parseInt(b.getSettingsValue(t,"topOffset",0));return lt(n,i,{top:u,left:r}),i};this.getElementBounds=function(n,t,i,r){var f={},e=n[0],o;if(t){var s=d.getMultipleElementsRect(n),h=u.getElementDocument(n),c=d.getOffsetRect(e,h,i);f=d.getElementBoundsWithRectAndOffset(s,c)}else o=d.getPosRelativeToWindow(e,i,!0),lt(n,f,o);return bi(f,r)};d.getMultipleElementsRect=function(n){for(var i,r,u,f,t,e=0;e<n.length;e++)t=n[e].getBoundingClientRect(),(void 0===i||t.left<i)&&(i=t.left),(void 0===r||t.top<r)&&(r=t.top),(void 0===f||t.bottom>f)&&(f=t.bottom),(void 0===u||t.right>u)&&(u=t.right);return{top:r,left:i,right:u,bottom:f}};d.isElementVisible=function(n,t){var i=!0,u;try{n[0].tagName}catch(f){i=!1}return i&&(t=t||0,u=":"+ht[t],r(n).filter(u).length!=r(n).length&&(i=!1)),i};d.registerResizeAndScrollEvents=function(t){var i=t.callback,r;i||(i=function(t,i){n.centerElementInPage(t,!0,i)});r=w.shouldHandlePageAsFramesets()?p.getBiggestFrame().contentWindow:window;hi(r,t.element,t.offset,t.eventNameSuffix,i)};d.getWindowSize=function(){var n=r(w.shouldHandlePageAsFramesets()?p.getBiggestFrame().contentWindow:window);return{height:n.height(),width:n.width()}};d.removeScrollAndResizeEvents=function(t){var r=window,i,u;n.shouldHandlePageAsFramesets()&&(i=p.getBiggestFrame(),null!=i&&(r=i.contentWindow));u=at(t);mtjQuery(r).unbind(u)};d.centerElementInParent=function(n,t){var i=t.outerHeight()/2-n.outerHeight()/2,r=t.outerWidth()/2-n.outerWidth()/2;n.css("top",i+"px");n.css("left",r+"px")};d.extendVisibilityFilters=function(){var t,i,n;if(ut=!1,r.expr.filters.mt_hidden=ot,r.expr.filters.mt_hidden,(o.isFeatureEnabled("strongMtVisible")&&(ut=!0,g(function(n){return!wt(n)})),o.isFeatureEnabled("anyPointInteractable")&&g(function(n){return!ft(n[0],tt.ANY_POINT)}),o.isFeatureEnabled("nonVisibleIframe"))&&(t=function(n){var t=n.data("iframe");return!(!t||!t.is(":mt_hidden"))},g(t),pt(t)),o.isFeatureEnabled("visibleOpacity")&&(g(vt),pt(vt)),window._walkmeInternals&&window._walkmeInternals.customMtHiddenFuncs)for(i=window._walkmeInternals.customMtHiddenFuncs,n=i.length-1;n>=0;n--)g(i[n])};d.findNearestSelfOrParentByType=function(n,t){var i=n[0],e,f,u;if(i){for(e=[],f=0;f<t.length;f++)e.push(t[f].toLowerCase());for(u=i.tagName.toLowerCase();"body"!=u&&"frameset"!=u&&"head"!=u;){if(r.inArray(u,e)>-1)return r(i);i=i.parentNode;u=i.tagName.toLowerCase()}}};d.findFirstSelfOrChildByType=function(n,t){var i,r;if(n.exist())return(i=t.join(", "),n.is(i))?n.first():(r=n.children(i).first(),r.exist())?r:n.is("table")?pi(n,t):void 0};d.getColumn=function(n){var s=[],u=d.findNearestSelfOrParentByType(n,["table"]),h,f,o;if(u&&(f=["td","th"],h=n.is(f)?n:n.is("table")||n.is("tr")?d.findFirstSelfOrChildByType(n,f):d.findNearestSelfOrParentByType(n,f),h)){var t,c,i=null,l=h.index(),e=r([]);for(r.merge(e,u.children("tr")),r.merge(e,u.children("thead, tbody, tfoot").children("tr")),o=0;o<e.length;o++)t=e[o].cells[l],t&&(null==i&&(i=t.colSpan),t.colSpan<i&&(s.length=0,i=t.colSpan),t.colSpan==i&&(c=r(t),c.height()&&c.width()&&s.push(t)));return r(s,u)}};this.getBodyInheritedMargin=function(){var t={top:0,left:0},i,n;return o.isFeatureEnabled("calcInheritedMargin")?(i=!1,n=mtjQuery("body").find("div").filter(function(){var n,e;if(i||(n=mtjQuery(this),"relative"!=n.css("position")))return!1;var t=null,r=null,o=parseInt(n.css("margin-top")),u=0!=o&&parseInt((r=n.position()).top)==-1*parseInt((t=n.offset()).top),f=!1;return u||(e=parseInt(n.css("margin-left")),f=0!=e&&parseInt(null!=r?r.left:n.position().left)==-1*parseInt(null!=t?t.left:n.offset().left)),i=(u||f)&&wi(n)}).eq(0),n.length>0&&(t={top:parseInt(n.css("margin-top")),left:parseInt(n.css("margin-left"))}),t):t};d.fixFirefoxAutoMarginBug=function(n,i,r,u){if(v.isFirefox&&ki(i,r)){n.top+=d.tryParsingStyleValue(r.marginTop);var e=t.getStyle(i.parentElement,u),f=(d.tryParsingStyleValue(e.width)-d.tryParsingStyleValue(r.width))/2;if(f<0)return;n.left+=f}};d.tryParsingStyleValue=function(n){return"string"==typeof n&&(n=n.replace("px","")),isNaN(n)?0:parseInt(n)};d.getCollapsedMargin=function(){return nt&&di(st,ti)?nt:(nt=gi(),st=(new Date).getTime(),nt)};d.getOffsetRect=function(n,t,r){try{var f=u.getBody(t),e=h.getScrollTop(t,f),o=h.getScrollLeft(t,f),s=d.calculateOffset(f,r);return e-=s.top,o-=s.left,{top:Math.round(e),left:Math.round(o)}}catch(c){i.error(c)}};d.calculateOffset=function(n,i){for(var e,f,o,r=n,u=t.getStyle(n,i);u&&"static"==u.position;)r=r.parentNode,u=t.getStyle(r,i);if(e=d.getBodyInheritedMargin(),e.top=d.tryParsingStyleValue(e.top),e.left=d.tryParsingStyleValue(e.left),f={top:e.top,left:e.left},o=d.getCollapsedMargin(),f.top+=o.top,f.left+=o.left,u)for(et(f,r,u,"margin"),dt(f,r,u),kt(f,r,u),d.fixFirefoxAutoMarginBug(f,r,u,i),r=r.parentNode,u=t.getStyle(r,i);u;)et(f,r,u,"margin"),et(f,r,u,"padding"),dt(f,r,u),kt(f,r,u),r=r.parentNode,u=t.getStyle(r,i);return f};d.getElementBoundsWithRectAndOffset=function(n,t){var i=n.left+t.left,r=n.top+t.top,u=n.right-n.left,f=n.bottom-n.top,e=n.right+t.left,o=n.bottom+t.top;return{top:r,left:i,width:u,height:f,right:e,bottom:o}};d.isElementInViewport=function(n,t){var i,e;t=r.extend({},f.DEFAULT_POSITIONS,t);i=rr(n);e=n.offset();i.top+=e.top;i.left+=e.left;d.fixOffsetForIE(n,i);var u=o.isFeatureEnabled("fixIframeScroll")?s.getElementViewport(n):s.getWindowViewport(),h=o.isFeatureEnabled("bodyClientHeight")?r("body")[0].clientHeight:u.height(),c=u.top()+t.top,l=u.left()+t.left,a=h-t.bottom+(u.top()-0),v=u.width()-t.right+(u.left()-0);return ur(i.top,i.left+n.width(),i.top+n.height(),i.left,c,v,a,l)};d.fixOffsetForIE=function(n,t){if(ir(n)){var i=n[0].ownerDocument,r=k.getBody(i);t.top+=r.scrollTop||i.documentElement.scrollTop;t.left+=r.scrollLeft||i.documentElement.scrollLeft}};ii.apply(null,arguments)}function iet(n,t,i){function e(){u=i.animator;r=i.pagePosition}function o(i,u){r===n.Center?t.centerElementInPage(i,!1,u):s(i,!0,u)}function s(t,i,f){t.css({position:"fixed"});var e=null,o="",s="wm-position-",h=f.top||0,c=f.left||0;switch(r){case n.Top:o=s+"top";e={top:0,left:"50%",marginLeft:-(t.outerWidth()/2)+c,marginTop:h};break;case n.Right:o=s+"right";e={right:0,top:"50%",marginTop:-(t.outerHeight()/2)+h,marginRight:-c};break;case n.Bottom:o=s+"bottom";e={bottom:0,left:"50%",top:"auto",marginLeft:-(t.outerWidth()/2)+c,marginBottom:-h};break;case n.Left:o=s+"left";e={left:0,top:"50%",marginTop:-(t.outerHeight()/2)+h,marginLeft:c};break;case n.TopLeft:o=s+"top-left";e={left:0,top:0,marginTop:h,marginLeft:c};break;case n.TopRight:o=s+"top-right";e={right:0,top:0,marginTop:h,marginRight:-c};break;case n.BottomRight:o=s+"bottom-right";e={right:0,bottom:0,top:"auto",marginBottom:-h,marginRight:-c};break;case n.BottomLeft:o=s+"bottom-left";e={left:0,bottom:0,top:"auto",marginBottom:-h,marginLeft:c}}t.addClass(o);t.css(e);i&&u.setPagePositionOffset({marginTop:e.marginTop,marginLeft:e.marginLeft,marginBottom:e.marginBottom,marginRight:e.marginRight},r)}var f=this,r,u;f.positionElementInPage=o;e.apply(null,arguments)}function ret(n){function u(){if(!n.isIEBrowser())try{i("click");t=!0}catch(r){t=!1}}function f(n){var t=document.createEvent("UIEvents");return t.initUIEvent(n,!0,!0,window,1),t}function i(n){return new Event(n,{bubbles:!0})}var t,r=this;r.dispatchEvent=function(n,r){var u;t?(u=i(r),n.dispatchEvent(u)):window.dispatchEvent?(u=f(r),n.dispatchEvent(u)):("input"==r&&(r="propertychange"),n.fireEvent("on"+r))};u.apply(null,arguments)}function uet(n,t,i,u,f,e,o,s,h){function b(){}function k(n,t){st(n)&&l.select(n.parent(),n[0].value);ht(n);t&&t()}function d(n,t){ut(n);var i=f.addElementClass(n,":hover");i?h.bind(o.EVENTS.BeforeWalkmeRemoved,v):et(n.is("a")&&n.parent().is("li")?n.parent():n);t&&t()}function v(){h.unbind(o.EVENTS.BeforeWalkmeRemoved,v);f.removeElementClass()}function g(n,t){y(n,"focus",t)}function nt(t,i,r,f,o){r=r||0;c(t[0],"focus");u.setWalkmeTimeout(function(){if(o)var s=o.ElementDescription;n.injectText(t,i,s);e.isIEBrowser()||c(t[0],"paste");c(t[0],"input");u.setWalkmeTimeout(function(){c(t[0],"change");c(t[0],"blur");f&&f()},r)},r)}function tt(n,t,i){n.val()!=t&&(c(n[0],"focus"),n.val(t),c(n[0],"change"));i&&i()}function it(n,t,i){var e=n.find("option:selected"),f,u;if(e.text()!=t)for(c(n[0],"focus"),f=n[0].options,u=0;u<f.length;u++)if(f[u].text==t){r(f[u]).attr("selected","selected");c(n[0],"change");break}i&&i()}function rt(n,t){y(n,"swipe",t)}function y(n,t,i){c(n[0],t);n[t]();i&&i()}function ut(n){var t=n.closest("a");n=0!==t.length?t:n;r.each(a,function(t,i){p(n,i,r);window.jQuery&&p(n,i,jQuery);ot(n,i)})}function ft(n,t){switch(t){case a.MouseOver:n.trigger("mouseover");break;case a.MouseEnter:default:n.trigger("mouseenter")}}function et(n){var t=n.find("*:mt_hidden");t.filter(function(){return"none"==r(this).css("display")}).css("display","block");t.css("visibility","visible");t.css("opacity","1")}function p(n,t,i){var u=w(n,!0);r.each(u,function(n,r){r=i(r);ft(r,t)})}function ot(n,t){var i=w(n,!0);r.each(i,function(n,i){c(i,t)})}function w(n,t){var i=n.find("*:mt_visible");return t&&i.push(n[0]),i}function st(n){return n.is("option")&&n.parent().is("select")}function ht(n){n[0]&&(c(n[0],"mousedown"),c(n[0],"mouseup"),n.trigger("mouseover"),n[0].click(),s.raiseEvent(o.EVENTS.Walkthrus.InputGeneratedClick,{element:n}))}var l=this,c,a;l.click=k;l.hover=d;l.focus=g;l.text=nt;l.select=tt;l.selectByText=it;l.swipe=rt;c=t.dispatchEvent;a={MouseEnter:"mouseenter",MouseOver:"mouseover"};b.apply(null,arguments)}function fet(){function t(){}var n=this;n.injectText=function(n,t){n.val(t)};t()}function eet(){function i(t){var i=t?"":"-";return n()+n()+i+n()+i+n()+i+n()+i+n()+n()+n()}function n(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var t=this;t.generateGuid=i}function oet(n,t,i,r){var u=this;u.setStyleForBalloon=function(t,i,f){var o,s;t.css("border",""+i.BalloonBorderWidth+"px solid "+i.BorderColor);u.fixGradientColorsInConfiguration(i,"Color");u.fixGradientColorsInConfiguration(i,"BalloonColor2");var e=void 0!=i.BalloonColor2?i.BalloonColor2:i.Color,c=void 0!=i.BalloonRadius?i.BalloonRadius:15,h=""+c+"px";if(t.css("-moz-border-radius",h),t.css("-webkit-border-radius",h),t.css("border-radius",h),i.Color==e?t.css("background",i.Color):(t.css("background","-moz-linear-gradient(top, "+i.Color+", "+e+")"),t.css("background","-webkit-gradient(linear, left top, left bottom, color-stop(0%,"+i.Color+"), color-stop(100%,"+e+"))"),t.css("background","-webkit-linear-gradient(top, "+i.Color+" 0%,"+e+" 100%)"),t.css("background","-o-linear-gradient(top, "+i.Color+" 0%,"+e+" 100%)"),t.css("background","-ms-linear-gradient(top, "+i.Color+" 0%,"+e+" 100%)"),t.css("background","linear-gradient(to bottom, "+i.Color+" 0%,"+e+" 100%)"),t.css("filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='"+i.Color+"', endColorstr='"+e+"',GradientType=0 )"),t.css("background-image").indexOf("gradient")==-1&&(t.css("background-image","url('"+r.get()+"/player/resources/images/spacer.gif')"),t.css("background-repeat","repeat")),u.isGradientWithBorderRadiusCompatible()||t.css("border-radius","0px")),!f){o="0px 0px";switch(parseInt(i.Position)){case n.POSITION_TYPE.Top:o="-3px -3px";break;case n.POSITION_TYPE.Right:o="4px -4px";break;case n.POSITION_TYPE.Bottom:o="4px 4px";break;case n.POSITION_TYPE.Left:o="-4px 4px"}s=" 3px rgba(0, 0, 0, 0.2)";t.css("-moz-box-shadow",o+s);t.css("-webkit-box-shadow",o+s);t.css("box-shadow",o+s)}};u.fixGradientColorsInConfiguration=function(n,i){n[i]&&"transparent"!=n[i]||(n[i]=t.isIE()?"#00000000":"transparent")};u.isGradientWithBorderRadiusCompatible=function(){return!t.isIE(9,"lte")};u.fixConfiguration=function(n){return n.BalloonColor2=i.isDefined(n.BalloonColor2)?n.BalloonColor2:n.Color,n.ButtonBgColor2=i.isDefined(n.ButtonBgColor2)?n.ButtonBgColor2:n.ButtonBgColor,n.BalloonBorderWidth=i.isDefined(n.BalloonBorderWidth)?parseInt(n.BalloonBorderWidth):1,n.BalloonButtonRadius=i.isDefined(n.BalloonButtonRadius)?parseInt(n.BalloonButtonRadius):15,n.ButtonShadowWidth=i.isDefined(n.ButtonShadowWidth)?parseInt(n.ButtonShadowWidth):0,n.BalloonRadius=i.isDefined(n.BalloonRadius)?parseInt(n.BalloonRadius):15,n.FooterTextColor=i.isDefined(n.FooterTextColor)?n.FooterTextColor:n.HeaderColor,n}}function set(n,t,i){function f(n){var t=n.tagName;return t.toUpperCase&&(t=t.toUpperCase()),t}function e(t){var r=n.getElementDocument(t),f=i.getDocumentWindow(r);return u(f)}function o(){return u(window)}function u(n){var r=n.document,i=mtjQuery(n);return i.left=function(){return t.getScrollOffset(r).Left},i.top=function(){return t.getScrollOffset(r).Top},i}var r=this;r.getElementTagName=f;r.getElementViewport=e;r.getWindowViewport=o}function het(){function t(n){return n.parentWindow||n.defaultView}var n=this;n.getDocumentWindow=t}function cet(n,t,i){var r=this;r.SCROLL_MODES={Animated:0,Normal:1,None:2};r.getScrollOffset=function(t){var i=n.getBody(t),u=r.getScrollTop(t,i),f=r.getScrollLeft(t,i);return{Top:u,Left:f}};r.getScrollTop=function(n,t){return t.scrollTop||n.documentElement.scrollTop};r.getScrollLeft=function(n,t){return t.scrollLeft||n.documentElement.scrollLeft};r.jspScrollAttempt=function(t){var i=n.getJspParent(t),r=n.getClientjQuery();return i?(r(i).data("jsp").scrollToElement(t,!0,!1),!0):!1};r.shouldScroll=function(n,t,u){return u!=i.STEP_TYPE.Popup&&t!=r.SCROLL_MODES.None&&"fixed"!=n.css("position")?!0:!1};r.isBalloonPositionVisibleRelativeToParents=function(n,i){return t.isBalloonPositionVisibleRelativeToParents(n,i)}}function aet(n){function i(t){var i=n.getCookie(t);if(i!==!1)return i}var t=this;t.calculate=i}function vet(n){function i(t){var i=n.getjQueryElementText(t);if(""!==i)return i}var t=this;t.calculate=i}function yet(n){function i(t){return n.getWindowVar(t)}var t=this;t.calculate=i}function pet(n){function i(t){if(n)return n.getItem(t)}var t=this;t.calculate=i}function wet(n,t,i,r,u,f){function o(e){switch(e){case t.VALUE_CALCULATOR_TYPE.JQuery:return r;case t.VALUE_CALCULATOR_TYPE.Cookie:return i;case t.VALUE_CALCULATOR_TYPE.Variable:return u;case t.VALUE_CALCULATOR_TYPE.LocalStorage:return f;default:n.error(new Error("Unknown calculation method"))}}var e=this;e.get=o}function bet(){function t(n,t){if(t)for(var i=0;i<t.length;i++)n.addClass(t[i])}var n=this;n.appendClasses=t}function ket(n){function u(i,u){function o(){var n={width:f[0].width,height:f[0].height};u(n);clearInterval(e);f.unbind("load")}function s(){f[0].width&&f[0].height&&o()}var e,f=r("<img />");f.load(o);f.attr("src",i);e=n.setWalkmeInterval(s,t)}var i=this,t;i.getImageSize=u;t=100}function det(n,t,i,f){function rt(){}function ut(){u.bind("LauncherIsShown",ot);u.bind("NewStepShown",ht);u.bind("StepCompleted",w);u.bind("TutorialStopped",w);u.bind("show-end",ct);ft()}function ft(){var n=window.walkme_event;window.walkme_event=function(t){if(n&&n(t),"BalloonCreated"==t.Type){var i=t.ExtraData.Element;et(i)}}}function et(n){var i=l(f,n),t,u;y(n,i.selectors,s);t=r(i.elemWithContent);t.on("focus",function(){r(this).addClass(h)});t.on("blur",function(){r(this).removeClass(h)});u=r(f.CLOSE_LINK,n);v(n,u);t.keyup(a);o.setFocus(t.first())}function l(n,t){var i={},u,f;i.elemWithContent=[];i.selectors={};for(u in n)n.hasOwnProperty(u)&&(f=r(n[u]+":visible",t),f.each(function(){var t=r(this);t.text()&&(i.selectors[u]=n[u],i.elemWithContent.push(t[0]))}));return i}function a(n){if(n.keyCode===tt){var t=n.srcElement?n.srcElement:n.target;t.click()}}function v(n,t){t.length>0&&r(n).keyup(function(n){n.keyCode===nt&&t.click()})}function ot(n,t,i){var r=i.launcherDiv,u=r.attr("title"),f=i.customText?i.customText:i.name;st(r,f,u)}function st(n,t,i){var r=t;i&&(t?r+=". "+i:r=i);r&&n&&n.attr(b,r)}function ht(n,i,r){if(t.isPopupStep(i)){e=document.activeElement;var u=r.Balloon.find(".walkme-custom-balloon-title");u.focus()}}function ct(n,t){var e;if(t&&t._uiComponent&&t._uiComponent.UiComponentId==g){var i=r("#wm-shoutout-"+t._uiComponent.Id),u=l(c,i),f=r(u.elemWithContent);y(i,u.selectors,s);e=r(c.CLOSE_BUTTON,i);v(i,e);f.keyup(a);o.setFocus(f.first())}}function y(n,t){var i,u;n=n?n:r(d);for(i in t)t.hasOwnProperty(i)&&(u=r(t[i],n),s?p(u,s[i]):p(u))}function p(n,t){var r;if(void 0===t)for(r=0;r<n.length;r++)i.addTabIndex(n.eq(r),0);else for(r=0;r<n.length;r++)i.addTabIndex(n.eq(r),t+r)}function w(n,i){t.isPopupStep(i)&&e&&(e.focus(),e=null)}var e,o=this,b="alt",k="accessibility",d="body",h="walkme-accessibility",g=1,nt=27,tt=32,it=800,c={TITLE:".wm-title",CONTENT:".wm-template-text",ACTION_BUTTON:".wm-blue-btn",CLOSE_LINK:".wm-close-link",CLOSE_BUTTON:".wm-close-button"},s={TITLE:1,CONTENT:2,ACTION_BUTTON:3,CLOSE_LINK:7,CLOSE_BUTTON:8};o.init=function(){n.isFeatureEnabled(k)&&ut()};o.setFocus=function(n){i.libSetTimeout(function(){n.focus()},it)};rt.apply(null,arguments)}function get(){function t(n,t,i){void 0!==t&&null!==t&&(n[i]=t)}var n=this;n.setIfDefined=t}function not(){function i(){}function u(n,t){for(var u,i=r.when(t);n.length;)u=n[0],i=i.pipe(u),n.splice(0,1);return i}function f(n,i){var f,u,e,o;if(!n||0==n.length)return r.when();for(f=[],u=0;u<n.length;u++)e=n[u],o=i(e),f.push(o);return t(f)}function t(n){return r.when.apply(r,n)}var n=this;n.executePromiseChain=u;n.executeParallely=t;n.executeParallelyOnArray=f;i()}function tot(n){function t(i,r){var e,u,f;return(i&&i.Root&&(i=n.convert(i.Root)),!i||!i.nodeType)?!1:(e=r(i),e)?!0:(u=!1,f=!1,i.leftSon&&(f=t(i.leftSon,r)),i.rightSon&&(u=t(i.rightSon,r)),f||u)}function u(n){return t(n,function(n){return"Func"==n.nodeType&&0==n.funcName.indexOf(r)})}var i=this,r;i.anyMatchesCondition=t;i.checkIfTreeContainsSelectedElement=u;r="SelectedElement"}function iot(n){var t=this;t.fixSteps=function(n,i){for(var u=n.Steps,r=0;r<u.length;r++)t.fixStep(u[r],r,i)};t.fixStep=function(t,i,r){t.fixed||(t.StepIndex=i,t.Configuration&&t.Configuration!=-1?(t.End=t.Configuration.End,t.Duration=t.Configuration.Duration,t.Delay=t.Configuration.Delay,t.Position=t.Configuration.Position):t.Configuration=r.BalloonSettings,t.IgnorePosition=void 0!=t.IgnorePosition?t.IgnorePosition:parseInt(n.getSettingsValue(t.Settings,"ignorePosition",0)),t.fixed=!0)}}function rot(){function t(){}function i(n){var t,i=0;for(t in n)n.hasOwnProperty(t)&&i++;return i}function r(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t}function u(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t}function f(n){var i,t,r;if(!n)return{};i={};for(t in n)n.hasOwnProperty(t)&&(r=n[t],t=e(t)?parseFloat(t):t,i[r]=t);return i}function e(n){return!isNaN(n)}var n=this;n.getDictionarySize=i;n.getDictionaryKeys=r;n.getDictionaryValues=u;n.reverseDictionary=f;t()}function uot(n,t,i){function u(){return n.remove(i.location.href)}function f(){return i.location.href}function e(){return i.location.pathname}function o(n){return s(n)}function s(n){return(n=t.decodeHtml(n,["&"]),0==n.length)?n:"/"==n.charAt(0)?i.location.protocol+"//"+i.location.hostname+(i.location.port?":"+i.location.port:"")+n:n}var r=this;r.getUrlResourceName=u;r.getUrlLocation=o;r.getCurrentLocation=f;r.getCurrentUrlPath=e}function fot(n,t,i,r,u,f){function s(n){var t={url:n};return u.raiseEvent(f.EVENTS.Redirect.OnRedirect,t),void 0!==t.returnValue?t.returnValue:c(n)}function h(n,t){var i={url:n,redirectIfIdentical:t};return u.raiseEvent(f.EVENTS.Redirect.CheckCanRedirect,i),void 0!==i.returnValue?i.returnValue:l(n,t)}function c(n){var u=o(),r;return t.location=i.getUrlLocation(n),r=o(),u.url==r.url&&u.hash!=r.hash}function l(t,u){if(!n.isValidUrl(t))return!1;var e=i.getUrlResourceName(),f=i.getUrlLocation(t);return f=r.remove(f),u||e!=f}function o(){var n=t.location.hash,i=t.location.href.replace(n,"");return{url:i,hash:n}}function a(n){var e=i.getUrlResourceName(),f=i.getUrlLocation(n),t,u;return(f=r.remove(f),t=e.split("#"),u=f.split("#"),u.length>1)?t.length>1?t[0]==u[0]&&t[1]!=u[1]:t[0]==u[0]:!1}var e=this;e.redirect=s;e.canRedirect=h;e.isUrlDifferentFromCurrentOnlyInHash=a}function eot(n,t,i){function f(r,f){return n.canRedirect(r,f)?(i.storeStateInCookie(),u=t.libSetTimeout(function(){n.redirect(r)},200),!n.isUrlDifferentFromCurrentOnlyInHash(r)):!1}function e(t,i){return n.canRedirect(t,i)&&!n.isUrlDifferentFromCurrentOnlyInHash(t)}function o(){u&&u.clear()}var r=this,u;r.redirect=f;r.canRedirect=e;r.clearRedirectTimer=o}function oot(){function t(n){return n=n.replace("http://",""),n=n.replace("https://",""),n=n.replace("www.",""),"/"==n.charAt(n.length-1)&&(n=n.substr(0,n.length-1)),n}var n=this;n.remove=t}function sot(){function f(){i()}function i(n){t=n||[]}function e(){return r()?null:t[t.length-1]}function o(){return t.pop()}function s(n){t.push(n)}function h(){i()}function r(){return 0==u()}function u(){return t?t.length:0}function c(){return t}var n=this,t;n.init=i;n.peek=e;n.pop=o;n.push=s;n.clear=h;n.isEmpty=r;n.length=u;n.getAll=c;f()}function hot(){function t(n,t){var i,r;if(n)for(i=n.length;i-->0;)r=n[i],t(r)&&n.splice(i,1)}var n=this;n.remove=t}function cot(n){function i(t){var i=n.generateGuid();return(new Date).getTime()+"-"+t+"-"+i}var t=this;t.generateNewPlayGuid=i}function lot(n,t){function r(){}function u(){if(n.isIE()){var i=mtjQuery("a[href^='javascript:']"),r="click.walkme.ignoreUnload";i.off(r);i.on(r,function(){t.setIgnoreNextBeforeUnload(!0)})}}var i=this;i.fixAnchorTagsOnBeforeUnload=u;r()}function aot(n,t,i,r,u,e){function h(){}function c(){var i=f.get("ExternalWalkMeConfig").get("platform"),t="Lib on "+walkme_lib_notify_ServerName+": "+u.SVNRevision;if(window.walkme_lib_version&&(t+=", Version: "+walkme_lib_version),window.walkme_lib_upload_date&&(t+=", Uploaded On: "+walkme_lib_upload_date),window.walkme_lib_uploader&&(t+=", By: "+walkme_lib_uploader),r.isQuirksMode())return void n.customerLog(t,5);l(i,t)}function l(n,i){var r=n==t.PLATFORM.MobileWeb?"height: 26px; width:26px; overflow:hidden;":"",u="<div id='walkme-dev-mode-alert' class='walkme-to-remove' style='z-index: {{{popupBalloonZindex}}}; position: fixed; top: 0; left: 30px; background-color: {{{backgroundColor}}}; font-size: 15px;"+r+" padding:0 4px;'>{{{message}}}<\/div>";n!==t.PLATFORM.MobileWeb?o(u,i):a(i)}function a(n){function i(n){n.target.style.overflow="hidden";n.target.style.height="26px";n.target.style.width="26px"}function r(n){n.target.style.overflow="auto";n.target.style.height="auto";n.target.style.width="auto"}var t;o("<style type='text/css'>#walkme-dev-mode-alert {-webkit-touch-callout: none;-webkit-user-select: none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}<\/style><div id='walkme-dev-mode-alert' class='walkme-to-remove' style='z-index: {{{popupBalloonZindex}}}; position: fixed; top: 0; left: 30px; height: 26px; width:26px; background-color: {{{backgroundColor}}}; font-size: 15px; overflow:hidden; padding:0 4px;'>{{{message}}}<\/div>",n);t=mtjQuery("#walkme-dev-mode-alert");t.mouseenter(r);t.mouseleave(i);t.touchstart(r);t.touchend(i)}function o(n,r){var f=e.to_html(n,{popupBalloonZindex:t.POPUP_BALLOON_Z_INDEX,backgroundColor:v(walkme_lib_notify_ServerName),message:r}),u=i.getTopContainer(null,!0);mtjQuery("#walkme-dev-mode-alert",u).remove();u.append(f)}function v(n){var t,n=n.toLowerCase();switch(n){case"dev":t="lightblue";break;case"qa":t="red";break;case"test":t="yellow";break;case"local":t="lightgreen";break;default:t="pink"}return t}var s=this;s.devModeAlert=c;h()}function vot(n,t,i,r){function f(){}function e(r,u){var f;return f=r?r.parents("body"):mtjQuery("body"),0!=f.length&&"FRAMESET"!=o(f[0])||(f=r?r.parents("html"):u||!t.shouldHandlePageAsFramesets()?mtjQuery("html"):mtjQuery("body",i.getFrameContents(mtjQuery(n.getBiggestFrame())))),f}function o(n){return r.getElementTagName(n)}var u=this;u.getTopContainer=e;f()}function yot(n){function i(){}function r(t,i){for(var v,c,y,l,p,a,e,w,b,k,o,s={"&amp;":"&","&apos;":"'","&#39;":"'","&quot;":'"',"&lt;":"<","&gt;":">"},f=[],r=0,h=0,u=0;r<t.length;)(o=!1,"&"==t.charAt(r))&&(v=t.substring(r,r+6).toLowerCase(),c=s[v],u=c?6:u,y=t.substring(r,r+5).toLowerCase(),l=s[y],u=l?5:u,p=t.substring(r,r+4).toLowerCase(),a=s[p],u=a?4:u,e=a||l||c,w=n.inArray(e,i)!=-1,e&&w&&(b=t.substring(h,r),f.push(b),f.push(e),r+=u,h=r,o=!0)),o||r++;return k=t.substring(h,r),f.push(k),f.join("")}var t=this;t.decodeHtml=r;i()}function pot(){function t(){}function i(){try{if(FB._inCanvas&&FB.Canvas.getPageInfo)return 1==window.walkme_dont_use_fb_scroll?!1:!0}catch(n){return!1}}var n=this;n.isInFacebookCanvas=i;t()}function wot(n,t,i){function u(r){var f,u,e="regexp:";if(i.startsWith(r,e)){r=r.substr(e.length);u=t.getCurrentLocation();try{f=u.match(r)}catch(o){return!1}}else{r=r.replace(new RegExp("[*]","g"),".*");r=r.replace(/[-[\]{}()+?,\\^$|#\s]/g,"\\$&");u=t.getUrlResourceName();r=n.remove(r);u=u.toLowerCase();r=r.toLowerCase();try{f=u.match(r)}catch(o){return!1}}return null==f?!1:f[0]==u}var r=this;r.isLocationMatchString=u}function bot(){function t(n,t){return 0==n.indexOf(t)}function i(n,t){return n.length>=t.length&&n.lastIndexOf(t)+t.length==n.length}var n=this;n.startsWith=t;n.endsWith=i}function kot(n,t,i,r,u,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut){function st(n){this.isValid=function(){return!0};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.doAction=function(){var t,i,r;try{t=u.getSetManagerById(n.businessSolutionId);t?t.turnOnWithImmediateValidations():tt.customerLog("Failed to run set's validation. No set for Id : "+n.businessSolutionId)}catch(f){i="Failed to run set's validations";r=e(i,n.businessSolutionId,o(f));tt.customerLog(r)}}}function ht(n,t,r){this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.doAction=function(){try{void 0!=window.WalkMePlayerAPI&&WalkMePlayerAPI.toggleMenu(ft(t,r))}catch(n){tt.customerLog(e("Failed opening menu. Exception: {0}",o(n)))}}}function ct(n,t,r){this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.doAction=function(){try{void 0!=window.TeachMePlayerAPI&&TeachMePlayerAPI.toggleMenu(ft(t,r))}catch(n){tt.customerLog(e("Failed opening TeachMe menu. Exception: {0}",o(n)))}}}function ft(n,t){var r={type:n},i;return t&&(r.objectId=t.Id,i=t.Settings.action,r.collectionId=i&&i.arguments&&i.arguments.collectionId),r}function lt(n,t,r){this.isValid=function(){return!0};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.doAction=function(){var i=n&&n.playBfFromBeginning?void 0:n.NodeId,u,f;try{s.activateById(n.bfId,{type:t,objectId:r.Id},i)}catch(h){u="Failed playing BizFlow with id {0} starting from step {1}. Exception is: {2}";f=e(u,n.bfId,i,o(h));tt.customerLog(f)}}}function at(n,t,r){function u(){var u,f,i;try{u=n.playWtFromBeginning?0:a.getStepIndex(n.StepId,n.wtId);u==-1?(i=e("Step with id: {0} was not found in walkthru with id {1}",n.StepId,n.wtId),tt.customerLog(i)):WalkMeAPI.startWalkthruById({id:parseInt(n.wtId),fromStep:u,playInitiator:{type:t,objectId:r.Id}})}catch(s){f="Failed starting walkthru with id {0}, starting from step {1}. Exception is: {2}";i=e(f,n.wtId,n.StepId,o(s));tt.customerLog(i)}}this.isValid=function(){return!0};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.doAction=function(){ut.afterStepsLoaded(n.wtId,u)}}function vt(n,t,r){this.isValid=function(){return!0};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.doAction=function(){var i,u,f;try{i=n.contentId;WalkMeAPI.startContentById(i,t,r.Id)}catch(s){u="Failed playing content with id {0}. Exception is: {1}";f=e(u,n.wtId,o(s));tt.customerLog(f)}}}function yt(n,t,r){this.isValid=function(){return!0};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.doAction=function(){var i,u,f,s;try{i=n.surveyId;u={type:t,objectId:r?r.Id:void 0};WalkMeAPI.startSurveyById(i,u)}catch(h){f="Failed playing survey with id {0}. Exception is: {1}";s=e(f,n.surveyId,o(h));tt.customerLog(s)}}}function pt(n,t,r){this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.isValid=function(){return!0};this.doAction=function(){try{f.get("ShoutOutsManager").activateById(n.id,{type:t,objectId:r.Id})}catch(i){tt.customerLog(e("Failed playing deployable with id {0}. Exception is: {1}",n.wtId,o(i)))}}}function wt(){this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.isValid=function(){return!0};this.doAction=function(){}}function bt(n){this.isValid=function(){return!0};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.doAction=function(){w.stepWasCompleted();var t=n.redirectUrl,i=l.redirect(t);i||(w.stepWasCompleted(),w.executeTutorialNextStep())}}function kt(n,t,r){function u(n){return!!v.getWalkthruById(n)}this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.isValid=function(){return u(n.wtId)};this.doAction=function(){var t,i=n.wtId;1==n.returnToWt?(t=a.getStepIndex(n.StepId,r.TutorialId),b.makeSplit([i],t,!1,n.startingStepId)):b.makeSplit([i],t,!0,n.startingStepId)};this.getGoToData=function(){var t=v.getWalkthruIndexByWalkthruId(n.wtId);return{tutorialIndex:t,stepIndex:0}}}function dt(){this.type="stopWt";this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.isValid=function(){return!0};this.doAction=function(){w.stepWasCompleted();n.stopTutorial()}}function gt(n,t,r){function u(n,t){return a.getStepIndex(n,t)!=-1}this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.isValid=function(){return u(n.StepId,r.TutorialId)};this.doAction=function(){var u=n.StepId,t=a.getStepIndex(u,r.TutorialId);w.stepWasCompleted();y.currentStep<t&&w.fillMissingStepAudits(y.currentWalkthru,y.currentStep+1,t,i.STEP_STATUS.SkippedByActionStep);y.currentStep=t;w.executeCurrentStep()};this.getGoToData=function(){var t=n.StepId,i=a.getStepIndex(t,r.TutorialId),u=v.getWalkthruIndexByWalkthruId(r.TutorialId);return{tutorialIndex:u,stepIndex:i}}}function ni(n,t,r){this.isValid=function(){return void 0!=window.WalkMePlayerAPI};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.doAction=function(){try{w.stepWasCompleted();WalkMePlayerAPI.toggleMenu(ft(t,r))}catch(n){}w.executeTutorialNextStep()}}function ti(n){this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;this.isValid=function(){return!0};this.doAction=function(){y.state=i.WALKTHRU_STATE.WAITING_FOR_CONDITION;p.storeStateInCookie();var r=y.getCurrentStep(),u={evaluationPollingIntervalMs:500,featureName:wf,elementName:"Wait for condition step: "+r.StepTitle},t=it.createOld(u),f=n.condition;t.onValueChanged(function(n){k.isDebuggerOnWindow()&&c.deprecatedRaiseEvent(i.EVENTS.ActionConditionEvaluated,r);n&&(w.stepWasCompleted(),w.executeTutorialNextStep())});t.evaluateAsync(f);w.addCurrentStepResource(t)}}function ii(n){this.isValid=function(){return!0};this.doAction=function(){return p.storeStateInCookie(),nt.playSetTimeout(function(){w.stepWasCompleted();w.executeTutorialNextStep()},1e3*n.duration),!0};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action}function ri(){this.isValid=function(){return!0};this.doAction=function(){w.stepWasCompleted();p.storeStateInCookie();nt.libSetTimeout(function(){location.reload(!0)},200)};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action}function ui(n,t,u){this.isValid=function(){return!0};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action;var f={stepId:u.Id,tutorialId:u.TutorialId};this.doAction=function(){var n=r.keysConfig.passOwnership.newWindowTime;if(r.saveData(n.key,(new Date).getTime(),n.expiry),!rt.get().enabled())return tt.customerLog("Reached pass ownership step but the feature is not supported, the next step will not be executed."),void w.tutorialFinished();rt.get().determineOwnership(f)}}function fi(n){this.isValid=function(){return!0};this.doAction=function(){t.saveData(n.dataKey,n.dataValue,n.dataDuration);w.stepWasCompleted();w.executeTutorialNextStep()};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action}function ei(n){this.isValid=function(){return!0};this.doAction=function(){n&&n.uiComponent&&n.uiComponent.destroy()};this.Type=i.DEPLOYABLE_ACTION_TYPES.Close}function oi(n,t,r){this.isValid=function(){return!0};this.doAction=function(){var u,f,s,h;try{u={type:t};r&&(u.objectId=r.Id);f=n.shuttleId;g.get(i.DEPLOYABLE_TYPE.Shuttle).activateById(f,u)}catch(c){s="Failed playing shuttle with id {0}. Exception is: {1}";h=e(s,n.wtId,o(c));tt.customerLog(h)}};this.Type=i.DEPLOYABLE_ACTION_TYPES.Action}function si(n,t,r){this.doAction=function(){var n=new Date;n.setDate(n.getDate()+1);et(n,t,r)};this.Type=i.DEPLOYABLE_ACTION_TYPES.RemindMeLater}function hi(n,t,r){this.doAction=function(){et(new Date,t,r)};this.Type=i.DEPLOYABLE_ACTION_TYPES.RemindMeLater}function et(n,i,r){var u=h.map(i),f=t.keysConfig.remindMeLater.remindMeLater+"-"+u+"-"+r.Id,e={expiry:n.getTime()};t.saveData(f,o(e),yi)}this.get=function(n,t,i,r){return new ot[n](t||{},i,r)};var ot={none:wt,playBf:lt,playWt:at,openMenu:ht,playContent:vt,playSurvey:yt,shoutOut:pt,redirect:bt,refresh:ri,branchWt:kt,stopWt:dt,playStep:gt,openPlayerMenu:ni,waitForCond:ti,delay:ii,passOwnership:ui,setWalkMeData:fi,destroy:ei,playShuttle:oi,remindMeNextDay:si,remindMeNextTime:hi,openTeachMe:ct,checkMyForm:st}}function dot(n,t,i,r){function f(n){return n.properties().hasProperty(t.UI_PROPERTIES.Visible)}var u=this;u.isGroup=function(n){return n?void 0!==n.LinkedDeployables:!1};u.isCollection=function(n){return n&&n.deployableType==t.DEPLOYABLE_TYPE.Collection};u.isSearchEnabled=function(){var n=i.get();return n.Settings&&Number(n.Settings.search)};u.hasChildren=function(n){for(var i=n.LinkedDeployables,t=0;t<i.length;t++){var e=r.get(i[t].DeployableType),f=e.getById(i[t].DeployableID),o=u.isGroup(f)?u.hasChildren(f):f;if(o)return!0}return!1};u.hasVisibleChildren=function(n,t){for(var r,i=0;i<t.length;i++)if(r=t[i],f(r))return!0;return!1};u.supportsDeployableType=function(n,t){var i=n.Settings,r=i&&i.DeployableTypes;return r&&mtjQuery.inArray(t+"",n.Settings.DeployableTypes)!=-1?!0:!1};u.hasUncompletedChildren=function(n){for(var i,r=0;r<n.length;r++)if(i=n[r],i._typeId===t.DEPLOYABLE_TYPE.Category){if(u.hasUncompletedChildren(i._children))return!0}else if(f(i)&&!i.properties().hasProperty(t.UI_PROPERTIES.Completed))return!0;return!1};u.isTab=function(n){var t=n.Settings;return t&&t.DeployableTypes};u.isTasksTab=function(n){return u.isGroup(n)&&u.supportsDeployableType(n,t.DEPLOYABLE_TYPE.Task)};u.isHelpTab=function(n){return u.isGroup(n)&&u.supportsDeployableType(n,t.DEPLOYABLE_TYPE.Tutorial)};u.isCourse=function(n){return n&&n.deployableType==t.DEPLOYABLE_TYPE.Course}}function got(n,t,i,r,u,f,e){function h(){o=e.wrapCustomerLog("showWidget");gr._tasksManager=f.get(i.DEPLOYABLE_TYPE.Task)}var o,s=this;s.generateAll=function(e){return[new nst(e,f),new fst(e,n,t,i,r,u,o),new gr(e,i,u,f),new tst(e,i,u),new rst(e,i,f),new ist(e,i),new ust(e,i)]};h()}function ost(n,t,i){this.create=function(r){return new est(n,t,i,r)}}function sst(n,t,i,r,u){function e(n,t,i){var s=u.get(n.deployableType),f={deployable:n,deployableChildren:t},e;return i&&(f.parentType=i.deployableType,f.parentId=i.Id),e=r.create(f),o({deployable:n,deployableManager:s,children:t,propertiesGenerator:e})}function o(n){function t(t,i){n.deployableManager.activateById(t,i)}return i({typeId:n.deployable.deployableType,type:n.deployableManager.name(),id:n.deployable.Id,activateFunction:t,description:n.deployable.Description,childNodes:n.children,name:n.deployable.Name,propertiesGenerator:n.propertiesGenerator,keywords:s(n.deployable)})}function s(i){switch(i.deployableType){case n.DEPLOYABLE_TYPE.BusinessSolution:return t.getSettingsValue(i.Settings,"Keywords",void 0);default:return i.Keywords}}var f=this;f.generate=e}function hst(n,t,i,r,u,f){function h(){var t=o(s(e));return f.raiseEvent(n.EVENTS.UIObjectsTreeCreated,{uiObjectsTree:t}),t}function c(){return o(r.filter(s(e),l))}function o(n){return t.generate(n)}function l(t){return u.supportsDeployableType(t,n.DEPLOYABLE_TYPE.Task)}function s(n){for(var t=i.get(n).getAll(),r=0;r<t.length;r++)t[r].deployableType=n;return t}this.uiObjectsTree=h;this.uiTasksTree=c;var e=n.DEPLOYABLE_TYPE.Collection}function cst(n,t){function u(n){return f(n),i(n,null)}function f(n){n&&n.sort(function(n,t){return n.OrderIndex-t.OrderIndex})}function i(t,r){var f,u,o,s;if(t){for(f=[],u=0;u<t.length;u++)o=e(t[u]),s=i(o,t[u]),f.push(n.generate(t[u],s,r));return f}}function e(n){var r;if(!n.LinkedDeployables)return null;for(var u=[],i=n.LinkedDeployables,t=0;t<i.length;t++)r=o(i[t].DeployableType,i[t].DeployableID),r&&u.push(r);return u}function o(n,i){var u=t.get(n),r=u.getById(i);return r&&(r.deployableType=n),r}var r=this;r.generate=u}function lst(){function i(t,i){var r=n(t,i);return r&&r.total>0?Math.round(100*r.completed/r.total):0}function n(t,i){var f={total:0,completed:0},e=t.children();return e&&r.each(e,function(t,r){var e=n(r,i);f.total+=e.total;f.completed+=e.completed;u(r,i)&&(f.total++,r.properties().hasProperty("completed")&&f.completed++)}),f}function u(n,t){return n.type()==t&&!n.properties().hasProperty("phantom")&&n.properties().hasProperty("visible")}var t=this;t.calculate=i}function ast(n,t,i,r,u,f,e,o,s,h){function a(n,t){var i="data_"+n+"_wt_"+t,r=e.getCurrentLanguage();return r&&(i+="_"+r),i+".js"}function v(i,r,u){var e=n.getPublishDirectory(),o=n.getPublishVersion(),s=e+a(o,r);f.customerLog("Retriving steps for Walkthtu: "+r,3);t.execute({url:s,dataType:"jsonp",cache:!0,jsonpCallback:"walkme_steps_"+r,success:function(n){w(i,n);y(n,u)},error:function(){f.customerLog("Error: unable to receive data for Walkthtu: "+r,3);u()}})}function y(n,t){for(var e,o,i=[],f=0;f<n.length;f++)e=n[f],u.isBranchStep(e)&&(o=e.Settings.action.arguments.wtId,i.push(l(o))),i=i.concat(p(e));r.executeParallel({functionsToExecute:i,successCallback:t})}function l(n){return function(t){c.afterStepsLoaded(n,t)}}function p(n){var r=[],i,t;if(n.LinkedTutorialIds)for(i=n.LinkedTutorialIds.split(";"),t=0;t<i.length;t++)i[t]&&r.push(l(i[t]));return r}function w(n,t){var r=h.getWalkthrus();r[n].Steps=t;i.fixSteps(r[n],s.get())}function b(n){for(var i=h.getWalkthrus(),t=0;t<i.length;t++)if(i[t].TutorialId==n)return t;return-1}var c=this;c.afterStepsLoaded=function(n,t){var r=h.getWalkthrus(),i=b(n);return r[i]&&0==r[i].Steps.length?(v(i,n,t),!0):t()};c.LoadStepsForWT=function(n){return c.afterStepsLoaded(n,function(){})}}function ot(n){var t;this.concat=function(i){if(n&&n.adapt(i),t)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r]);else t=i};this.get=function(){for(var n=t,i=0;i<arguments.length;i++)n=n[arguments[i]];return n}}function vst(n){function u(){i()}function i(){r([])}function r(i){i&&(t.value=n.filter(i,function(n){return n}),f())}function f(){t.defaults={};var i=n.filter(t.value,function(n){return n.isDefault});n.foreach(i,function(n){t.defaults[n.entityType]=n.id})}var t=this;t.reset=i;t.set=r;u()}function yst(n,t){function r(){var i=t.map(n.value,function(n){return n.css});return i.join(" ")}var i=this;i.get=r}function pst(n,t){function r(i,r){if(i){var u=i.DesignTemplateId||t.defaults[r];if(u)return n.designTemplateCssClassPrefix+u}}var i=this;i.get=r}function wst(n){function i(t){var i,r;if(t)for(i=0;i<n.value.length;i++)if(r=n.value[i],r.id==t)return r.html}var t=this;t.get=i}function bst(n,t){function u(n,i,r,u){var o=f(i);e(n,o,u);t.replace(n.html,r)}function f(n){for(var r,i={},t=0;t<n.length;t++)r=n[t],i[r.Name]=r.Config;return i}function e(t,i,r){for(var u in i)o(u)&&i.hasOwnProperty(u)&&n.replace(t,u,i[u],r)}function o(n){return r.test(n)}var i=this,r=/^[A-Za-z][A-Za-z0-9\\-_:\\.]*$/;i.replace=u}function kst(n,t){function f(r,u,f,o){var s=e(r.html,u),h;(n.replace(s,f),s.attr(i)==u)&&(h={element:s,entityType:r.type},t.replace(h,f,o,r.actionArgs))}function e(n,t){var u="["+r+"='"+t+"'],["+i+"='"+t+"']";return n.find(u).andSelf().filter(u)}var u=this,r,i;u.replace=f;r="wm-placeholder";i="wm-action-placeholder"}function dst(n,t){function r(n,t){u(n,t.attributes||{});f(n,t.content);e(n,t.css)}function u(n,t){for(var i in t)t.hasOwnProperty(i)&&n.attr(i,t[i])}function f(i,r){if(void 0!=r){var u=n.parse(t.nl2br(r));i.html(u)}}function e(n,t){if(void 0!=t){var i=n.attr("style"),r="";i&&(r=i);n.attr("style",r+";"+t)}}var i=this;i.replace=r}function gst(){function i(t,i){var r,u,f;for(r in n)u="["+r+"]",f=t.find(u).andSelf().filter(u),f.prepend(i[n[r]])}var t=this,n;t.replace=i;n={"wm-variable-current-step":"passedVisibleSteps","wm-variable-total-steps":"totalVisibleSteps"}}function nht(n,t,i,r){function f(u,f,e,o){var h=u.element,s,c,l;f.IsActive?u.entityType==t.ENTITY_TYPE.step&&"destroy"==f.Type?h.addClass("walkme-action-close"):(s={},i.extend(s,f.Args,o),c=n.get(f.Type,s,e.type,e.initiator).doAction,l=r.wrapByEntityType(u.entityType,c,s,f),h.bind("click",l)):h.remove()}var u=this;u.replace=f}function tht(n,t){function o(f,e){var s=n.getMainElementsWithPlaceholders(f),o=t.getActiveMainElementPlaceholderConfigs(e,s),h;(o[i]&&u(o,s,0,i),o[r])&&(h=1==o.length?0:1,u(o,s,h,r))}function u(n,t,i,r){var u=s(i,n[r].Config.Type);t[r].element.addClass(u)}function s(n,t){return e+t+"-"+n}var f=this;f.addClasses=o;var e="walkme-action-",i="action",r="close"}function iht(){function t(n,t){return n.replace(/{{{cssReset}}}/g,t.cssReset).replace(/{{colors.xBtn}}/g,t.colors&&t.colors.xBtn).replace(/{{direction.oppositeSide}}/g,t.direction&&t.direction.oppositeSide).replace(/{{xBtn.marginHorizental}}/g,t.xBtn&&t.xBtn.marginHorizental).replace(/{{xBtn.marginTop}}/g,t.xBtn&&t.xBtn.marginTop).replace(/{{data.balloonCloseTooltip}}/g,t.data&&t.data.balloonCloseTooltip).replace(/{{direction.basic}}/g,t.direction&&t.direction.basic).replace(/{{top.title.paddingTop}}/g,t.top&&t.top.title&&t.top.title.paddingTop).replace(/{{direction.side}}/g,t.direction&&t.direction.side).replace(/{{top.textAlign}}/g,t.top&&t.top.textAlign).replace(/{{colors.header}}/g,t.colors&&t.colors.header).replace(/{{{data.title}}}/g,t.data&&t.data.title).replace(/{{{title}}}/g,t.title).replace(/{{top.content.sideMargin}}/g,t.top&&t.top.content&&t.top.content.sideMargin).replace(/{{top.content.oppositeSideMargin}}/g,t.top&&t.top.content&&t.top.content.oppositeSideMargin).replace(/{{colors.content}}/g,t.colors&&t.colors.content).replace(/{{{data.content}}}/g,t.data&&t.data.content)}var n=this;n.apply=t}function rht(){function o(t){var u={};return n(t,u,i,f),n(t,u,r,e),u}function n(n,t,i,r){var f=n.find(i),e=f.attr(u);e&&(t[r]={placeholderName:e,element:f})}var t=this;t.getMainElementsWithPlaceholders=o;var i=".wm-template-main-bg",r=".wm-close-link",u="wm-action-placeholder",f="action",e="close"}function uht(){function r(i,r){for(var f,u={length:0},e=0;e<i.length&&u.length<2;e++)f=i[e],f.Config.IsActive&&(r[n]&&f.Name==r[n].placeholderName?(u[n]=f,u.length++):r[t]&&f.Name==r[t].placeholderName&&(u[t]=f,u.length++));return u}var i=this,n,t;i.getActiveMainElementPlaceholderConfigs=r;n="action";t="close"}function fht(n){function r(){t.push(n)}function u(n,i,r,u){for(var f=0;f<t.length;f++)if(t[f].getType()==n)return t[f].wrap(i,r,u);return i}var i=this,t;i.wrapByEntityType=u;t=[];r()}function eht(n){function r(){return n.ENTITY_TYPE.shoutout}function u(n,t,r){return function(){n();r.Type!=i&&t.uiComponent.destroy()}}var t=this,i;t.getType=r;t.wrap=u;i="destroy"}function oht(n,t){function r(i,r,u){var f={html:r,type:t.ENTITY_TYPE.shoutout},e={};u&&(f.actionArgs={uiComponent:u},e={initiator:u._uiComponent,type:u.getInitiatorType()});n.replace(f,i||[],{},e)}var i=this;i.replace=r}function sht(n){function i(t,i){n.shouldDisplayX(i)||t.find(".walkme-custom-balloon-close-button").remove()}var t=this;t.removeIfShould=i}function hht(n){return[{linkSelector:".walkme-action-start-wt",idDataKey:"data-walkthru-id",clickEvent:n.EVENTS.BBCodeStartActionClicked.Walkthru},{linkSelector:".walkme-action-start-resource",idDataKey:"data-resource-id",clickEvent:n.EVENTS.BBCodeStartActionClicked.Resource},{linkSelector:".walkme-action-start-survey",idDataKey:"data-survey-id",clickEvent:n.EVENTS.BBCodeStartActionClicked.Survey},{linkSelector:".walkme-action-start-bf",idDataKey:"data-bizflow-id",clickEvent:n.EVENTS.BBCodeStartActionClicked.Bizflow}]}function cht(n,t,i,r){function f(n,u,f){mtjQuery(i).each(function(i,o){mtjQuery(o.linkSelector,n).each(function(){mtjQuery(this).click(function(){var n=parseInt(mtjQuery(this).attr(o.idDataKey));e(o.clickEvent,n,f,u)});t.raiseEvent(r.EVENTS.RegisterBBCodeDeployableClick,{element:mtjQuery(this)})})})}function e(i,r,u,f){var e=n.get(i);t.raiseEvent(i,{id:r,asyncCallback:function(){e(r,u);f&&f()}})}var u=this;u.bind=f}function lht(n,t){function u(t){switch(t){case i.Walkthru:return n.walkthruActivator;case i.Bizflow:return n.bizflowActivator;case i.Resource:return n.resourceActivator;case i.Survey:return n.surveyActivator}}var r=this,i=t.EVENTS.BBCodeStartActionClicked;r.get=u}function aht(n,t,i,r,u,e,o,s,h){function a(t,r){var u=n.mapBbcodeInitiator(r);i.deprecatedRaiseEvent("switchToWalkthru",t);s.afterStepsLoaded(t,function(){WalkMeAPI.startWalkthruById({id:t,fromStep:0,playInitiator:u})})}function v(i,r){var u=n.mapBbcodeInitiator(r);t.activateById(i,u)}function y(t,i){var u=n.mapBbcodeInitiator(i);l();r.activateById(t,u)}function p(t,i){var e=n.mapBbcodeInitiator(i),r=o.getCurrentWalkthru(),s,h;(l(),t==-1)?r&&(s=u.SURVEY_START_EVENTS.BbCodeClicked,h=r.Settings.survey&&r.Settings.survey.surveyId,f.get("WalkthruSurveyActivator").activateSurvey(r,s,e,h,"always")):WalkMeAPI.startSurveyById(t,e)}function l(){e.stopTutorial(!1,!0);h.stop()}var c=this;c.walkthruActivator=a;c.bizflowActivator=v;c.resourceActivator=y;c.surveyActivator=p}function vht(n,t,i){function u(r){for(r.currentIndex=r.currentIndex+1;r.currentIndex<r.exp.length;r.currentIndex++){var u=r.exp.charAt(r.currentIndex);switch(u){case n.OPEN_TAG:i.parse(r,n.ATTRIBUTE_STATE);break;case n.CLOSE_TAG:return t.go(r);default:r[n.ATTRIBUTE_STATE]+=u}}}var r=this;r.go=u}function yht(n,t){function r(i){for(i.currentIndex=i.currentIndex+1;i.currentIndex<i.exp.length;i.currentIndex++){var r=i.exp.charAt(i.currentIndex);switch(r){case n.CLOSE_TAG:return t.translateTag(i);default:i[n.CLOSE_TAG_STATE]+=r}}}var i=this;i.go=r}function pht(n,t,i){function u(r){for(r.currentIndex=r.currentIndex+1;r.currentIndex<r.exp.length;r.currentIndex++){var u=r.exp.charAt(r.currentIndex);switch(u){case n.OPEN_TAG:if("/"==r.exp.charAt(r.currentIndex+1))return t.go(r);i.parse(r,n.DATA_STATE);break;default:r[n.DATA_STATE]+=u}}}var r=this;r.go=u}function wht(n,t,i){function u(r){for(r.currentIndex=r.startIndex+1;r.currentIndex<r.exp.length;r.currentIndex++){var u=r.exp.charAt(r.currentIndex);switch(u){case n.OPEN_TAG:r.startIndex=r.currentIndex;break;case n.CLOSE_TAG:return t.go(r);case"=":case" ":return i.go(r);default:r[n.OPEN_TAG_STATE]+=u}}}var r=this;r.go=u}function bht(){function t(n,t){var i=f.get("BBCodeSingleTagParser").parseSingleTag(n.exp,n.currentIndex);n[t]+=i.parsedExpPart||"";n.exp!=i.exp?(n.currentIndex=i.startIndex,n.exp=i.exp):n[t]+=n.exp.charAt(n.currentIndex)}var n=this;n.parse=t}function kht(n,t){function e(){for(var n in r)i["\\["+n+"=([^\\]]+)]"]='<span style="'+r[n]+'">',i["\\[/"+n+"]"]="<\/span>"}function o(n){if(n=s(n),n=h(n),n.replace)for(var t in i)n=n.replace(new RegExp(t,"g"),i[t]);return n}function s(n){return n.replace?n.replace(/javascript:/gi,""):n}function h(n){if(!n.indexOf||n.indexOf("on")<0)return n;for(var t=0;t<u.length;t++)n=n.replace(new RegExp(u[t]+"\\s*=","gi"),"^");return n}var f=this,r={font:"font-family:$1",size:"font-size:$1px",color:"color:$1"},u=["onblur","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","onerror","onfocus","onfocusin","onfocusout","onhashchange","onkeydown","onkeypress","onkeyup","onload","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpaste","onreset","onresize","onscroll","onselect","onsubmit","ontextinput","onunload","onwheel"],i={};f.parse=function(n){if(!n)return"";for(var r=0,i={exp:o(n),length:n.length};r<i.exp.length-1;)i=t.parseSingleTag(i.exp,r),r=i.startIndex;return i.exp};e.apply(null,arguments)}function dht(n,t){function r(i,r){var e=i.indexOf(n.OPEN_TAG,r),o,f;return e>-1&&(o=u(i,e),f=t.go(o),f)?f:{exp:i,startIndex:i.length}}function u(t,i){var r={startIndex:i,currentIndex:i,exp:t};return r[n.OPEN_TAG_STATE]="",r[n.ATTRIBUTE_STATE]="",r[n.DATA_STATE]="",r[n.CLOSE_TAG_STATE]="",r}var i=this;i.parseSingleTag=r}function ght(n){function i(n){var t=n.exp.substring(n.startIndex,n.currentIndex+1),u=r(n,t),i=void 0!=u?u:t;return i!=t&&(n.exp=n.exp.replace(t,i)),{startIndex:n.currentIndex+(i.length-t.length),exp:n.exp,parsedExpPart:i}}function r(t,i){if("/"+t.openTag!=t.closeTag)return i;t.attr.indexOf("javascript:")>-1&&(t.attr="");var r=n.get(t.openTag);return r.getHTML(i,t.openTag,t.attr,t.data)}var t=this;t.translateTag=i}function nct(){var n=this;n.ATTRIBUTE_STATE="attr";n.DATA_STATE="data";n.OPEN_TAG_STATE="openTag";n.CLOSE_TAG_STATE="closeTag";n.OPEN_TAG="[";n.CLOSE_TAG="]"}function tct(n){function i(n){for(var i,r=["width","height"],t=0;t<r.length;t++)i=r[t],n[i]&&(n[i]=u(n[i]))}function u(t){return t&&(n.isNumber(t)||t.match(/^\d+$/))?t+"px":t}function f(n){for(var t,u,f,i={},r=new RegExp('([^\\s]+)="([^\\"]*)"',"g");t=r.exec(n);)u=t[1],f=t[2],i[u]=f;return i}function e(n,t){r.each(n,function(i){var u=r.inArray(i,t)==-1;u&&delete n[i]})}function o(n,t,i){var r;if(void 0!=n)for(r=0;r<t.length;r++){var u=t[r],f=i[u],e=void 0==f,o=void 0!=n[u],s=e&&o;s&&(i[u]=n[u])}}var t=this;this.generateCustomTagAttributes=function(n){var t="";return(mtjQuery.each(n,function(n,i){t+=n+'="'+i+'" '}),t=t.replace(/\s+$/,""))?" "+t:t};this.getStrictProperties=function(n,i,r){var u=t.getProperties(n,i,r);return e(u,n),u};this.getProperties=function(n,t,r){void 0!=t&&(t=t.replace(/&quot;/gi,'"'));var u=f(t);return o(r,n,u),i(u),u}}function ict(){var t=["title"],f=["alt"].concat(t),n=["style","class","id","tabindex","aria-label","aria-live","role"].concat(t),i=["width","height"].concat(n),e=["channelmode","directories","fullscreen","left","top","target","location","menubar","resizable","scrollbars","status","titlebar","toolbar"].concat(i),o=["border","cellspacing","cellpadding"].concat(n),u=["autoplay"].concat(i),r=["href"].concat(n);return{table:o,tr:n,th:n,td:n,tbody:n,p:n,div:i,span:i,iframe:i,youtube:u,vimeo:u,wistia:u,brightcove:u,html5video:u,wt:r,bf:r,flow:r,swt:r,url:e,flash:i,img:f,b:t,u:t,i:t,ul:t,li:t,survey:r,trg:n,resource:r}}function rct(n,t){function u(n){return i=i||{youtube:{url:r("http://www.youtube.com/embed/"),name:"youtube",allowFullScreen:"allowfullscreen"},vimeo:{url:r("http://player.vimeo.com/video/"),name:"vimeo",allowFullScreen:"webkitAllowFullScreen mozallowfullscreen allowFullScreen"},wistia:{url:r("http://fast.wistia.net/embed/iframe/"),name:"wistia",allowFullScreen:"allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen",additionalParams:' allowtransparency="true" scrolling="no" class="wistia_embed" name="wistia_embed"'}},i[n]}function r(n){return f()?n.replace("http:","https:"):n}function f(){return n.get()&&n.get().indexOf("https:")!=-1}var i;this.get=function(n){var i=u(n);if(i)return i;t.error(new Error("Unsupported video vendor "+n))}}function uct(n,t,i,r,u){function h(n,t){var r='<span id="walkme-new-window-link-{{{spanId}}}"'+(t.title?' title="{{{title}}}"':"")+"><a class=\"walkme-custom-bbcode-link {{{classes}}}\" style=\"color: inherit; text-decoration:underline; {{{style}}}\" href=# onclick=\"event.preventDefault ? event.preventDefault() : event.returnValue = false;_walkmeInternals.ctx.get('CommonEvents').raiseEvent('BBCodeLinkClicked', {Src : '{{{src}}}' });window.open({{{srcForOpen}}},'{{{target}}}',{{{specs}}});\" data-url='"+t.data+"'>{{{label}}}<\/a><\/span>",u=o++,i;return t.spanId=u,i=c(n),t.specs="'"+i+"'",t.srcForOpen="'"+t.src.replace(/\'/g,"")+"'",r}function c(n){for(var i,u=["width","height","channelmode","directories","fullscreen","left","top","location","menubar","resizable","scrollbars","status","titlebar","toolbar"],t="",r=u.length-1;r>=0;r--)i=u[r],n[i]&&(t+=e("{0}={1},",i,n[i].replace(/\'/g,"").replace(/px$/,"")));return t.length>0&&(t=t.substring(0,t.length-1)),t}function l(n,t,i){var r="<a"+(t.title?' title="{{{title}}}"':"")+' target="{{{target}}}" class="walkme-custom-bbcode-link {{{classes}}}" onclick="_walkmeInternals.ctx.get(\'CommonEvents\').raiseEvent(\'BBCodeLinkClicked\', {Src : \'{{{src}}} \'});" style="color: inherit; text-decoration:underline; {{{style}}}" {{{linkTypes}}}{{{src}}}" data-url=\''+t.data+"'>{{{label}}}<\/a>";return t.linkTypes=i,r}function a(n){var r=f(),t;if(void 0==r)return n;for(t=0;t<r.length;t++)if(i.isLike(n,r[t]))return n;return""}function v(n,t){for(var r,i=0;i<t.length;i++)if(r=n.indexOf("="),r>-1&&(n=n.substring(0,r)),t[i]==n)return!0;return!1}var o=0,s={url:'href="',anchor:'name="',email:'href="mailto: '},f;this.getHTML=function(i,r,f,e){var c=f,y,w,b,o,p;return c&&(y=c.split(" "),v(y[0],n[r])||(w=y[0],c=y.splice(1,y.length-1).join(" "))),o=t.getStrictProperties(n[r],c,{"class":"",style:"",target:"_blank"}),p={classes:o["class"],target:o.target,src:a(w||e),label:e,style:o.style,title:o.title,data:c.replace(new RegExp("^"+w||e),"")},b=o.height&&o.width?h(o,p):l(o,p,s[r]),u.to_html(b,p)};f=function(){var n=r.get().Settings;return n&&n.UrlWl}}function fct(n,t,i){this.getHTML=function(r,u,f,e){var o=-1,s=f,c;s&&(c=s.split(" "),o=c[0],o=i.isNumber(o)?o:-1,s=c.splice(1,c.length-1).join(" "));var h=t.getStrictProperties(n[u],s,{"class":"",style:""}),l=h["class"],a=h.style;return delete h["class"],delete h.style,'<a style="cursor: pointer; '+a+'" class="walkme-custom-bbcode-wt-link walkme-action-start-wt '+l+'" data-walkthru-id="'+o+'"'+t.generateCustomTagAttributes(h)+" data-"+u+"='"+s+"'>"+e+"<\/a>"}}function ect(n,t,i){this.getHTML=function(r,u,f,e){var o=-1,s=f,c;s&&(c=s.split(" "),o=c[0],o=i.isNumber(o)?o:-1,s=c.splice(1,c.length-1).join(" "));var h=t.getStrictProperties(n[u],s,{"class":"",style:""}),l=h["class"],a=h.style;return delete h["class"],delete h.style,'<a style="cursor: pointer; '+a+'" class="walkme-custom-bbcode-bf-link walkme-action-start-bf '+l+'" data-bizflow-id="'+o+'"'+t.generateCustomTagAttributes(h)+" data-"+u+"='"+s+"'>"+e+"<\/a>"}}function oct(n,t){function i(n){var t=r(n);return t.toTagAttributes()}function r(n){var i=new RegExp("^(\\d+)x(\\d+)[^\\]]*"),t=f(n,i);return{height:t[0],width:t[1],toTagAttributes:u}}function u(){return this.height&&this.width?' width="'+this.height+'px" height="'+this.width+'px" style="width:'+this.height+"px; height:"+this.width+'px"':""}function f(n,t){var i=t.exec(n);return null!=i&&i.length>2?i.splice(0,1):i=[void 0,void 0],i}this.getHTML=function(r,u,f,e){var h=n.getStrictProperties(t[u],f),o=f,s;return o&&(s=o.split(" "),o=s.splice(1,s.length-1).join(" ")),'<img src="'+e+'"'+i(f)+n.generateCustomTagAttributes(h)+" data-"+u+"='"+o+"'/>"}}function sct(n,t,i,u){function f(n){var i="",t=d(n);return delete t.height,delete t.width,r.each(t,function(n,t){i+=e("{0}={1}&",n,t)}),i}this.getHTML=function(r,e,o,s){var c=t.getProperties(n[e],o,{width:420,height:315}),l=f(c),h=i.get(e),a=h.url+s+"?"+l;return u.to_html('<iframe data-{{{vendorName}}}-id="{{{videoId}}}" src="{{{src}}}" frameborder="0" {{{allowFullScreen}}} style="position:relative; width: {{{width}}}; height: {{{height}}};"{{{additionalParams}}}><\/iframe>',{vendorName:h.name,videoId:s,width:c.width,height:c.height,src:a,allowFullScreen:h.allowFullScreen,additionalParams:h.additionalParams})}}function hct(n,t,i){function r(n){var t="width: "+n.width+"; height: "+n.height+";";n.style=t+(n.style||"");delete n.width;delete n.height}this.getHTML=function(u,f,e,o){var s=n.getProperties(t[f],e,{width:420,height:315}),h;return r(s),h='<iframe src="{{{src}}}" frameborder="0"'+n.generateCustomTagAttributes(s)+" data-"+f+"='"+e+"'><\/iframe>",i.to_html(h,{src:o})}}function cct(n,t){this.getHTML=function(i,r,u,f){return"p"==r&&(u=" "+u),"<"+r+n.generateCustomTagAttributes(n.getStrictProperties(t[r],u))+" data-"+r+"='"+u+"'>"+f+"<\/"+r+">"}}function lct(n,t,i){function u(r,u,f,e){var c=-1,s=f,h,o;return s&&(h=s.split(" "),c=i.isNumber(h[0])?h[0]:-1),o=n.getStrictProperties(t[u],s),delete o["class"],delete o.style,'<a data-survey-id="'+c+'" class="walkme-custom-bbcode-survey walkme-action-start-survey" style="cursor: pointer;"'+n.generateCustomTagAttributes(o)+">"+e+"<\/a>"}var r=this;r.getHTML=u}function act(n,t,i){this.getHTML=function(r,u,f,e){var c="",s=f,h,o;return s&&(h=s.split(" "),c=i.isNumber(h[0])?h[0]:""),o=n.getStrictProperties(t[u],s),delete o["class"],delete o.style,'<a data-resource-id="'+c+'" class="walkme-action-start-resource" style="cursor: pointer;"'+n.generateCustomTagAttributes(o)+">"+e+"<\/a>"}}function vct(n,t,i){this.getHTML=function(r,u,f,e){var o=n.getStrictProperties(t[u],f,{width:420,height:315});return i.to_html('<div class="walkme-custom-flash-wrapper" style="width: {{{width}}}; height: {{{height}}};"><object type="application/x-shockwave-flash" data="{{{swf}}}" allowNetworking="none" allowFullScreen="false" width="{{{width}}}" height="{{{height}}}"><param name="SRC" value="{{{swf}}}"/><param name="allowNetworking" value="none"/><param name="allowFullScreen" value="false"/><\/object><\/div>',{swf:e,width:o.width,height:o.height})}}function yct(n,t,i){this.getHTML=function(r,u,e,o){if(i.get())return'<img alt="'+o+'" dynamic-type="jquery" class="dynamic-text-content">';var s=n.encodeText(t.getjQueryElementText(o));return f.get("BBCodeParser").parse(s)}}function pct(n,t){this.getHTML=function(i,r,u,e){if(t.get())return'<img alt="'+e+'" dynamic-type="cookie" class="dynamic-text-content">';var o=n.getWindowCookie(e);return null!=o&&o!==!1||(o=""),f.get("BBCodeParser").parse(n.encodeText(o))}}function wct(n,t){this.getHTML=function(i,r,u,e){if(t.get())return'<img alt="'+e+'" dynamic-type="var" class="dynamic-text-content">';var o=n.getWindowVar(e);return null!=o&&o!==!1||(o=""),f.get("BBCodeParser").parse(n.encodeText(o))}}function bct(n,t,i){this.getHTML=function(r,u,e,o){if(t.get())return'<img alt="'+o+'" dynamic-type="wm-data" class="dynamic-text-content">';var s=i.getData(o);return null!==s&&s!==!1||(s=""),f.get("BBCodeParser").parse(n.encodeText(s))}}function kct(n,t,i){this.getHTML=function(r,u,f,e){var o=n.getProperties(t[u],f,{width:420,height:315});return i.to_html('<video controls height="{{height}}" width="{{width}}" {{autoplay}} src="{{{src}}}"><\/video>',{src:e,width:o.width,height:o.height,autoplay:o.autoplay?"autoplay":""})}}function dct(){function t(n,t,i,r){var u=window.walkme_custom_bbcode_parser;if("function"==typeof u)return u(n,t,i,r)}var n=this;n.getHTML=t}function gct(n){function i(t,i,r,u){var f=-1,e=r,o;return e&&(o=e.split(" "),f=o[0],f=n.isNumber(f)?f:-1,e=o.splice(1,o.length-1).join(" ")),'<a style="cursor: pointer;" class="trg-'+f+'" data-'+i+"='"+e+"'>"+u+"<\/a>"}var t=this;t.getHTML=i}function nlt(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w){function k(b){switch(b){case"url":return n;case"wt":return t;case"bf":case"flow":case"swt":return i;case"img":return r;case"youtube":case"vimeo":case"wistia":return u;case"html5video":return w;case"iframe":return f;case"b":case"u":case"i":case"table":case"tr":case"th":case"td":case"tbody":case"div":case"span":case"ul":case"li":case"p":return e;case"survey":return o;case"resource":return p;case"flash":return s;case"jquery":return h;case"cookie":return c;case"var":return l;case"wm-data":return a;case"trg":return y;default:return v}}var b=this;b.get=k}function ri(n,t,i){var r,u,o,f,e;if(!n)return i;if(i=i||{},r=n.attributes,r)for(u in r)r.hasOwnProperty(u)&&"string"==typeof r[u]&&(r[u]=r[u].replace("###ResourcesDir###",t),"font-family"==u)&&(i.fonts=i.fonts||[],o=r[u].split(","),i.fonts.push(mtjQuery.trim(o[0])));if(f=n.children,f)for(e in f)f.hasOwnProperty(e)&&ri(f[e],t,i);return i}function tlt(n){this.adapt=function(t){var i,r,u;if(t)for(i in t)r=n.getResourcePath("/player/resources/templates/"+i),u=ri(t[i],r),t[i].metaData=u}}function ilt(n){this.adapt=function(t){var i,u,r,f,e;if(t)for(i in t)if(t[i])for(u in t[i])r=t[i][u],r&&r.Css&&(f=n.getResourcePath("/player/resources/templates/"+i+"/"+u),e=ri(r.Css,f),r.Css.metaData=e)}}function rlt(){function r(i,r){return i==n?t:r.Html}var i=this,n,t;i.getHtml=r;n=10;t='<div class="wm-outer-div wm-shoutout wm-shoutout-{{Id}} wm-template-bg wm-template-small-corner" id="wm-shoutout-{{Id}}">{{#templateHtml}}{{{templateHtml}}}{{/templateHtml}}{{^templateHtml}}<div class="wm-close-button {{XButtonClass}}">x<\/div><div class="wm-title wm-template-main-text">{{{Title}}}<\/div><div class="wm-content"><div class="wm-template-text">{{{Description}}}<\/div><div class="buttons-wrapper">{{#Actions}}{{#destroy}}<span class="{{CssClass}} wm-close-link">{{{Text}}}<\/span>{{/destroy}}{{^destroy}}<div class="{{CssClass}} wm-blue-btn wm-template-main-bg wm-main-border-bottom-darker wm-action-text-color wm-main-bg-hover">{{{Text}}}<\/div>{{/destroy}}{{/Actions}}<div style="clear: both"><\/div><\/div><\/div>{{/templateHtml}}<\/div>'}function gu(n,t,i){this.get=function(r,u){try{var o=t.get(r),e=f.create(o,u);return e.once("show-end",function(){i.deprecatedRaiseEvent("show-end",e)}),e}catch(s){n.error(s,"error generating class")}}}function ult(n,t,i,r,u,e){function v(){n.bind("removeWalkMe",k)}function y(){return i.get().DebuggerSettings&&"1"==i.get().DebuggerSettings.IsInPublish}function p(){f.get("PostMessageListener").listen(function(n){try{var t=c(n.data);"DEBUGGER_LOADED"==t.requestType&&a()}catch(i){u.customerLog("Error loading debugger from post message: "+i,4)}})}function a(t){b(t);n.dbgr.shouldClear=t;var i;i||(i=e.getPlayerRelatedPath()+"debugger/"+f.get("WalkMeInfo").getLibVersion()+"/");n.dbgr||(n.dbgr={});n.dbgr.rootPath=i;r.addScript(i+"walkme_debugger.js",null,w)}function w(){u.customerLog("Failed loading the Flow Tracker!",1);var t=n.dbgr;t&&t.debuggerWasLoaded&&t.debuggerWasLoaded()}function b(){n.dbgr||(n.dbgr={})}function k(){n.dbgr&&(n.dbgr.debuggerWasLoaded=null)}var s=this,h=t.keysConfig.wmDebugger.config,l=t.keysConfig.wmDebugger.state;s.launchDebuggerIfEnabled=function(n,t){y()&&s.launchDebugger(n,t)};s.launchDebugger=function(i,u){s.isDebuggerOnWindow()||(i?t.saveData(h.key,i,h.expiry):t.removeData(h.key),u&&(n.dbgr||(n.dbgr={}),n.dbgr.debuggerWasLoaded=u),a(!0),r.postMessageToFrameAndDescendants(window.top,o({requestType:"DEBUGGER_LOADED"})))};s.closeDebugger=function(){if(s.isDebuggerOnWindow()){var t=n.dbgr.close;t&&t()}delete n.dbgr};s.loadDebuggerFromStorage=function(){p();a()};s.isDebuggerOnWindow=function(){return!!n.dbgr};s.loadDebuggerForEditor=function(n){s.closeDebugger();t.saveData(h.key,{uiState:"wmd-minimize"},h.expiry);t.saveData(l.key,ct.ActiveAndReset,l.expiry);t.refreshGetData(void 0,n)};s.clearDebuggerState=function(){t.removeData(l.key);t.removeData(h.key)};v()}function flt(n){function f(){}var t=this,i="wmLogger.js",u="logger/"+i;t.launchLogger=function(){var t=document.createElement("script");t.setAttribute("type","text/javascript");t.setAttribute("src",n.getPlayerRelatedPath()+u);document.getElementsByTagName("head")[0].appendChild(t)};t.isLoggerActivated=function(){return r("script[src*='"+i+"']").length>0};f.apply(null,arguments)}function elt(){function n(){}this.isEnabled=n;this.registerProfilerCallback=n;this.startProfile=n}function olt(n){function i(t){try{u.addTimeStamp(t);n.deprecatedRaiseEvent("PerfTimestamp",t)}catch(i){}}var t=this;t.addTimeStamp=i}function slt(n){function u(t,r){var u;n.wrapSession(function(){u=i.triggerHandler(t)});r&&p.all(u||[]).then(r)}function f(n,t){i.on(n,t)}function e(n,t){i.off(n,t)}var t=this,i;t.trigger=u;t.bind=f;t.unbind=e;i=r(t)}function hlt(){var n=function(t,i,u,o,s,h,c){function vt(){yt();pt();y=o.VISIBILITY_STATE.HIDDEN;ot=u.checkIfTreeContainsSelectedElement(c.conditionTree);n.registerInstance(et)}function yt(){c.elementVisibilityParams&&(c.elementVisibilityParams.logContext=c.logContext,a=f.create("ElementVisibilityEvaluator",c.elementVisibilityParams))}function pt(){c.conditionCheckerParams&&(c.conditionCheckerParams.evaluationPollingIntervalMs=2e3,c.conditionCheckerParams.onlyPollConditionFunctions=!0,c.conditionCheckerParams.evaluateSonar=!1,c.conditionCheckerParams.stopPollingAfterEvaluateTrue=!1,c.conditionCheckerParams.getSelectedElement=it,l=i.createConditionChecker(c.conditionTree,c.conditionCheckerParams))}function it(){return a&&a.getElement()}function wt(){b=!1;t.customerLog(e("UIVisibilityManager watchForVisibility for {0} with stickyType {1}, with condition {2}, isRemoveByCondition {3}",c.logContext,c.stickyType,!!l,c.isRemoveByCondition),k,d);s.bindCheckByState(st);s.bindCheckIfShouldHideOrReposition(ct);at()&&s.bindCheckIfShouldShow(v);l&&(l.evaluateAsyncAndDontEvaluateImmediately(c.conditionTree),l.onSonar(v));v()}function g(){return y}function rt(){y=o.VISIBILITY_STATE.HIDDEN;lt();s.unbindCheckByState(st);s.unbindCheckIfShouldHideOrReposition(ct);s.unbindCheckIfShouldShow(v);h.remove(ut);p=null;a&&a.cleanResources();l&&l.cleanResources();n.unregisterInstance(et);b=!0}function st(){g()==o.VISIBILITY_STATE.HIDDEN?ht():bt()}function bt(){nt()&&tt()||ft()}function v(n){var i,t;if(g()==o.VISIBILITY_STATE.HIDDEN&&(i=ht(),n))return t=n.result||[],t.push(i),t}function ht(){return p?p.then(v):p=h.measure(ut).then(kt)}function ut(){var t=ot?[nt,tt]:[tt,nt],n=!0;return r.each(t,function(t,i){n=n&&i()}),n}function kt(n){(p=null,b)||(n?gt():at()||c.trackUIChanges||rt())}function nt(){return a?a.evaluateElementVisibility()==o.VISIBILITY_STATE.VISIBLE:!0}function tt(){return l?l.getValue():!0}function dt(){nt()||ft()}function ct(){g()==o.VISIBILITY_STATE.VISIBLE&&c.isRemoveByCondition&&!tt()&&ft()}function gt(){b||(y=o.VISIBILITY_STATE.VISIBLE,a&&(w=s.bindCheckRemoveForElement(it(),dt)),ni(),c.stickyType!=o.STICKY_TYPE.STRONG&&s.unbindCheckIfShouldShow(v))}function ni(){c.onShow&&(t.customerLog(e("UIVisibilityManager elementIsShown for {0}",c.logContext),k,d),c.onShow(it()))}function ft(){lt();y=o.VISIBILITY_STATE.HIDDEN;ti();c.stickyType==o.STICKY_TYPE.STRONG||c.trackUIChanges||rt()}function lt(){w&&(w.unbind(),w=null)}function ti(){c.onRemove&&(t.customerLog(e("UIVisibilityManager elementWasRemoved for {0}",c.logContext),k,d),c.onRemove())}function at(){return c.stickyType==o.STICKY_TYPE.SOFT||c.stickyType==o.STICKY_TYPE.STRONG}var et=this,l,a,y,ot,w,b,p,k,d;this.watchForVisibility=wt;this.getVisibilityState=g;this.shouldShow=ut;this.cleanResources=rt;k=3;d=o.FEATURES_LOGS.Flows;vt.apply(null,arguments)};return n.instances={},n.sequence=0,n.registerInstance=function(t){t._id=n.sequence;++n.sequence;n.instances[t._id]=t},n.unregisterInstance=function(t){delete n.instances[t._id]},n.cleanResources=function(){for(var t in n.instances)n.instances.hasOwnProperty(t)&&n.instances[t].cleanResources();n.instances={}},n}function clt(n,t,i,r,u){function p(){n.bind(w);h();c()}function w(){u.trigger(e)}function h(){u.trigger(o,b)}function b(){var n=r.sync("pollForShowLoop");t.setWalkmeTimeout(h,n||v)}function c(){u.trigger(s,k)}function k(){var n=r.sync("pollForRemoveLoopStart");t.setWalkmeTimeout(c,n||y)}function d(n,t){return i.isEnabled()?i.watchElement(n,t):(l(t),{unbind:function(){a(t)}})}function g(n){u.bind(e,n)}function nt(n){u.bind(o,n)}function l(n){u.bind(s,n)}function tt(n){u.unbind(e,n)}function it(n){u.unbind(o,n)}function a(n){u.unbind(s,n)}var f=this;f.bindCheckByState=g;f.bindCheckIfShouldShow=nt;f.bindCheckIfShouldHideOrReposition=l;f.unbindCheckByState=tt;f.unbindCheckIfShouldShow=it;f.unbindCheckIfShouldHideOrReposition=a;f.bindCheckRemoveForElement=d;var e="CheckByState",o="CheckIfShouldShow",s="CheckIfShouldHideOrReposition",v=2e3,y=800;p()}function llt(n,t){var i=[n.EVENT_SENDER_EVENT_TYPES.Click,n.EVENT_SENDER_EVENT_TYPES.Blur];return t.isFeatureEnabled("extendedEvents")&&(i.push(n.EVENT_SENDER_EVENT_TYPES.MouseEnter),i.push(n.EVENT_SENDER_EVENT_TYPES.Focus)),i}function alt(n,t){function u(n,i,u){function e(n){u(n.data.eventName)}var f=r(n);r(t).each(function(n,t){f.off(t+i);f.on(t+i,{eventName:t},e)})}function f(i,u){var f=n(i);r(t).each(function(n,t){f.off(t+u)})}var i=this;i.bind=u;i.unbind=f}function vlt(){function t(n){try{for(var i=!0,t=n.data("iframe");t&&i;)i=i&&t&&t.parents("html").length>0,t=t.data("iframe");return i}catch(r){return!1}}var n=this;n.areIframesAttached=t}function ylt(n,t){function r(i){var f=t.getSettingsValue(i,n.IS_STICKY_SETTING_KEY,!1),r=n.STICKY_TYPE.ONCE,u;return f&&(u=parseInt(t.getSettingsValue(i,n.STICKINESS_TYPE_SETTING_KEY,null)),r=u==n.OLD_STICKIES.STICKINESS_TYPES.soft?n.STICKY_TYPE.SOFT:n.STICKY_TYPE.STRONG),r}function u(n){return void 0==n.condHide?!!n.isEvaluationFrequency:!!n.condHide}var i=this;i.getStickyType=r;i.getIsRemoveByCondition=u}function plt(n,t,i){function h(){u=i.element;f=i.positionChangedCallback;e=i.embedmentType}function c(){r=n.getElementPosition(e,u);t.bindCheckIfShouldHideOrReposition(s)}function s(){var t=n.getElementPosition(e,u);l(t)&&(r=t,f&&f())}function l(n){return r.top!=n.top||r.left!=n.left||r.height!=n.height||r.width!=n.width}function a(){t.unbindCheckIfShouldHideOrReposition(s)}var o=this,u,f,e,r;o.track=c;o.destroy=a;h()}function wlt(n){function i(){}function r(t,i){var r=n.get(!1,t),u={element:t,positionChangedCallback:i,embedmentType:r};return f.create("UiElementPositionTracker",u)}var t=this;t.create=r;i()}function blt(n,t,i,r,u){function c(){o=u.callback}function l(){f=i.registerEventHandler(t.WINDOW_EVENTS.Resize,v,!1,n)}function a(){f&&f()}function v(){y()&&o.apply(void 0,arguments)}function y(){var t=r(n),i=t.width(),u=t.height(),f=s!=i||h!=u;return s=i,h=u,f}var e=this,o,s,h,f;e.track=l;e.destroy=a;c()}function klt(n){function u(n){o(n);i.track();n.isEmbedInElement||(s(n),t.track())}function e(){i&&i.destroy();t&&t.destroy();t=null}function o(n){var n={callback:n.callback};i=f.create("UiWindowSizeTracker",n)}function s(i){var i={embedmentType:n.get(!1,i.element),element:i.element,positionChangedCallback:i.callback};t=f.create("UiElementPositionTracker",i)}var i,t,r=this;r.trackChanges=u;r.stopTrackingChanges=e}function dlt(n){function r(){u()}function u(){t[n.FLOW_UIELEMENT_TYPE.Popup]=o;t[n.FLOW_UIELEMENT_TYPE.Element]=s}function e(n){return t[n.Type](n)}function o(n){return f.create("UIPopUpBalloon",n)}function s(n){return f.create("UIElementBalloon",n)}var i=this,t;i.createUIElement=e;t={};r.apply(null,arguments)}function glt(n,t,i,u,o,s,h,c,l,a,v,y){function wt(){p=y.uiElement;it=p.Triggers;st={title:p.Title,content:p.Text,subText:fi()};g=p.Id;rt=y.balloonButtons;ht=y.stepType;nt=!1;yt()}function bt(t){return yt(),n.customerLog(e("FlowBalloonDisplayer showUIElement showing balloon {0}",g),ct,ut),k=t,gt(),b.promise()}function kt(){return dt(function(){tt({wasElementShown:nt})}),b.promise()}function dt(n){ri();ui(n)}function gt(){var a=t.get(),v=a.BalloonSettings,b=s.getBalloonDrawer(v,p),d=o.peek().flowId,y,e;p.Settings.customButtons=r.map(rt,function(n){return n.template});e=l.getComplexHtmlElements({Settings:p.Settings},k);e&&(y=e.parentElement,k=e.elements);w=f.create("Balloon",{element:k,parentElement:y,position:p.Settings.Position,stepSettings:p.Settings,logger:n,isFirstStep:c.getIsFirstVisualStep(),text:st,configuration:v,siteConfig:a,data:{balloonEntityId:p.Id,containerEntityId:d,type:ht,containerEntityType:"flow",balloonEntityType:"flow-balloon"},positionHelper:u,drawer:b,placeholderConfigurations:p.DesignTemplatePlaceholderConfigs,placeholderVariableValues:pt(),initiatorData:{initiator:p,type:i.STEP_PLAY_INITIATOR_ENUM.FLOW_STEP},bindButtonsFunc:function(n,t){ni(n,rt);h.bind(n,void 0,t)}});w.Show(!0,function(){nt=!0;w.SetTimeoutOn();et("stageShown",{uiElementId:p.Id,siteElement:k})})}function ni(n,t){var r,i,u;for(vt(),ti(n),r=[],i=0;i<it.length;i++)r.push({element:k,balloonDiv:n,logContext:g,balloonButtons:t,trigger:it[i],uiElementId:p.Id});u={uiElementType:p.Type,triggers:r,uiElement:p};d=f.create("UITriggersManager",u);d.listen().then(ii,at)}function ti(n){lt(n).on("click"+i.FLOW_TRIGGER_WORKSPACE,function(){at(!0)});n.bind("click mousedown mouseup",function(n){n.stopPropagation()})}function lt(n){return r(".walkme-action-close, .walkme-action-cancel",n)}function ii(t){ot(t);n.customerLog(e("FlowBalloonDisplayer OnTrigger was called but no triggers were found for uiElement {0}",g),1,ut)}function at(n){tt({wasElementShown:nt,wasClosedByUser:n})}function ri(){if(w){var n=w.getBalloonDiv();lt(n).off("click"+i.FLOW_TRIGGER_WORKSPACE);n.unbind("click mousedown mouseup")}}function ui(n){vt();w?w.destroy(!1,n):n&&n()}function vt(){d&&(d.destroy(),d=void 0)}function yt(){b=r.Deferred();et=b.notify;ot=b.resolve;tt=b.reject}function fi(){var r=pt(),u=r.totalVisibleSteps,f=r.passedVisibleSteps,n=t.get().StepsInfoText;return v.isFeatureEnabled("floatingsubtext")?(n=n.replace("{0}",i.SUBTEXT_CURRENT_START+f+i.SUBTEXT_CURRENT_END),n=n.replace("{1}",i.SUBTEXT_TOTAL_START+u+i.SUBTEXT_TOTAL_END)):(n=n.replace("{0}",f),n=n.replace("{1}",u)),n}function pt(){return{totalVisibleSteps:a.getTotalVisualSteps(),passedVisibleSteps:a.getNextVisualStepIndex(p.Id)}}var ft=this,b,et,ot,tt,g,p,st,it,rt,ht,w,d,k,nt,ct,ut;ft.showAndWaitForTrigger=bt;ft.destroy=kt;ct=3;ut=i.FEATURES_LOGS.Flows;wt.apply(null,arguments)}function nat(n,t,i,r,u){function a(){o=u.Id;l=n.get();var t={uiElement:u,balloonButtons:w(),stepType:i.STEP_TYPE.Popup};s=f.create("FlowBalloonDisplayer",t);e=f.create("FeaturedLogger",{feature:i.FEATURES_LOGS.Flows})}function v(){return e.customerLog("{0}: Show Popup Balloon with id {1} step index {2}",h,o,u.PointIndex),s.showAndWaitForTrigger(l).always(p)}function y(){return e.customerLog("{0}: Destroy Popup Balloon with id {1} step index {2}",h,o,u.PointIndex),s.destroy()}function p(){t.removeOverlay()}function w(){return r.getButtons(u)}var c=this,e,o,s,l,h;c.show=v;c.destroy=y;h="UIPopUpBalloon";a.apply(null,arguments)}function tat(n,t,i){function d(){o=i.Id;s=i.PointIndex;i.score={};var t={uiElement:i,balloonButtons:tt(),stepType:n.STEP_TYPE.Normal};l=f.create("FlowBalloonDisplayer",t);a=f.create("UiElementVisibilityManager",{uiElement:i,isSticky:nt(),onShow:it,onRemove:k,onError:w});e=f.create("FeaturedLogger",{feature:n.FEATURES_LOGS.Flows})}function g(){return e.customerLog("{0}: Show Balloon - Calling visibility manager for ui element with id {1} step index {2}",h,o,s),u=r.Deferred(),y=u.resolve,c=u.reject,p=u.notify,a.evaluateAsync(),u.promise().always(b)}function w(){return b(),k().always(c)}function nt(){return void 0===i.IsSticky||i.IsSticky}function b(){a.cleanResources()}function tt(){return t.getButtons(i)}function it(n){e.customerLog("{0}: showUIElement showing balloon with id {1} step index {2}",h,o,s);l.showAndWaitForTrigger(n).then(y).progress(p).fail(rt)}function rt(n){n.wasClosedByUser&&c(n)}function k(){return e.customerLog("{0}: removeUIElement removing balloon with id {1} step index {2}",h,o,s),l.destroy()}var v=this,y,c,p,e,o,s,l,u,a,h;v.show=g;v.destroy=w;h="UIElementBalloon";d.apply(null,arguments)}function iat(n,t,i){function v(){u=i.uiElement;o=i.onShow;s=i.onRemove;h=i.onError;var n={logContext:u.Id,findElementParams:{IdentifySettings:u.IdentifySettings,score:u.score},trackUIChanges:!0,elementEvaluationIntervalMs:i.isSticky?c:void 0};r=f.create("ElementVisibilityEvaluator",n)}function l(){r&&(r.cleanResources(),r=void 0)}function y(){t.getIsFirstVisualStep()?p():a()}function p(){var t=r.calculateElementVisibility();t==n.VISIBILITY_STATE.VISIBLE?a():(l(),h())}function a(){r.setOnVisibilityChanged(w);r.evaluateElementVisibilityAsynch()}function w(t){switch(t){case n.VISIBILITY_STATE.VISIBLE:o(r.getElement());break;case n.VISIBILITY_STATE.HIDDEN:s()}}var e=this,r,u,o,s,h,c;e.evaluateAsync=y;e.cleanResources=l;c=500;v()}function rat(n,t,i){function u(n){var r=[],u=i.getContinueButton(n);return u&&(r.push(u),f()&&r.unshift(t.get())),r}function f(){return!n.isEmpty()}var r=this;r.getButtons=u}function uat(n,t,i,r,u,f){function s(){return e}function h(){return!t.isEmpty()}var o=this,e;o.get=s;e={Cancel:{getButton:f.get,order:1},Back:{getButton:i.get,canAdd:h,order:2},"Next/Done":{getButton:function(n){return r.getContinueButton(n)},order:3},Start:{getButton:u.get,order:4}}}function fat(n){function r(){t=n.get()}function u(n){for(var t,r=[],u=f(n),i=0;i<u.length;i++)t=u[i],t.canAdd&&!t.canAdd()||r.push(t.getButton(n));return r}function f(n){for(var f,r=[],u=n.Settings.popupStepButtons,i=0;i<u.length;i++)f=t[u[i].name],r.push(f);return r.sort(function(n,t){return n.order-t.order})}var i=this,t;i.getButtons=u;r()}function eat(n,t,i){function u(){return{selector:".walkme-action-back",template:i.generateWithoutBackground(n.BALLOON_BUTTON_TYPE.Back),action:f}}function f(n,i){i.resolve({nextStageId:t.pop(),isFlowGoingBack:!0})}var r=this;r.get=u}function oat(n,t){function r(){return{selector:".walkme-action-cancel",template:t.generateWithoutBackground(n.BALLOON_BUTTON_TYPE.Cancel),action:u}}function u(n,t){t.reject({wasElementShown:!0,wasClosedByUser:!0})}var i=this;i.get=r}function sat(n){function i(t){return r(t.Triggers).filter(function(t,i){return i.Type==n.FLOW_TRIGGER_TYPE.Button})}var t=this;t.get=i}function hat(n,t,i,r,u,f,e){function s(){}function h(t){var h=e.peek().flowId,u=n.get(t),o,s;if(0!=u.length)return o=f.isPreviousGroupHasNextStage(),s=c(h,u),o||s?i.get():r.get()}function c(n,t){return u.doesAnyMeetCondition(t,function(t){return l(n,t)})}function l(n,i){if(!i.TargetFlowNodeId)return!1;return t.isPlayable(n,i.TargetFlowNodeId)}var o=this;o.getContinueButton=h;s()}function cat(n){function t(n,t){t.resolve({nextStageId:n.TargetFlowNodeId})}return{selector:n.selector,template:n.template,action:t}}function lat(n,t){function r(){var i={selector:".walkme-action-done",template:t.generate(n.BALLOON_BUTTON_TYPE.Done)};return f.create("FlowContinueBalloonButton",i)}var i=this;i.get=r}function aat(n,t){function r(){var i={selector:".walkme-action-next, .walkme-action-start",template:t.generate(n.BALLOON_BUTTON_TYPE.Next)};return f.create("FlowContinueBalloonButton",i)}var i=this;i.get=r}function vat(n,t){function r(){var i={selector:".walkme-action-start",template:t.generate(n.BALLOON_BUTTON_TYPE.Start)};return f.create("FlowContinueBalloonButton",i)}var i=this;i.get=r}function yat(n){function i(){var t=["click","mousedown","mouseup"];return n.isFeatureEnabled("ipad_touch_as_click")&&t.push("touchstart"),n.isFeatureEnabled("noFocusTrigger")||n.isFeatureEnabled("wmAccessibility")||t.push("focus"),t}var t=this;t.get=i}function pat(n,t,i,u,f){function l(){o[i.FLOW_TRIGGER_TYPE.PeerStep]=!0;for(var n=0;n<f.triggers.length;n++)o[f.triggers[n].trigger.Type]||(e=e.concat(a(f.triggers[n])))}function a(n){var t=[];return c(t,n),v(n.trigger)&&c(t,u.createMockDelayTriggerParams(n)),t}function c(t,i){t.push({trigger:n.createUITrigger(i),data:i.trigger})}function v(n){return r.inArray(n.Type,h)>-1&&f.uiElementType==i.FLOW_UIELEMENT_TYPE.Popup&&n.Settings&&n.Settings.Duration>=0}function y(){for(var i,u,t=r.Deferred(),n=0;n<e.length;n++)i=e[n].trigger,u=e[n].data,w(i,u,t);return t.promise()}function p(){for(var n=0;n<e.length;n++)e[n].trigger.destroy()}function w(n,t,i){n.listen().then(b(t)).then(function(n){n=r.extend({firedTrigger:t,uiElementId:f.uiElement.Id},n);i.resolve(n)})}function b(n){return function(i){return t.lastTriggerFired=n,i}}var s=this,e=[],o,h;s.listen=y;s.destroy=p;o={};h=[i.FLOW_TRIGGER_TYPE.Button];l.apply(null,arguments)}function wat(n,t){function o(){s()}function s(){r.each(u,function(n,t){i[t.triggerName]=h(t)})}function h(n){return function(i){var r=f.create(n.className,i);return t.addDelay(r,n.triggerName),r}}function c(n){return i[n.trigger.Type](n)}var e=this,i,u;e.createUITrigger=c;i={};u=[{triggerName:n.FLOW_TRIGGER_TYPE.Click,className:"ClickUITrigger"},{triggerName:n.FLOW_TRIGGER_TYPE.Hover,className:"HoverUITrigger"},{triggerName:n.FLOW_TRIGGER_TYPE.Text,className:"TextUITrigger"},{triggerName:n.FLOW_TRIGGER_TYPE.Delay,className:"DelayUITrigger"},{triggerName:n.FLOW_TRIGGER_TYPE.PageChanged,className:"PageChangedUITrigger"},{triggerName:n.FLOW_TRIGGER_TYPE.Button,className:"ButtonUITrigger"},{triggerName:n.FLOW_TRIGGER_TYPE.SelectAny,className:"SelectAnyUITrigger"},{triggerName:n.FLOW_TRIGGER_TYPE.SelectValue,className:"SelectValueUITrigger"},{triggerName:n.FLOW_TRIGGER_TYPE.BbCode,className:"BBCodeUITrigger"},{triggerName:n.FLOW_TRIGGER_TYPE.Custom,className:"CustomUITrigger"},{triggerName:n.FLOW_TRIGGER_TYPE.Swipe,className:"SwipeUITrigger"}];o.apply(null,arguments)}function bat(n){function i(n,t){n.listen=r(n.listen,n,t)}function r(t,i,r){return function(){return t().then(function(t){return n.setDelayByTrigger(i,r),t})}}var t=this;t.addDelay=i}function kat(n,t){function r(t){for(var r=[],i=0;i<t.length;i++)r.push(t[i]+n.FLOW_TRIGGER_WORKSPACE);return r}function u(n,t,i,r){for(var u=0;u<t.length;u++){function f(n){function t(t){var u=r&&r[n];(!u||u(t))&&i(t)}return t}n.on(t[u],f(t[u]))}}function f(n,i){for(var u=t(n),r=0;r<i.length;r++)u.off(i[r])}var i=this;i.getFullEventNames=r;i.bindEventsToElement=u;i.unbindEventsFromElement=f}function dat(n){function r(i,r,u,f){var e=n.setWalkmeTimeout(function(){u.customerLog("{0}: Executing {1} trigger with id {2} for {3} seconds to target node id {4}",f,r.Name,r.Id,r.Settings.Duration,r.TargetFlowNodeId);i.resolve({nextStageId:r.TargetFlowNodeId})},1e3*r.Settings.Duration);t[r.Id]=e}function u(n){var i=t[n.Id];i&&(i.clear(),i=null,delete t[n.Id])}var i=this,t;i.createTimeout=r;i.cleanTimeout=u;t={}}function gat(n){function i(t){var u=r.extend(!0,{},t),i=t.trigger;return u.trigger={Type:n.FLOW_TRIGGER_TYPE.Delay,Id:"mock_delay_"+i.Id,Name:i.Name,TargetFlowNodeId:i.TargetFlowNodeId,Settings:{Duration:i.Settings.Duration}},u}var t=this;t.createMockDelayTriggerParams=i}function nvt(n,t,i,u){function a(){s=u.element;e=u.trigger;var r=t.get();h=n.getFullEventNames(r);o=f.create("FeaturedLogger",{feature:i.FEATURES_LOGS.Flows})}function v(){function i(){o.customerLog("{0}: Executing Click trigger with id {1} to target node id {2}",c,e.Id,e.TargetFlowNodeId);t.resolve({nextStageId:e.TargetFlowNodeId})}var t=r.Deferred();return o.customerLog("{0}: Listening to Click trigger with id {1}",c,e.Id),n.bindEventsToElement(s,h,i),t.promise()}function y(){o.customerLog("{0}: Destroying Click trigger with id {1}",c,e.Id);n.unbindEventsFromElement(s,h)}var s,e,o,l=this,h=[],c="ClickUITrigger";l.listen=v;l.destroy=y;a.apply(null,arguments)}function tvt(n,t,i){function a(){o=i.element;u=i.trigger;s=n.getFullEventNames(l);e=f.create("FeaturedLogger",{feature:t.FEATURES_LOGS.Flows})}function v(){var t=r.Deferred(),i;return e.customerLog("{0}: Listening to Hover trigger with id {1}",h,u.Id),i=function(){e.customerLog("{0}: Executing Hover trigger with id {1} to target node id {2}",h,u.Id,u.TargetFlowNodeId);t.resolve({nextStageId:u.TargetFlowNodeId})},n.bindEventsToElement(o,s,i),t.promise()}function y(){e.customerLog("{0}: Destroying Hover trigger with id {1}",h,u.Id);n.unbindEventsFromElement(o,s)}var o,u,e,c=this,s=[],h="HoverUITrigger",l=["mouseenter"];c.listen=v;c.destroy=y;a.apply(null,arguments)}function ivt(n,t,i,u,e){function tt(){s=e.element;o=e.trigger;l=n.getFullEventNames(b);a=n.getFullEventNames(k);h=f.create("FeaturedLogger",{feature:i.FEATURES_LOGS.Flows})}function it(){var t=r.Deferred(),i;return h.customerLog("{0}: Listening to Text trigger with id {1}",v,o.Id),i=rt(),n.bindEventsToElement(s,l,function(){ft(t)},i),n.bindEventsToElement(s,a,function(){p(t)}),t.promise()}function rt(){var t={},i;if(u.isFeatureEnabled("wmAccessibility")){i=n.getFullEventNames(["keydown"]);function r(n){return n.which!=g&&n.which!=nt}t[i]=r}return t}function ut(){h.customerLog("{0}: Destroying Text trigger with id {1}",v,o.Id);w();n.unbindEventsFromElement(s,l);n.unbindEventsFromElement(s,a)}function ft(n){w();c=t.libSetTimeout(function(){p(n)},d)}function p(n){h.customerLog("{0}: Executing Text trigger with id {1} to target node id {2}",v,o.Id,o.TargetFlowNodeId);n.resolve({nextStageId:o.TargetFlowNodeId})}function w(){c&&c.clear()}var s,o,c,h,y=this,l=[],a=[],v="TextUITrigger",b=["keydown","change"],k=["paste"],d=800,g=9,nt=16;y.listen=it;y.destroy=ut;tt.apply(null,arguments)}function rvt(n,t,i){function c(){h=i.element;u=i.trigger;e=f.create("FeaturedLogger",{feature:t.FEATURES_LOGS.Flows})}function l(){var t=r.Deferred();return e.customerLog("{0}: Listening to Delay trigger with id {1}",o,u.Id),n.createTimeout(t,u,e,o),t.promise()}function a(){e.customerLog("{0}: Destroying bbCode trigger with id {1}",o,u.Id);n.cleanTimeout(u)}var h,u,e,s=this,o="DelayUITrigger";s.listen=l;s.destroy=a;c.apply(null,arguments)}function uvt(n,t,i){function h(){o=i.element;u=i.trigger;s=f.create("FeaturedLogger",{feature:n.FEATURES_LOGS.Flows})}function c(){var n=r.Deferred();return t.saveWaitingForRefreshTrigger({refreshTrigger:u.TargetFlowNodeId,firedTrigger:u,uiElementId:i.uiElementId}),n.promise()}function l(){t.clearWaitingForRefreshTrigger()}var e=this,o,u,s;e.listen=c;e.destroy=l;h.apply(null,arguments)}function fvt(n,t){function h(){i=t.balloonButtons;u=t.trigger;for(var r=0;r<i.length;r++)i[r].buttonElement=p(i[r].selector,t.balloonDiv);e=f.create("FeaturedLogger",{feature:n.FEATURES_LOGS.Flows})}function c(){return e.customerLog("{0}: Listening to Next trigger with id {1}",o,u.Id),a()}function l(){e.customerLog("{0}: Destroying Next trigger with id {1}",o,u.Id);y()}function a(){for(var u,t=r.Deferred(),n=0;n<i.length;n++)u=i[n],v(u,t);return t.promise()}function v(t,i){t.buttonElement.on("click"+n.FLOW_TRIGGER_WORKSPACE,function(){e.customerLog("{0}: Executing Next trigger with id {1} to target node id {2}",o,u.Id,u.TargetFlowNodeId);t.action(u,i)})}function y(){for(var t=0;t<i.length;t++)i[t].buttonElement&&(i[t].buttonElement.off("click"+n.FLOW_TRIGGER_WORKSPACE),i[t].buttonElement=void 0)}function p(n,t){return r(n,t)}var s=this,i,u,e,o;s.listen=c;s.destroy=l;o="ButtonUITrigger";h.apply(null,arguments)}function evt(n,t,i){function a(){o=i.element;u=i.trigger;s=n.getFullEventNames(l);e=f.create("FeaturedLogger",{feature:t.FEATURES_LOGS.Flows})}function v(){var t=r.Deferred(),i;return e.customerLog("{0}: Listening to Select Any trigger with id {1}",h,u.Id),i=function(){e.customerLog("{0}: Executing Select Any trigger with id {1} to target node id {2}",h,u.Id,u.TargetFlowNodeId);t.resolve({nextStageId:u.TargetFlowNodeId})},n.bindEventsToElement(o,s,i),t.promise()}function y(){e.customerLog("{0}: Destroying Select Any trigger with id {1}",h,u.Id);n.unbindEventsFromElement(o,s)}var o,u,e,c=this,s=[],h="SelectAnyUITrigger",l=["change"];c.listen=v;c.destroy=y;a.apply(null,arguments)}function ovt(n,t,i){function v(){o=i.element;u=i.trigger;s=u.Settings.complexHtml;h=n.getFullEventNames(a);e=f.create("FeaturedLogger",{feature:t.FEATURES_LOGS.Flows})}function y(){var t=r.Deferred(),i;return e.customerLog("{0}: Listening to Select Value trigger with id {1}",c,u.Id),i=function(n){var i;i="option"==n.target.tagName.toLowerCase()?n.target:n.target.options[n.target.selectedIndex];i.value!=s.val&&i.text!=s.txt||(e.customerLog("{0}: Executing Select Value trigger with id {1} to target node id {2}",c,u.Id,u.TargetFlowNodeId),t.resolve({nextStageId:u.TargetFlowNodeId}))},n.bindEventsToElement(o,h,i),t.promise()}function p(){e.customerLog("{0}: Destroying Select Value trigger with id {1}",c,u.Id);n.unbindEventsFromElement(o,h)}var o,u,s,e,l=this,h=[],c="SelectValueUITrigger",a=["change"];l.listen=y;l.destroy=p;v.apply(null,arguments)}function svt(n,t,i){function a(){l=i.element;u=i.trigger;h=i.balloonDiv;o=f.create("FeaturedLogger",{feature:n.FEATURES_LOGS.Flows})}function v(){var n=r.Deferred();return o.customerLog("{0}: Listening to BBCode trigger with id {1}",s,u.Id),p(n),n.promise()}function y(){o.customerLog("{0}: Destroying BBCode trigger with id {1}",s,u.Id);w()}function p(i){var f=u.Settings.bbCodeId;e=r(".trg-"+f,h);e.on("click"+n.FLOW_TRIGGER_WORKSPACE,function(){o.customerLog("{0}: Executing BBCode trigger with id {1} and bbCode id {2} to target node id {3}",s,u.Id,u.Settings.bbCodeId,u.TargetFlowNodeId);i.resolve({nextStageId:u.TargetFlowNodeId})});t.raiseEvent(n.EVENTS.RegisterBBCodeDeployableClick,{element:e})}function w(){e.off("click"+n.FLOW_TRIGGER_WORKSPACE)}var l,u,h,e,o,c=this,s="BBCodeUITrigger";c.listen=v;c.destroy=y;a.apply(null,arguments)}function hvt(n,t,i,u,e){function a(){o=e.trigger;h=f.create("FeaturedLogger",{feature:n.FEATURES_LOGS.Flows})}function v(){var n=r.Deferred(),i,u;return h.customerLog("{0}: Listening to Custom trigger with id {1}",l,o.Id),i=o.ConditionTrees.CustomTrigger,u={evaluationPollingIntervalMs:500,featureName:"Custom Trigger",elementName:"Custom Trigger: "+o.Name},s=t.createNew(u),s.onValueChanged(function(t){if(t)return h.customerLog("{0}: Executing Custom trigger with id {1} to target node id {2}",l,o.Id,o.TargetFlowNodeId),n.resolve({nextStageId:o.TargetFlowNodeId})}),s.evaluateAsync(i),n.promise()}function y(){if(p())return u[n.FLOW_TRIGGER_TYPE.Click]}function p(){return i.containsFuncName(o.ConditionTrees.CustomTrigger,["jQueryClickedSticky","ElementClickedSticky"])}function w(){h.customerLog("{0}: Destroying Custom trigger with id {1}",l,o.Id);s&&(s.cleanResources(),s=void 0)}var o,s,h,c=this,l="CustomUITrigger";c.listen=v;c.destroy=w;c.getDelay=y;a.apply(null,arguments)}function cvt(n,t,i){function l(){o=i.element;u=i.trigger;s=n.getFullEventNames(["swipe"]);e=f.create("FeaturedLogger",{feature:t.FEATURES_LOGS.Flows})}function a(){var t=r.Deferred(),i;return e.customerLog("{0}: Listening to Swipe trigger with id {1}",h,u.Id),i=function(){e.customerLog("{0}: Executing Swipe trigger with id {1} to target node id {2}",h,u.Id,u.TargetFlowNodeId);t.resolve({nextStageId:u.TargetFlowNodeId})},n.bindEventsToElement(o,s,i),t.promise()}function v(){e.customerLog("{0}: Destroying Swipe trigger with id {1}",h,u.Id);n.unbindEventsFromElement(o,s)}var o,u,e,c=this,s=[],h="SwipeUITrigger";c.listen=a;c.destroy=v;l.apply(null,arguments)}function lvt(n,t,i){function w(){l=i.initState;o=i.transitions||[];s=i.timedOutTransitions||[];f=i.defaultTransitionValuesToReturn||[];r=i.globalActionFlags||{};a=i.onStateChangedCallback||function(){};v()}function v(){e=l;u={}}function b(n,t){k(n);d(n);var i=it(n);i&&g(i,t)}function k(n){r[n]&&r[n].addFlag&&y(r[n].addFlag,function(n){u[n]=!0})}function d(n){r[n]&&r[n].removeFlag&&y(r[n].removeFlag,function(n){delete u[n]})}function y(n,t){for(var r,i=0;i<n.length;i++)r=n[i],t(r)}function g(n,t){ot();p(n,t);var i=nt(n);i&&et(function(){p(i,t)},i.timeout)}function nt(n){for(var i,t=0;t<s.length;t++)if(i=s[t],i.fromState==n.toState)return i;return null}function p(n,t){e=n.toState;var i=tt(n);a(n.toState,i,t)}function tt(n){var i;if(n.valueToReturn)return n.valueToReturn;if(f)for(i=0;i<f.length;i++){var t=f[i],r=!t.fromState||t.fromState==n.fromState,u=!t.toState||t.toState==n.toState;if(r&&u)return t.valueToReturn}return null}function it(n){for(var i,r,t=0;t<o.length;t++)if(i=o[t],r=rt(i,n),r)return i;return null}function rt(n,t){var i=("*"==n.fromState||n.fromState==e)&&n.onAction==t;if(!i)return!1;var r=!n.ifFlagged||ut(n.ifFlagged),u=!n.ifNotFlagged||ft(n.ifNotFlagged);return r&&u}function ut(n){return t.doesAnyMeetCondition(n,function(n){return void 0!=u[n]})}function ft(n){return t.doAllMeetCondition(n,function(n){return void 0==u[n]})}function et(t,i){h=n.libSetTimeout(t,i)}function ot(){h&&h.clear()}var c=this,e,o,s,l,r,u,a,h,f;c.evaluate=b;c.reset=v;w()}function avt(){function t(){}function i(n){return f.create("StatesMachine",n)}var n=this;n.create=i;t.apply(null,arguments)}function vvt(n,t,i){function o(u){switch(u.Type){case i.FLOW_STEP_TYPE.UI:return f.create("UIFlowStage",u);case i.FLOW_STEP_TYPE.Action:return t.createActionStage(u);default:n.customerLog(e("StagesFactory getStage - Unknown flow node type: {0}",u.FlowNodeType),1,r)}}var u=this,r;u.createStage=o;r=i.FEATURES_LOGS.Flows}function yvt(n){function i(t,i){var r=t.Nodes[i];if(r)return n.createStage(r)}var t=this;t.createStage=i}function pvt(n,t,i,u,e,o){function v(){c=f.create("FeaturedLogger",{feature:u.FEATURES_LOGS.Flows});for(var t=0;t<o.UIElements.length;t++)h.push(n.createUIElement(o.UIElements[t]))}function y(){var t,n;for(c.customerLog("{0}: Executing UI step with id {1}",l,s.Id),t=r.Deferred(),e.raiseEventOnCurrentFlow(u.EVENTS.Flows.LookingForElement,{step:o}),n=0;n<h.length;n++)w(t,h[n].show);return t.promise()}function p(){c.customerLog("{0}: Destroying UI step with id {1}",l,s.Id);var n=r.Deferred();return t.executeParallel({objectsArray:h,functionsToExecute:[function(n,t){n.destroy().then(function(){},t)}],successCallback:function(t){n.resolve(t)}}),h.length=0,n.promise()}function w(n,t){t().progress(function(t,i){var r=d(i.uiElementId),f;e.raiseEventOnCurrentFlow(u.EVENTS.Flows.UiElementFound,{step:o,score:r.score});f={id:s.Id,uiElementId:i.uiElementId,triggers:r.Triggers,siteElement:i.siteElement};n.notify(t,f)}).then(function(t){b(n,t)},function(t){k(n,t)})}function b(n,t){c.customerLog("{0}: UI step - Moving to next step. From step id {1} to step id {2}",l,s.Id,t.nextStageId);i.saveIsFirstVisualStep(!1);n.resolve(t)}function k(n,i){c.customerLog("{0}: Balloon was closed for UI step with id {1}, params {2}",l,s.Id,t.toJSON(i));a++;(i.wasClosedByUser||a==h.length)&&n.reject(i)}function d(n){for(var t=0;t<o.UIElements.length;t++)if(o.UIElements[t].Id==n)return o.UIElements[t]}var s=this;s.execute=y;s.destroy=p;s.Id=o.Id;var c,a=0,h=[],l="UIFlowStage";v.apply(null,arguments)}function wvt(n){function r(){u()}function u(){t[n.FLOW_ACTION_TYPE.ConnectToBizflow]=o;t[n.FLOW_ACTION_TYPE.Delay]=s;t[n.FLOW_ACTION_TYPE.OpenMenu]=h;t[n.FLOW_ACTION_TYPE.PassOwnership]=c;t[n.FLOW_ACTION_TYPE.Redirect]=l;t[n.FLOW_ACTION_TYPE.Refresh]=a;t[n.FLOW_ACTION_TYPE.Style]=v;t[n.FLOW_ACTION_TYPE.SetData]=y;t[n.FLOW_ACTION_TYPE.Split]=p;t[n.FLOW_ACTION_TYPE.Stop]=w;t[n.FLOW_ACTION_TYPE.WaitForCondition]=b;t[n.FLOW_ACTION_TYPE.OnPageAction]=k;t[n.FLOW_ACTION_TYPE.ErrorHandling]=d}function e(n){return t[n.ActionType](n)}function o(n){return f.create("BranchActionStage",n)}function s(n){return f.create("DelayActionStage",n)}function h(n){return f.create("OpenMenuActionStage",n)}function c(n){return f.create("PassOwnershipActionStage",n)}function l(n){return f.create("RedirectActionStage",n)}function a(n){return f.create("RefreshActionStage",n)}function v(n){return f.create("StyleActionStage",n)}function y(n){return f.create("SetDataActionStage",n)}function p(n){return f.create("SplitActionStage",{node:n})}function w(n){return f.create("StopActionStage",n)}function b(n){return f.create("WaitForConditionActionStage",n)}function k(n){return f.create("OnPageActionStage",n)}function d(n){return f.create("ErrorHandlingActionStage",n)}var i=this,t;i.createActionStage=e;t={};r.apply(null,arguments)}function bvt(n,t,i,u,e,o){function a(){h=f.create("FeaturedLogger",{feature:n.FEATURES_LOGS.Flows})}function v(){var f=r.Deferred(),n=o.Settings.actionArgs,a,u;return(h.customerLog("{0}: Executing Connect To Bizflow with step id {1} step index {2}. Branching to flow: {3}, starting from {4}",c,s.Id,o.PointIndex,n.flowId,n.playFromBeginning?"the beginning of the flow":"stage"+n.startingNodeId),!t.getFlowById(n.flowId))?(u={nextStageId:o.Links[0].TargetFlowNodeId,nextFlowId:i.peek().flowId},l(f,u)):(a=n.playFromBeginning?void 0:n.startingNodeId,u={currentNode:o,nextFlowId:n.flowId,nextStageId:a,shouldCreateFlowGroup:!0,isBranch:!0},e.playSetTimeout(function(){l(f,u,n.flowId)},500),f)}function y(){return h.customerLog("{0}: Destroying Connect To Bizflow with step id {1} step index {2}",c,s.Id,o.PointIndex),r.Deferred().resolve()}function p(){h.customerLog("{0}: Connect To Bizflow - Back from branch - Step id {1} step index {2}",c,s.Id,o.PointIndex);var n=r.Deferred(),t={currentNode:o,nextFlowId:void 0,nextStageId:o.Links[0].TargetFlowNodeId,shouldCreateFlowGroup:void 0};return l(n,t,i.peek().flowId)}function l(n,t,r){return h.customerLog("{0}: Connect To BizFlow - Moving to next stage. From step id {1} step index {2} to step id {3}, from flow id {4} to flow id {5}. (create flow group: {6})",c,s.Id,o.PointIndex,t.nextStageId,t.nextFlowId,i.peek().flowId,t.shouldCreateFlowGroup?t.shouldCreateFlowGroup:"false"),u.init(r),n.resolve(t)}var s=this,h,c;s.execute=v;s.destroy=y;s.backFromFlowGroup=p;s.Id=o.Id;c="BranchActionStage";a.apply(null,arguments)}function kvt(n,t,i,u){function c(){o=f.create("FeaturedLogger",{feature:t.FEATURES_LOGS.Flows})}function l(){var f=r.Deferred(),c=u.Settings.actionArgs.Duration,t;return o.customerLog("{0}: Executing Delay with step id {1} step index {2}. Waiting {3} seconds.",s,e.Id,u.PointIndex,c||"0"),t=u.Links[0].TargetFlowNodeId,i.saveWaitingForRefreshTrigger({refreshTrigger:t}),h=n.playSetTimeout(function(){return v(f,t)},1e3*c),f.promise()}function a(){return o.customerLog("{0}: Destroying Delay with step id {1}",s,e.Id),i.clearWaitingForRefreshTrigger(),r.Deferred().resolve()}function v(n,t){o.customerLog("{0}: Delay - Moving to next step. From step id {0} to step id {1}",s,e.Id,t);i.clearWaitingForRefreshTrigger();var r={nextStageId:t};return n.resolve(r)}var e=this,o,h,s;e.execute=l;e.destroy=a;e.Id=u.Id;s="DelayActionStage";c.apply(null,arguments)}function dvt(n,t,i){function s(){e=f.create("FeaturedLogger",{feature:n.FEATURES_LOGS.Flows})}function h(){e.customerLog("{0}: Executing Open Menu with step id {1}",o,u.Id);var f=r.Deferred(),s={appType:n.EVENT_SENDER_EVENT_APPS.BizFlowStep,objectId:i.Id,type:n.STEP_PLAY_INITIATOR_ENUM.FLOW_STEP};return void 0!=t.WalkMePlayerAPI&&t.WalkMePlayerAPI.toggleMenu(s),l(f,i.Links[0].TargetFlowNodeId)}function c(){return e.customerLog("{0}: Destroying Open Menu with step id {1}",o,u.Id),r.Deferred().resolve()}function l(n,t){e.customerLog("{0}: Open Menu - Moving to next step. From step id {0} to step id {1}",o,u.Id,t);var i={nextStageId:t};return n.resolve(i)}var u=this,e,o;u.execute=h;u.destroy=c;u.Id=i.Id;o="OpenMenuActionStage";s.apply(null,arguments)}function gvt(n,t,i,u){function c(){o=f.create("FeaturedLogger",{feature:n.FEATURES_LOGS.Flows})}function l(){var n,i;return(o.customerLog("{0}: Executing Style with step id {1}",s,e.Id),n=r.Deferred(),!y())?(o.customerLog("{0}: Style step not supported, skipping to next step",s),h(n,u.Links[0].TargetFlowNodeId)):(i=f.create("DynamicCss",{css:u.Settings.actionArgs.css,Id:e.Id}),i.add(),t.one(v(),function(){o.customerLog("{0}: Removing Style with step id {1}",s,e.Id);i.remove()}),h(n,u.Links[0].TargetFlowNodeId))}function a(){return o.customerLog("{0}: Destroying Apply Css with step id {1}",s,e.Id),r.Deferred().resolve()}function h(n,t){o.customerLog("{0}: Apply Css - Moving to next step. From step id {0} to step id {1}",s,e.Id,t);var i={nextStageId:t};return n.resolve(i)}function v(){return[n.EVENTS.Flows.FlowStopped,n.EVENTS.Flows.FlowCompleted,n.EVENTS.Flows.FlowAborted].join(" ")}function y(){return i.get().Settings&&i.get().Settings.StyleActionStage}var e=this,o,s;e.execute=l;e.destroy=a;e.Id=u.Id;s="StyleActionStage";c.apply(null,arguments)}function nyt(n,t,i,u,e,o,s){function a(){c=f.create("FeaturedLogger",{feature:n.FEATURES_LOGS.Flows})}function v(){var u=r.Deferred(),f=e.keysConfig.passOwnership.newWindowTime,a;return(e.saveData(f.key,(new Date).getTime(),f.expiry),c.customerLog("{0}: checking ownership for stage with step id {1}",l,h.Id),a=t.get().determineOwnership(i.peek()),!a)?(o.raiseEventOnCurrentFlow(n.EVENTS.Flows.AfterCompletingFlowStage,{step:s}),i.updateTopStageId(s.Links[0].TargetFlowNodeId),w(u)):p(u,s.Links[0].TargetFlowNodeId)}function y(){return c.customerLog("{0}: Destroying PassOwnership stage with step id {1}",l,h.Id),r.Deferred().resolve()}function p(n,t){c.customerLog("{0}: Moving to next step. From step id {1} to step id {2}",l,h.Id,t);var i={nextStageId:t};return n.resolve(i)}function w(n){return n.reject({lostOwnership:!0})}var h=this,c,l;h.execute=v;h.destroy=y;h.Id=s.Id;l="PassOwnershipActionStage";a.apply(null,arguments)}function tyt(n,t,i,u,e,o){function a(){h=f.create("FeaturedLogger",{feature:u.FEATURES_LOGS.Flows})}function v(){var u=r.Deferred(),a=o.Settings.actionArgs,f=a.url,v=a.dontRedirectIfIdentical,y=t.canRedirect(f,!v),i;return(h.customerLog("{0}: Executing Redirect with step id {1} to url {2}. dontRedirectIfIdentical: {3}, canRedirect: {4}",c,f,s.Id,v,y),i=o.Links[0].TargetFlowNodeId,!y)?l(u,i):(e.saveWaitingForRefreshTrigger({refreshTrigger:i}),n.libSetTimeout(function(){var n=t.redirect(f);n&&l(u,i)},200),u.promise())}function y(){return h.customerLog("{0}: Destroying Redirect with step id {1}",c,s.Id),r.Deferred().resolve()}function l(n,t){h.customerLog("{0}: Redirect - Moving to next step. From step id {1} to step id {2}",c,s.Id,t);var i={nextStageId:t};return n.resolve(i)}var s=this,h,c;s.execute=v;s.destroy=y;s.Id=o.Id;c="RedirectActionStage";a.apply(null,arguments)}function iyt(n,t,i,u,e){function l(){s=f.create("FeaturedLogger",{feature:i.FEATURES_LOGS.Flows})}function a(){s.customerLog("{0}: Executing Refresh with step id {1}",c,o.Id);var i=r.Deferred();return u.saveWaitingForRefreshTrigger({refreshTrigger:e.Links[0].TargetFlowNodeId}),h=n.libSetTimeout(function(){t.location.reload(!0)},200),i.promise()}function v(){return s.customerLog("{0}: Destroying Refresh with step id {1}",c,o.Id),h&&h.clear(),r.Deferred().resolve()}var o=this,s,h,c;o.execute=a;o.destroy=v;o.Id=e.Id;c="RefreshActionStage";l.apply(null,arguments)}function ryt(n,t,i,u,e,o,s){function v(){l=f.create("FeaturedLogger",{feature:e.FEATURES_LOGS.Flows})}function y(){var n=r.Deferred(),t=s.Settings.actionArgs;return b(t),w(n,s.Links[0].TargetFlowNodeId)}function p(){return l.customerLog("{0}: Destroying Set WalkMe Data with step id {1} step index {2}",a,h.Id,s.PointIndex),r.Deferred().resolve()}function w(n,t){l.customerLog("{0}: Set WalkMe Data - Moving to next step. From step id {0} to step id {1} step index {2}",a,h.Id,t,s.PointIndex);var i={nextStageId:t};return n.resolve(i)}function b(f){var o,y=f.dataType,d=f.key,p=f.duration,v=f.value,w=f.IdentifySettings,b;switch(y){case c.Value:o=v;break;case c.Variable:o=u.getWindowData(e.WINDOW_CUSTOM_DATA_TYPE.Var,v);break;case c.jQuery:b=i.findElementsByjQueryComplexSelector(v);o=u.checkElementText(r(b));break;case c.Cookie:o=t.getCookie(v);break;case c.OnScreenElement:o=w?k(w):""}l.customerLog("{0}: Executing Set WalkMe Data with step id {1} step index {2}. Type {3}, Value {4}, Duration {5}",a,h.Id,s.PointIndex,y,o,p);n.saveData(d,o,p)}function k(n){var t=o.findElement(n);return t?u.checkElementText(r(t)):""}var h=this,l,a,c;h.execute=y;h.destroy=p;h.Id=s.Id;a="SetDataActionStage";c={Value:"Value",Variable:"Variable",jQuery:"jQuery",Cookie:"Cookie",OnScreenElement:"OnScreenElement"};v.apply(null,arguments)}function uyt(n,t,i){function h(){s=i.node;u.Id=s.Id;e=f.create("FeaturedLogger",{feature:t.FEATURES_LOGS.Flows})}function c(){var i=r.Deferred(),t;return(e.customerLog("{0}: Executing Split with step id {1}",o,u.Id),t=n.getPlayableLink(s),t)?(e.customerLog("{0}: Split with step id {1} - Found link with id {2}",o,u.Id,t.Id),a(i,t)):(e.customerLog("{0}: Split with step id {1} - No link was found"),v(i))}function l(){return e.customerLog("{0}: Destroying Split with step id {1}",o,u.Id),r.when()}function a(n,t){e.customerLog("{0}: Split - Moving to next step. From step id {0} to step id {1}",o,u.Id,t.TargetFlowNodeId);var i={nextStageId:t.TargetFlowNodeId,value:t.Name};return n.resolve(i)}function v(n){return n.reject()}var u=this,s,e,o;u.execute=c;u.destroy=l;o="SplitActionStage";h()}function fyt(n){function i(){}function u(){}function f(){return r.Deferred().resolve()}var t=this;t.execute=u;t.destroy=f;t.Id=n.Id;i.apply(null,arguments)}function eyt(n,t,i,u,e){function l(){h=f.create("FeaturedLogger",{feature:t.FEATURES_LOGS.Flows})}function a(){var f=r.Deferred(),l=e.ConditionTrees.WaitFor,a;return h.customerLog("{0}: Executing Wait For Condition with step id {1}. Evaluating condition with id {2}",c,o.Id,l.Id),a={evaluationPollingIntervalMs:500,featureName:"Wait For Condition",elementName:"Wait for condition node: "+e.Name},s=i.createNew(a),s.onValueChanged(function(i){if(h.customerLog("{0}: Condition value changed for Wait For Condition step with id {1}. Result {2}",c,o.Id,i),n.isDebuggerOnWindow()&&u.raiseEventOnCurrentFlow(t.EVENTS.Flows.WaitForConditionEvaluated,{step:e}),i)return y(f,e.Links[0].TargetFlowNodeId)}),s.evaluateAsync(l),f.promise()}function v(){return h.customerLog("{0}: Destroying Wait For Condition with step id {1}",c,o.Id),s&&(s.cleanResources(),s=void 0),r.Deferred().resolve()}function y(n,t){h.customerLog("{0}: Wait For Condition - Moving to next step. From step id {0} to step id {1}",c,o.Id,t);var i={nextStageId:t};return n.resolve(i)}var o=this,s,h,c;o.execute=a;o.destroy=v;o.Id=e.Id;c="WaitForConditionActionStage";l.apply(null,arguments)}function oyt(n,t,i,u){function l(){o=f.create("FeaturedLogger",{feature:t.FEATURES_LOGS.Flows})}function h(){var t=r.Deferred(),f,h;return(o.customerLog("{0}: Executing Error Handling with step id {1} step index {2}",s,e.Id,u.PointIndex),f=u.Links.length-1,n.isSegmented(u))?(o.customerLog("{0}: Error Handling condition applies. Step id {1} step index {2}",s,e.Id,u.PointIndex),h=u.Links[f].TargetFlowNodeId||u.Id,i.playSetTimeout(function(){c(t,h,!0)},500),t.promise()):(o.customerLog("{0}: Error Handling condition does not apply. Step id {1} step index {2}",s,e.Id,u.PointIndex),c(t,u.Links[0].TargetFlowNodeId))}function a(){return o.customerLog("{0}: Destroying Error Handling with step id {1} step index {2}",s,e.Id,u.PointIndex),r.Deferred().resolve()}function v(){return o.customerLog("{0}: Back from Error Handling group - Step id {1} step index {2}",s,e.Id,u.PointIndex),h()}function c(n,t,i){o.customerLog("{0}: Error Handling - Moving to next step. From step id {1} step index {2} to step id {3}. (create flow group {4})",s,e.Id,u.PointIndex,t,i?i:"false");var r={currentNode:u,nextStageId:t,shouldCreateFlowGroup:i};return n.resolve(r)}var e=this,o,s;e.execute=h;e.destroy=a;e.backFromFlowGroup=v;e.Id=u.Id;s="ErrorHandlingActionStage";l.apply(null,arguments)}function syt(n,t){function r(t){var i=n.getValue(t,"ConditionTrees.ErrorHandle");return!i||!i.Root?!1:u(t,i)}function u(n,i){var r={featureName:"evaluate error handling segmentation",elementName:n.Name},u=t.createNew(r);return u.getCurrentEvaluationValueAndStopEvaluating(i)}var i=this;i.isSegmented=r}function hyt(n,t,i,u,e){function l(){s=f.create("FeaturedLogger",{feature:i.FEATURES_LOGS.Flows})}function a(){var u=r.Deferred(),i=e.Settings.actionArgs;return s.customerLog("{0}: Evaluating visibility for On Page Action with id {1} step index {2}. On element action {3}",h,o.Id,e.PointIndex,i.onElementAction),n.evaluate(e.Id,i.IdentifySettings).then(function(){var r=n.getElement();s.customerLog("{0}: Element found. Executing On Page Action with step id {1} step index {2}",h,o.Id,e.PointIndex);t.execute(r,i,function(){c||y(u,e)})}),u.promise()}function v(){return c=!0,s.customerLog("{0}: Destroying On Page Action with step id {1} step index {2}",h,o.Id,e.PointIndex),n.cleanResources(),r.Deferred().resolve()}function y(n,t){var i=t.Links[0].TargetFlowNodeId,f=t.Settings.actionArgs,r;return s.customerLog("{0}: On Page Action - Moving to next step. From step id {1} step index {2} to step id {3}",h,o.Id,t.PointIndex,i),r={nextStageId:i,value:u.getValue(f)},n.resolve(r)}var o=this,s,h,c;o.execute=a;o.destroy=v;o.Id=e.Id;h="OnPageActionStage";c=!1;l.apply(null,arguments)}function cyt(n){function r(){t={};t[n.FLOW_ON_PAGE_ACTION_ELEMENT_ACTIONS_TYPE.FillText]="fillText";t[n.FLOW_ON_PAGE_ACTION_ELEMENT_ACTIONS_TYPE.SelectListValue]="dropdownSelectedValue"}function u(n){var i=n.onElementAction,r;if(i in t)return r=t[i],n[r]}var i=this,t;i.getValue=u;r()}function lyt(n,t){function r(t){var i=n.getValue(t,"ConditionTrees.StartPoint"),r;return!i||!i.Root?!1:(r=u(t,i),e(r))}function u(n,i){var r={logContext:n.Id,isRemoveByCondition:!1,stickyType:t.STICKY_TYPE.ONCE,conditionCheckerParams:{featureName:"evaluate start point segmentation",elementName:n.Title},conditionTree:i};return n.IdentifySettings&&(r.elementVisibilityParams={findElementParams:{IdentifySettings:n.IdentifySettings}},r.trackUIChanges=!0),r}function e(n){var t=f.create("UIVisibilityManager",n),i;return t.watchForVisibility(),i=t.shouldShow(),t.cleanResources(),i}var i=this;i.isSegmented=r}function ayt(n,t){function r(t){var i={};return n.runDfs(t,{afterPointDescendantsVisited:function(n){u(n,i)}}),{startingNodeId:i.nodeId||t.RootFlowNodeId,startingUiElementId:i.uiElementId,startedFromStartPoint:!!i.nodeId}}function u(n,i){i.nodeId||t.isSegmented(n.point)&&(i.nodeId=n.node.Id,i.uiElementId=n.uiElement?n.uiElement.Id:void 0)}var i=this;i.getStageData=r}function vyt(n){function o(n){var r,u,f;for(i=[],t=[],r=n.RootFlowNodeId,t.push(r);t.length>0;)u=t.shift(),f=n.Nodes[u],s(f);return i}function s(t){switch(t.Type){case n.FLOW_STEP_TYPE.UI:l(t);break;case n.FLOW_STEP_TYPE.Action:h(t)}}function h(n){f(n,n.Id);c(n)}function c(n){for(var i=n.Links,t=i.length-1;t>=0;t--)u(i[t])}function l(n){for(var r,i=n.UIElements,t=i.length-1;t>=0;t--)r=i[t],f(r,n.Id),a(r)}function a(n){for(var i=n.Triggers,t=i.length-1;t>=0;t--)u(i[t])}function u(n){var i=n.TargetFlowNodeId;i&&t.push(i)}function f(n,t){var u=n.ConditionTrees&&n.ConditionTrees.StartPoint;u&&!r.isEmptyObject(u)&&i.push({point:n,nodeId:t})}var i,t,e=this;e.createNodesStack=o}function yyt(){function i(t,i){var u=r.Deferred(),e={logContext:t,findElementParams:{IdentifySettings:i},elementEvaluationIntervalMs:500};return n=f.create("ElementVisibilityEvaluator",e),n.setOnVisibilityChanged(function(){u.resolve()}),n.evaluateElementVisibilityAsynch(),u.promise()}function u(){if(n)return n.getElement()}function e(){n&&n.cleanResources()}var t=this,n;t.evaluate=i;t.cleanResources=e;t.getElement=u}function pyt(n,t){function f(){}function e(t,u,f){var s=u.onElementAction,e,o;switch(s){case i.Click:case i.Tap:n.click(t,f);break;case i.Hover:n.hover(t,f);break;case i.Focus:n.focus(t,f);break;case i.FillText:e=r(u.fillText);n.text(t,e,void 0,f);break;case i.SelectListValue:o=r(u.dropdownSelectedValue);n.selectByText(t,o,f);break;case i.Swipe:n.swipe(t,f)}}function r(n){return t.decodeHtml(n,["&",">","<"])}var u=this,i;u.execute=e;i={Click:"Click",Hover:"Hover",Focus:"Focus",FillText:"FillText",SelectListValue:"SelectListValue",Tap:"Tap",Swipe:"Swipe"};f.apply(null,arguments)}function wyt(n,t,i,r,u,f){function s(){e=f.businessSolutionModel;h()}function h(){i(e.Flow).on(n.FLOW_INNER_EVENTS.EventPropogationPrefix,function(n,r){var u={businessSolutionId:e.Id,businessSolutionName:e.Name};u=i.extend(u,r);t.raiseEvent(r.eventType,u);c(r.eventType)})}function c(t){t==n.FLOW_INNER_EVENTS.FlowIsPlaying&&l()}function l(){r.startWatchingDeployable(e,u.generateNewPlayGuid(e.Id))}function a(){i(e.Flow).off(n.FLOW_INNER_EVENTS.EventPropogationPrefix)}var o=this,e;o.unbindEventPropagation=a;s()}function byt(){function t(n){return f.create("FlowManager",{businessSolutionModel:n})}var n=this;n.create=t}function kyt(n,t,i){function o(n){f=n;var t=s();i.init(t)}function s(){var r=[],t,i;for(u=[],t=0;t<=f.length-1;t++)i=f[t],u.push(n.create(i)),r.push(i.Flow);return r}function h(){return u?t.executeParallelyOnArray(u,c):r.when()}function c(n){return n.unbindEventPropagation()}var e=this,f,u;e.init=o;e.stopAllFlowEventsPropagation=h}function dyt(n,t,i,u,e,o,s,h,c,l,a,v,y,p,w,b){function ht(){d=void 0;k=f.create("FeaturedLogger",{feature:u.FEATURES_LOGS.Flows})}function ct(){return k.customerLog("FlowPlayer stop - Stopping current flow"),tt(u.EVENTS.Flows.FlowStopped)}function lt(){return e.isEmpty()&&!d?r.when():(k.customerLog("FlowPlayer abort - Aborting current flow"),tt(u.EVENTS.Flows.FlowAborted))}function at(){return k.customerLog("FlowPlayer pause - Pausing current flow"),it()}function vt(n,i){k.customerLog("FlowPlayer play from flow with id {0} stage id {1}",n,i);w.releaseBalloons();o.pushInnerGroupIfExists(n,i);e.push(n,i);t.saveIsFirstVisualStep(!0);v.init(n);c.raiseFlowStartedEvent(n,i);l.raiseEventOnCurrentFlow(u.FLOW_INNER_EVENTS.FlowIsPlaying,{});nt(n,i,u.FLOW_PLAY_MODES.PLAY)}function ut(n){var f,t,i,o;k.customerLog("FlowPlayer onStageSuccess - next stage id: {0}{1}",n.nextStageId,n.nextFlowId?", next flow id: "+n.nextFlowId:"");it();f=e.peek();n=r.extend({step:h.getNodeById(f.flowId,f.stageId)},n);l.raiseEventOnCurrentFlow(u.EVENTS.Flows.AfterCompletingFlowStage,n);t=n.nextStageId;(n.currentNode&&a.setPreviousGroupHasNextStage(n.shouldCreateFlowGroup,n.currentNode),n.shouldCreateFlowGroup)?(i=n.nextFlowId,i||(i=f.flowId),k.customerLog("FlowPlayer new flow group - flow {0} with node {1}",i,t),o=e.peek(),n.isBranch&&!n.currentNode.Links[0].TargetFlowNodeId&&e.pop(),t=b.get(i,t).startingNodeId,e.push(i,t),n.isBranch&&c.raiseFlowBranchedEvent(i,t,o.stageId),l.raiseEventOnCurrentFlow(u.FLOW_INNER_EVENTS.FlowIsPlaying,{}),nt(i,t)):t?pt(t):st()}function yt(n,r){var f,e;(k.customerLog("FlowPlayer onStageError - params: {0}",i.toJSON(n)),n&&n.nextStageId)?ut(n):n&&n.lostOwnership||(n&&!n.wasElementShown&&t.getIsFirstVisualStep()?rt==u.FLOW_PLAY_MODES.PLAY&&(t.getSafeStartFlowId()||(e=h.getFlowById(r),n.isSafeStartHandling=y.handleSafeStart(p.BusinessSolution,e,{flowId:r,eventParams:n})),f=u.EVENTS.Flows.FailedToStart):(a.removePreviousGroupHasNextStage(),f=u.EVENTS.Flows.FlowStopped),tt(f,n))}function it(){if(!d)return r.when();var n=d.destroy();return d=null,n}function pt(n){k.customerLog("FlowPlayer transition - Transitioning to node {0}",n);e.updateTopStageId(n);ft().then(bt)}function wt(){var n=e.peek();t.saveIsGroupBack(!0);ft().then(function(){et(n.flowId,n.stageId)})}function ft(){return s.canContinue()}function bt(){var n=e.peek();nt(n.flowId,n.stageId)}function et(n,i,r){t.clearIsGroupBack();ot(n,i,u.FLOW_STAGE_ACTIONS.BACK_FROM_FLOW_GROUP,r)}function nt(n,t,i){ot(n,t,u.FLOW_STAGE_ACTIONS.EXECUTE,i)}function ot(i,r,f,e){var o,s;k.customerLog("FlowPlayer run - Running flow id: {0}, node id: {1} with action: {2}",i,r,f);e&&(rt=e);o=h.getFlowById(i);(d=n.createStage(o,r))?(l.raiseEventOnCurrentFlow(u.EVENTS.Flows.BeforeExecutingFlowStage,{step:h.getNodeById(i,r)}),s=t.getSafeStartFlowId(),d[f]().progress(kt).then(ut,function(n){yt(n,i)}).always(function(){s&&t.saveSafeStartFlowId(void 0)})):st()}function kt(n,t){"stageShown"==n&&l.raiseEventOnCurrentFlow(u.EVENTS.Flows.UIFlowStageShown,t)}function st(){var n=e.pop(),t;if(k.customerLog("FlowPlayer flowGroupCompleted - With previous group settings flowId: {0}, stageId: {1}",n.flowId,n.stageId),!e.isEmpty())return t=e.peek().flowId,wt(),void(n.flowId!=t&&l.raiseEventOnCurrentFlow(u.EVENTS.Flows.FlowBranchReturned,{flowId:n.flowId}));dt(n.flowId)}function dt(n){tt(u.EVENTS.Flows.FlowCompleted,{flowId:n})}function tt(n,t){return n&&l.raiseEventOnCurrentFlow(n,t),e.clear(),it()}var g=this,d,k,rt;g.execute=nt;g.backFromFlowGroup=et;g.stop=ct;g.abort=lt;g.pause=at;g.play=vt;ht()}function gyt(n,t,i,r,u,e,o,s){function l(){h=f.create("FeaturedLogger",{feature:n.FEATURES_LOGS.Flows})}function a(){if(h.customerLog("FlowsRestorer restore - restoring current flow"),t.isEmpty())h.customerLog("FlowsRestorer restore - nothing to restore");else{i.raiseEventOnCurrentFlow(n.EVENTS.Flows.RestoringFlow,{});var u=t.peek();r.init(u.flowId);v(u)}}function v(t){var i=p(t),r=y();o[r](t.flowId,i,n.FLOW_PLAY_MODES.RESTORE)}function y(){return u.getIsGroupBack()?n.FLOW_STAGE_ACTIONS.BACK_FROM_FLOW_GROUP:n.FLOW_STAGE_ACTIONS.EXECUTE}function p(r){var o=u.getWaitingForRefreshTrigger(),f=r.stageId;return o?(h.customerLog("FlowsRestorer restore - refresh happened, skipping stage id {0} and moving to {1}",f,o.refreshTrigger),i.raiseEventOnCurrentFlow(n.EVENTS.Flows.AfterCompletingFlowStage,{step:e.getCurrentNode(),firedTrigger:o.firedTrigger,uiElementId:o.uiElementId}),u.clearWaitingForRefreshTrigger(),f=o.refreshTrigger,t.updateTopStageId(f)):f||(f=w(r.flowId),t.updateTopStageId(f)),f}function w(n){var t=e.getFlowById(n);return s.getStageData(t).startingNodeId}var c=this,h;c.restore=a;l()}function npt(){function t(n,t){return r.isArray(n)&&i(n,t)}function i(n,t){var i=r(n).filter(function(n,i){return void 0!=t&&i.flowId==t||void 0!=i.flowId&&void 0!=i.stageId});return i.length==n.length}var n=this;n.isFlowsArrayValid=t}function tpt(n,t){function o(){r={}}function s(n){r.flows=n;u()}function h(n){r.playGuid=n;u()}function c(n){r.isFirstVisualStep=n;u()}function f(n){r.isWaitingForRefresh=n;u()}function l(n){r.safeStartFlowId=n;u()}function a(n){r.playInitiator=n;u()}function e(n){r.isGroupBack=n;u()}function v(){f(void 0)}function y(){e(void 0)}function p(){r=it()}function w(){return r.playGuid}function b(){return r.flows}function k(){return r.isFirstVisualStep}function d(){return r.isWaitingForRefresh}function g(){return r.safeStartFlowId}function nt(){return r.playInitiator}function tt(){return r.isGroupBack}function u(){n.saveData(n.keysConfig.flow.stack.key,r,n.keysConfig.flow.stack.expiry)}function it(){var i=n.getData(n.keysConfig.flow.stack.key);return i&&t.isFlowsArrayValid(i.flows,i.safeStartFlowId)?i:{flows:[]}}var i=this,r;i.getPlayGuid=w;i.getFlows=b;i.getIsFirstVisualStep=k;i.getWaitingForRefreshTrigger=d;i.getSafeStartFlowId=g;i.getPlayInitiator=nt;i.getIsGroupBack=tt;i.load=p;i.saveFlows=s;i.savePlayGuid=h;i.saveIsFirstVisualStep=c;i.saveWaitingForRefreshTrigger=f;i.saveSafeStartFlowId=l;i.savePlayInitiator=a;i.saveIsGroupBack=e;i.clearWaitingForRefreshTrigger=v;i.clearIsGroupBack=y;o.apply(null,arguments)}function ipt(n){function u(){r(["push","pop","updateTopStageId","clear"]).each(function(n,i){t[i]=h(t[i])})}function e(n){var i=t.peek();i.stageId=n}function o(n,t){i({flowId:n,stageId:t})}function s(){n.load();t.init(n.getFlows())}function h(i){return function(){var r=i.apply(t,arguments);return n.saveFlows(t.getAll()),r}}var t=f.create("Stack"),i=t.push;return t.push=o,t.updateTopStageId=e,t.load=s,u(),t}function rpt(n,t,i,r,u,e,o,s,h){function a(){l=f.create("FeaturedLogger",{feature:r.FEATURES_LOGS.Flows})}function v(){e.load();t.restore()}function y(t,r,f,e){l.customerLog("BizflowApi start - Starting flow {0} id {1}{2}",f,t,r?" from node "+r:"");n.abort().then(function(){o.savePlayInitiator(e);u.removeCrossUsersState();var n=h.get(t,r);s.raiseBeforeFlowStartedEvent(t,n);i.determineOwner(t,n.startingNodeId)})}var c=this,l;c.start=y;c.restore=v;c.stop=n.stop;c.pause=n.pause;a()}function upt(n,t,i,r){function e(n,t){t=r.extend(o(),t);f(n,t)}function f(t,u){var f=i.getFlowById(u.flowId);u.eventType=t;r(f).trigger(n.FLOW_INNER_EVENTS.EventPropogationPrefix,u)}function o(){var n=t.peek();return n?{flowId:n.flowId,stageId:n.stageId}:{}}var u=this;u.raiseEventOnCurrentFlow=e;u.raiseEvent=f}function fpt(n,t,i){function f(i,r){var f=u(i,r);t.raiseEvent(n.EVENTS.Flows.FlowStarted,f)}function e(i,r){t.raiseEvent(n.EVENTS.Flows.BeforeFlowStarted,{flowId:i,startPointUIElementId:r.startingUiElementId,startedFromStartPoint:r.startedFromStartPoint,startingStageId:r.startingNodeId})}function o(i,r,f){var e=u(i,r);e.branchOriginStageId=f;s()&&(e.isBbCodeTrigger=!0);t.raiseEvent(n.EVENTS.Flows.FlowBranched,e)}function u(n,t){return{flowId:n,requestedStageId:t,startingStageId:t}}function s(){return i.lastTriggerFired&&i.lastTriggerFired.Type==n.FLOW_TRIGGER_TYPE.BbCode}var r=this;r.raiseFlowStartedEvent=f;r.raiseFlowBranchedEvent=o;r.raiseBeforeFlowStartedEvent=e}function ept(n,t,i){function f(){i.on(n.EVENTS.Flows.FlowCompleted,function(n,t){r(t.businessSolutionId)});i.on(n.EVENTS.Flows.FlowBranchReturned,function(n,t){r(t.businessSolutionId)})}function r(i){t.updateDeployableCompleted(i,n.DEPLOYABLE_TYPE.BusinessSolution)}var u=this;u.init=f}function opt(n,t,i,u,f,e,o,s){function p(){l();t.register(w);f.register(n.FLOW_TRANSITION_HANDLER_IDS.ON_BEFORE_UNLOAD,k)}function l(){a=!1;c=null;h=null}function w(){if(!s.isEmpty()&&(a=!0,u.pauseAllTimeouts(),!e.get().enabled())){c=r.Deferred();h&&h.clear();var n=i.get().Settings.BeforeUnloadTimeout||y;h=u.setWalkmeTimeout(b,n)}}function b(){o.isFeatureEnabled("noUnload")&&u.resumeAllTimeouts();c.resolve();l()}function k(){return a?e.get().enabled()?(l(),e.get().loseOwnership(!1,!0),r.Deferred().reject()):c.promise():r.Deferred().resolve()}function d(){h&&h.clear();l()}var v=this,a,c,h,y;v.init=p;v.destroy=d;y=3e3}function spt(n,t){function u(){}function f(t){for(var u,f=e(t.Links),r=0;r<f.length;r++)if(u=f[r],!i(u)||n.isSegmented(u))return u;return null}function e(n){for(var t,u=[],f=[],r=0;r<n.length;r++)t=n[r],i(t)?u.push(t):f.push(t);return u.concat(f)}function i(n){var i=t.getValue(n,"ConditionTrees.Branch.Root");return!!i}var r=this;r.getPlayableLink=f;u()}function hpt(n){function i(){}function r(t){var i={featureName:"evaluate split node link segmentation",elementName:t.Name},r=n.createNew(i);return r.getCurrentEvaluationValueAndStopEvaluating(t.ConditionTrees.Branch)}var t=this;t.isSegmented=r;i()}function cpt(n){function u(n){i={};for(var t=0;t<n.length;t++)i[n[t].Id]=n[t]}function f(n){return i[n]}function r(n,t){return i[n].Nodes[t]}function e(){if(!n.isEmpty()){var t=n.peek();return r(t.flowId,t.stageId)}}var t=this,i;t.init=u;t.getNodeById=r;t.getFlowById=f;t.getCurrentNode=e}function lpt(n,t,i,u,f,e){function s(){n.on(t.EVENTS.Flows.FlowCompleted,h);n.on(t.EVENTS.Flows.FlowStopped,c)}function h(n,i){o(i.businessSolutionId,t.SURVEY_START_EVENTS.WalkThruCompleted)}function c(n,i){o(i.businessSolutionId,t.SURVEY_START_EVENTS.WalkThruExited)}function o(n,r){var o=i.getById(n),s;if(o.Surveys&&0!=o.Surveys.length&&(s=l(o.Surveys,r),s)){var h=e.flowSurveyActivator.surveyRepeat.key+t.DEPLOYABLE_TYPE.BusinessSolution+"-"+o.Id,c=t.SURVEY_FREQUENCY[s.Frequency],a={objectId:o.Id,type:t.STEP_PLAY_INITIATOR_ENUM.FLOW_STEP},v={businessSolutionId:o.Id,eventSource:r,surveyPlayGUID:f.getPlayGuid()};u.activateSurvey(s.SurveyId,h,c,a,v)}}function l(n,i){var f=t.SURVEY_START_EVENTS.Both,u=void 0;return r.each(n,function(n,t){t.TriggerType!=i&&t.TriggerType!=f||(u=t)}),u}s()}function apt(n){function o(){i=[];u=[];t={};t[n.FLOW_TRANSITION_HANDLER_IDS.DELAYER]=!0}function s(n,r){t[n]?i.push(r):u.push(r)}function h(){var n=r.Deferred();return e(i).then(function(){e(u).then(n.resolve,n.reject)},n.reject),n.promise()}function e(n){var t=r.map(n,c);return r.when.apply(r,t)}function c(n){return n()}var f=this,t,i,u;f.register=s;f.canContinue=h;o()}function vpt(n,t,i,r){function s(){o=mtjQuery.Deferred().resolve();u=o;t.register(n.FLOW_TRANSITION_HANDLER_IDS.DELAYER,c)}function h(n,t){var e=r.getDelay(n,t);e&&(u=mtjQuery.Deferred());f=i.setWalkmeTimeout(u.resolve,e)}function c(){return u.promise()}function l(){f&&(f.clear(),f=null,u.reject(),u=mtjQuery.Deferred().resolve())}var e=this,u,f,o;e.setDelayByTrigger=h;e.destroy=l;s()}function ypt(n,t){function r(n,i){return n.getDelay&&n.getDelay()||u()[i]||t[i]||0}function u(){return n.get().Settings.TriggersDelays||{}}var i=this;i.getDelay=r}function ppt(n){var t={};return t[n.FLOW_TRIGGER_TYPE.Click]=1e3,t}function wpt(n,t){function r(){}function u(i){if(n.isSplitNode(i))return t.getNextNodeId(i);var r=n.getNodeConnectors(i);return r[0].TargetFlowNodeId}var i=this;i.getNextNodeToExecute=u;r()}function bpt(n){function i(){}function r(t){var i=n.getPlayableLink(t);return i?i.TargetFlowNodeId:null}var t=this;t.getNextNodeId=r;i()}function kpt(n,t){function r(){}function u(i,r,u){function e(r){var o,h,s;f[r]||(o=n.getNodeById(i,r),h=u(o),h)&&(f[r]=1,s=t.getNextNodeToExecute(o),s&&e(s))}var f={};e(r)}var i=this;i.executionTraverse=u;r()}function dpt(n){function f(i,f){var o=u();i&&!o&&e(f)?n.saveData(t,f.Id,n.keysConfig.flow.lastStage.expiry):i||o!=f.Id||r()}function r(){n.removeData(t)}function u(){return n.getData(t,!1)}function e(n){return n.Links[0].TargetFlowNodeId}var i=this,t;i.setPreviousGroupHasNextStage=f;i.removePreviousGroupHasNextStage=r;i.isPreviousGroupHasNextStage=u;t=n.keysConfig.flow.lastStage.key}function gpt(n,t,i,r,u,e){function l(){a()}function a(){u.bind(n.EVENTS.Flows.FlowStarted,o.clear);u.bind(n.EVENTS.Flows.BeforeExecutingFlowStage,v);u.bind(n.EVENTS.Flows.AfterCompletingFlowStage,y)}function v(n,t){h(t)&&!b(t)||o.clear()}function h(n){var r=t.getNodeById(n.flowId,n.stageId);return r&&i.isUiNode(r)}function y(n,t){p(t)&&w(t)&&o.push(r.peek().stageId)}function p(n){return!n.isFlowGoingBack}function c(n){var t=n.step,i=t.UIElements[0],r=e.get(i);return r.length>0}function w(n){return h(n)&&c(n)}function b(n){return h(n)&&!c(n)}var s=this,o=f.create("Stack");s.clear=o.clear;s.push=o.push;s.pop=o.pop;s.isEmpty=o.isEmpty;l()}function nwt(n,t,i){function u(r,u){if(u){var f,o=n.getFlowById(r),e=o.Nodes[u];f=e.ErrorHandlingParentId?e.ErrorHandlingParentId:e.Settings&&e.Settings.ErrorHandlingParentId;f&&(t.push(r,f),i.setPreviousGroupHasNextStage(!0,o.Nodes[f]))}}var r=this;r.pushInnerGroupIfExists=u}function twt(n,t){function f(n){s(n)}function e(){return u.length}function o(n){return r.inArray(n,u)+1}function s(i){var f,r=[],o=t.getFlowById(i),e=o.Nodes;for(var s in e)f=e[s],f.Type==n.FLOW_STEP_TYPE.UI&&(r=r.concat(f.UIElements));r.sort(c);u=h(r)}function h(n){return r.map(n,function(n){return n.Id})}function c(n,t){var i=n.PointIndex,r=t.PointIndex;return i<r?-1:1}var i=this,u;i.init=f;i.getTotalVisualSteps=e;i.getNextVisualStepIndex=o}function iwt(n,t,i,r,u){function o(t,u){i.push(u.flowId);r.saveSafeStartFlowId(u.flowId);n.redirect(t)}function s(n){e(t.SAFESTART_ACTION.StayClicked,n)}function e(n,i){i.eventParams.status=n;i.eventParams.flowId=i.flowId;u.raiseEventOnCurrentFlow(t.EVENTS.Flows.SafeStartStatusChanged,i.eventParams)}function h(n){e(t.SAFESTART_ACTION.ErrorShown,n)}var f=this;f.auditSafeStartStatus=e;f.redirect=o;f.auditStayButtonClicked=s;f.auditSafeStartDisabled=h;f.auditSafeStartFirstStatus=e}function rwt(n,t){function r(i,r){if(r)return{startingNodeId:r};var u=n.getFlowById(i);return t.getStageData(u)}var i=this;i.get=r}function uwt(n,t){function r(){}function u(n,i){var r=!1;return t.executionTraverse(n,i,function(n){var t=!0;return f(n)&&(r=!0,t=!1),t}),r}function f(t){return!n.isSplitNode(t)}var i=this;i.isPlayable=u;r()}function fwt(n,t,i,u,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt){function cr(n,t){vt[n]=t}function lr(n){kt={};for(var r=0;r<n.length;r++)n[r].Steps&&t.fixSteps(n[r],i.get());u.setWalkthrus(n)}function oi(n){if(void 0!=kt[n.Id])return kt[n.Id];var t=o.getSettingsValue(n.Settings,"action",null);return t?(kt[n.Id]=f.get("ActionsFactory").get(t.actionType,t.arguments,h.STEP_PLAY_INITIATOR_ENUM.STEP,n),kt[n.Id]):(s.customerLog("No action core. aborting..."),null)}function ar(n){if(!yt||0==yt.length)return!1;for(var t=[],i=void 0,r=!1;yt.length>0;){if(i=yt.pop(),i.id==n){r=!0;break}t.push(i)}if(t.length>0)for(;t.length>0;)yt.push(t.pop());return r}function vr(n){for(var i,t=0;t<yt.length;t++)if(i=yt[t],i.id==n)return!0;return!1}function yr(n,t){yt.push({id:n.Id,mode:t})}function yi(n){var r=u.getWalkthruByIndex(n),t;vt.tutorialRunSettingsMap[r.TutorialId]&&(t=vt.tutorialRunSettingsMap[r.TutorialId].siteConfig,t&&i.set(t))}function pr(n){return vt.tutorialRunSettingsMap[n]?vt.tutorialRunSettingsMap[n].siteConfig:i.get()}function wr(n){var t=vt.tutorialRunSettingsMap[n.TutorialId];return t?t.isPackageHidden:!1}function br(n){var i=c.map(n,u.getWalkthruIndexByWalkthruId),t=c.inArray(-1,i);return void 0==t||t==-1}function ri(n,t){if("number"==typeof n)return n==t;for(var r=n.split(","),i=0;i<r.length;i++)if(t+""==r[i])return!0;return!1}function pi(n,t,i,r){for(var e,f=t;f<i;f++)r!=h.STEP_STATUS.SkippedByActionStep&&(e=u.getWalkthruByIndex(n),l.deprecatedRaiseEvent("NewSkippedStep",e.Steps[f]))}function ui(n,t){var r=Array(),i;if(!n.Conditions)return r;for(i=0;i<n.Conditions.length;i++)n.Conditions[i].Type==t&&(void 0!=n.Conditions[i].IsEnabled&&1!=n.Conditions[i].IsEnabled||r.push(n.Conditions[i]));return r}function kr(n){return ui(n,dt.FIRST_STEP_MUST_EXIST).length>0}function dr(t){var c,e,a,v,i;if(0==t.IsVisible)return!1;for(var r=ui(t,dt.URL),h=!1,u=0;u<r.length;u++)if(gr(t,r[u])){h=!0;break}if(r.length>0&&!h)return!1;if(c=o.getSettingsValue(t.Settings,"DOCTEnabled",0),1==c&&(e=o.getSettingsValue(t.Settings,"DOCT",""),""!=e))try{if(a=f.get("ConditionCheckerFactory").createOld({trackUIChange:!0,featureName:"Walk-Thru Segmenation",elementName:t.Name}),v=a.getCurrentEvaluationValueAndStopEvaluating(e),l.deprecatedRaiseEvent("WtConditionEvaluated",t),!v)return l.deprecatedRaiseEvent("CannotShowWt",t),!1}catch(y){}return kr(t)?0==t.Steps.length?!1:(i=t.Steps[0],s.customerLog('First Step Condition for "'+(i.StepTitle||i.StepText)+', Walk-Thru "'+t.Name+'"'),n.findElement(i)):(l.deprecatedRaiseEvent("CanShowWt",t),!0)}function gr(n,t){switch(t.Type){case dt.URL:return!!ct.isLocationMatchString(t.Content);default:s.error(new Error("Invalid condition type: "+t.Type))}}function si(n){for(var t,r,f,o=u.getWalkthruByIndex(n),e=ui(o,dt.SKIP_FIRST_STEP),i=0;i<e.length;i++)if(t=e[i],ct.isLocationMatchString(t.Content))return r=t.ExtraData,f=r?r-1:1,s.customerLog("The walk-thru has a skip step condition ("+t.Content+") which is true. Skipping to: "+f),f;return 0}function hi(n,t){var r=u.getWalkthruByIndex(n),i=ui(r,dt.REDIRECT);return 0==i.length?!1:nu(i[0],t)}function nu(n,t){var i=n.Content;return t?v.redirect(i):v.canRedirect(i)}function wi(n,t,i,r,e,o){var c,v;try{f.get("WalkmeVisibleReporter").report();b.stepAppearanceIndex=0;c=u.getWalkthruByIndex(n);l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.WalkthruLoaded,c);yi(n);f.get("ContentsManager").removeContent();r=a.defaultValue(r,d.generateNewPlayGuid(c.TutorialId));i=a.defaultValue(i,!0);t=a.defaultValue(t,0);v=void 0==o?t:o;0===t&&(t=si(n));bi(n,t,r,e,[],[],[]);try{e=e||{type:h.STEP_PLAY_INITIATOR_ENUM.NONE};f.get("AuditWtsManager").auditWalkthruStart(c,e,v,t,r)}catch(y){s.error(y)}g.get()!=h.SOURCES.play&&f.get("WalkMeGoalsManager").startWatchingDeployable(c,r);sr(n)}catch(p){s.error(p)}}function bi(n,t,i,r,u,e,o){fi();ot.releaseBalloons();b.state=h.WALKTHRU_STATE.RUNNING;b.currentWalkthru=n;b.currentStep=t-1;b.stepPlayHistory=u;b.stepPlayStack=e;b.stepCompletedHistory=o;f.get("AuditStepsManager")._currentPlayGUID=i;f.get("AuditStepsManager")._currentPlayInitiator=r;k.storeStateInCookie()}function fi(){y.stopTimeoutsArray("playTimeouts");vt.executeTutorialNextStepNotFinished=!1}function tu(){b.stepPlayStack=[];ot.releaseBalloons();fi();l.raiseEvent("WalkthruAborted")}function iu(n,t){var r,i;if(l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.WalkthruStopped,b.getCurrentStep()),fi(),ot.releaseBalloons(),b.state=h.WALKTHRU_STATE.NOT_RUNNING,nt.removeOverlay(),r=b.currentStep,(b.currentStep=-1,n||k.storeStateInCookie(),f.get("CrossDomainManager")&&f.get("CrossDomainManager").get().enabled()&&f.get("CrossDomainManager").get().reset(),!t)&&(i=b.getCurrentWalkthru(),i&&i.Settings.survey)){var u=h.SURVEY_START_EVENTS.WalkThruExited,e=i.Settings.survey.surveyId,o=li(i.Settings.survey,u),s={objectId:i.Id,type:h.STEP_PLAY_INITIATOR_ENUM.WALKTHRU};f.get("WalkthruSurveyActivator").activateSurvey(i,u,s,e,o,void 0,r)}}function ru(n,t,i,r){function o(){var c,u,v,p,y,w,o,k,d,tt;try{if(s.customerLog("startNewTutorial : Index = "+n+". From Step = "+t+" testMode: "+i),nt.fixFlash(),yi(n),c=!1,f.get("AuditStepsManager")._currentPlayInitiator=r,t=a.defaultValue(t,0),i=a.defaultValue(i,!1),f.get("FlowsPlayer").abort(),!i){if(b.state!=h.WALKTHRU_STATE.WAITING_FOR_OWNERSHIP&&!f.get("WalkthruOwnershipManager").walkthruStarted(n,t))return!0;ci(!0,!0);f.get("CrossDomainManager").get().enabled()||ki();f.get("OldBalloonNotifier").closePopup()}if(l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.WalkthruStarted,e),u=[],v=t,t=f.get("PlayManager").findFirstStep(n,t,u),p=0==t,t>0&&!i?(y=g.get(),y==h.SOURCES.play||y==h.SOURCES.preview?pi(n,v,t,h.STEP_STATUS.SkippedStartedFromBiggerStep):(c=!0,ai(n,0,t,h.STEP_STATUS.SkippedStartedFromBiggerStep))):0==t&&(t=si(n),t>0&&!i&&(c=!0,ai(n,0,t,h.STEP_STATUS.SkippedByTutorialCondition))),!hi(n,!1)&&t<0){if(i)return!1;if(f.get("AuditStepsManager").createPlayGuidIfNeeded(e.TutorialId),w={tutorialIndex:n,wt:e,checkStepExistsTrace:u},!f.get("DeployableSafeStartExecuter").handleSafeStart(lt.Tutorial,e,w)){for(o=0;o<u.length;o++)k=u[o].stepStatus==h.STEP_STATUS.SupposedToShow,f.get("AuditStepsManager").auditStep(e,e.Steps[u[o].stepIndex],u[o].stepStatus,k),pi(n,u[o].stepIndex,u[o].stepIndex+1,u[o].stepStatus);d=u[u.length-1].stepIndex;tt=e;uu(tt,d);ci()}}else{if(i)return!0;wi(n,t,p,c?f.get("AuditStepsManager")._currentPlayGUID:void 0,r,v)}}catch(it){return s.error(it),!1}return l.deprecatedRaiseEvent("WtHasGuid",e,{playGuid:f.get("AuditStepsManager")._currentPlayGUID}),l.raiseEvent(h.EVENTS.Walkthrus.WalkthruGuidGenerated,{playGuid:f.get("AuditStepsManager")._currentPlayGUID}),!0}var e=u.getWalkthruByIndex(n);return f.get("WalkthruStepsLoader").afterStepsLoaded(e&&e.TutorialId,function(){return o()})}function ci(n,t){b.currentWalkthru=-1;b.state=h.WALKTHRU_STATE.NOT_RUNNING;b.currentStep=-1;b.splitPointStack=[];b.stepPlayHistory=[];b.stepPlayStack=[];b.stepCompletedHistory=[];b.lastBackButtonStepIndex=-1;f.get("AuditStepsManager")._currentPlayGUID="";vt.executeTutorialNextStepNotFinished=!1;kt={};vt.dontContinueTutorial=!1;ii=!1;n||(f.get("AuditStepsManager")._currentPlayInitiator=null);t||k.storeStateInCookie()}function ki(){for(var i,t=f.get("UserGuidContainer").getAllUserGuids(),n=0;n<t.length;n++)i=t[n],f.get("ClientStorageManager").removeData(h.STORAGE_KEYS.WALKTHRU_PERSISTENCE_DATA,i)}function li(n,t){var i=di(n,t);return i.repeat||"visit"}function di(n,t){if(n.startCondition==t||n.startCondition==h.SURVEY_START_EVENTS.Both)return n}function ai(n,t,i,r){for(var o,e=t;e<i;e++)o=u.getWalkthruByIndex(n),f.get("AuditStepsManager").auditStep(o,o.Steps[e],r)}function uu(n,t){if(st.isInPlayMode()){var i=n.Steps[t],r={step:i,tutorial:n};l.raiseEvent("WalkthruFailedToStart",r)}else f.get("PopupNotificationsService").showWalkthruFailedToStartPopup(n)}function gi(t){var e;ot.releaseBalloons();b.state=h.WALKTHRU_STATE.NOT_RUNNING;k.storeStateInCookie();var i=fu(),s={hadSplit:!!i,finishAfterRefresh:!!t},r=b.getCurrentWalkthru();if(l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.WalkthruCompleted,r,s),nt.removeOverlay(),f.get("TodoListManager").updateDeployableCompleted(r.TutorialId,h.DEPLOYABLE_TYPE.Tutorial),r.Settings.survey){var o=h.SURVEY_START_EVENTS.WalkThruCompleted,c=r.Settings.survey.surveyId,a=li(r.Settings.survey,o),v={objectId:r.Id,type:h.STEP_PLAY_INITIATOR_ENUM.WALKTHRU},y=b.currentStep;f.get("WalkthruSurveyActivator").activateSurvey(r,o,v,c,a,void 0,y)}i?(e=u.getWalkthruByIndex(i.tutorialIndex),l.deprecatedRaiseEvent("switchToWalkthru",e.Id),l.deprecatedRaiseEvent("BackFromBranch",e),bi(i.tutorialIndex,i.stepIndex,i.playGuid,i.playInitiator,i.stepPlayHistory,i.stepPlayStack,i.stepCompletedHistory),n.executeTutorialNextStep()):(b.stepPlayStack=[],f.get("CrossDomainManager").get().loseOwnership())}function fu(){return b.splitPointStack.length>0?b.splitPointStack.pop():null}function pt(){s.customerLog("executeTutorialNextStep - Waiting for all frames to load before executing.",3);tt.waitForFramesToLoad().then(eu)}function eu(){if(vt.executeTutorialNextStepNotFinished)return void s.customerLog("executeTutorialNextStepNotFinished - skipping this executeTutorialNextStep",5);if(ii)return ii=!1,s.customerLog("executeTutorialNextStep: waiting for other window",5),s.customerLog("Waiting for other window..."),void nr();if(vt.dontContinueTutorial)return void s.customerLog("executeTutorialNextStep: not executing, dontContinueTutorial=true",5);if(b.getCurrentWalkthru().Steps.length-1==b.currentStep)return void gi();vt.executeTutorialNextStepNotFinished=!0;var n=ou();s.customerLog(e("Next step including split is: {0} seconds",n),5,wt);y.playSetTimeout(function(){function n(){vt.executeTutorialNextStepNotFinished=!1;ni()}b.currentStep++;f.get("WalkthruStepsLoader").afterStepsLoaded(b.getCurrentWalkthru().Id,function(){b.currentStep>0&&!ri(b.getPreviousStep().End,h.WALKTHRU_STEP_TRIGGER.NOTHING)?ot.releaseBalloons(n):n()})},1e3*n)}function nr(){f.get("ClientStorageManager").refreshGetData();y.playSetTimeout(function(){var n=f.get("ClientStorageManager"),t=n.keysConfig.walkthru.waitForOtherWindow,i=n.getData(t.key,void 0,b.getCurrentWalkthru().userGuid);1==i?(s.customerLog("Other window finished. Resuming walk-thru here."),n.saveData(t.key,0,t.expiry,b.getCurrentWalkthru().userGuid),f.get("WalkthruStateRestorer").restoreCrossUsersState()):nr()},500)}function ou(){var n=tr();return null==n?0:n.Delay}function tr(){return ir(b.currentWalkthru,b.currentStep,0)}function ir(n,t,i){var o=u.getWalkthruByIndex(n),f,r,e;return o.Steps.length>t+1?(f=o.Steps[t+1],f.TutorialIndex=n,f):(r=b.splitPointStack,r.length>i)?(e=r[r.length-1-i],ir(e.tutorialIndex,e.stepIndex-1,i+1)):null}function su(){var t=b.stepPlayHistory,n,i,r;if(t.length<2)return!0;for(n=0;n<t.length-1;n++)if(i=u.getWalkthruByIndex(b.currentWalkthru),r=it.getStepById(t[n],i),!a.isDefined(r.Settings.action))return!1;return!0}function rr(t){function gt(n){s.customerLog(n,5,wt)}var ci=a.getTimer(gt),ut={},ti,ri,ui,ot,st,v,ct,c,lt,fi,si,g,vt,hi,tt;if(ei!=t.Id&&b.stepAppearanceIndex++,t.playNumber=b.stepAppearanceIndex,ei=t.Id,l.raiseEvent(h.EVENTS.Walkthrus.StepExecuting,{playNum:b.stepAppearanceIndex}),ti=u.getWalkthruByIndex(b.currentWalkthru),ri=e("Processing step # {0} . Step title: {1}. Walkthru: {2}",t.StepIndex+1,t.StepTitle,ti.Name),(s.customerLog(ri),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepStarted,t),rt.isFeatureEnabled("highPerf")||f.get("AnchorTagsFixer").fixAnchorTagsOnBeforeUnload(),b.state!=h.WALKTHRU_STATE.WAITING_FOR_STICKY_ELEMENT&&b.state!=h.WALKTHRU_STATE.WAITING_FOR_ELEMENT&&b.state!=h.WALKTHRU_STATE.WAITING_FOR_CONDITION)&&(ui=ft.isActionStep(t)?h.STEP_STATUS.Shown:h.STEP_STATUS.SupposedToShow,f.get("AuditStepsManager").auditStep(b.getCurrentWalkthru(),t,ui)),ot=vi(t),st=at.checkPlayStepCondition(t),!st&&(ot==h.playConditionModes.PLAY_CONDITION||ot==h.playConditionModes.BOTH&&b.state!=h.WALKTHRU_STATE.WAITING_FOR_STICKY_ELEMENT))return s.customerLog("Play step condition is false. Skipping step."),f.get("AuditStepsManager").auditStep(b.getCurrentWalkthru(),t,h.STEP_STATUS.SkippedByCondition),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepSkipped,t),void pt();if(or(t)){if(v=bt(b.currentWalkthru,t.StepIndex,0,1,void 0,h.CHECK_STEP_MODE.Normal),v==-1)return s.customerLog("Keep looking for element after popup."),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.LookingForStepElement,t,{playGUID:f.get("AuditStepsManager")._currentPlayGUID}),b.state=h.WALKTHRU_STATE.WAITING_FOR_ELEMENT,y.playSetTimeout(function(){ni()},500),void k.storeStateInCookie();if(v==-2||v==-5)return ct="Play condition isn't met, skipping the popup.",v==-5&&(ct="Loop detecetd"),s.customerLog(ct),f.get("AuditStepsManager").auditStep(b.getCurrentWalkthru(),t,h.STEP_STATUS.SkippedNotFound),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepSkipped,t),void pt()}if(c=void 0,st||b.state!=h.WALKTHRU_STATE.WAITING_FOR_STICKY_ELEMENT?(lt={},fi=a.getTimer(gt),s.customerLog("Step - Play Condition"),c=n.findElement(t,null,lt),ut.FETime=fi("Done looking for sticky step named "+(t.StepTitle||t.StepText)+" with id "+ei),t.Score=lt.score):(s.customerLog("Sticky PlayCondition isn't met."),c=!1),c){if(c&&c!==!0&&(s.customerLog("Element found:"),s.customerLog(c),g=et.getComplexHtmlElements(t,c),g&&(c=g.elements,si=g.parentElement)),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepElementFound,t),l.raiseEvent("BeforeNewStepShown"),vt=b.stepPlayStack.length>0?b.stepPlayStack[b.stepPlayStack.length-1]:null,hi=vt?it.getStepById(vt).StepIndex:null,bu(t.Id),o.getSettingsValue(t.Settings,"fake",!1))return s.customerLog("This is a fake step. Continue to next step."),k.storeStateInCookie(),f.get("AuditStepsManager").auditStep(b.getCurrentWalkthru(),t,h.STEP_STATUS.FakeFound),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.FakeStep,t),void pt();if(b.state=h.WALKTHRU_STATE.RUNNING,ft.isActionStep(t))return void y.playSetTimeout(function(){oi(t).doAction();l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepPerforming,t)},100);var yt=f.get("TriggersManager").handle(c,t,b.currentStep,b.currentWalkthru,hi),li=yt.executeNextStep,ai=yt.clearElementEventsFuncs,kt=yt.buttons;o.getSettingsValue(t.Settings,"waitOtherWindow",!1)&&(ii=!0);ut.logicTime=ci("Finished pre-balloon logic");var dt=t.StepTitle,nt=t.StepText,d=f.create("Balloon",{element:c,parentElement:si,forceEmbedBalloonInIframe:!1,positionHelper:p,dontShowIoBalloon:!rt.isFeatureEnabled("multSpot")&&vu(t),isFirstStep:su(),stepSettings:t.Settings,text:{title:dt,content:nt,subText:lu()},end:t.End,position:t.Position,buttons:{next:kt.nextButton,done:kt.doneButton,back:kt.backButtonStepIndex>=0},data:{balloonEntityId:t.Id,containerEntityId:t.TutorialId,type:t.Type},configuration:t.Configuration,logger:s,drawer:ht.getBalloonDrawer(t.Configuration,t),siteConfig:i.get(),bindButtonsFunc:f.get("BalloonButtonsEventsBinder").addButtonEventsToBalloon,placeholderConfigurations:t.DesignTemplatePlaceholderConfigs,placeholderVariableValues:fr(),initiatorData:{initiator:t,type:h.STEP_PLAY_INITIATOR_ENUM.STEP}});(d.onDestroy(function(){ur(c,elementEvents)}),d.setReleaseEvents(ai),w.add(d),k.storeStateInCookie(),f.get("AuditStepsManager").auditStep(b.getCurrentWalkthru(),t,h.STEP_STATUS.Shown),rt.isFeatureEnabled("jawsAccessibility"))&&(tt=dt||nt,dt&&nt&&(tt+=". "+nt),tt&&c.attr("alt",tt));d.Show(!0,function(n,i){r.extend(!0,ut,n);hu(i,t);var u={Element:c,Balloon:i};l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepShown,t,u);l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepPerforming,t,u);d.SetTimeoutOn();li&&(er(),pt())});o.getSettingsValue(t.Settings,"isSelfExecuting",!1)&&cu(t,c)}else s.customerLog("Element not found."),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepElementNotFound,t,{playGUID:f.get("AuditStepsManager")._currentPlayGUID}),b.state==h.WALKTHRU_STATE.WAITING_FOR_STICKY_ELEMENT?(s.customerLog("Step was sticky. Keep looking for the element."),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.WaitingForStickyStep,t),b.state=h.WALKTHRU_STATE.WAITING_FOR_STICKY_ELEMENT,y.playSetTimeout(function(){ni()},500),k.storeStateInCookie()):t.IsSkippable||o.getSettingsValue(t.Settings,"skipNotExists",!1)?(ft.isActionStep(t)?(s.customerLog("Action step isn't valid. Skipping to next step."),f.get("AuditStepsManager").auditStep(b.getCurrentWalkthru(),t,h.STEP_STATUS.NonValidActionStep)):(s.customerLog("Skippable step. Skip to next step."),f.get("AuditStepsManager").auditStep(b.getCurrentWalkthru(),t,h.STEP_STATUS.SkippedNotFound)),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepSkipped,t),pt()):(s.customerLog("Keep looking for the element."),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.LookingForStepElement,t,{playGUID:f.get("AuditStepsManager")._currentPlayGUID}),b.state=h.WALKTHRU_STATE.WAITING_FOR_ELEMENT,y.playSetTimeout(function(){ni()},500),k.storeStateInCookie())}function hu(n,t){var i={balloonDiv:n,step:t};l.raiseEvent(h.EVENTS.Walkthrus.ShowStepBalloon,i)}function cu(n,t){function i(){var u=r(),i;switch(u){case h.WALKTHRU_STEP_TRIGGER.CLICK:s.customerLog("Self Executed Step - Trigger: Click",3);ut.click(t);break;case h.WALKTHRU_STEP_TRIGGER.HOVER:s.customerLog("Self Executed Step - Trigger: Hover",3);ut.hover(t);break;case h.WALKTHRU_STEP_TRIGGER.KEY_PRESSED:s.customerLog("Self Executed Step - Trigger: Text Input",3);ut.text(t,n.Settings.selfExecuteText,void 0,void 0,n);break;case h.WALKTHRU_STEP_TRIGGER.SELECT_VALUE:i=n.Settings.complexHtml&&n.Settings.complexHtml.val;i?(ut.select(t,i),s.customerLog("Self Executed Step - Trigger: Select Value",3)):s.customerLog("SKIPPED Self Executed Step - Trigger: Select Any - not supported",3);break;default:s.customerLog("SKIPPED Self Executed Step - Trigger not supprted",3);vt.dontContinueTutorial=!1;pt()}}function r(){var t=n.End.split(/,/);return t[0]==h.WALKTHRU_STEP_TRIGGER.NEXT_BUTTON&&t.length>1?a.getInt(t[1]):a.getInt(t[0])}y.libSetTimeout(i,1e3*n.Settings.reactionTime||h.DEFAULT_REACTION_TIME)}function ur(n,t){for(var i=0;i<t.length;i++)n.unbind(t[i]+".mt");return!1}function lu(){var n=i.get().StepsInfoText,t=fr(),r=t.totalVisibleSteps,u=t.passedVisibleSteps;return rt.isFeatureEnabled("floatingsubtext")?(n=n.replace("{0}",h.SUBTEXT_CURRENT_START+u+h.SUBTEXT_CURRENT_END),n=n.replace("{1}",h.SUBTEXT_TOTAL_START+r+h.SUBTEXT_TOTAL_END)):(n=n.replace("{0}",u),n=n.replace("{1}",r)),n}function fr(){for(var t=u.getWalkthruByIndex(b.currentWalkthru).Steps,i=0,r=0,n=0;n<t.length;n++)au(t[n])&&(i++,n<=b.currentStep&&r++);return{totalVisibleSteps:i,passedVisibleSteps:r}}function au(n){return!(n.Type==h.STEP_TYPE.Action||parseInt(o.getSettingsValue(n.Settings,"isInvisible",0))||parseInt(o.getSettingsValue(n.Settings,"fake",0)))}function vu(n){var i=n,t=b.stepPlayHistory,r;return t.length>1&&(r=u.getWalkthruByIndex(b.currentWalkthru),i=it.getStepById(t[t.length-2],r)),ri(n.End,h.WALKTHRU_STEP_TRIGGER.NOTHING)||ri(i.End,h.WALKTHRU_STEP_TRIGGER.NOTHING)}function er(n){n=a.defaultValue(n,!0);var t=b.getCurrentStep();l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepCompleted,t);yu(t);n?(f.get("AuditStepsManager").auditStep(b.getCurrentWalkthru(),t,h.STEP_STATUS.Performed),pu(t)):f.get("AuditStepsManager").auditStep(b.getCurrentWalkthru(),t,h.STEP_STATUS.MovedBack)}function yu(n){b.stepCompletedHistory.push(n.Id)}function pu(n){var r=o.getSettingsValue(n.Settings,"resumeOtherWindow",!1),t,i;r&&(t=f.get("ClientStorageManager"),i=t.keysConfig.walkthru.waitForOtherWindow,t.saveData(i.key,1,i.expiry,b.getCurrentWalkthru().userGuid))}function or(n){return n.Type!=h.STEP_TYPE.Popup?!1:1==o.getSettingsValue(n.Settings,"popup-play-condition",0)}function vi(n){return o.getSettingsValue(n.Settings,hr,h.playConditionModes.PLAY_CONDITION)}function wu(n){var i=o.getSettingsValue(n.Settings,"skipStepCond",""),r,t,u;if(i.length>0)try{return!f.get("ConditionEvaluator").evaluate(i)}catch(e){return!0}if(r=o.getSettingsValue(n.Settings,"PSCTEnabled",0),1!=r)return!ft.isActionStep(n)||"never"!=o.getSettingsValue(n.Settings,"whenToFire","");if(t=o.getSettingsValue(n.Settings,"PSCT",""),""==t)return!0;try{return u=f.get("ConditionTreeEvaluator").evaluate(t),l.deprecatedRaiseEvent(h.EVENTS.Walkthrus.StepHasPlayCondition,n,{playGUID:f.get("AuditStepsManager")._currentPlayGUID}),u}catch(e){return!1}}function bu(n){b.stepPlayHistory.push(n);var t=b.stepPlayStack.length>0?b.stepPlayStack[b.stepPlayStack.length-1]:null;t!=n&&b.stepPlayStack.push(n)}function sr(n){b.currentStep==-1&&hi(n,!0)||pt()}function bt(t,i,r,e,c,l,v){return f.get("ElementFinder").wrapSession(function(){function et(n){var f,i;return!or(n)||1!=e?n.StepIndex:(f=u.getWalkthruByIndex(t),f.Steps.length>n.StepIndex?(i=bt(t,n.StepIndex+1,r,e,c,h.CHECK_STEP_MODE.Normal),i<0?i:n.StepIndex):void 0)}function ot(n){var t=oi(n),i,u;if(t.getGoToData){if(i=t.getGoToData(),u=bt(i.tutorialIndex,i.stepIndex,r,e,c,h.CHECK_STEP_MODE.Normal),u<0)return u}else if("stopWt"==t.type)return-2;return n.StepIndex}function y(n,t){return ar(t),s.customerLog("returned checking "+i+" ("+f.Id+") result: "+n,5,ti),n}function st(n,t){c&&c.push({stepIndex:n,stepStatus:t})}var it=u.getWalkthruByIndex(t),f=it.Steps[i],g,rt,p,w,k,d,tt;if(e=a.defaultValue(e,1),r=a.defaultValue(r,0),g=vr(f.Id),s.customerLog("Checking if step index "+i+" ("+f.Id+") can be played. looped: "+g+" on mode:"+l,5,ti),yr(f,l),g)return y(-5,f.Id);rt=vi(f);p=!0;rt!=h.playConditionModes.STICKY_CONDITION&&(p=at.checkPlayStepCondition(f));var nt=o.getSettingsValue(f.Settings,"fake",!1),ht=o.getSettingsValue(f.Settings,"skipNotExists",!1),ut=ht||f.IsSkippable||!p||nt;return(st(i,ku(ut,p)),p&&!nt&&s.customerLog("Step - Find Element "+(v||"")),p&&!nt&&n.findElement(f))?ft.isActionStep(f)?y(ot(f),f.Id):ft.isPopupStep(f)?y(et(f),f.Id):y(i,f.Id):(w=i+e,ut)?w<0?y(-2,f.Id):w==it.Steps.length?(d=b.splitPointStack,d.length>r)?(tt=d[d.length-1-r],k=bt(tt.tutorialIndex,tt.stepIndex,r+1,e,c,h.CHECK_STEP_MODE.Normal),s.customerLog("Checking if step "+i+" ("+f.Id+") can be played. reached last step",5,ti),y(k,f.Id)):y(-2,f.Id):(s.customerLog("Checking if step "+i+" ("+f.Id+") can be played. Skipping to: "+w,5,ti),k=bt(t,w,r,e,c,h.CHECK_STEP_MODE.Normal),y(k,f.Id)):y(-1,f.Id)})}function ku(n,t){return n?t?h.STEP_STATUS.SkippedNotFound:h.STEP_STATUS.SkippedByCondition:h.STEP_STATUS.SupposedToShow}function du(n,t){var i=bt(n,t,void 0,void 0,void 0,h.CHECK_STEP_MODE.Normal);return i==t}function ni(){var n=b.getCurrentStep();f.get("ElementFinder").wrapSession(function(){rr(n)})}function gu(){b.state=h.WALKTHRU_STATE.RUNNING;ot.releaseBalloons(function(){at.stepWasCompleted(!1);b.currentStep=b.lastBackButtonStepIndex-1;at.executeTutorialNextStep()})}function nf(n){gt.push(n)}function tf(){if(gt){for(var n=gt.length-1;n>=0;n--)gt[n].cleanResources();gt=[]}}var at=this;at.setTutorials=lr;at.isTutorialPackageHidden=wr;at.canShowTutorial=dr;at.stopTutorial=iu;at.startNewTutorial=ru;at.tutorialFinished=gi;at.executeTutorialNextStep=pt;at.postWelcomeStep=sr;at.executeCurrentStep=ni;at.executePreviousStep=gu;at.getAction=oi;at.getSiteConfigByTutorialId=pr;at.isTutorialIdsExist=br;at.isStepTrigger=ri;at.terminateTutorial=tu;at.checkTutorialSkipFirstStepCondition=si;at.fillMissingStepAudits=ai;at.getNextStepIncludingSplit=tr;at.releaseEvents=ur;at.stepWasCompleted=er;at.getPlayConditionMode=vi;at.checkPlayStepCondition=wu;at.executeTutorialStep=rr;at.checkIfStepExistsWithSkippables=bt;at.isStepPlayable=du;at.checkTutorialRedirectCondition=hi;at.loadTutorial=wi;at.releaseBalloonsTimeouts=fi;at.resetState=ci;at.cleanCurrentStepResources=tf;at.addCurrentStepResource=nf;at.setMember=cr;at.removeCrossUsersState=ki;at.getMatchedSurvey=di;at.getWalkthruSurveyFrequency=li;var vt={tutorialRunSettingsMap:{},dontContinueTutorial:!1,executeTutorialNextStepNotFinished:!1},dt={URL:0,FIRST_STEP_MUST_EXIST:1,AUTO_START:2,REDIRECT:3,SKIP_FIRST_STEP:4},hr="PSCTMode";var ti="stepCheck",kt={},yt=[],ii=!1,ei=0,gt=[]}function ewt(n,t,i,r,u,f){function s(){f.isEmpty()&&(n.customerLog("onbeforeunload called",1),e?e=!1:(t.setMember("dontContinueTutorial",!0),i.pauseAllTimeouts(),r.get().enabled()?r.get().loseOwnership(!1,!0):u.isFeatureEnabled("noUnload")&&c()))}function h(n){e=n}function c(){i.setWalkmeTimeout(function(){t.setMember("dontContinueTutorial",!1);i.resumeAllTimeouts()},3e3)}var o=this,e;o.onbeforeunload=s;o.setIgnoreNextBeforeUnload=h;e=!1}function owt(){function r(){}function u(){return n}function f(t){n=t}function i(t){return n[t]}function e(t){for(var r=-1,i=0;i<n.length;i++)if(n[i].TutorialId==t){r=i;break}return r}function o(t){for(var i=0;i<n.length;i++)if(n[i].TutorialId==t)return n[i];return null}function s(n,t){var r=i(n);if(r&&r.Steps[t])return r.Steps[t]}var t=this,n;t.getWalkthrus=u;t.setWalkthrus=f;t.getWalkthruByIndex=i;t.getWalkthruById=o;t.getWalkthruIndexByWalkthruId=e;t.getStepByIndex=s;n=[];r()}function swt(n){function f(){r()}function e(n){i.push(n)}function r(){i=[]}function u(){return i}function o(){n.executeParallel({objectsArray:u(),functionsToExecute:[function(n,t){n.stop();t&&t()}]})}var t=this,i;t.add=e;t.removeAll=r;t.getAll=u;t.stopAll=o;f()}function hwt(n,t){function u(){return n.getWalkthruByIndex(i.currentWalkthru)}function f(){return r(i.currentStep)}function e(){return r(i.currentStep+1)}function o(){return r(i.currentStep-1)}function r(n){var t=u();return t&&t.Steps&&t.Steps[n]}var i=this;i.currentWalkthru=-1;i.currentStep=-1;i.stepAppearanceIndex=0;i.splitPointStack=[];i.stepPlayHistory=[];i.stepPlayStack=[];i.stepCompletedHistory=[];i.lastBackButtonStepIndex=-1;i.getCurrentWalkthru=u;i.getCurrentStep=f;i.getPreviousStep=o;i.getNextStep=e;i.getStep=r;i.state=t.WALKTHRU_STATE.NOT_RUNNING}function cwt(n,t){function r(){var i=n.getCurrentStep();return t.isSpotlightStep(i)&&u(i)}function u(n){return t.isPopupStep(n)&&f()}function f(){var i=n.getPreviousStep(),r=n.getNextStep();return t.isPopupStep(i)||t.isPopupStep(r)}var i=this;i.shouldKeepOverlay=r}function lwt(n,t,i,r,u,e,o){function a(){}function v(){var r=void 0,o=void 0,s=void 0,h=void 0,i=u.getCurrentWalkthru(),a=i?i.TutorialId:-1,v=i?i.userGuid:f.get("UserGuidContainer").getUserGuid(),p=t.getCurrentInteractionGuid();u.state==n.WALKTHRU_STATE.RUNNING||u.state==n.WALKTHRU_STATE.WAITING_FOR_PAGE_CHANGE?(r=u.currentStep+1,i.Steps.length<=u.currentStep+1&&(o=1)):u.state==n.WALKTHRU_STATE.WAITING_FOR_SPLIT?(r=u.currentStep,s=e.splitTutorialIds,h=e.splitStartFromStepId):r=u.currentStep;var w=y(a,r,o,s,h,p),c=f.get("ClientStorageManager"),l=c.keysConfig.walkthru.persistenceData;c.saveData(l.key,w,l.expiry,v)}function y(n,t,i,r,e,h){var c={};return c[s.CURRENT_TUTORIAL_COOKIE_NAME]=n,c[s.CURRENT_STATE_COOKIE_NAME]=u.state,c[s.CURRENT_STEP_COOKIE_NAME]=t,c[s.CURRENT_STEP_PLAY_NUMBER_COOKIE_NAME]=u.stepAppearanceIndex,c[s.CURRENT_PLAY_GUID_COOKIE_NAME]=f.get("AuditStepsManager")._currentPlayGUID,c[s.CURRENT_PLAY_INITIATOR_COOKIE_NAME]=f.get("AuditStepsManager")._currentPlayInitiator,c[s.SPLIT_POINT_COOKIE_NAME]=u.splitPointStack,c[s.TUTORIAL_FINISHED_COOKIE_NAME]=i,c[s.STEP_PLAY_HISTORY_COOKIE_NAME]=u.stepPlayHistory,c[s.SPLIT_TUTORIAL_IDS_COOKIE_NAME]=r,c[s.SPLIT_START_FROM_STEP_COOKIE_NAME]=e,c[s.INTERACTION_GUID_COOKIE_NAME]=h,window._testMe&&(c[s.STEP_COMPLETED_HISTORY_COOKIE_NAME]=u.stepCompletedHistory),o.raiseEvent("SavingPersistenceData",c),c}function p(t){var f=l(t),h=c(f,-1),e={state:r.getInt(f[s.CURRENT_STATE_COOKIE_NAME],n.WALKTHRU_STATE.NOT_RUNNING),step:r.getInt(f[s.CURRENT_STEP_COOKIE_NAME],-1),playNum:f[s.CURRENT_STEP_PLAY_NUMBER_COOKIE_NAME]||u.stepAppearanceIndex,tutotrialGUID:f[s.CURRENT_PLAY_GUID_COOKIE_NAME],playInitiator:f[s.CURRENT_PLAY_INITIATOR_COOKIE_NAME],splitPointStack:r.defaultValue(f[s.SPLIT_POINT_COOKIE_NAME],[]),isTutorialFinished:r.defaultValue(f[s.TUTORIAL_FINISHED_COOKIE_NAME],0),stepPlayHistory:r.defaultValue(f[s.STEP_PLAY_HISTORY_COOKIE_NAME],[]),stepCompletedHistory:r.defaultValue(f[s.STEP_COMPLETED_HISTORY_COOKIE_NAME],[]),tutorial:i.getWalkthruIndexByWalkthruId(h),splitTutorialIds:r.defaultValue(f[s.SPLIT_TUTORIAL_IDS_COOKIE_NAME],[]),splitStartFromStepId:r.defaultValue(f[s.SPLIT_START_FROM_STEP_COOKIE_NAME],[]),interactionGuid:f[s.INTERACTION_GUID_COOKIE_NAME]};return o.raiseEvent("GettingPersistenceData",{persistenceData:f,current:e}),e}function w(n){return c(l(n))}function c(n,t){return r.getInt(n[s.CURRENT_TUTORIAL_COOKIE_NAME],t)}function l(t){return f.get("ClientStorageManager").getData(n.STORAGE_KEYS.WALKTHRU_PERSISTENCE_DATA,{},t)}var h=this,s;h.storeStateInCookie=v;h.getPersistenceData=p;h.getRunningWalkthruId=w;s=n.WALKTHRU_PERSISTANCE_DATA_FIELDS;a()}function awt(n,t,i,r,u,e,o,s,h,c,l,a,v,y,p,w){function d(){}function g(n){var t,i,r,u;if(o.customerLog("Restoring cross user state",5),t=w.getAllUserGuids(),!t.length)return n&&n(),!1;for(i=0;i<t.length;i++)if(r=t[i],u=k(r,n),u)return r;return!1}function k(c,w){function k(){function b(){u.playSetTimeout(function(){e.executeCurrentStep()},1e3*l.Delay)}var n=nt(c),l,k;if(i.stepAppearanceIndex=n.playNum,i.splitPointStack=n.splitPointStack,i.stepPlayHistory=n.stepPlayHistory,i.currentWalkthru=n.tutorial,i.currentStep=n.step,i.stepCompletedHistory=n.stepCompletedHistory,i.state=n.state,h.raiseEvent("RestoringStateFromCookie",n),r.setCurrentInteractionGuid(n.interactionGuid),n.tutotrialGUID&&(f.get("AuditStepsManager")._currentPlayGUID=n.tutotrialGUID),f.get("AuditStepsManager")._currentPlayInitiator=n.playInitiator,l=t.getStepByIndex(i.currentWalkthru,i.currentStep),(i.state==v.WALKTHRU_STATE.WAITING_FOR_PAGE_CHANGE||i.state==v.WALKTHRU_STATE.PASSING_OWNERSHIP&&l)&&(i.currentStep--,k=t.getStepByIndex(i.currentWalkthru,i.currentStep),k&&(k.playNumber=i.stepAppearanceIndex),e.stepWasCompleted(!0),i.currentStep++),o.customerLog("isTutorialFinished: "+n.isTutorialFinished,5),1!=n.isTutorialFinished||i.state!=v.WALKTHRU_STATE.RUNNING&&i.state!=v.WALKTHRU_STATE.WAITING_FOR_PAGE_CHANGE&&i.state!=v.WALKTHRU_STATE.PASSING_OWNERSHIP)if(o.customerLog("Continue from cookie: currentTutorial: "+i.currentWalkthru+" -- currentState: "+i.state+" -- currentStep: "+i.currentStep+" -- currentPlayGUID: "+f.get("AuditStepsManager")._currentPlayGUID+" -- currentUserGUID: "+c,5),l&&(i.state==v.WALKTHRU_STATE.RUNNING||i.state==v.WALKTHRU_STATE.WAITING_FOR_ELEMENT||i.state==v.WALKTHRU_STATE.WAITING_FOR_STICKY_ELEMENT||i.state==v.WALKTHRU_STATE.WAITING_FOR_PAGE_CHANGE||i.state==v.WALKTHRU_STATE.WAITING_FOR_CONDITION||i.state==v.WALKTHRU_STATE.PASSING_OWNERSHIP))b();else if(l&&i.state==v.WALKTHRU_STATE.WAITING_FOR_REDIRECT)e.loadTutorial(i.currentWalkthru,0,!1,f.get("AuditStepsManager")._currentPlayGUID,f.get("AuditStepsManager")._currentPlayInitiator);else if(l&&i.state==v.WALKTHRU_STATE.WAITING_FOR_OWNERSHIP)e.startNewTutorial(i.currentWalkthru,i.currentStep,!1,f.get("AuditStepsManager")._currentPlayInitiator);else if(l&&(i.state==v.WALKTHRU_STATE.WAITING_FOR_ELEMENT_EVENT||i.state==v.WALKTHRU_STATE.WAITING_FOR_NEXT_BUTTON_CLICK))s.getSettingsValue(l.Settings,"sticky",0)?(o.customerLog("Sticky - keep looking for element",5),i.state=v.WALKTHRU_STATE.WAITING_FOR_STICKY_ELEMENT,b()):l.IsSkippable&&(i.getCurrentWalkthru().Steps.length==i.currentStep+1?e.tutorialFinished():(i.currentStep++,i.state=v.WALKTHRU_STATE.RUNNING,b()));else if(i.state==v.WALKTHRU_STATE.WAITING_FOR_SPLIT)y.splitTutorialIds=n.splitTutorialIds,y.splitStartFromStepId=n.splitStartFromStepId,a.resumeSplit();else{if(i.state!=v.WALKTHRU_STATE.PAUSED)return e.resetState(),o.customerLog("Invalid cookie data. Not running tutorial. (userGuid : "+c+")",5),w&&w(!1),!1;o.customerLog("Tutorial was paused while restoring state from cookie. This can happen for several reasons when SPA is configured: A trigger for a balloon or wait for conditions has not been fullfilled. Alterntively an autostart is defined with sonar on an element that causes SPA page change. Please define the autostart without sonar.",1);p.releaseBalloons();e.releaseBalloonsTimeouts();e.resetState();h.raiseEvent("WalkthruAborted")}else e.tutorialFinished(!0);return w&&w(!0),!0}var b=l.getRunningWalkthruId(c);b?n.afterStepsLoaded(b,k):k()}function nt(n){var i=l.getPersistenceData(n),r=t.getStepByIndex(i.tutorial,i.step);return r&&(i.isTutorialFinished||i.state!=v.WALKTHRU_STATE.WAITING_FOR_ELEMENT_EVENT&&i.state!=v.WALKTHRU_STATE.WAITING_FOR_NEXT_BUTTON_CLICK||s.getSettingsValue(r.Settings,"sticky",0)||r.IsSkippable||(o.customerLog("page change happened while waiting for element - pausing walkthru",2),i.state=v.WALKTHRU_STATE.PAUSED)),i}var b=this;b.restoreCrossUsersState=g;b.restoreStateFromCookie=k;d()}function vwt(n,t,i,r,u,o,s,h,c,l,a,v){function w(){}function b(n,t,r,u,f){c.state=h.WALKTHRU_STATE.WAITING_FOR_SPLIT;1!=r&&k(t);v.splitTutorialIds=n;v.splitStartFromStepId=u;l.storeStateInCookie();i.stepWasCompleted();y(f)}function k(n){d()||c.splitPointStack.push({tutorialIndex:c.currentWalkthru,stepIndex:void 0!=n?n:c.currentStep+1,playGuid:f.get("AuditStepsManager")._currentPlayGUID,playInitiator:f.get("AuditStepsManager")._currentPlayInitiator,stepPlayHistory:c.stepPlayHistory,stepCompletedHistory:c.stepCompletedHistory,stepPlayStack:c.stepPlayStack})}function d(){return c.getCurrentWalkthru().Steps.length<=c.currentStep+1}function y(u){f.get("ElementFinder").wrapSession(function(){var a,b,f,p,w;try{a=1e3;u=u||a;p=0;1==v.splitTutorialIds.length?(f=v.splitTutorialIds[0],void 0!=v.splitStartFromStepId)&&(w=t.getStepIndex(v.splitStartFromStepId,f),w!=-1&&(p=w),n.customerLog(e("Resuming split, walkthru id: {0}, step index: {1}",f,p))):f=nt(v.splitTutorialIds);f?(s.deprecatedRaiseEvent("switchToWalkthru",f),b=r.getWalkthruIndexByWalkthruId(f),o.playSetTimeout(function(){var n={type:h.STEP_PLAY_INITIATOR_ENUM.BRANCHING,objectId:c.getCurrentStep().Id,appType:h.EVENT_SENDER_EVENT_APPS.Step};i.loadTutorial(b,p,!1,void 0,n)},u),l.storeStateInCookie()):(n.customerLog("Try again in "+a+"ms."),o.playSetTimeout(function(){y()},a))}catch(k){n.error(k)}})}function g(t){var i=a.map(t,function(t){var r=tt(t.TutorialId),i;return n.customerLog("Check walk-thru: "+t.TutorialId+" ("+r+")"),i=u.findElement(t),i?n.customerLog("First step found."):n.customerLog("First step not found."),{step:t,element:i}});return i=a.filter(i,function(n){return n.element}),a.map(i,function(n){return n.step})}function nt(t){try{n.customerLog("Multiple branch: Going through all walk-thrus.");var r=it(t),i=g(r);if(1==i.length)return i[0].TutorialId;if(!(i.length>1))return null;n.customerLog("can't decide which tutorial to play",5);n.customerLog(i.length+" walk-thrus match. Cannot choose which walk-thru to start.")}catch(u){n.error(u)}}function tt(n){var t=r.getWalkthruById(n);return t?t.Name:""}function it(n){return a.map(n,function(n){return r.getWalkthruById(n).Steps[0]})}var p=this;p.makeSplit=b;p.resumeSplit=y;w()}function ywt(n){function r(){}function u(i,r){var u,f=r.data("iframe");if(i.Settings.complexHtml){if((i.Settings.complexHtml.type==t.TABLE||"table"==i.Settings.complexHtml.type)&&(u=n.findNearestSelfOrParentByType(r,["table"]),i.Settings.complexHtml.settings)){switch(i.Settings.complexHtml.settings.triggerType){case"cell":r=n.findFirstSelfOrChildByType(r,["td","th"])||n.findNearestSelfOrParentByType(r,["td","th"]);break;case"column":r=n.getColumn(r);break;case"row":r=n.findFirstSelfOrChildByType(r,["tr"])||n.findNearestSelfOrParentByType(r,["tr"]);break;case"table":r=n.findNearestSelfOrParentByType(r,["table"])}i.Settings.complexHtml.settings.onTable||(u=void 0)}if(r&&r.length>0)return f&&r.data("iframe",f),{parentElement:u,elements:r}}}var i=this,t;i.getComplexHtmlElements=u;t={TABLE:1,DROPDOWN:2};r()}function pwt(){function t(){}var n=this;n.splitTutorialIds=[];n.splitStartFromStepId;t()}function wwt(n,t,i,r,u,e,o,s,h,c){function a(l,a){var v=i.secureEvalJSON(l),y,b,w,p;return(r.fixStep(v,0,s.get()),n.customerLog('Show Step for Editor "'+(v.StepTitle||v.StepText)+'"'),y=t.findElement(v),n.customerLog("element:",5),n.customerLog(y,5),!y)?!1:(w=u.getComplexHtmlElements(v,y),w&&(y=w.elements,b=w.parentElement),p=window._walkmeInternals.ctx.create("Balloon",{element:y,parentElement:b,forceEmbedBalloonInIframe:a,positionHelper:e,stepSettings:v.Settings,text:{title:v.StepTitle,content:v.StepText,subText:""},position:v.Position,data:{stepId:v.Id,type:v.Type},buttons:c.calculate(v),configuration:v.Configuration,logger:n,drawer:o.getBalloonDrawer(v.Configuration,v),isViewStep:!0,siteConfig:s.get(),bindButtonsFunc:f.get("BalloonButtonsEventsBinder").attachBalloonXButtonClickEvent,placeholderConfigurations:v.DesignTemplatePlaceholderConfigs}),h.add(p),p.Show(!0,function(){p.SetTimeoutOn()}),p)}var l=this;l.showStep=a}function bwt(n,t,i){function f(n){return n.Type==t.stepType.Simple?e(n):o(n)}function e(n){return i.isStepTrigger(n.End,t.stepTrigger.Button)?{next:!0}:{}}function o(t){var u=t.Settings&&t.Settings.popupStepButtons||[],i={};return n.foreach(u,function(n){var t=r[n.action];i[t]=!0}),i}function s(){var n=t.POPUP_BUTTON_ACTIONS;r[n.NextDone]="next";r[n.Start]="start";r[n.Back]="back";r[n.Cancel]="cancel"}var u=this,r;u.calculate=f;r={};s()}function kwt(n,t,i){function u(r,u,f,e,o,s,h){var c=i.walkthruSurveyActivator.surveyRepeat.key+r.TutorialId,l={tutorialId:r.Id,eventSource:u,callback:s,stepIndex:h,lastStepIndex:r.Steps.length-1,surveyPlayGUID:t._currentPlayGUID};n.activateSurvey(e,c,o,f,l)}var r=this;r.activateSurvey=u}function dwt(n,t,i,r,u,f){function o(n,i){var r=i.wt;void 0!=r.Id&&t.safeStartAudit(n,r)}function s(t){o(n.SAFESTART_ACTION.StayClicked,t)}function h(t,f){r.currentStep=0;r.state=n.WALKTHRU_STATE.WAITING_FOR_REDIRECT;r.currentWalkthru=f.tutorialIndex;u.storeStateInCookie();i.redirect(t)}function c(n){for(var i=0;i<n.checkStepExistsTrace.length;i++)t.auditStep(n.wt,n.wt.Steps[n.checkStepExistsTrace[i].stepIndex],n.checkStepExistsTrace[i].stepStatus,!1)}function l(i){var r={tutorialId:i.wt.TutorialId,tutorialName:i.wt.Name,playGuid:t._currentPlayGUID,playInitiator:t._currentPlayInitiator,status:n.SAFESTART_ACTION.ErrorShown};f.send(r)}function a(n,t){o(n,t);c(t)}var e=this;e.auditSafeStartStatus=o;e.redirect=h;e.auditStayButtonClicked=s;e.auditSafeStartDisabled=l;e.auditSafeStartFirstStatus=a}function gwt(n,t,i,r){function e(u){var s=n.getWalkthrus(),h,e;for(o(u,s),h={},e=0;e<s.length;e++)r.fixSteps(s[e],u),h[s[e].TutorialId]={siteConfig:u,isPackageHidden:f.get("LibInitializer").isNextDataPackageIsHidden()},s[e].userGuid=i.getUserGuid();t.setMember("tutorialRunSettingsMap",h)}function o(n,t){void 0==n.BalloonSettings&&t.length>0&&(n.BalloonSettings=t[0].Steps[0].Configuration)}var u=this;u.migrateSiteConfigData=e}function nbt(n,t,i,u,e){function a(){r(n).on(t.EVENTS.Widget.WidgetAPICreated,v)}function v(n,t){for(var i in t.WalkMePlayerAPI)t.WalkMePlayerAPI.hasOwnProperty(i)&&(o[i]=t.WalkMePlayerAPI[i]);h=!0}function c(){f.get("WidgetLoader").loadWidget()}function s(t){return function(){var i=arguments;r(n).one("PlayerInitComplete",function(){e.setWalkmeTimeout(function(){var n=h?o:window.WalkMePlayerAPI;n[t].apply(null,i)},0)});c()}}function l(){return!1}var h,o=this;o.hidePlayer=s("hidePlayer");o.showPlayer=s("showPlayer");o.removePlayer=s("removePlayer");o.hideMenu=s("hideMenu");o.showMenu=s("showMenu");o.removeMenu=s("removeMenu");o.toggleMenu=s("toggleMenu");o.removeAttenGrab=s("removeAttenGrab");o.showWalkthruPlayer=s("showWalkthruPlayer");o.hideWalkthruPlayer=s("hideWalkthruPlayer");o.removeWalkthruPlayer=s("removeWalkthruPlayer");o.showWalkthruMenu=s("showWalkthruMenu");o.hideWalkthruMenu=s("hideWalkthruMenu");o.removeWalkthruMenu=s("removeWalkthruMenu");o.redrawPlayer=c;o.isMenuOpen=l;o.isWalkthruMenuOpen=l;a()}function tbt(n,t,i,r,u,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it){function ft(){t.extend(n,rt)}function et(t){"walkmetracker"!=t||i.isDebuggerOnWindow()?"walkmelogger"!=t||r.isLoggerActivated()||n.launchLogger():i.launchDebuggerIfEnabled()}function ot(n){k.addTimeStamp("widgetEndLoad");n&&n.bind("on-activate",u.fixFlash)}function st(){if(!nt.isEnabled())return!0;o.SendWidgetOpen({})}function ht(n,t,i,r,u,f){if(nt.isEnabled()){var o=h.get(),e=s.execute({url:o+"/Search/SearchResultClicked",dataType:"jsonp",data:{userGuid:n,searchGuid:t,resultSearchProvider:i,selectedItem:r,permutationId:c.getPermutation(),endUserGuid:l.getEndUserGuid(),source:a.get()}});e.success(u);e.error(f)}}function ct(n,t,i,r,u){var e=h.get(),f=s.execute({url:e+"/Search/Search",data:{userGuid:n,query:t,permutationId:c.getPermutation(),endUserGuid:l.getEndUserGuid(),source:a.get(),saveSearch:!u},timeout:ut});return f.success(i),f.error(r),f}function lt(n,t,i,r){if(nt.isEnabled()){var f=h.get(),u=s.execute({url:f+"/Search/SaveSearch",dataType:"jsonp",data:{userGuid:n,query:t,permutationId:c.getPermutation(),endUserGuid:l.getEndUserGuid(),source:a.get()},timeout:ut});u.success(i);u.error(r)}}function at(n,t,i,r,u){var e=h.get(),f=s.execute({url:e+"/Search/ResultClickedBeforeSearch",dataType:"jsonp",data:{userGuid:t,searchQuery:n,selectedItem:i,permutationId:c.getPermutation(),endUserGuid:l.getEndUserGuid(),source:a.get()}});f.success(r);f.error(u)}function vt(){return v.UI_PROPERTIES}function yt(){return w}function pt(){return b}function wt(){return v}function bt(){return f.get("EventsTrigger")}function kt(){return o}function dt(){return!nt.isEnabled()}function gt(n){if(!n){var i=t("#mt-menu-closed, #walkme-menu-closed"),r={config:e.get(),player:i},u=f.get("CommonUtils").attentionGrabberClass(r);u.setupAttenGrab()}}function ni(n){f.get("PostDataFileLoadedHandler").dataFinishedLoading(n)}function ti(n){f.get("Logger").customerLog(n,5)}var rt=this,ut;rt.searchTermChangedOnWidget=et;rt.widgetLoaded=ot;rt.sendWidgetOpenLogToServer=st;rt.sendSearchResultClickedToServer=ht;rt.getSearchResultsFromServer=ct;rt.saveSearchToServer=lt;rt.sendResultClickedBeforeSearchToServer=at;rt.shouldShowWidgetAccordingToAbTesting=y.isWalkMeVisible;rt.widgetApi=p;rt.UiProperties=vt;rt.getAttentionGrabberManager=yt;rt.getMustache=pt;rt.getConsts=wt;rt.getEventsTrigger=bt;rt.auditClick=o.SendClickAudit;rt.getClickAuditManager=kt;rt.userSawWalkMe=d.report;rt.checkRepeatCookie=g.checkRepeatCookie;rt.isAuditDisabled=dt;rt.getBiggestFrame=tt.getBiggestFrame;rt.checkShowOnlyInUrl=it.checkShowOnlyInUrl;rt.playerCreationComplete=gt;rt.triangleLoaded=ni;rt.mt_log=ti;ut=6e3;ft()}function ibt(n,t,i,r,u,f,e,o,s){function w(){e.bindPreListener(l);b();y()}function b(){(i.get().Settings[v]||o.isFeatureEnabled(v))&&(c=!1)}function y(){l();c||h||s.libSetTimeout(y,p)}function k(){return void 0!==h&&c||l(),h}function l(){var n=!!d(),t=void 0===h?n:n!==h;t&&(h=n,f.raiseEvent("WidgetVisibilityChanged",{isVisible:n}))}function d(){var o=!0,e=i.get(),s=t.getSettingsValue(e.Settings,r.DISPLAY_WIDGET_CONDITION,null);return s?(o=u.evaluateConditionTree(s),f.deprecatedRaiseEvent("WidgetConditionEvaluated",e)):null!=e.ShowInUrl&&0!=e.ShowInUrl.length&&(o=n.isLocationMatchString(e.ShowInUrl)),o}var a=this;a.init=w;a.checkShowOnlyInUrl=k;var h,c=!0,v="monitorWidget",p=5e3}function rbt(){var n=this;n.getEventSender=function(){return f.get("EventSender")};n.getCtx=function(){return f}}function ubt(n,t,i,u,f,e,o,s){function v(n){n&&(h=n,window.WalkMePlayerAPI=o,s.customerLog("Waiting for widget visibility evaluator"),r(e).one("WidgetVisibilityChanged",c),f.init(),f.checkShowOnlyInUrl())}function c(){if(!a){a=!0;r(e).off("WidgetVisibilityChanged",c);i.addTimeStamp("widgetStartLoad");var f=[h];f.asyncCallback=function(){n.addScript(h)};t.raiseEvent(u.EVENTS.WidgetLoad,f)}}var l=this,h,a;l.init=v;l.loadWidget=c}function fbt(n,t,i,r){function f(i){var u,f;u||(u=r.getPlayerRelatedPath()+"testme/");f||(f="walkme_testme_"+n.getLibVersion()+".js");t.addScript(u+f,i)}function o(){e()?(window._testMe.exit(),window._testMe.start()):f()}function s(){var n=i.keysConfig.testMe.loadTestMe;i.saveData(n.key,1,n.expiry)}function e(){return!!window._testMe}var u=this;u.loadTestMe=f;u.startTestMe=o;u.rememberTestMeIsOn=s;u.isTestMeLoaded=e}function ebt(n,t){function i(t){if(t&&0!=t.length){n.customerLog("converting objects tree started for root "+t[0]._name,4);var u=r.map(t,function(n){var t=i(n._children,n);return f(n,t)});return n.customerLog("converting objects tree ended for root "+t[0]._name,4),u}}function f(n,i){var r=e(n);return{getTitle:function(){return n._name},getDescription:function(){return n._description},getKeywords:function(){return n._keywords},getType:function(){return n._type},getChildren:function(){return i},getContentType:function(){return r.getContentType()},isVisible:function(){return r.isProperty(t.UI_PROPERTIES.Visible)},isCompleted:function(){return r.isProperty(t.UI_PROPERTIES.Completed)},isActive:function(){return r.isProperty(t.UI_PROPERTIES.Active)},isAccessible:function(){return r.isProperty(t.UI_PROPERTIES.Accessible)},isSearchSupported:function(){return r.isProperty(t.UI_PROPERTIES.Search)},activate:n.activate}}function e(n){var i=function(){var t;return function(){return t||(t=n.properties().getAll()),t}}();return{isProperty:function(n){return i().indexOf(n)>-1},getContentType:function(){return i().indexOf(t.UI_PROPERTIES.Video)>-1?t.UI_PROPERTIES.Video:i().indexOf(t.UI_PROPERTIES.Article)>-1?t.UI_PROPERTIES.Article:!1}}}var u=this;u.convert=i}function obt(n,t,i){function u(){i.customerLog("getting objects tree",4);var r=n.uiObjectsTree();return t.convert(r)}var r=this;r.getObjectsTree=u}function sbt(n,t,i,r,u,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it){function at(){t.extend(n,rt)}function vt(){return f.get("TimerManager")}function ut(){return f.get("HostData")}function et(){return f.get("ClientStorageManager")}function yt(n){return n?f.get("StorageManagerFactory").byType(n):et()}function pt(){return f.get("ClientOrServerStorageManager")}function wt(){return f.get("UIChangeTracker")}function bt(){return f.get("SalesForceManager")}function kt(){return f.get("UiUtils")}function dt(){return f.get("DataFileExtraData").data}function gt(){return r}function ni(){return f.get("UiDataProvider")}function ti(){return ut().browser.string}function ii(){return f.get("ServerDataSenderManager")}function ft(){return f.get("CommonUtils")}function ot(){return f.get("PositionHelper")}function ri(){return f.get("CommonEvents")}function ui(){return f.get("WmAjax")}function fi(){return f.get("Consts").STEP_PLAY_INITIATOR_ENUM}function ei(n){ft().elementLastKeeper.setState(n)}function oi(){return f.get("IsInEditor").get()}function si(n){return f.get("CenteredElementProvider").get(n)}function hi(){f.get("InteractionManager").beginNewInteraction()}function ci(n){ht().registerPlugin(n)}function ht(){return s.getFindElementPluginManager()}function li(n){f.register("BalloonEmbedder").asCtor(n).dependencies("getTopContainer")}function ai(){return f.get("TodoListManager")}function vi(n){return f.get("BalloonDrawerProvider").getBalloonDrawer(n)}function yi(){return ft().executeParallel}function pi(){return f.get("SurveysManager").getAll()}function wi(){return ot().getBodyInheritedMargin()}function bi(n){f.get("IsInEditor").set(n)}function ki(n){var i=f.get("RecorderServerManager"),t;i.set(n);t=f.get("LibInitializer").getPlayerServer();null!==t&&void 0!==t&&i.set(t)}function di(t){var i={score:-1},r=f.get("StaticUtils").secureEvalJSON(t),u;return(f.get("DataFixer").fixStep(r,0,{BalloonSettings:{}}),u=n.findElement(r,null,i),u)?i.score:null}function gi(n,t){for(var i=f.get("StaticUtils").secureEvalJSON(n),r=0;r<i.length;r++)i[r].userGuid=t;it.setTutorials(i)}function nr(){return f.get("CurrentWalkthruData").state}function tr(n,t){h.error(n,t)}function ct(){}function ir(){f.get("WalkthruBranchPlayer").makeSplit.apply(null,arguments)}function lt(n){return function(){try{return n.apply(null,arguments)}catch(t){h.error(t)}}}function rr(){return st}function ur(){var n=!f.get("AbTestingManager").isAbTestingEnabled();return i.getEndUserGuid(n)}function fr(){var n=f.get("ClientOrServerStorageManager").getStorageType();return n.mode+" - "+n.type}function er(){var n=f.get("LoggerManager");n.isLoggerActivated()||n.launchLogger()}function or(){return f.get("AbTestingGoalsManagerInstance").value}var rt=this;rt.getTimerManager=vt;rt.getHostData=ut;rt.getClientStorageManager=et;rt.getStorageManagerInstance=yt;rt.getServerStorageManager=pt;rt.getABPermutationId=f.get("AbPermutationManager").getPermutation;rt.getEndUserGuid=i.getEndUserGuid;rt.getUiTracker=wt;rt.getSalesForceManager=bt;rt.getUiUtils=kt;rt.getDataFileExtraData=dt;rt.getFramesetsUtils=gt;rt.getPlayerServer=u.get;rt.getCurrentLanguage=e.getCurrentLanguage;rt.addTimeStamp=o.addTimeStamp;rt.getUiDataProvider=ni;rt.generateNewGuid=f.get("GuidGenerator").generateGuid;rt.getBrowser=ti;rt.isQuirksMode=ut().isQuirksMode;rt.getBiggestFrame=f.get("BiggestFrameProvider").getBiggestFrame;rt.injectCustomCSS=c.setCustomCssIfNeeded;rt.shouldHandlePageAsFramesets=r.shouldHandlePageAsFramesets;rt.getServerDataSenderManager=ii;rt.getCommonUtils=ft;rt.getPositionHelper=ot;rt.getCommonEvents=ri;rt.getSiteConfig=l.get;rt.setSiteConfig=l.set;rt.centerElementInPage=a.centerElementInPage;rt.getDeployablesManager=v.get;rt.isFeatureActive=y.isFeatureEnabled;rt.isWalkMeVisible=p.isWalkMeVisible;rt.getWmAjax=ui;rt.getEnvId=w.get;rt.getPlayInitiatorEnum=fi;rt.elkState=ei;rt.getIsInEditor=oi;rt.getCenteredElement=si;rt.startNewInteraction=hi;rt.registerFindElementPlugin=ci;rt.getFindElementPluginManager=ht;rt.overrideBalloonEmbedder=li;rt.getTodoListManager=ai;rt.getBalloonDrawer=vi;rt.getExecuteParallel=yi;rt.getSurveys=pi;rt.bindBBCodeEvents=b.bind;rt.getBodyInheritedMargin=wi;rt.setIsInEditor=bi;rt.setRecorderServer=ki;rt.getElementStrength=di;rt.setTutorialsForEditor=lt(gi);rt.getState=nr;rt.getUserGuid=k.getUserGuid;rt.setUserGuid=k.setUserGuid;rt.ConditionFunctionsObj=f.get("ConditionFunctions");rt.ResourceManager=f.get("ResourceManager");rt.Logger=h;rt.lib_error=tr;rt.getLaunchers=d.getLaunchers;rt.setLaunchers=d.setLaunchers;rt.showAllLaunchers=d.showAllLaunchers;rt.getLauncherAction=d.getLauncherAction;rt.releaseLaunchers=d.releaseLaunchers;rt.releaseAllElements=g.releaseAllElements;rt.releaseBalloons=g.releaseBalloons;rt.releaseShoutOuts=g.releaseShoutOuts;rt.releaseFlow=g.releaseFlow;rt.removeWalkMe=g.removeWalkMe;rt.destroyAll=g.destroyAll;rt.appendDataPackage=nt.appendDataPackage;rt.appendWalkMeConfigData=nt.appendWalkMeConfigData;rt.dataFileLoaded=nt.dataFileLoaded;rt.dataFinishedLoading=tt.dataFinishedLoading;rt.setTutorials=it.setTutorials;rt.isTutorialPackageHidden=it.isTutorialPackageHidden;rt.canShowTutorial=it.canShowTutorial;rt.stopTutorial=it.stopTutorial;rt.startNewTutorial=it.startNewTutorial;rt.tutorialFinished=it.tutorialFinished;rt.executeTutorialNextStep=it.executeTutorialNextStep;rt.postWelcomeStep=it.postWelcomeStep;rt.executeCurrentStep=it.executeCurrentStep;rt.getCurrentTutorial=f.get("CurrentWalkthruData").getCurrentWalkthru;rt.getTutorials=f.get("WalkthrusContainer").getWalkthrus;rt.runTutorialsActionConditions=ct;rt.setSurveysForRecorder=ct;rt.forceSplit=ir;rt.parseBBCode=f.get("BBCodeParser").parse;rt.completeGoalById=f.get("GoalsManager").completeGoalById;rt.getElementTextArray=f.get("ElementTextExtractor").getElementTextArray;rt.wrapFESession=s.wrapSession;rt.findElement=lt(s.findElement);rt.setAuditSource=w.set;rt.evaluateConditionTree=f.get("ConditionTreeEvaluator").evaluate;rt.getWalkmeOOP=rr;rt.getEndUserId=ur;rt.getStorageType=fr;rt.launchLogger=er;rt.getAbtestingGoalsManager=or;at()}function hbt(n,t,i){function h(t){for(var o,e=mtjQuery(t).parents(),r=null,u=e.length-1;u>=0;u--)try{if(o=v(e[u]),o){var i=mtjQuery(e[u]),h=mtjQuery(window).width(),c=i.width(),s=i.offset().left,f=h-c;if(f>0&&f/2==s){r=i;break}if(f<0&&f==s){r=i;break}if(p(i)){r=mtjQuery(i);break}}}catch(l){n.customerLog("error-----------------------------------",5);n.error(l)}return r}function c(){return void 0==u&&(u=[],i.foreach(document.styleSheets,l)),u}var s=this,r,u;s.get=h;r=void 0;u=void 0;var l=function a(n){var r,i,t;try{for(r=n.cssRules||n.rules,i=0;i<r.length;i++)t=r[i],t.type&&t.type==window.CSSRule.IMPORT_RULE?a(t.styleSheet):f(t.style)&&u.push(t.selectorText)}catch(e){}},v=function(n){var i=mtjQuery(n),r=i.data("mt_isElementFixedWidth"),t;return 1==r?!0:0==r?!1:(t=y(n),i.data("mt_isElementFixedWidth",t),t)},y=function(n){if(e(n.style))return!0;return o(n,b())},p=function(n){var i=mtjQuery(n),r=i.data("mt_isElementMarginAuto"),t;return 1==r?!0:0==r?!1:(t=w(n),i.data("mt_isElementMarginAuto",t),t)},w=function(n){if(f(n.style))return!0;return o(n,c())},f=function(n){if(n){var i=mtjQuery.trim(n.margin),r=mtjQuery.trim(n.marginLeft),u=mtjQuery.trim(n.marginRight),f=t.startsWith(i,"0")&&t.endsWith(i,"auto"),e="auto"==r&&"auto"==u;if(f||e)return!0}return!1},e=function(n){var t=n.width,r,i;if(t){for(r="",i=0;i<t.length;i++)isNaN(t[i])||(r+=t[i]);if(r&&parseInt(r)>700&&(t.indexOf("p")!=-1||t.indexOf("e")!=-1||t.indexOf("m")!=-1||t.indexOf("i")!=-1))return!0}return!1},o=function(n,t){for(var u,i=!1,r=0;r<t.length;r++)if(u=t[r],i=mtjQuery(n).is(mtjQuery(u)))return i;return i},b=function(){return void 0==r&&(r=[],i.foreach(document.styleSheets,k)),r},k=function d(n){var u,i,t;try{for(u=n.cssRules||n.rules,i=0;i<u.length;i++)t=u[i],t.type&&t.type==window.CSSRule.IMPORT_RULE?d(t.styleSheet):e(t.style)&&r.push(t.selectorText)}catch(f){}}}function cbt(n,t,i,r){function o(){var r=n.get().Settings.customAuditVars,t,i;if(r)for(t=0;t<r.length;t++)i=r[t],i.value&&""!=i.value&&(i.value.indexOf("walkme_sf_vars")>-1?u.push({index:t+1,value:i.value}):f(t+1,i.value))}function f(n,t){var i=s(t);"string"==typeof i?WalkMeAPI.setAnalyticsCustomField(n,i):"boolean"==typeof i||"number"==typeof i&&!isNaN(i)?WalkMeAPI.setAnalyticsCustomField(n,i.toString()):void 0==i&&WalkMeAPI.setAnalyticsCustomField(n,"")}function s(n){var u={};return u.name=n,u.value=t.getWindowVar(n),u.defaultValue=u.value,i.raiseEvent(r.EVENTS.CustomAuditVar,u),u.returnValue}var e=this,u=[];e.handleSfVars=function(){for(var t,n=0;n<u.length;n++)t=u[n],f(t.index,t.value)};o()}function lbt(n,t,i){function f(t,r,f){if(u(t))return i.closestCanEmbed(r);var e=null;return f&&(e=n(r)),e&&e.length||(e=n(null,!0)),e}function e(n,t){u(n)&&t.css("cursor","default")}function o(n,i,r){if(u(i)&&"BODY"!=t.getElementTagName(r[0])){var f=r.offset();n.left-=f.left-r.scrollLeft();n.top-=f.top-r.scrollTop()}}function u(n){return n&&n.embed}var r=this;r.getContainer=f;r.handleEmbedding=e;r.fixPosition=o;r.isEmbeded=u}function abt(n,t,i,r){function f(){t.bind(n.EVENTS.Flows.FailedToStart,function(n,t){t.isSafeStartHandling||r.getSafeStartFlowId()||i.showFlowFailedToStartPopup(t)})}var u=this;u.init=f}function vbt(n,t){function r(i){return n.isFeatureEnabled(t.FEATURES.OldIsInIframeIndication)?!!i.data("iframe"):i[0].ownerDocument!=window.document}var i=this;i.isInIframe=r}function ybt(n,t){function r(){return n.get()===t.SOURCES.preview}function u(){return n.get()===t.SOURCES.play}function f(){return n.get()===t.SOURCES.production}var i=this;i.isInPreviewMode=r;i.isInPlayMode=u;i.isProductionEnv=f}function pbt(){function t(){return"withCredentials"in new XMLHttpRequest}var n=this;n.hasCorsSupport=t}function wbt(n,t,i){function f(){var u=!1,t;try{u=!r||!n.isFrameActive(r)||mtjQuery("frameset",r.contentWindow.document).length>0}catch(f){u=!0}return t=r,u&&(t=n.findBiggestFrame(),i.isFeatureEnabled("noBiggestFrameCache")||(r=t)),t}var u=this,r;u.getBiggestFrame=f;r=null}function bbt(n,t,i,u,f,e,o,s,h,c){function p(n){a=n}function w(i,r){var e,o,a;if(n.isWalkMeVisible()||r){s.raiseEvent(h.EVENTS.BeforeSettingCustomCss,{element:i});var y=t.get().CustomCss||"",p=k()||"",w=b()||"",tt=d()||"",it=c.get()||"",l=p+w+y+tt+it;if(g(l))return(e=u.getDirectHead(i),!e)?void 0:(o="wm_custom_css_set",f.get()&&e.data(o,!1),a=e.data(o),a?void 0:(v=l,nt(l,e,o)))}}function b(){return y(i.customImages)}function k(){return y(i.htmlImages)}function y(n){for(var r,i="",t=0;t<n.length;t++)r=n[t],r.Css&&(i+=r.Css);return i}function d(){if(a){var n="";return r.safeEach(a,function(t,i){for(var r in i)i[r].ExternalCss&&(n+=i[r].ExternalCss)}),n}}function g(n){return void 0!=n&&n.length>0}function nt(n,t,i){try{return n=e.decodeHtml(n,["&",'"',"'",">"]),o.injectCss(n,"walkme-custom-css",t,null,"walkme-player-css"),t.data(i,!0),!0}catch(r){return!1}}function tt(){return v}var l=this,v,a;l.setCustomCssIfNeeded=w;l.getAllCustomCssProp=tt;l.setUiTemplates=p}function kbt(n,t,i,u,f){function o(e){if(!e){var o;return n.shouldHandlePageAsFramesets()&&(o=t.getFrameContents(r(f.getBiggestFrame()))),r("head",o)}if(i.get()||u.isInIframe(e))return e.parents("html").children("head")}var e=this;e.getDirectHead=o}function dbt(n){function i(t){var i=t[0],r;if(void 0==i)return[];try{r=i.contentDocument?i.contentDocument:i.contentWindow?i.contentWindow.document:[];r=mtjQuery(r)}catch(u){n.handleCrossDomainError(u);r=[]}return r}var t=this;t.getFrameContents=i}function gbt(n,t,i,u){function h(n,u){var e=r.Deferred(),o;return i.isFeatureEnabled("whitelist")?(o=t.getData(f),1===o?e.resolve():0===o?e.reject():c(n,u,e)):e.resolve(),e.promise()}function c(t,i,r){u.execute({dataType:"jsonp",url:n.get()+"/EndUser/IsEndUserInWhiteList",data:{endUserGuid:i,walkmeUserGuid:t},timeout:e,success:function(n){"true"==n.result?(o(n,1),r.resolve()):"false"==n.result?(o(n,0),r.reject()):r.reject()},error:function(){r.reject()}})}function o(n,i){t.saveData(f,i,n.cacheTimeInSeconds)}var s=this,e,f;s.isUserInWhiteList=h;e=1e4;f=t.keysConfig.whitelist.general.key}function nkt(n,t,i,r,u,f,e,s,h,c){function b(){l=t.get();y=i.getEndUserId;v=r.error}function k(n){try{if(p||!s.isEnabled())return!0;var t=l.Settings.abTesting.testNumber,i=void 0!=window.wm_customData?wm_customData.abTestingData:null;f.execute({url:u.get()+"/Statistics/AddAbTestingWidgetVisible",data:{userGuid:c.getUserGuid(),endUserId:y(),testNumber:t,isVisible:n,customDataSerialized:o(i)}})}catch(r){v(r,"Could not report ab testing result to server")}}function w(t,i,r,u){var e=t+"-"+l.Settings.abTesting.testNumber,f=n.getData(e),o;return f===!0||f===!1?f:(o=d(1,100),f=o<=r,n.saveData(e,f,i),u&&u(f),f)}function d(n,t){return Math.floor(Math.random()*(t-n+1)+n)}var l,v,y,p,a=this;a.shouldLoadWalkme=function(){try{if(!a.isAbTestingEnabled())return!0;var t=n.keysConfig.abTesting.shouldLoadWalkme;return w(t.key,t.expiry,l.Settings.abTesting.loadPercentage)}catch(i){return v(i,"Could not check if Walkme should be loaded according to AB Testing"),!0}};a.shouldShowWidget=function(){try{if(!a.isAbTestingEnabled())return!0;var t=n.keysConfig.abTesting.shouldShowWidget,i=t.key;return window.walkme_ab_imp_cookie&&(i+="-"+y()),w(i,t.expiry,l.Settings.abTesting.showPercentage,k)}catch(r){return v(r,"Could not check if widget should be shown according to AB Testing"),!0}};a.isAbTestingEnabled=function(){var n=l.Settings&&l.Settings.abTesting&&parseInt(l.Settings.abTesting.enabled);return h.isFeatureEnabled("abtesting")&&n&&!e.isInPreviewMode()&&!e.isInPlayMode()};a.disableReport=function(){p=!0};b.apply(null,arguments)}function tkt(n){var t=this;t.Tutorials=n.Tutorial;t.Tasks=n.Task;t.Launchers=n.Launcher;t.Labels=n.LabelGroup;t.Surveys=n.Survey;t.Categories=n.Category;t.Contents=n.Content;t.Collections=n.Collection;t.Shuttles=n.Shuttle;t.Tags=n.Tag;t.ShoutOuts=n.ShoutOut;t.ConditionBlocks=n.ConditionBlock;t.BusinessSolutions=n.BusinessSolution;t.Lessons=n.Lesson;t.Courses=n.Course;t.TrackedPages=n.TrackedPage;t.TrackedElements=n.TrackedElement;t.SearchProviderUrls=n.SearchProviderUrl}function ikt(n,t,i,u){function h(){n.setWalkthrus([]);t.setLaunchers([]);o(function(n){l(n,[])})}function c(i){var f=n.getWalkthrus(),r;f=f.concat(i[u.Tutorial]);n.setWalkthrus(f);r=t.getLaunchers();r=r.concat(i[u.Launcher]);t.setLaunchers(r);o(function(n,t){a(n,i[t])})}function o(n){r.each(i,function(t,i){i!=u.Tutorial&&i!=u.Launcher&&n(t,i)})}function l(n,t){s(n,function(n){n.set(t)})}function a(n,t){s(n,function(n){n.addRange(t)})}function s(n,t){var i=n+"Container",r=f.get(i);t(r)}var e=this;e.emptyAllDeployablesContainers=h;e.addRangeToAllDeployablesContainers=c}function rkt(n,t,i,r,e,s,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft){function fi(){vt=e.addScript;ei();l&&!l.isSelfHosted||(ui=!1)}function ei(){window.wmPlaySnippet?(ct=window.wmPlaySnippet,bt=!0,at=!0):window.wmPreviewSnippet?(ct=window.wmPreviewSnippet,gt=!0,at=!0):window.wmSnippet&&(ct=window.wmSnippet,at=!0)}function oi(t){var r=it.timer("init data files and widget"),i;if(et=0,i=!(gt||bt),p.raiseEvent(w.EVENTS.WalkmeLoaded),void 0!=window[w.EVENTS.WalkmeLoaded])_walkMe=_makeTutorial=n,window._walkmeInternals.continueLoad=function(){kt(t)},window[w.EVENTS.WalkmeLoaded](n);else{if(!at)return;window.document.dontLoadTriangle&&i?(window._walkmeInternals.blocked=!0,window._walkmeInternals.continueLoad=function(){kt(t)}):kt(t)}r.stop()}function kt(){var t=s.getSettingsFile();t&&(f.get("PetaServerNameManager").set(t.PetaServer),t.IsInEditor&&g.set(!0),rt.setUserGuid(t.UserGuids&&t.UserGuids[0]),dt=t.PlayerServer,i.init(),bt?t.data&&(t.data.tutorials?(ut.set(t.data.siteConfig),n.setTutorialsForEditor(t.data.tutorials,t.UserGuids[0]),b.setWalkmeTimeout(function(){f.get("PostDataFileLoadedHandler").dataFinishedLoading(!0,!0)},1)):t.data.flows&&(ut.set(t.data.siteConfig),f.get("BusinessSolutionsContainer").set(t.data.flows),b.setWalkmeTimeout(function(){f.get("PostDataFileLoadedHandler").dataFinishedLoading(!0,!0)},1))):si(t,function(n){ci(t,n)}))}function si(i,r){var u=y.Data,f,e,o;null==u||void 0==u.Permutations?r():(f=u.DefaultPermutation,e=u.Permutations,t.setPermutations(e,f),o=hi(u.ActivationRules),t.initGetPermutation(o,function(i){var f=t.getPermutationById(i);if(0===f.LoadWalkMe)return it.customerLog("WalkMe ABTesting - WalkMe Loading canceled. Stopping execution"),void d.removeWalkMe("AbTesting - LoadWalkMe is false");n.appendWalkMeConfigData(u);r(i)}))}function hi(n){for(var i,u,t=0;t<n.length;t++)if(i=n[t],u=r.evaluate(i.Settings.conditionTree),u===!0)return i.PermutationIds[0];return null}function ci(n,t){for(var r=n.DataFiles,i=0;i<r.length;i++)if(r[i].metaData)return void li(n,r[i]);ni(n.DataFiles,n.WidgetFile,t)}function li(n,t){function i(t){var r=[],i;for(t=ct.fixAutoDetectPaths(t),i=0;i<n.DataFiles.length;i++)1==n.DataFiles[i].metaData?r=r.concat(t.DataFiles):r.push(n.DataFiles[i]);ni(r,n.WidgetFile)}v.loadTextFile(t.url,"fixedCallback",i,void 0,!1)}function ni(n,t,i){lt=c(o(n));ai(t);ti(n,i)}function ai(n){if(l&&l.localWidgetUrl)return void(ht=l.localWidgetUrl);if(e.isLocalStorageEnabled()){var t=localStorage.getItem(ri);if(t)return void(ht=t)}ht=n}function ti(n,t){a.setLanguages(n);ot=a.fixLanguageUrlInDataFiles(c(o(n)),st);void 0!==t&&t>-1&&(ot=vi(ot,t));ii()}function vi(n,t){for(var i=0;i<n.length;i++)n[i].url=yi(n[i],t);return n}function yi(n,t){var i=n.url,r=".js";return i.substring(0,i.length-r.length)+"_"+t+r}function pi(n){tt.addTimeStamp("dataFileStartLoad");var t=ft.send(w.EVENTS.BeforeDataFileLoaded,{dataFileUrl:n});t||vt(n)}function ii(){try{var n=ot[et].url;pt=void 0!=ot[et].isHidden&&ot[et].isHidden;pi(n)}catch(t){it.error(t,"faild to load data file")}}function wi(){var n={newLanguageFlag:st};n.asyncCallback=function(){f.get("PostDataFileLoadedHandler").dataFinishedLoading()&&(st?(st=!1,yt&&yt(!0)):f.get("WidgetLoader").init(ht))};p.raiseEvent("DataLoadedEvent",n)}function bi(n){var t=s.getSettingsFile();t.PostLibJsFile&&""!=t.PostLibJsFile?(window.walkme_post_lib_loaded=function(){n()},tt.addTimeStamp("postLibStartLoad"),vt(t.PostLibJsFile)):n()}var vt,ht,dt,ct,ri="wm-customWidgetUrl",et=null,lt=[],ot=[],yt=null,pt=!1,st=!1,wt=!1,at=!1,gt=!1,bt=!1,ui=!0;this.isNextDataPackageIsHidden=function(){return pt};this.getPlayerServer=function(){return dt};this.changeLanguage=function(n,t){var r=function(i){i&&p.raiseEvent(h.EVENTS.LanguageChanged,{language:n});t&&t(i)},i=a.changeLanguage(n,lt),u;return i?(u=this.releaseResources(),u.then(this.reloadDataFileAfterRelease(r))):r(i),i};this.releaseResources=function(){return n.stopTutorial(void 0,!0),k.releaseLaunchers(void 0,void 0,!0),d.releaseShoutOuts(),d.releaseTeachMeElements(),d.releaseFlow()};this.reloadDataFileAfterRelease=function(n,i){i&&(lt=i);yt=n;et=0;st=!0;wt=!0;var r=t.getPermutation();ti(lt,r)};this.isNewLanguage=function(){return wt};this.startInitializer=function(n){bi(function(){oi(n)})};this.dataFileLoadedWrapper=function(){if(tt.addTimeStamp("dataFileEndLoad"),pt=!1,et++,wt=!1,et==ot.length){var n=f.get("CustomVariableAuditor");u.bind("SfVarsExposed",n.handleSfVars);wi()}else ii()};fi.apply(null,arguments)}function ukt(n,t,i,u,e,o,s,h){function l(){f.get("LibInitializer").dataFileLoadedWrapper()}function a(n){f.get("AbExperimentsContainer").addRange(n.Experiments)}function v(n,i){var c=n,k,w,b,a;void 0===n.Tutorials&&(c={Tutorials:n,SiteConfig:i});var l={},v=c.SiteConfig,d=t.defaultValue(c.LauncherCustomImages,[]),g=t.defaultValue(c.LauncherHtmlImages,[]),nt=t.defaultValue(c.DesignTemplates,[]);for(r.each(e,function(n,i){l[i]=t.defaultValue(c[n],[])}),k=f.get("PlatformsService"),l[o.ShoutOut]=k.filterByCurrentPlatform(l[o.ShoutOut]),w=t.defaultValue(c.ExtraData,{isOldDataFile:!0}),f.get("DataFileExtraData").data=w,f.get("PublishDataManager").init(w),u.setUserGuid(c.UserGuid),f.get("LibInitializer").isNewLanguage()&&(f.get("SiteConfigManager").set([]),f.get("IconTemplates").customImages=[],f.get("IconTemplates").htmlImages=[],f.get("DesignTemplates").reset(),h.emptyAllDeployablesContainers()),f.get("IconTemplates").customImages=f.get("IconTemplates").customImages.concat(d),f.get("IconTemplates").htmlImages=f.get("IconTemplates").htmlImages.concat(g),f.get("DesignTemplates").set(nt),f.get("PageIdentifiersAPI").setPageIdentifiers(c.PageIdentifiers),f.get("CustomCssSetter").setUiTemplates(c.UITemplates),b=f.get("SiteConfigManager"),v&&0==b.get().length&&b.set(v),a=0;a<l[o.Task].length;a++)p(l[o.Task][a]);r.each(e,function(n,t){y(l[t],u.getUserGuid())});h.addRangeToAllDeployablesContainers(l);s.migrateSiteConfigData(v);f.get("UITemplates").concat(c.UITemplates);f.get("UIVariations").concat(c.UIVariations);f.get("DisabledSmartTipsRemover").remove(f.get("BusinessSolutionsContainer").get());f.get("DisabledCourseQuizzesRemover").remove(f.get("CoursesContainer").get())}function y(n,t){for(var i=0;i<n.length;i++)n[i].userGuid=t}function p(n){return w(n,"TaskProperties","Settings"),b(n),n}function w(n,t,i){void 0!==n[t]?n[i]=n[t]:n[t]=n[i]}function b(n){n.RelatedDeployableId?n.Settings.WalkThruId=n.RelatedDeployableId:(n.RelatedDeployableType=i.DEPLOYABLE_TYPE.Tutorial,n.RelatedDeployableId=Number(n.Settings.WalkThruId))}var c=this;c.appendDataPackage=v;c.appendWalkMeConfigData=a;c.dataFileLoaded=l}function fkt(n,t,i,r,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt){function at(i,u){var v=s.timer("lib init"),h,c,l,a;if(f.get("SessionPersister").startPersisting(),f.get("SettingsCacheBusterActivator").activeIfPublishedRecently(f.get("SettingsFile").getPublishDate()),f.register("sfVarsRemovedFromLib").asInstance(function(){}),r.raiseEvent("dataFilesLoaded"),!yt()){e.isFeatureEnabled("tagBody")&&t.setBodyUtils(f.get("TagBodyUtils"));try{window.walkme_data_finished_loading_callback&&walkme_data_finished_loading_callback()}catch(y){}return(h=f.get("WalkmeClassesInitializer").initWalkMeClasses(),!h.Succeeded)?(o.removeWalkMe(h.ErrorMessage||"initWalkMeClassesFailed",{sendLog:!0,errorCode:h.ErrorCode}),n.initFailed=!0,!1):(c=f.get("EndUserDataConverter"),c.convertData(),l=pt(i,u),v.stop(),a=vt(l),f.get("ClientOrServerStorageManager").init(a)===!1)?(o.removeWalkMe("storageManagerInitFailed",{sendLog:!0}),!1):!0}}function vt(n){return function(){var t={asyncCallback:n};r.raiseEvent(i.EVENTS.BeforeStorageLoadedCallback,t)}}function yt(){var n=k.get();return n.Settings&&n.Settings.rmWMCond&&f.get("ConditionTreeEvaluator").evaluate(n.Settings.rmWMCond)&&!window.editorAPI?(s.customerLog("Remove walkme condition is true. Removing WalkMe.",3),o.removeWalkMe("Removed by condition"),!0):!1}function pt(t,e){var o,l,c,a,v;return s.customerLog("after loading storage",4),r.raiseEvent(i.EVENTS.StorageLoaded),o=t?wt:bt,l=kt(),!e&&t||(dt()&&!ni()&&(d.dbgr={debuggerWasLoaded:o},o=h.loadDebuggerFromStorage),gt()&&n.launchLogger()),l&&(u.testme||(u.testme={}),u.testme.testmeLoadedCallback=o,o=g.startTestMe),s.customerLog("willLoadTestMe: "+l,1),c=f.get("TodoListManager"),c.hasTaskGoalCompletionCondition()&&(a=o,v=function(){b.isInPlayMode()||c.didTasksFinishLoading()?a():c.setTasksFinishedLoadingCallback(a)},o=v),o}function wt(){s.customerLog("after loading storage for play",4);c.init();ot();l.get().enabled()?l.get().start(et):a.restoreCrossUsersState(et)}function et(){s.customerLog("sending editor event: StorageManagerInitialized",4);r.raiseEvent("StorageManagerInitialized")}function bt(){ot();f.get("StartFailureHandler").init();f.get("WhiteListChecker").isUserInWhiteList(nt.getUserGuid(),n.getEndUserGuid(),st,ht).then(st,ht)}function kt(){var n=ti()||ii();return n||s.customerLog(ut,"Not loading test me (checked window var, query string parameter and storage entry)",1),n}function dt(){if(e.isFeatureEnabled("noDebugger"))return!1;var n=v.getData(i.DEBUGGER_STATE_NAME,ct.Deactive,nt.getUserGuid());return n==ct.Active||n==ct.ActiveAndReset}function gt(){return v.getData(ft,!1,nt.getUserGuid())}function ni(){return h.isDebuggerOnWindow()}function ot(){f.get("AuditStepsManager").init();f.get("ClickAuditManager").init();f.get("ServerDataSenderManager").start();!l.get().enabled()&&it.getAll().length>0&&it.restore()}function ti(){if(window.walkMeTestMeLoad)return s.customerLog(ut,"ShouldLoadTestMe - True by window var",1),g.rememberTestMeIsOn(),window.walkMeTestMeLoad=void 0,!0}function ii(){var n=v.getData(vi,0,nt.getUserGuid());if(n)return s.customerLog(ut,"ShouldLoadTestMe - True by storage entry",1),!0}function st(){var h=s.timer("after loading storage"),i,r,e;if(p.fixAnchorTagsOnBeforeUnload(),i=[],l.get().enabled())try{i.push(l.get().start)}catch(v){s.customerLog(v,"failed to start pass ownership manager",1);a.restoreCrossUsersState()}else a.restoreCrossUsersState();b.isProductionEnv()&&(r=n.getEndUserGuid(),e=u.walkme_userGuid_to_replace||nt.getUserGuid(),f.get("AnalyticsManager").auditUniqueEndUser(e,f.get("AbPermutationManager").getPermutation(),r));i.push(tt.value?tt.value.startWatching:ui);i.push(rt.isReady);t.executeParallel({functionsToExecute:i,successCallback:function(){c.init(l.get().enabled());w.addTimeStamp("walkmeReady");ri(fi);b.isInPreviewMode()||b.isInPlayMode()||f.get("EndUserLoggerManager").reportEndUser(function(){o.removeWalkMe("reportEndUserFailed")});d.isSelfHosted?s.customerLog("Self Hosted - no need to check settings file",3):f.get("TimerManager").setWalkmeTimeout(function(){f.get("SettingsCacheManager").start()},5e3);h.stop()}})}function ri(n){var t={asyncCallback:n};r.raiseEvent(i.EVENTS.BeforeWalkmeReady,t)}function ui(n){n()}function ht(){o.removeWalkMe("user is not in the white list");n.initFailed=!0}function fi(){try{walkme_ready()}catch(n){}try{mt_ready()}catch(n){}r.raiseEvent(i.EVENTS.WalkmeReady);y.isWalkMeVisible()&&!g.isTestMeLoaded()&&(f.get("PlatformInitializer").run(),f.get("PermalinkManager").run(),f.get("AutoStartManager").run(),ei());r.raiseEvent(i.EVENTS.ElementsTrackingReady);w.addTimeStamp("walkmeReadyEnd");f.get("LoadingTimeInformer").run()}function ei(){f.get("FramesetsUtils").waitForFramesToLoad().then(function(){f.get("ElementFinder").wrapSession(function(){oi()})})}function oi(){if(y.isWalkMeVisible()){var n=s.timer("show all launchers");f.get("LaunchersModule").showAllLaunchers();n.stop();f.get("SmartTipSetActivationInitiator").start()}f.get("TrackedPagesManager").start();f.get("TrackedElementsManager").start()}var lt=this,ft;lt.dataFinishedLoading=at;ft="wm-lg-act"}function ekt(n,t,i,r,e,o,s,h,c,l,a,v,y,p,w){function k(){}function d(){var l={Succeeded:!0},b,d,tt,k,it,ut,rt,a,ft,et;return(y.init(),f.get("JawsAccessibilityUtil").init(),g())?(l.Succeeded=!1,l.ErrorMessage="WalkMe is not supported on that browser",t.customerLog(l.ErrorMessage),l):(f.get("InteractionInitiationEventListener").init(),f.get("AnalyticsPropertiesManager").init(),f.get("BalloonDrawerProvider").getBalloonDrawer(i.get().BalloonSettings).loadResources(v.getTopContainer().siblings("head")),nt(),f.get("WmAjax").setFeatures(r.isFeatureEnabled("blockJsonp"),r.isFeatureEnabled("corsJsonpFallback")),b=f.get("AbTestingManager"),!b.shouldLoadWalkme())?(l.Succeeded=!1,l):(e.overrideTimeouts(),f.get("TutorialsManager").setDeployables(f.get("WalkthrusContainer").getWalkthrus()),d=i.get(),d.EndUserSettings&&(tt=f.get("EndUsersManager"),tt.setEndUserSettings(d.EndUserSettings),tt.createEndUserGuid()),p.init(),k=f.get("endUserGuidValidator").validate(),k)?{Succeeded:!1,ErrorMessage:k.message,ErrorCode:k.code}:(it=f.get("AbExperimentsContainer").get(),ut=it.length>0,ut&&(o.enableMultiUserStorage(),rt=f.get("ExperimentsManager"),rt.setDeployables(it),f.get("AbTestingGoalsManagerInstance").value=new uit({deployablesGoalManager:o,experiments:rt.getAll(),lib:n,getEndUserGuid:n.getEndUserGuid,getPermutationId:f.get("AbPermutationManager").getPermutation,getAuditSource:f.get("AuditSourceManager").get,serverAddress:f.get("RecorderServerManager").get(),storageManager:f.get("ClientStorageManager"),commonEvents:f.get("CommonEvents"),userGuidContainer:f.get("UserGuidContainer")})),f.get("ContentsManager").setDeployables(f.get("ContentsContainer").get()),f.get("CategoriesManager").setDeployables(f.get("CategoriesContainer").get()),f.get("CollectionsManager").setDeployables(f.get("CollectionsContainer").get()),f.get("LaunchersManager").setDeployables(f.get("LaunchersModule").getLaunchers()),f.get("ConditionBlocksManager").setDeployables(f.get("ConditionBlocksContainer").get()),f.get("SurveysManager").setDeployables(f.get("SurveysContainer").get()),f.get("ShuttlesManager").setDeployables(f.get("ShuttlesContainer").get()),f.get("ShoutOutsManager").setDeployables(f.get("ShoutOutsContainer").get()),f.get("BusinessSolutionsManager").setDeployables(f.get("BusinessSolutionsContainer").get()),f.get("TrackedPagesManager").setDeployables(f.get("TrackedPagesContainer").get()),f.get("CoursesManager").setDeployables(f.get("CoursesContainer").get()),f.get("LessonsManager").setDeployables(f.get("LessonsContainer").get()),s.setDeployables(f.get("TagsContainer").get()),f.get("TrackedElementsManager").setDeployables(f.get("TrackedElementsContainer").get()),f.get("SearchProviderUrlsManager").setDeployables(f.get("SearchProviderUrlsContainer").get()),a=f.get("TodoListManager"),a.setDeployables(f.get("TasksContainer").get()),s.injectTagsToDeployables(),ft=f.get("AbTasksValidator"),ft.shouldTrackAbTasks()?(et=new dn({todoListManager:a,goalsManager:f.get("GoalsManager")}),a.init(),a.loadTasks(et.startWatchingTasks)):(u.abTasksBlocked=!0,h.raiseEvent(c.EVENTS.AbTasksBlocked),t.customerLog("Not tracking ab testing and tasks - blocked in this browser."),b.disableReport()),b.isAbTestingEnabled()&&y.setAnalyticsCustomFields(0,n.getEndUserId()),w.register(f.get("WalkthruOnBeforeUnloadHandler").onbeforeunload),f.get("BizFlowOnBeforeUnloadChecker").init(),f.get("UIChangeTracker").init(),f.get("PageChangeTracker").init(),f.get("jQueryCacheCleaner").init(),f.get("FlowLinkedTaskCompletionHandler").init(),f.get("BalloonLogEventHandler").init(),l)}function g(){return a.isIEBrowser(8,"lt")&&!window.postMessage}function nt(){l.setDefault(i.get(),"TodoListSettings",{})}var b=this;b.initWalkMeClasses=d;k()}function st(){function l(t){r=t;r.__wmoop__=n;n.Virtual=new skt(n);n.Prop=new okt(n)}function a(){for(var n in f){if(!t.IsVirtual(n))throw"Cannot override non-virtual method ["+n+"]. of class : "+t;t.DoOverride(n,f[n])}}function v(){var i={},r={},r=t.GetOriginalFunctions(),n,u;for(n in r)u=r[n],i[n]=u;return i}function y(){var r=t.GetPublics(),i,u;for(i in r)u=r[i],n.Public(i,u)}function h(n,t,r){function u(){return i[n](arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19])}return r?(i[n]=t,u):t}var r,n=this,e=null,t=null,o={},s={},u={},i={},f={},c={};n.Extends=function(t,i,r,u,f,o,s){e=new t(i,r,u,f,o,s);n.ExtendsInstance(e)};n.ExtendsInstance=function(i){t=i.__wmoop__;y();a();var r=v();n._base=r};n.Override=function(n,t){return f[n]=t,t};n.DoOverride=function(n,t){i[n]=t};n.IsVirtual=function(n){return void 0!==i[n]};n.GetOriginalFunctions=function(){return u};n.Public=function(n,t,i){var f=h(n,t,i);return u[n]=t,r[n]=f,o[n]=f,f};n.Protected=function(n,t,i){var r=h(n,t,i);return u[n]=t,s[n]=r,r};n.GetProperties=function(){return c};n.GetPublics=function(){return o};n.GetProtecteds=function(){return s};l.apply(null,arguments)}function okt(){function r(t){n=t}function i(t,i){function r(i){if(void 0===i)return n.GetProperties()[t];n.GetProperties()[t]=i}return n.GetProperties()[t]=i,r}var n,t=this;t.Public=function(t,r){var u=i(t,r);return n.Public(t,u),u};t.Protected=function(t,r){var u=i(t,r);return n.Protected(t,u),u};t.Private=function(n,t){return i(n,t)};r.apply(null,arguments)}function skt(){function i(t){n=t}function t(n){function t(){throw"["+n+"] is pure virtual and must be overriden";}return t}var n;this.Public=function(i,r){return r=r?r:t(i),n.Public(i,r,!0)};this.Protected=function(i,r){return r=r?r:t(i),n.Protected(i,r,!0)};i.apply(null,arguments)}function hkt(){function t(n,t,i){return i=i||{},n=n||0,function(){return t.apply(i,[].slice.call(arguments,0,n))}}var n=this;n.max=function(n,t){var r=null,u,i,f;if(n.length>0)for(u=t(n[0]),r=n[0],i=1;i<n.length;i++)f=t(n[i]),f>u&&(u=f,r=n[i]);return r};n.min=function(n,t){var r=null,u,i,f;if(n.length>0)for(u=t(n[0]),r=n[0],i=1;i<n.length;i++)f=t(n[i]),f<u&&(u=f,r=n[i]);return r};n.foreach=function(i,r){n.forEachSpec(i,t(1,r))};n.forEach=n.foreach;n.forEachSpec=function(n,t){for(var i=0;i<n.length;i++)t(n[i],i,n)};n.reduce=function(i,r,u){return n.reduceSpec(i,t(2,u),r)};n.reduceSpec=function(n,t,i){for(var u=i,r=0;r<n.length;r++)u=t(u,n[r],r,n);return u};n.filter=function(i,r){return n.filterSpec(i,t(1,r))};n.filterSpec=function(n,t){for(var r=[],i=0;i<n.length;i++)t(n[i],i,n)&&r.push(n[i]);return r};n.inArray=function(n,t,i){var r;if(t)for(r=t.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===n)return i;return-1};n.indexOf=n.inArray;n.map=function(i,r){return n.mapSpec(i,t(1,r))};n.mapSpec=function(n,t){for(var r=[],i=0;i<n.length;i++)r.push(t(n[i],i,n));return r};n.shuffle=function(n){for(var i,r,t=n.length;0!==t;)i=Math.floor(Math.random()*t),t--,r=n[t],n[t]=n[i],n[i]=r;return n};n.any=function(t,i){return t&&t.length&&n.filter(t,i).length}}function ckt(){var n=this;n.secureEvalJSON=c}function o(n){var t,l,c,a,y,v,r;if(null!==n&&ff(n,function(n){try{n.toJSON&&(n.toJSON=null)}catch(t){}}),akt())return JSON.stringify(n);if(null===n)return"null";if(t=typeof n,"undefined"!==t){if("number"===t||"boolean"===t)return""+n;if("string"===t)return hf(n);if("object"===t){if("function"==typeof n.toJSON)return o(n.toJSON());if(n.constructor===Date){var u=n.getUTCMonth()+1,f=n.getUTCDate(),p=n.getUTCFullYear(),e=n.getUTCHours(),s=n.getUTCMinutes(),h=n.getUTCSeconds(),i=n.getUTCMilliseconds();return u<10&&(u="0"+u),f<10&&(f="0"+f),e<10&&(e="0"+e),s<10&&(s="0"+s),h<10&&(h="0"+h),i<100&&(i="0"+i),i<10&&(i="0"+i),'"'+p+"-"+u+"-"+f+"T"+e+":"+s+":"+h+"."+i+'Z"'}if(n.constructor===Array){for(l=[],c=0;c<n.length;c++)l.push(o(n[c])||"null");return"["+l.join(",")+"]"}v=[];for(r in n){if(t=typeof r,"number"===t)a='"'+r+'"';else{if("string"!==t)continue;a=hf(r)}(t=typeof n[r],"function"!==t&&"undefined"!==t)&&(y=o(n[r]),v.push(a+":"+y))}return"{"+v.join(",")+"}"}}}function c(n){if(lkt())return JSON.parse(n);var t=n.toString().replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(t))return _makeTutorialEv.Ev("("+n+")");throw new SyntaxError("Error parsing JSON, source is not valid.");}function lkt(){return"object"!=typeof JSON?!1:JSON.parse?ef(JSON.parse)?!0:!1:!1}function akt(){return"object"!=typeof JSON?!1:JSON.stringify?ef(JSON.stringify)?!0:!1:!1}function ff(n,t){var r,i;if(void 0!=n&&"object"==typeof n)for(r in n)Object.hasOwnProperty.call(n,r)&&(i=n[r],null!==i&&void 0!==i&&ff(i,t));null!==n&&void 0!==n&&t(n)}function ef(n){return n.toString().indexOf("[native code]")>-1}function d(n){return c(o(n))}function e(){for(var i,t=arguments[0],n=1;n<arguments.length;n++)i=new RegExp("\\{"+(n-1)+"\\}","gm"),t=t.replace(i,arguments[n]||"");return t}function vkt(n,t,i){var r,o,u,f,h,e=n,c=e.length,s=c>>>0;if("function"!=typeof t)throw new TypeError;if(0===s&&void 0===i)throw new TypeError;if(r=0,void 0!==i)o=i;else{for(u=!1;!u&&r<s;)f=r.toString(),u=e.hasOwnProperty(f),u&&(o=e[f]),r+=1;if(!u)throw new TypeError;}for(;r<s;)f=r.toString(),u=e.hasOwnProperty(f),u&&(h=e[f],o=t.call(void 0,o,h,r,e)),r+=1;return o}function ykt(){var n=new Date,t=6e4*n.getTimezoneOffset();return n.getTime()-t}function pkt(n){return wkt(n)}function wkt(n){return f.get("DictionaryUtils").getDictionaryValues(n)}function of(n,t){for(var r,u,i=n.length-1;i>=0;i--){for(r=!1,u=t.length-1;u>=0&&!r;u--)t[u]==n[i]&&(r=!0);r||t.push(n[i])}return t}function hf(n){return n.match(si)?'"'+n.replace(si,function(n){var t=sf[n];return"string"==typeof t?t:(t=n.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+n+'"'}function bkt(n){function u(){r();n.bind("NewWalkMeLoadTime",r)}function r(){i=(new Date).getTime()}function f(){return i}var t=this,i;t.init=u;t.getWalkmeLoadTime=f}function kkt(){f.get("LibCtorService").init()}var yt=this,hi,f,h,l,pi,ni,ki,gi,s,ir,lt,rr,ur,fr,cy,ly,k,y,er,or,sr,hr,b,it,cr,lr,g,kr,dr,nu,tu,iu,ru,uu,fu,eu,ou,su,hu,cu,lu,au,ii,vu,yu,pu,wu,vt,bu,ui,ku,du,fi,ei,oi,nf,tf,rf,uf,si,sf,cf,lf;this.MTVersion="1.0";this.SVNRevision="$MasterRev: 0baa240bce0a1d384944b058613b443dbdb5362e $";this.LibVersion="3378";this.SpecialRevision="no";i(2);hi=u.di;f=u.ctx;!function(n){var y=i(4),t,r,f,e,u,o,s,h,c,l,a,v;n.register("SimpleNLP").asInstance(y);t=i(5)();n.register("ObjectMapper").asInstance(t.objectMapper);n.register("ObjectJpath").asInstance(t.objectJpath);r=i(8);n.register("FlowNodeExtensions").asInstance(r.bizFlowExtensions);n.register("BaseGraphDfsService").asInstance(r.baseGraphDfsService);f=i(16)();n.register("DeployableConsts").asInstance(f);e=i(17)(n);n.register("UIComponentsClasses").asInstance(e);u=i(24);n.register("NewToOldConditionConverter").asInstance(u.newToOldConditionConverter);n.register("OldToNewConditionConverter").asInstance(u.oldToNewConditionConverter);o=i(28);(n.register("Base64").asInstance(o),n.has("PromiseManager"))||(s=i(29).Promise,n.register("PromiseManager").asInstance(s));h=i(30);n.register("SharedConsts").asInstance(h);c=i(49);n.register("BalloonTemplatesProvider").asInstance(c);l=i(85);n.register("StorageKeysConfigurations").asInstance(l);a=i(87);v=i(88)(a.decode);n.register("JsonHtmlDecoder").asInstance(v)}(window._walkmeInternals.ctx);var p=f.get("PromiseManager").Promise,af="uiProperties",ci="auditSteps",pt="goals",wt="balloon",vf="resources",yf="FramesetsUtils",bt="showLaunchers",kt="tasks",dt="content",pf="searchResult",gt="hl",ht="autostart",wf="superstep",ut="loadTestMe",li="changeTracker",bf="documentsManager",ai="externalConditionHandlers",vi="wm-ltm",rt={Cookies:"cookies",LocalStorage:"localStorage",IndexedDB:"indexedDB"},ct={Deactive:0,Active:1,ActiveAndReset:2},nt=86400,yi=31536e3,tt=31536e4,kf={display:"block",paddingTop:0,paddingLeft:0,paddingBottom:0,paddingRight:0,marginTop:0,marginLeft:0,marginBottom:0,marginRight:0,verticalAlign:"baseline",borderCollapse:"inherit",backgroundImage:"none",backgroundColor:"transparent",orderSpacing:"1px 1px",lineHeight:"normal",height:"auto",textIndent:"inherit",letterSpacing:"normal",textTransform:"none",outline:"invert none medium",width:"auto",boxShadow:"none",textShadow:"none",borderTopStyle:"none",borderTopWidth:"medium",borderRightStyle:"none",borderRightWidth:"medium",borderBottomStyle:"none",borderBottomWidth:"medium",borderLeftStyle:"none",borderLeftWidth:"medium",position:"static",top:"auto",left:"auto",transition:"none",boxSizing:"content-box",color:"#EB15E2"},w={Cookie:0,Var:1};f.register("DeployableTypes").dependencies("Consts").asFunction(function(n){return n.DEPLOYABLE_TYPE});f.register("Consts").asCtor(df).dependencies("DeployableConsts");h=f.get("Consts");f.register("ExternalWalkMeConfig").asCtor(gf).dependencies("Consts");f.register("PlatformDI").asCtor(ne).dependencies("Consts, ExternalWalkMeConfig");l=f.get("PlatformDI");f.register("SettingsFile").asCtor(te);i.p=ie();f.register("Logger").asCtor(re).dependencies("CookiesManager, HostData, Lib, IsInEditor, Consts, FeaturesManager");f.register("FeaturedLogger").asCtor(ue).asProto().dependencies("FeaturedLoggerConsts, CommonUtils, Logger");f.register("FeaturedLoggerConsts").asInstance({DEFAULT_FEATURE:"No name",DEFAULT_LOG_LEVEL:3});yt.CssInjector=i(54);f.register("CssInjector").asCtor(yt.CssInjector).args({jQ:r});f.register("CssUtils").asCtor(fe);pi=function(){function n(n,t,i,r){if(this.ElementFinder=t,this._measures=[],this._mutations=[],i)this._syncFunc=function(){return i.apply(n,arguments)},this._cleanFunc=function(){r.apply(n,arguments)};else{var u=f.get("TimerManager");this._syncFunc=function(n){return u.setWalkmeTimeout(n,16)}}}return n.prototype.measure=function(n){return this.addTask(this._measures,n)},n.prototype.mutate=function(n){return this.addTask(this._mutations,n)},n.prototype.remove=function(n){this.removeTask(this._measures,n);this.removeTask(this._mutations,n)},n.prototype.removeTask=function(n,t){var i=r.inArray(t,n);i>-1&&n.splice(i,1)},n.prototype.cleanResources=function(){this._cleanFunc&&this._flushHandler&&this._cleanFunc(this._flushHandler);this._measures=[];this._mutations=[];this._flushHandler=null;this._scheduled=!1},n.prototype.addTask=function(n,t){var i=new p(function(i){n.push(function(){i(t())})});return this.scheduleFlush(),i},n.prototype.scheduleFlush=function(){var n=this;this._scheduled||(this._scheduled=!0,this._flushHandler=this._syncFunc(function(){n.flush()}))},n.prototype.flush=function(){for(var n=this;this._measures.length>0||this._mutations.length>0;)this.ElementFinder.wrapSession(function(){n.runTasks(n._measures)}),this.runTasks(this._mutations);this._scheduled=!1},n.prototype.runTasks=function(n){for(var t;t=n.shift();)try{t()}catch(i){f.get("EventSenderErrorLogger").logError("error running DOMSessionManager task\n\n"+o(i.message))}},n}();f.register("DOMSessionManager").asCtor(pi).dependencies("win, ElementFinder, requestAnimationFrame, cancelAnimationFrame");f.register("WalkMeInfo").asCtor(ee).dependencies("EndUsersManager,AbCurrentPermutationProvider,LanguageManager,AuditSourceManager,UserGuidContainer,Lib,SettingsFile");ni=f.register("WalkmeLoader").asCtor(oe).dependencies("Lib, WalkmeConfigManager, Consts, TimerManager, CommonEvents, LibDestroyer, DevModeAlertRaiser, UserGuidContainer, WindowBeforeUnloadHandler");"useOnce"in ni&&ni.useOnce();f.register("LibCtorService").asCtor(se).dependencies("Consts, Lib, WmInternals");f.register("TasksContainer").asCtor(v);f.register("ContentsContainer").asCtor(v);f.register("ShuttlesContainer").asCtor(v);f.register("SurveysContainer").asCtor(v);f.register("ShoutOutsContainer").asCtor(v);f.register("SpotlightsContainer").asCtor(v);f.register("TooltipsContainer").asCtor(v);f.register("CategoriesContainer").asCtor(v);f.register("CollectionsContainer").asCtor(v);f.register("ConditionBlocksContainer").asCtor(v);f.register("BusinessSolutionsContainer").asCtor(v);f.register("CoursesContainer").asCtor(v);f.register("LabelsContainer").asCtor(v);f.register("LessonsContainer").asCtor(v);f.register("TagsContainer").asCtor(v);f.register("TrackedPagesContainer").asCtor(v);f.register("TrackedElementsContainer").asCtor(v);f.register("AbExperimentsContainer").asCtor(v);f.register("SearchProviderUrlsContainer").asCtor(v);var ft=f.get("UIComponentsClasses"),he=ft.eventBasedObject,ce=(ft.uiComponentBase,ft.idisplayer,ft.popupBase,ft.shoutOutBase);f.register("CdnServer").asCtor(le).dependencies("SettingsFile");f.register("CookiesManager").dependencies("logger=Logger").injectToProperty().asCtor(ae);f.register("FindElementCornerMargin").asInstance(1);f.register("FindElementCornerFunctions").asFunction(function(n){return[function(t){return{x:t.offset().left+t.outerWidth()/2,y:t.offset().top+n}},function(t){return{x:t.offset().left+t.outerWidth()/2,y:t.offset().top+t.outerHeight()-n}},function(t){return{x:t.offset().left+n,y:t.offset().top+t.outerHeight()/2}},function(t){return{x:t.offset().left+t.outerWidth()-n,y:t.offset().top+t.outerHeight()/2}},function(t){return{x:t.offset().left+n,y:t.offset().top+n}},function(t){return{x:t.offset().left+n,y:t.offset().top+t.outerHeight()-n}},function(t){return{x:t.offset().left+t.outerWidth()-n,y:t.offset().top+n}},function(t){return{x:t.offset().left+t.outerWidth()-n,y:t.offset().top+t.outerHeight()-n}}]}).dependencies("FindElementCornerMargin");f.register("ElementPositionCalculator").asCtor(ve).dependencies("Consts, PositionHelper");f.register("StorageResourceManager").asCtor(ye).dependencies("SettingsFile, CommonUtils, win");f.register("CookiesStorageManager").asCtor(we).asProto().dependencies("CookiesManager,TimerManager,Consts");f.register("ExtensionStorageManager").asCtor(be).asProto().dependencies("TimerManager, Logger");f.register("CDStorageOriginChecker").asCtor(ke).asSingleton().dependencies("StorageResourceManager");f.register("ExtensionConfigManager").asCtor(de);f.register("WalkMejStorageManager").asCtor(ge).asProto().dependencies("CommonUtils");f.register("ServerStorageSettingsService").asCtor(no).dependencies("SettingsFile");f.register("StorageManagerFactory").asCtor(to).dependencies("UserGuidContainer, SettingsFile, FeaturesManager, Logger, HostData, CommonUtils, Consts, ServerStorageSettingsService");f.register("StringCache").asCtor(ro).asProto();f.register("ButtonSiteConfigKeyGenerator").asCtor(uo);f.register("WelcomeButtonSiteConfigKeyGenerator").asCtor(fo);f.register("BalloonButtonDataGenerator").asCtor(bi).dependencies("SiteConfigManager, ButtonSiteConfigKeyGenerator");f.register("WelcomeBalloonButtonDataGenerator").asCtor(bi).dependencies("SiteConfigManager, WelcomeButtonSiteConfigKeyGenerator");f.register("AjaxProxyIframeManager").asCtor(eo).dependencies("CommonUtils");f.register("ClassWalkMeAPI").asCtor(oo).dependencies("CommonEvents, Consts, AnalyticsPropertiesManager, DebuggerManager, SiteConfigManager, UIChangeTracker, Logger, WalkMeVisibilityChecker, HtmlDecoder, WalkthrusContainer, SettingsValuesRetriever, LabelsContainer, PageChangeTracker, DeployablesManagerFactory").asSingleton();!function(n){function r(n){return String(null===n||void 0===n?"":n)}function d(n){return n=r(n),k.test(n)?n.replace(y,"&amp;").replace(p,"&lt;").replace(w,"&gt;").replace(b,"&#39;").replace(h,"&quot;"):n}function rt(n){"}"===n.n.substr(n.n.length-1)&&(n.n=n.n.substring(0,n.n.length-1))}function c(n){return n.trim?n.trim():n.replace(/^\s*|\s*$/g,"")}function l(n,t,i){if(t.charAt(i)!=n.charAt(0))return!1;for(var r=1,u=n.length;r<u;r++)if(t.charAt(i+r)!=n.charAt(r))return!1;return!0}function a(n,t,i,r){for(var e=[],f=null,u=null;n.length>0;)if(u=n.shift(),"#"==u.tag||"^"==u.tag||ut(u,r))i.push(u),u.nodes=a(n,u.tag,i,r),e.push(u);else{if("/"==u.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+u.n);if(f=i.pop(),u.n!=f.n&&!ft(u.n,f.n,r))throw new Error("Nesting error: "+f.n+" vs. "+u.n);return f.end=u.i,e}e.push(u)}if(i.length>0)throw new Error("missing closing tag: "+i.pop().n);return e}function ut(n,t){for(var i=0,r=t.length;i<r;i++)if(t[i].o==n.n)return n.tag="#",!0}function ft(n,t,i){for(var r=0,u=i.length;r<u;r++)if(i[r].c==n&&i[r].o==t)return!0}function i(n){return n.replace(it,"\\\\").replace(h,'\\"').replace(nt,"\\n").replace(tt,"\\r")}function u(n){return~n.indexOf(".")?"d":"f"}function s(n){for(var r,f="",t=0,e=n.length;t<e;t++)r=n[t].tag,"#"==r?f+=et(n[t].nodes,n[t].n,u(n[t].n),n[t].i,n[t].end,n[t].otag+" "+n[t].ctag):"^"==r?f+=ot(n[t].nodes,n[t].n,u(n[t].n)):"<"==r||">"==r?f+=st(n[t]):"{"==r||"&"==r?f+=ht(n[t].n,u(n[t].n)):"\n"==r?f+=v('"\\n"'+(n.length-1==t?"":" + i")):"_v"==r?f+=ct(n[t].n,u(n[t].n)):void 0!==r&&n[t].hasOwnProperty("tag")||(f+=v('"'+i(n[t])+'"'));return f}function et(n,t,r,u,f,e){return"if(_.s(_."+r+'("'+i(t)+'",c,p,1),c,p,0,'+u+","+f+',"'+e+'")){_.rs(c,p,function(c,p,_){'+s(n)+"});c.pop();}"}function ot(n,t,r){return"if(!_.s(_."+r+'("'+i(t)+'",c,p,1),c,p,1,0,0,"")){'+s(n)+"};"}function st(n){return'_.b(_.rp("'+i(n.n)+'",c,p,"'+(n.indent||"")+'"));'}function ht(n,t){return"_.b(_.t(_."+t+'("'+i(n)+'",c,p,0)));'}function ct(n,t){return"_.b(_.v(_."+t+'("'+i(n)+'",c,p,0)));'}function v(n){return"_.b("+n+");"}var t={};t.Template=function(t,i,r,u){this.r=t||this.r;this.c=r;this.options=u;this.text=i||"";this.buf=n?[]:""};t.Template.prototype={r:function(){return""},v:d,t:r,render:function(n,t,i){return this.ri([n],t||{},i)},ri:function(n,t,i){return this.r(n,t,i)},rp:function(n,t,i,r){var u=i[n];return u?(this.c&&"string"==typeof u&&(u=this.c.compile(u,this.options)),u.ri(t,i,r)):""},rs:function(n,t,i){var u=n[n.length-1],r;if(!e(u))return void i(n,t,this);for(r=0;r<u.length;r++)n.push(u[r]),i(n,t,this),n.pop()},s:function(n,t,i,r,u,f,o){var s;return e(n)&&0===n.length?!1:("function"==typeof n&&(n=this.ls(n,t,i,r,u,f,o)),s=""===n||!!n,!r&&s&&t&&t.push("object"==typeof n?n:t[t.length-1]),s)},d:function(n,t,i,r){var o=n.split("."),u=this.f(o[0],t,i,r),s=null,f;if("."===n&&e(t[t.length-2]))return t[t.length-1];for(f=1;f<o.length;f++)u&&"object"==typeof u&&o[f]in u?(s=u,u=u[o[f]]):u="";return r&&!u?!1:(r||"function"!=typeof u||(t.push(s),u=this.lv(u,t,i),t.pop()),u)},f:function(n,t,i,r){for(var u=!1,f=null,o=!1,e=t.length-1;e>=0;e--)if(f=t[e],f&&"object"==typeof f&&n in f){u=f[n];o=!0;break}return o?(r||"function"!=typeof u||(u=this.lv(u,t,i)),u):!r&&""},ho:function(n,t,i,r,u){var e=this.c,f=this.options,r;return f.delimiters=u,r=n.call(t,r),r=null==r?String(r):r.toString(),this.b(e.compile(r,f).render(t,i)),!1},b:n?function(n){this.buf.push(n)}:function(n){this.buf+=n},fl:n?function(){var n=this.buf.join("");return this.buf=[],n}:function(){var n=this.buf;return this.buf="",n},ls:function(n,t,i,r,u,f,e){var s=t[t.length-1],o=null;if(!r&&this.c&&n.length>0)return this.ho(n,s,i,this.text.substring(u,f),e);if(o=n.call(s),"function"==typeof o){if(r)return!0;if(this.c)return this.ho(o,s,i,this.text.substring(u,f),e)}return o},lv:function(n,t,i){var f=t[t.length-1],u=n.call(f);return"function"==typeof u&&(u=r(u.call(f)),this.c&&~u.indexOf("{{"))?this.c.compile(u,this.options).render(f,i):r(u)}};var y=/&/g,p=/</g,w=/>/g,b=/\'/g,h=/\"/g,k=/[&<>\"\']/;var e=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},g=/\S/,h=/\"/g,nt=/\n/g,tt=/\r/g,it=/\\/g,o={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};t.scan=function(n,t){function b(){f.length>0&&(r.push(new String(f)),f="")}function nt(){for(var t=!0,n=p;n<r.length;n++)if(t=r[n].tag&&o[r[n].tag]<o._v||!r[n].tag&&null===r[n].match(g),!t)return!1;return t}function k(n,t){if(b(),n&&nt())for(var u,i=p;i<r.length;i++)r[i].tag||((u=r[i+1])&&">"==u.tag&&(u.indent=r[i].toString()),r.splice(i,1));else t||r.push({tag:"\n"});a=!1;p=r.length}function tt(n,t){var i="="+u,r=n.indexOf(i,t),f=c(n.substring(n.indexOf("=",t)+1,r)).split(" ");return s=f[0],u=f[1],r+i.length-1}var d=n.length,v=0,w=1,e=v,h=null,y=null,f="",r=[],a=!1,i=0,p=0,s="{{",u="}}";for(t&&(t=t.split(" "),s=t[0],u=t[1]),i=0;i<d;i++)e==v?l(s,n,i)?(--i,b(),e=w):"\n"==n.charAt(i)?k(a):f+=n.charAt(i):e==w?(i+=s.length-1,y=o[n.charAt(i+1)],h=y?n.charAt(i+1):"_v","="==h?(i=tt(n,i),e=v):(y&&i++,e=2),a=i):l(u,n,i)?(r.push({tag:h,n:c(f),otag:s,ctag:u,i:"/"==h?a-u.length:i+s.length}),f="",i+=u.length-1,e=v,"{"==h&&("}}"==u?i++:rt(r[r.length-1]))):f+=n.charAt(i);return k(a,!0),r};t.generate=function(n,i,r){var u='var _=this;_.b(i=i||"");'+s(n)+"return _.fl();";return r.asString?"function(c,p,i){"+u+";}":new t.Template(new Function("c","p","i",u),i,t,r)};t.parse=function(n,t,i){return i=i||{},a(n,"",[],i.sectionTags||[])};t.cache={};t.compile=function(n,t){t=t||{};var r=n+"||"+!!t.asString,i=this.cache[r];return i?i:(i=this.generate(this.parse(this.scan(n,t.delimiters),n,t),n,t),this.cache[r]=i)};t.to_html=function(n,i,r){var u=n;return"string"==typeof u?u=this.compile(n):"function"==typeof u&&(u=new t.Template(u)),u.render(i,r)};"undefined"!=typeof f&&f.register("Mustache").asInstance(t)}();f.register("WalkMeVisibilityChecker").asCtor(so).dependencies("SiteConfigManager, AbTestingManager");ki=function(){function n(n,t){this.logger=t;this._handlers=[];this._teardownHandlers=[]}return n.prototype.listen=function(n){this._handlers.push(n);this._messageHandler||(this._messageHandler=r.proxy(function(){this.handleMessage.apply(this,arguments)},this),window.addEventListener?window.addEventListener("message",this._messageHandler,!1):window.attachEvent("onmessage",this._messageHandler))},n.prototype.addTeardownCallback=function(n){this._teardownHandlers.push(n)},n.prototype.cleanResources=function(){for(var i=this,t=[],n=0;n<this._teardownHandlers.length;n++)t.push(this._teardownHandlers[n]());return p.all(t).then(function(){return i.releaseEventHandlers()})},n.prototype.releaseEventHandlers=function(){this._messageHandler&&(window.addEventListener?window.removeEventListener("message",this._messageHandler,!1):window.detachEvent("onmessage",this._messageHandler),this._messageHandler=null,this._handlers=[])},n.prototype.handleMessage=function(){for(var n=0;n<this._handlers.length;++n)try{this._handlers[n].apply(null,arguments)}catch(t){this.logger.error(t)}},n}();f.register("PostMessageListener").asCtor(ki).dependencies("Consts,Logger,WmInternals");f.register("SiteConfigManager").asCtor(ho);f.register("LibDestroyer").asCtor(co).dependencies("WalkthruBalloonContainer, UiUtils, TimerManager, CommonEvents, Consts, PositionHelper, TopContainerProvider, CommonUtils");f.register("endUserGuidValidator").asCtor(lo).dependencies("Consts, ServerStorageSettingsService, EndUsersManager, AuditSourceProvider, Lib,EventSenderErrorLogger, IsInEditor");f.register("DataEncoderFactory").asCtor(yo).dependencies("SettingsFile");f.register("CommonEvents").asCtor(po).dependencies("Logger,ApiEventRouter,CurrentWalkthruData,EventsTriggerSyncer,WmInternals").asSingleton();f.register("MessageSender").asCtor(wo).dependencies("CommonEvents");!function(){function n(){function u(n,i){if(r(n))throw new Error("There is already handler assigned to the type - "+n);if("function"!=typeof i)throw new Error("'handler' must be a function");t[n]=i}function i(n){return t[n]}function f(n,t,r){var u=r,f=i(n);return f&&(u=f.apply(null,t)),u}function r(n){return!!i(n)}var n=this,t;n.assign=u;n.get=i;n.run=f;n.hasHandler=r;t={}}f.register("AdditionalTemplatesHandlers").asCtor(n).asSingleton()}();f.register("WMObjectNameObfMapping").asInstance({amount:"b",app:"a",browser:"c",browserName:"d",browserVersion:"e",count:"i",cVars:"f",duration:"g",env:"h",euId:"euId",euIdSource:"j",feId:"k",feVersion:"l",gitRevision:"m",instanceId:"n",interactionGuid:"o",ip:"p",key:"q",language:"r",libVersion:"s",local:"t",message:"u",misc:"v",mobile:"w",name:"x",os:"y",pageTitle:"z",permId:"aa",platform:"ab",publishDate:"ac",publishEnv:"ad",quantity:"ae",reason:"af",sesId:"ag",sessionId:"ah",sum:"ai",time:"timestamp",total:"ak",type:"al",uId:"uId",url:"an",urlWithoutQueryString:"ap",userVars:"ao",result:"aq",score:"ar",version:"ax"});f.register("WMObjectNameObfMapper").asFunction(bo).dependencies("WMObjectNameObfMapping,EventSenderErrorLogger");f.register("StaticWMDataProvider").asFunction(ko).dependencies("EventSenderEnvironmentDataProvider,EventCollectorWalkMeDataProvider,WalkMeInfo,SettingsFile");f.register("ApiEventForwarder").asCtor(go).asProto().dependencies();f.register("ApiEventRaiser").asCtor(ns).asProto().dependencies("Logger, CurrentWalkthruData, win");f.register("ApiEventRouter").asCtor(ts).dependencies("NewApiEventsConfigProvider, NewApiEventForwarder, OldApiEventsConfigProvider, OldApiEventForwarder, EditorApiEventForwarder");gi=function(){function n(){}return n.prototype.sync=function(n,t,i){return i},n}();f.register("EventsTriggerSyncer").asCtor(is).dependencies("EventsTrigger");f.has("EventsTrigger")||f.register("EventsTrigger").asInstance(new gi);f.register("NewApiEventForwarder").dependencies("NewApiEventsConfigProvider").asFunction(function(n){var t={apiEventsConfigProvider:n,apiEventRaiser:f.create("ApiEventRaiser",{windowFuncName:"walkme_event"})};return f.create("ApiEventForwarder",t)});f.register("NewApiEventsConfigProvider").asCtor(rs).dependencies("Consts");f.register("EditorApiEventsConfigProvider").asCtor(us).dependencies("NewApiEventsConfigProvider");f.register("OldApiEventForwarder").dependencies("OldApiEventsConfigProvider").asFunction(function(n){var t={apiEventsConfigProvider:n,apiEventRaiser:f.create("ApiEventRaiser",{windowFuncName:"mt_event"})};return f.create("ApiEventForwarder",t)});f.register("OldApiEventsConfigProvider").asCtor(fs).dependencies("Consts");f.register("EditorApiEventForwarder").dependencies("EditorApiEventsConfigProvider").asFunction(function(n){var t={apiEventsConfigProvider:n,apiEventRaiser:f.create("ApiEventRaiser",{windowFuncName:"walkme_editor_event"})};return f.create("ApiEventForwarder",t)});f.register("PostMessage").asInstance(window.postMessage);f.register("NativeTimerFunctionsProvider").asCtor(es).asSingleton();f.register("TimerManager").asCtor(os).asSingleton().dependencies("CommonEvents,Consts,NativeTimerFunctionsProvider,Logger");f.register("MutationObserverWrapper").asCtor(ss);!function(){var n="mt",t=0,i={0:hs,2:cs};f.has("DataMinifier")||f.register("DataMinifier").asFunction(function(r,u,f){function o(){var r=u.getStorageType(),f=r&&r[n];return i[f||t]}var e=o();return new e(r,f)}).dependencies("CommonUtils,SettingsFile,Logger")}();f.register("TypedDataSender").asCtor(nr).asProto();f.register("ServerDataSenderManagerParams").asInstance({defaultDataStorageLifeSeconds:900,dateSenderLogFeature:"serverDataSender"});f.register("ServerDataSenderManager").asCtor(ls).dependencies("Lib,Logger,RecorderServerManager,ServerDataSenderManagerParams,ClientStorageManager,WmAjax,FeaturesManager,TimerManager,Consts");f.register("AjaxManager").asCtor(as).dependencies("FeaturesManager, WmjQueryAjaxProvider, AjaxProxyProvider, Consts, win");f.register("AjaxProxyProvider").asCtor(vs).dependencies("AjaxProxyIframeManager");f.register("WmjQueryAjaxProvider").asCtor(ys);f.register("WmAjax").asCtor(ps).dependencies("CommonEvents, FeaturesManager, AjaxManager, CorsSupportIndicator");!function(n){var t=function(){function n(n,t){this.callback=t;this.timeoutMs=n}return n.prototype.start=function(n){var i=this,t;this.enabled||(this.enabled=!0,t=n||this.timeoutMs,this.timerHandle=f.get("TimerManager").setWalkmeTimeout(function(){i.onTick()},t))},n.prototype.onTick=function(){this.enabled=!1;this.callback()},n.prototype.stop=function(){this.timerHandle&&(this.timerHandle.clear(),this.timerHandle=null);this.enabled=!1},n.prototype.restart=function(){this.stop();this.start()},n.prototype.isEnabled=function(){return this.enabled},n}();n.SimpleTimer=t,function(n){n[n.Chrome=6]="Chrome"}(n.BrowserConnectionLimit||(n.BrowserConnectionLimit={}));n.BrowserConnectionLimit}(s||(s={}));!function(n){var t;!function(t){var i=function(){function t(t){this.maxConnections=n.BrowserConnectionLimit.Chrome;this.postEventAction=t.postEventAction;this.healthCheckAction=t.healthCheckAction;this.retryParameterName=t.retryParameterName;this.allocateImages()}return t.prototype.getChannelType=function(){return"ImageChannel"},t.prototype.getChannelMethod=function(){return"GET"},t.prototype.setBaseUrl=function(n){this.baseUrl=n},t.prototype.getBaseUrl=function(){return this.baseUrl},t.prototype.getPostEventUrl=function(){if(!this.baseUrl)throw new Error("No base url provided for post event");return this.baseUrl+this.postEventAction},t.prototype.getRetryParamName=function(){return this.retryParameterName},t.prototype.getHealthCheckUrl=function(){if(!this.baseUrl)throw new Error("No base url provided for health check");return this.baseUrl+this.healthCheckAction},t.prototype.getLineBreak=function(){return"\n"},t.prototype.checkHealth=function(){r.get(this.getHealthCheckUrl())},t.prototype.send=function(n,t,i,r){var u=this,o=encodeURIComponent(n),f=this.assertFree(),e;f.attr(this.getBusyFlag(),"true");e=this.getPostEventUrl()+"?"+this.getURLQueryParamKey()+"="+o;r&&(e+="&"+this.getRetryParamName()+"="+r);f.load(function(){f.unbind("load");f.attr(u.getBusyFlag(),"false");u.whenFreeCallback&&u.whenFreeCallback();t&&t();u.successCallback&&u.successCallback()}).error(function(){i&&i(null,null,null);u.failCallback&&u.failCallback(null,null,null)});f.attr("src",e)},t.prototype.isInitialized=function(){return!!this.baseUrl},t.prototype.isAvailable=function(){var n=this.getFreeImg();return null!==n},t.prototype.isIdle=function(){for(var n=0;n<this.images.length;n++)if(!this.isImageFree(this.images[n]))return!1;return!0},t.prototype.withinSizeLimit=function(n){return n<=this.maxPacketSize()},t.prototype.estimateDataSize=function(n){return encodeURIComponent(n).length},t.prototype.maxPacketSize=function(){var n="?"+this.getURLQueryParamKey()+"=&"+this.getRetryParamName()+"=";return this.getMaxUrlSize()-this.getPostEventUrl().length-n.length-2},t.prototype.channelBandwidth=function(){return n.BrowserConnectionLimit.Chrome*this.maxPacketSize()},t.prototype.whenFree=function(n){this.whenFreeCallback=n},t.prototype.fail=function(n){this.failCallback=n},t.prototype.success=function(n){this.successCallback=n},t.prototype.getFreeImg=function(){for(var n=0;n<this.images.length;n++)if(this.isImageFree(this.images[n]))return this.images[n];return null},t.prototype.isImageFree=function(n){return"false"===n.attr(this.getBusyFlag())},t.prototype.allocateImages=function(){var n,t;for(this.images=[],n=0;n<this.maxConnections;n++)t=this.createImage(),this.images.push(t)},t.prototype.createImage=function(){var n=r("<img/>");return n.css("width","1px"),n.css("height","1px"),n.attr(this.getBusyFlag(),"false"),n},t.prototype.getMaxUrlSize=function(){return 2048},t.prototype.getBusyFlag=function(){return"_WM_BUSY_"},t.prototype.getURLQueryParamKey=function(){return"ed"},t.prototype.assertFree=function(){var n=this.getFreeImg();if(!n)throw"Channel is at max capacity. Can't send anymore data.";return n},t.prototype.getCurrentImages=function(){return this.images.slice(0)},t.prototype.dispose=function(){for(var n=0;n<this.images.length;n++)this.images[n].remove()},t}();t.ImageChannel=i}(t=n.Channels||(n.Channels={}))}(s||(s={}));!function(n){var t;!function(t){var i=function(){function t(t){this.maxConnections=n.BrowserConnectionLimit.Chrome;this.currentOpenConnections=0;this.postEventAction=t.postEventAction;this.healthCheckAction=t.healthCheckAction;this.requestTimeoutMs=t.requestTimeoutMs;this.retryParameterName=t.retryParameterName}return t.prototype.getChannelType=function(){return"AjaxChannel"},t.prototype.getChannelMethod=function(){return"POST"},t.prototype.setBaseUrl=function(n){this.baseUrl=n},t.prototype.getBaseUrl=function(){return this.baseUrl},t.prototype.getPostEventUrl=function(){if(!this.baseUrl)throw new Error("No base url provided for post event");return this.baseUrl+this.postEventAction},t.prototype.getRetryParamName=function(){return this.retryParameterName},t.prototype.getHealthCheckUrl=function(){if(!this.baseUrl)throw new Error("No base url provided for health check");return this.baseUrl+this.healthCheckAction},t.prototype.getLineBreak=function(){return"\n"},t.prototype.checkHealth=function(){r.get(this.getHealthCheckUrl())},t.prototype.send=function(n,t,i,r){var u,e,o;if(!this.isAvailable())throw new Error("Channel is at max capacity. Can't send anymore data.");u=this;this.currentOpenConnections++;e=this.getPostEventUrl();r&&(e+="?"+this.getRetryParamName()+"="+r);o=f.get("WmAjax").execute({url:e,data:n,contentType:"text/plain",type:"POST",dataType:"html",timeout:this.requestTimeoutMs||2e3});o.success(function(){t&&t();u.successCallback&&u.successCallback();u.singleLinkFree()});o.error(function(n,t,r){i&&i(n,t,r);u.failCallback&&u.failCallback(n,t,r);u.singleLinkFree()})},t.prototype.isInitialized=function(){return!!this.baseUrl},t.prototype.isAvailable=function(){return this.currentOpenConnections<this.maxConnections},t.prototype.isIdle=function(){return 0===this.currentOpenConnections},t.prototype.withinSizeLimit=function(n){return n<=this.maxPacketSize()},t.prototype.estimateDataSize=function(n){return n.length},t.prototype.maxPacketSize=function(){return 9e3},t.prototype.channelBandwidth=function(){return n.BrowserConnectionLimit.Chrome*this.maxPacketSize()},t.prototype.whenFree=function(n){this.whenFreeCallback=n},t.prototype.fail=function(n){this.failCallback=n},t.prototype.success=function(n){this.successCallback=n},t.prototype.singleLinkFree=function(){this.currentOpenConnections--;this.whenFreeCallback&&this.whenFreeCallback()},t}();t.AjaxChannel=i}(t=n.Channels||(n.Channels={}))}(s||(s={}));!function(n){var t;!function(n){!function(n){n[n.PostNativeCors=0]="PostNativeCors";n[n.GetImage=1]="GetImage";n[n.PostIECorsPlugin=2]="PostIECorsPlugin"}(n.CompatibilityChannelMode||(n.CompatibilityChannelMode={}));var t=n.CompatibilityChannelMode,i=function(){function i(t){var i=this,r;this.config=t;this.sendFn=function(u,f,e,o){var s=!1,h=function(o,h,c,l){if(!s){s=!0;var a=new n.ImageChannel(t);a.setBaseUrl(i.underlyingChannel.getBaseUrl());i.underlyingChannel=a;r(u,f,e,l)}};try{r(u,f,function(n,t,i,r){h(n,t,i,r)},o)}catch(c){h(null,null,null)}i.sendFn=r};r=function(n,t,r,u){i.underlyingChannel.send(n,t,r,u)}}return i.prototype.getChannelType=function(){return"CompatibilityChannel."+this.underlyingChannel.getChannelType()},i.prototype.getChannelMethod=function(){return t[this.mode]},i.prototype.getBaseUrl=function(){return this.underlyingChannel.getBaseUrl()},i.prototype.setBaseUrl=function(n){var i=this.checkCompatibility(),r=new RegExp("^(//|"+location.protocol+")","i"),u=r.test(n),t=this.pickChannel(i,this.config,u);t.setBaseUrl(n);this.underlyingChannel=t},i.prototype.getPostEventUrl=function(){return this.underlyingChannel.getPostEventUrl()},i.prototype.getHealthCheckUrl=function(){return this.underlyingChannel.getHealthCheckUrl()},i.prototype.getRetryParamName=function(){return this.underlyingChannel.getRetryParamName()},i.prototype.getLineBreak=function(){return this.underlyingChannel.getLineBreak()},i.prototype.checkHealth=function(){r.get(this.underlyingChannel.checkHealth())},i.prototype.send=function(n,t,i,r){this.sendFn(n,t,i,r)},i.prototype.isInitialized=function(){return!!this.underlyingChannel&&this.underlyingChannel.isInitialized()},i.prototype.isAvailable=function(){return this.underlyingChannel.isAvailable()},i.prototype.isIdle=function(){return this.underlyingChannel.isIdle()},i.prototype.withinSizeLimit=function(n){return this.underlyingChannel.withinSizeLimit(n)},i.prototype.estimateDataSize=function(n){return this.underlyingChannel.estimateDataSize(n)},i.prototype.maxPacketSize=function(){return this.underlyingChannel.maxPacketSize()},i.prototype.channelBandwidth=function(){return this.underlyingChannel.channelBandwidth()},i.prototype.whenFree=function(n){this.underlyingChannel.whenFree(n)},i.prototype.fail=function(n){this.underlyingChannel.fail(n)},i.prototype.success=function(n){this.underlyingChannel.success(n)},i.prototype.pickChannel=function(i,r,u){switch(this.mode=i,i){case t.PostIECorsPlugin:return u?new n.AjaxChannel(r):new n.ImageChannel(r);case t.PostNativeCors:return new n.AjaxChannel(r);case t.GetImage:return new n.ImageChannel(r)}},i.prototype.checkCompatibility=function(){return void 0!==(new XMLHttpRequest).withCredentials?t.PostNativeCors:"undefined"!=typeof XDomainRequest?t.PostIECorsPlugin:t.GetImage},i}();n.CompatibilityChannel=i}(t=n.Channels||(n.Channels={}))}(s||(s={}));!function(n){var t;!function(n){var t=function(){function n(n){this.buffer=[];this.reduceFn=n.reduce}return n.prototype.getStorageType=function(){return"ArrayBuffer"},n.prototype.push=function(n){this.buffer.push(n)},n.prototype.pull=function(){return this.buffer.shift()},n.prototype.peek=function(){return this.buffer[0]},n.prototype.count=function(){return this.buffer.length},n.prototype.clear=function(){this.buffer=[]},n.prototype.dataSize=function(){return this.reduceFn(this.buffer,function(n,t){return n+t.length},0)},n.prototype.isEmpty=function(){return 0===this.count()},n.prototype.getRawData=function(){return this.buffer},n.prototype.set=function(n){this.pushAll(n)},n.prototype.pushAll=function(n){if(r.isArray(n))for(var t=0,i=n.length;t<i;t++)this.push(n[t])},n.prototype.pullAll=function(){var n=this.buffer;return this.clear(),n},n}();n.ArrayBuffer=t}(t=n.Storage||(n.Storage={}))}(s||(s={}));!function(n){var t;!function(n){var t=function(){function n(n){this.buffer={};this.runningId=0;this.getDictionaryKeys=n.getDictionaryKeys}return n.prototype.getStorageType=function(){return"DictionaryBuffer"},n.prototype.generateId=function(){return""+ ++this.runningId},n.prototype.push=function(n){var t=this.generateId();return this.buffer[t]=n,t},n.prototype.pull=function(n){var t=this.buffer[n];return delete this.buffer[n],t},n.prototype.peek=function(n){return this.buffer[n]},n.prototype.count=function(){return this.getAllIds().length},n.prototype.clear=function(){this.buffer={}},n.prototype.dataSize=function(){var n=0;for(var t in this.buffer)this.buffer.hasOwnProperty(t)&&(n+=this.buffer[t].length);return n},n.prototype.isEmpty=function(){return 0===this.count()},n.prototype.getRawData=function(){var n=[];for(var t in this.buffer)this.buffer.hasOwnProperty(t)&&n.push(this.peek(t));return n},n.prototype.set=function(n){return this.pushAll(n)},n.prototype.pushAll=function(n){var i=[],t,u;if(r.isArray(n))for(t=0,u=n.length;t<u;t++)i.push(this.push(n[t]));return i},n.prototype.pullAll=function(n){var i=[],t,u,r;if(n)for(t=0,u=n.length;t<u;t++)i.push(this.pull(n[t]));else for(r in this.buffer)this.buffer.hasOwnProperty(r)&&i.push(this.pull(r));return i},n.prototype.getAllIds=function(){return this.getDictionaryKeys(this.buffer)},n}();n.DictionaryBuffer=t}(t=n.Storage||(n.Storage={}))}(s||(s={}));!function(n){var t;!function(n){var t=function(){function n(n,t,i){this.buffer={};this.inputMapper=t;this.outputMapper=i;this.getDictionaryKeys=n.getDictionaryKeys;this.mapFn=n.map;this.reduceFn=n.reduce}return n.prototype.getStorageType=function(){return"ReduceBuffer"},n.prototype.count=function(){return this.getAllIds().length},n.prototype.clear=function(){this.buffer={}},n.prototype.dataSize=function(){var t=0;for(var n in this.buffer)this.buffer.hasOwnProperty(n)&&(t+=n.length+(""+this.buffer[n]).length);return t},n.prototype.isEmpty=function(){return 0===this.count()},n.prototype.getRawData=function(){return this.buffer},n.prototype.set=function(n){this.buffer=n},n.prototype.pushAll=function(n){var t=this,i=this.mapFn(n,function(n){return t.inputMapper.convert(n)}),r=this.reduceFn(i,function(n,t){return n[t]=(n[t]||0)+1,n},this.buffer);this.set(r)},n.prototype.getAllIds=function(){return this.getDictionaryKeys(this.buffer)},n.prototype.pullAll=function(){var t=[];for(var n in this.buffer)this.buffer.hasOwnProperty(n)&&(t.push(this.format(n)),delete this.buffer[n]);return t},n.prototype.format=function(n){return this.outputMapper.convert({type:n,count:this.buffer[n]})},n}();n.ReduceBuffer=t}(t=n.Storage||(n.Storage={}))}(s||(s={}));!function(n){var t;!function(n){var t=function(){function n(n,t,i,r){this.autoSave=n.autoSave||!1;this.keyName=n.keyName||"wm-ds-b";this.expiresSeconds=n.expiresSeconds||600;this.storageTypesEnum=i.STORAGE_TYPE;this.clientStorageManager=t;this.buffer=r}return n.prototype.save=function(){var n=o(this.getRawData());this.clientStorageManager.saveData(this.keyName,n,this.expiresSeconds)},n.prototype.load=function(){this.buffer.clear();var n=this.clientStorageManager.getData(this.keyName);if(n)try{this.set(c(n))}catch(t){this.buffer.clear()}},n.prototype.count=function(){return this.buffer.count()},n.prototype.clear=function(){this.buffer.clear();this.updateStorageIfNeeded()},n.prototype.dataSize=function(){return this.buffer.dataSize()},n.prototype.maxSize=function(){var n;switch(this.clientStorageManager.getStorageType().type){case this.storageTypesEnum.JStorage:case this.storageTypesEnum.CrossDomainLocalStorage:case this.storageTypesEnum.CrossDomain:n=2621440;break;case this.storageTypesEnum.Extension:case this.storageTypesEnum.ProxyIframe:n=524288;break;case this.storageTypesEnum.CrossDomainCookies:case this.storageTypesEnum.Cookie:n=2048;break;default:n=2048}return n*.5},n.prototype.withinSizeLimit=function(n){return n<=this.maxSize()},n.prototype.isEmpty=function(){return 0===this.count()},n.prototype.updateStorageIfNeeded=function(){this.autoSave&&this.save()},n.prototype.getRawData=function(){return this.buffer.getRawData()},n}();n.BaseClientStorageBuffer=t}(t=n.Storage||(n.Storage={}))}(s||(s={}));!function(t){var i;!function(t){var i=function(t){function i(n,i,r,u){t.call(this,n,i,r,u)}return n(i,t),i.prototype.getStorageType=function(){return"ClientStorageArrayBuffer::"+this.getBuffer().getStorageType()},i.prototype.getBuffer=function(){return this.buffer},i.prototype.push=function(n){this.getBuffer().push(n);this.updateStorageIfNeeded()},i.prototype.pull=function(){var n=this.getBuffer().pull();return this.updateStorageIfNeeded(),n},i.prototype.peek=function(){return this.getBuffer().peek()},i.prototype.set=function(n){this.getBuffer().set(n)},i.prototype.pushAll=function(n){this.getBuffer().pushAll(n)},i.prototype.pullAll=function(){return this.getBuffer().pullAll()},i}(t.BaseClientStorageBuffer);t.ClientStorageArrayBuffer=i}(i=t.Storage||(t.Storage={}))}(s||(s={}));!function(t){var i;!function(t){var i=function(t){function i(n,i,r,u){t.call(this,n,i,r,u)}return n(i,t),i.prototype.getStorageType=function(){return"ClientStorageDictionaryBuffer::"+this.buffer.getStorageType()},i.prototype.getBuffer=function(){return this.buffer},i.prototype.push=function(n){var t=this.getBuffer().push(n);return this.updateStorageIfNeeded(),t},i.prototype.pull=function(n){var t=this.getBuffer().pull(n);return this.updateStorageIfNeeded(),t},i.prototype.peek=function(n){return this.getBuffer().peek(n)},i.prototype.set=function(n){return this.getBuffer().set(n)},i.prototype.pushAll=function(n){return this.getBuffer().pushAll(n)},i.prototype.pullAll=function(n){return this.getBuffer().pullAll(n)},i}(t.BaseClientStorageBuffer);t.ClientStorageDictionaryBuffer=i}(i=t.Storage||(t.Storage={}))}(s||(s={}));!function(t){var i;!function(t){var i=function(t){function i(n,i,r,u){t.call(this,n,i,r,u)}return n(i,t),i.prototype.getStorageType=function(){return"ClientStorageReduceBuffer::"+this.getBuffer().getStorageType()},i.prototype.getBuffer=function(){return this.buffer},i.prototype.set=function(n){this.getBuffer().set(n)},i.prototype.pushAll=function(n){this.getBuffer().pushAll(n)},i.prototype.pullAll=function(){return this.getBuffer().pullAll()},i}(t.BaseClientStorageBuffer);t.ClientStorageReduceBuffer=i}(i=t.Storage||(t.Storage={}))}(s||(s={}));!function(n){var t;!function(n){var t=function(){function n(n,t,i,r,u){this.buffer=t;this._isEnabled=!1;this.dataChannel=n;this._eventsErrorLogger=u;this._logger=r?r.wrapCustomerLog("newSender"):function(){}}return n.prototype.checkHealth=function(){return this.dataChannel.checkHealth()},n.prototype.getBaseUrl=function(){return this.dataChannel.getBaseUrl()},n.prototype.setBaseUrl=function(n){this.dataChannel.setBaseUrl(n)},n.prototype.getPostEventUrl=function(){return this.dataChannel.getPostEventUrl()},n.prototype.getHealthCheckUrl=function(){return this.dataChannel.getHealthCheckUrl()},n.prototype.enable=function(){var n=this;if(!this._isEnabled)try{this._logger(this.getSenderType()+"::enable. Enabling new data sender. \r\n [channel : "+this.dataChannel.getChannelType()+" , method : "+this.dataChannel.getChannelMethod()+" ,max packet size: "+this.dataChannel.maxPacketSize()+" ] \r\n [storage : "+this.buffer.getStorageType()+" , max storage size: "+this.buffer.maxSize()+"] \r\n",3);this._isEnabled=!0;this.dataChannel.whenFree(function(){n.linkIsFree()});this.registerToUnload(function(){return n.sleep()});this.wakeUp()}catch(t){this.logError(t,"Enable")}},n.prototype.logError=function(n,t){if(this._eventsErrorLogger){var i=this.dataChannel&&this.buffer?{storage:this.buffer.getStorageType(),channel:this.dataChannel.getChannelType()}:{};i.sender=this.getSenderType()+(t?"::"+t:"");this._eventsErrorLogger.logError(o(n.message),i)}},n.prototype.disable=function(){this._isEnabled&&(this._isEnabled=!1)},n.prototype.isEnabled=function(){return this._isEnabled},n.prototype.isIdle=function(){return this._isEnabled&&this.dataChannel.isIdle()&&this.buffer.isEmpty()},n.prototype.clearStorage=function(){this.buffer.clear()},n.prototype.registerToUnload=function(n){f.get("WindowBeforeUnloadHandler").register(n)},n}();n.SuperSender=t}(t=n.Managers||(n.Managers={}))}(s||(s={}));!function(t){var i;!function(t){var i=function(t){function i(n,i,r,u,f){t.call(this,n,i,r,u,f)}return n(i,t),i.prototype.getBuffer=function(){return this.buffer},i.prototype.getSenderType=function(){return"ImmediateSender"},i.prototype.send=function(n){return this.isEnabled()?(this.dataChannel.isAvailable()?this.dataChannel.send(n):this.getBuffer().push(n),!0):!1},i.prototype.wakeUp=function(){if(!this.isEnabled())return!1;this.loadFromStorage()},i.prototype.sleep=function(){if(!this.isEnabled())return!1;this.getBuffer().save()},i.prototype.linkIsFree=function(){if(!this.isEnabled())return!1;this.sendFromBuffer()},i.prototype.loadFromStorage=function(){if(!this.isEnabled())return!1;for(this.getBuffer().load();this.dataChannel.isAvailable()&&this.getBuffer().count();)this.sendFromBuffer()},i.prototype.sendFromBuffer=function(){if(!this.isEnabled())return!1;var n=this.getBuffer().pull();n&&this.dataChannel.send(n)},i}(t.SuperSender);t.ImmediateSender=i}(i=t.Managers||(t.Managers={}))}(s||(s={}));!function(t){var i;!function(i){var u=function(i){function u(n,r,u,f,e,o,s,h,c,l){var a=this;i.call(this,n,r,o,c,l);this.estimatedPacketSize=0;this.cycleTimer=new t.SimpleTimer(o.sendingIntervalMs,function(){return a.doCycle()});this.retryTimer=new t.SimpleTimer(o.retryIntervalMs,function(){return a.doCycle()});this.maxRetries=o.maxRetries;this.maxRetryTimeoutSec=o.maxRetryTimeoutSec;this.minRetryTimeoutSec=o.minRetryTimeoutSec;this.currentRetries=0;this.isHealthy=!0;this.needMoreLink=!1;this.isLogFailed=o.isLogFailed;this.memoryBuffer=f;this.stagingMemoryBuffer=e;this.stagingBuffer=u;this.failureBuffer=s;this.dataSenderLogFailure=h;this.maxDynamicDataLength=o.maxDynamicDataLength||0;this.maxStaticDataLength=void 0===o.maxStaticDataLength?1e3-o.maxDynamicDataLength:o.maxStaticDataLength;this.staticData=this.emptyStaticData();this.dynamicDataArr=[this.timestampDynamicData];this.staticIndicator={_static:!0};this.staticIndicatorLen=0}return n(u,i),u.prototype.getSenderType=function(){return"AccumulationSender"},u.prototype.emptyStaticData=function(){return{data:{},length:0}},u.prototype.setStaticData=function(n,t){var i;if(t&&"_static"!==n&&!this.staticData.data[n]){var u=r.extend({},this.staticData.data,(i={},i[n]=t,i)),e=o(u),f=this.dataChannel.estimateDataSize(e);return f>this.maxStaticDataLength?(this._logger("Static data that exceeds the limit "+n+":"+o(t),3),!1):(this.staticData.data=u,this.staticData.length=f,!0)}},u.prototype.timestampDynamicData=function(){return{"Wm-Client-Timestamp":(new Date).getTime()}},u.prototype.dynamicData=function(){for(var i,u,n={},t=0;t<this.dynamicDataArr.length;t++)i=r.extend({},n,this.dynamicDataArr[t]()),u=o(i),this.dataChannel.estimateDataSize(u)>this.maxDynamicDataLength?this._logger("Dynamic data that exceeds the limit "+u,3):n=i;return n},u.prototype.enrichmentDataLength=function(){this.staticIndicatorLen||(this.staticIndicatorLen=this.dataChannel.estimateDataSize(o(this.staticIndicator))+1);var n=this.maxDynamicDataLength+this.staticData.length;return 0!==n?n+this.staticIndicatorLen:0},u.prototype.getBuffer=function(){return this.buffer},u.prototype.send=function(n){try{if(this._logger(this.getSenderType()+"::Send. called for: "+o(n),5),!this.isEnabled())return!1;var t=this.dataChannel.estimateDataSize(n);if(!this.dataChannel.withinSizeLimit(t+this.enrichmentDataLength()))throw new Error("Data exceeds channel packet size");if(this.getBuffer().withinSizeLimit(n.length))return this.getBuffer().isEmpty()||(this.estimatedPacketSize+=this.dataChannel.estimateDataSize(this.dataChannel.getLineBreak())),this.estimatedPacketSize+=t,this.getBuffer().dataSize()+n.length>this.getBuffer().maxSize()&&this.sendBuffer(),this.getBuffer().push(n),this.estimatedPacketSize>=this.dataChannel.channelBandwidth()?(this.sendBuffer(),this.getTimer().restart()):this.getTimer().start(),!0;this.dataChannel.isAvailable()?this.stageAndSend({memory:[n],persist:[]}):this.memoryBuffer.push(n)}catch(i){throw this.logError(i,"Send"),i;}},u.prototype.wakeUp=function(){if(this.isEnabled())try{this._logger(this.getSenderType()+"::WakeUp. buffer size before load. "+this.getBuffer().dataSize(),3);this.loadFromStorage();this._logger(this.getSenderType()+"::WakeUp. buffer size after load. "+this.getBuffer().dataSize(),3)}catch(n){throw this.logError(n,"WakeUp"),n;}},u.prototype.sleep=function(){if(this.isEnabled())try{this._logger(this.getSenderType()+"::Sleep. buffer size before flush: "+this.getBuffer().dataSize(),3);this.sendBuffer();this._logger(this.getSenderType()+"::Sleep. buffer size after flush: "+this.getBuffer().dataSize(),3);this.getBuffer().save();this.stagingBuffer.save();this.failureBuffer.save()}catch(n){throw this.logError(n,"Sleep"),n;}},u.prototype.isIdle=function(){return i.prototype.isIdle.call(this)},u.prototype.linkIsFree=function(){this.isEnabled()&&this.needMoreLink&&this.sendBuffer()},u.prototype.doCycle=function(){this.isEnabled()&&(this._logger(this.getSenderType()+"::doCycle. buffer size before flush. "+this.getBuffer().dataSize(),4),this.sendBuffer(),this._logger(this.getSenderType()+"::doCycle. buffer size after flush. "+this.getBuffer().dataSize(),4))},u.prototype.getSeperator=function(){return this.dataChannel.getLineBreak()},u.prototype.getTimer=function(){return this.isHealthy?this.cycleTimer:this.retryTimer},u.prototype.hasBufferEvents=function(){return!this.getBuffer().isEmpty()||!this.memoryBuffer.isEmpty()},u.prototype.getPriorityBuffer=function(){return this.memoryBuffer.isEmpty()?this.getBuffer():this.memoryBuffer},u.prototype.sendBuffer=function(){var r,u,n,f;if(this.isEnabled())try{for(r=this.dataChannel.maxPacketSize();this.hasBufferEvents()&&this.dataChannel.isAvailable();){u={persist:[],memory:[]};n=this.enrichmentDataLength();do{var i=this.getPriorityBuffer(),o=this.dataChannel.estimateDataSize(i.peek()),t=0;if(0!==n&&(t=this.dataChannel.estimateDataSize(this.getSeperator())),t+=o,n+t>r){if(n>0)break;i.pull();this.logError(new Error("Tried to send too long message"),"SendBuffer");continue}f=i===this.memoryBuffer?"memory":"persist";u[f].push(i.pull());n+=t;this.estimatedPacketSize-=t}while(this.hasBufferEvents()&&n<r);n>0&&this.stageAndSend(u)}this.needMoreLink=this.hasBufferEvents()}catch(e){throw this.logError(e,"SendBuffer"),e;}},u.prototype.enrichmentDataHasOwnProps=function(n){for(var t in n)if(n.hasOwnProperty(t)&&"_static"!==t)return!0;return!1},u.prototype.getEnrichmentData=function(){var n=r.extend({_static:!0},this.staticData.data,this.dynamicData());if(this.enrichmentDataHasOwnProps(n))return o(n)},u.prototype.stageAndSend=function(n){var t=this,i={persist:this.stagingBuffer.pushAll(n.persist),memory:this.stagingMemoryBuffer.pushAll(n.memory)},u=this.getEnrichmentData(),r=(u?[u]:[]).concat(n.persist,n.memory).join(this.getSeperator());this._logger(this.getSenderType()+"::sendBuffer. packet size "+r.length,3);this._logger(this.getSenderType()+"::sendBuffer. sending packet :"+o(r),4);this.dataChannel.send(r,function(){try{t.isHealthy=!0;t.currentRetries=0;t.stagingBuffer.pullAll(i.persist);t.stagingMemoryBuffer.pullAll(i.memory);t.isLogFailedEnabled()&&t.logFailedEvents()}catch(n){}},function(){var n,r;try{(t.isHealthy=!1,t.getBuffer().pushAll(t.stagingBuffer.pullAll(i.persist)),t.memoryBuffer.pushAll(t.stagingMemoryBuffer.pullAll(i.memory)),t.currentRetries++,t.currentRetries>t.maxRetries)?(t.isLogFailedEnabled()&&(n=t.getBuffer().pullAll().concat(t.memoryBuffer.pullAll()),t.failureBuffer.pushAll(n)),t.currentRetries=0,t.getBuffer().clear(),t.memoryBuffer.clear()):(r=t.getNextRetryTime(),t.getTimer().start(r))}catch(u){}},this.currentRetries||void 0)},u.prototype.getNextRetryTime=function(){if(!(this.maxRetries<=1)){var n=1e3*(this.minRetryTimeoutSec+(this.maxRetryTimeoutSec-this.minRetryTimeoutSec)*(this.currentRetries-1)/(this.maxRetries-1));return Math.min(1e3*this.maxRetryTimeoutSec,Math.random()*.25*n+.75*n)}},u.prototype.loadFromStorage=function(){this.isEnabled()&&(this.getBuffer().load(),this.stagingBuffer.load(),this.failureBuffer.load(),this.getBuffer().pushAll(this.stagingBuffer.pullAll()),this.stagingBuffer.save(),this._logger(this.getSenderType()+"::loadFromStorage. buffer size after load : "+this.getBuffer().dataSize(),4),this.sendBuffer())},u.prototype.isLogFailedEnabled=function(){return this.isLogFailed},u.prototype.logFailedEvents=function(){var t,n,i;if(!(this.failureBuffer.count()<=0))for(t=this.failureBuffer.pullAll(),n=0;n<t.length;n++)i=t[n],this.dataSenderLogFailure.log.warn(i.message,i.extraData)},u}(i.SuperSender);i.AccumulationSender=u}(i=t.Managers||(t.Managers={}))}(s||(s={}));!function(n){var t;!function(n){var t=function(){function n(){}return n.prototype.convert=function(n){var t=c(n);return t.data.type+":"+t.type},n}();n.EventTypeMapper=t}(t=n.Manipulation||(n.Manipulation={}))}(s||(s={}));!function(n){var t;!function(n){var t=function(){function n(){}return n.prototype.convert=function(n){return{message:"Event failed to send [type "+n.type+", count "+n.count+"]",extraData:{evType:n.type,count:n.count}}},n}();n.EventLogMapper=t}(t=n.Manipulation||(n.Manipulation={}))}(s||(s={}));f.register("DataChannelConfig").asInstance({postEventAction:"/event/postEvent",healthCheckAction:"/general/status",requestTimeoutMs:2e3,retryParameterName:"r"});f.register("DataChannelConfigBI").asInstance({postEventAction:"/event/backEvent",healthCheckAction:"/general/status",requestTimeoutMs:2e3,retryParameterName:"r"});f.register("DataChannelConfigLog").asInstance({postEventAction:"/event/log",healthCheckAction:"/general/status",requestTimeoutMs:2e3,retryParameterName:"r"});f.register("DataSenderConfig").asInstance({sendingIntervalMs:250,retryIntervalMs:3e3,maxRetries:3,isLogFailed:!0,maxRetryTimeoutSec:960,minRetryTimeoutSec:3,maxStaticDataLength:0,maxDynamicDataLength:50});f.register("DataSenderConfigBI").asInstance({sendingIntervalMs:5e3,maxRetries:0,isLogFailed:!0,maxStaticDataLength:950,maxDynamicDataLength:50});f.register("DataSenderConfigLog").asInstance({sendingIntervalMs:5e3,retryIntervalMs:5e3,maxRetries:3,isLogFailed:!1});f.register("EventTypeMapper").asCtor(s.Manipulation.EventTypeMapper);f.register("EventLogMapper").asCtor(s.Manipulation.EventLogMapper);f.register("ArrayBuffer").asCtor(s.Storage.ArrayBuffer).asProto().dependencies("GeneralUtils");f.register("DictionaryBuffer").asCtor(s.Storage.DictionaryBuffer).asProto().dependencies("GeneralUtils");f.register("ReduceBuffer").asCtor(s.Storage.ReduceBuffer).asProto().dependencies("GeneralUtils,EventTypeMapper,EventLogMapper");f.register("DataSenderMethod").asCtor(s.Channels.CompatibilityChannel).dependencies("DataChannelConfig");f.register("DataSenderStorageConfig").asInstance({keyName:"wm-ds-b",autoSave:!1,expiresSeconds:600});f.register("DataSenderStorageStagingConfig").asInstance({keyName:"wm-ds-s",autoSave:!1,expiresSeconds:600});f.register("DataSenderStorage").asCtor(s.Storage.ClientStorageArrayBuffer).dependencies("DataSenderStorageConfig,ClientStorageManager,Consts,ArrayBuffer");f.register("DataSenderStagingStorage").asCtor(s.Storage.ClientStorageDictionaryBuffer).dependencies("DataSenderStorageStagingConfig,ClientStorageManager,Consts,DictionaryBuffer");f.register("DataSender").asCtor(s.Managers.AccumulationSender).dependencies("DataSenderMethod,DataSenderStorage,DataSenderStagingStorage,ArrayBuffer,DictionaryBuffer,DataSenderConfig,DataSenderStorageLogFailure,EventCollectorLoggerPixel,Logger,EventSenderErrorLogger");f.register("DataSenderMethodLog").asCtor(s.Channels.CompatibilityChannel).dependencies("DataChannelConfigLog");f.register("DataSenderStorageConfigLog").asInstance({keyName:"wm-ds-lb",autoSave:!1,expiresSeconds:600});f.register("DataSenderStorageLog").asCtor(s.Storage.ClientStorageArrayBuffer).dependencies("DataSenderStorageConfigLog,ClientStorageManager,Consts,ArrayBuffer");f.register("DataSenderLog").asCtor(s.Managers.ImmediateSender).dependencies("DataSenderMethodLog,DataSenderStorageLog,DataSenderConfigLog,Logger,EventSenderErrorLogger");f.register("DataSenderMethodBI").asCtor(s.Channels.AjaxChannel).dependencies("DataChannelConfigBI");f.register("DataSenderStorageConfigBI").asInstance({keyName:"wm-ds-bib",autoSave:!1,expiresSeconds:600});f.register("DataSenderStorageStagingConfigBI").asInstance({keyName:"wm-ds-sbi",autoSave:!1,expiresSeconds:600});f.register("DataSenderStorageBI").asCtor(s.Storage.ClientStorageArrayBuffer).dependencies("DataSenderStorageConfigBI,DummyClientStorageManager,Consts,ArrayBuffer");f.register("DataSenderStagingStorageBI").asCtor(s.Storage.ClientStorageDictionaryBuffer).dependencies("DataSenderStorageStagingConfigBI,DummyClientStorageManager,Consts,DictionaryBuffer");f.register("DataSenderBI").asCtor(s.Managers.AccumulationSender).dependencies("DataSenderMethodBI,DataSenderStorageBI,DataSenderStagingStorageBI,ArrayBuffer,DictionaryBuffer,DataSenderConfigBI,DataSenderStorageLogFailure,EventCollectorLoggerPixel,Logger,EventSenderErrorLogger");f.register("DataSenderStorageConfigLogPixel").asInstance({keyName:"wm-ds-lbp",autoSave:!1,expiresSeconds:600});f.register("DataSenderStorageLogPixel").asCtor(s.Storage.ClientStorageArrayBuffer).dependencies("DataSenderStorageConfigLogPixel,ClientStorageManager,Consts,ArrayBuffer");f.register("DataSenderMethodLogPixel").asCtor(s.Channels.ImageChannel).dependencies("DataChannelConfigLog");f.register("DataSenderLogPixel").asCtor(s.Managers.ImmediateSender).dependencies("DataSenderMethodLogPixel,DataSenderStorageLogPixel,DataSenderConfigLog,Logger,EventSenderErrorLogger");f.register("DataSenderStorageConfigLogFailure").asInstance({keyName:"wm-ds-lfb",autoSave:!0,expiresSeconds:86400});f.register("DataSenderStorageLogFailure").asCtor(s.Storage.ClientStorageReduceBuffer).dependencies("DataSenderStorageConfigLogFailure,ClientStorageManager,Consts,ReduceBuffer");f.register("InitiatorManager").asCtor(ws);f.register("UserTimeMonitor").asCtor(bs).dependencies("ClientStorageManager, EndUsersManager");f.register("EventSender").asCtor(ks).dependencies("Consts, DeployableTypeToEventSenderAppTypeMapper, EventsCollectorAuditingEnabledIndicator, EventCollectorEventSender, Logger");f.register("EventSenderEnvironmentDataProvider").asCtor(ds).dependencies("HostData, FeaturesManager, Consts, CommonUtils");f.register("WalkmeVisibleReporter").asCtor(gs).dependencies("EventSender, UserTimeMonitor, StorageKeysConfigurations, Logger, EndUserLoggerManager, AuditSourceProvider, IsInEditor");f.register("ErrorLogFilter").asCtor(nh).dependencies();f.register("EventSenderErrorLogger").asCtor(th).dependencies("DataChannelConfigLog,HostData,WalkMeInfo,ErrorLogFilter");f.register("EventSenderInitializer").asCtor(ih).dependencies("EventServerBaseUrl, EventSenderErrorLogger, DataSender, DataSenderBI, DataSenderLog, DataSenderLogPixel, EventSenderEventListener, win");f.register("EventSenderDisabler").asCtor(rh).dependencies("DataSender");f.register("EventSenderEventListener").asCtor(uh).dependencies("Consts, WmInternals, GoalReachedEventSender, SmartTipEventSender, LauncherEventSender, BizFlowEventSender, QuizEventSender, SessionEventSender");f.register("GoalReachedEventSender").asCtor(fh).dependencies("EventSender, Logger, Consts, DeployableTypeToEventSenderAppTypeMapper, DeployablesManagerFactory, WalkMeGoalsManager");f.register("SmartTipEventSender").asCtor(eh).dependencies("EventSender, Logger, Consts, InteractionManager, BusinessSolutionsManager, WalkmeVisibleReporter, InitiatorManager, ReportInitiatorMapper, ClientStorageManager");f.register("LauncherEventSender").asCtor(oh).dependencies("EventSender, Consts, Logger");f.register("BizFlowEventSender").asCtor(sh).dependencies("EventSender, Consts, ReportInitiatorMapper, PlayGuidGenerator, FlowsContainer, BizFlowStepEventParamsCalculator, BizFlowStepEventStatusProvider, FlowDataPersister");f.register("BizFlowStepEventParamsCalculator").asCtor(hh).dependencies("Consts, BizFlowStepActionToEventSenderActionAppTypeMapper, BizFlowStepActionToEventSenderStepActionNameMapper, FlowsContainer, FlowPlayerMetadata, BizFlowOnPageActionTypeToEventSenderStepActionNameMapper, ReportInitiatorMapper");f.register("BizFlowStepEventStatusProvider").asCtor(ch).dependencies("Consts");f.register("QuizEventSender").asCtor(lh).dependencies("EventSender, Consts, InitiatorManager, ReportInitiatorMapper, QuizStatusManager, QuizEventParamCalculator");f.register("QuizEventParamCalculator").asCtor(ah).dependencies("CoursesManager");f.register("EventsCollectorAuditingEnabledIndicator").asCtor(vh).dependencies("EventsCollectorFeatureEnabledIndicator, AuditingEnabledIndicator, Consts, WalkMeInfo, IsInEditor");f.register("EventCollectorLogger").asCtor(tr).dependencies("DataSenderLog,EventSenderErrorLogger,EventsCollectorFeatureEnabledIndicator, StaticWMDataProvider");f.register("EventCollectorLoggerPixel").asCtor(tr).dependencies("DataSenderLogPixel,EventSenderErrorLogger,EventsCollectorFeatureEnabledIndicator,StaticWMDataProvider");f.register("EventCollectorEventSender").asCtor(yh).dependencies("DataSender, EventSenderErrorLogger, EventSenderEnvironmentDataProvider, EventCollectorWalkMeDataProvider, SessionManager, CommonUtils, CommonEvents, Consts, JsonHtmlDecoder");f.register("BILogger").asCtor(ph).dependencies("DataSenderBI,EventSenderErrorLogger,CommonUtils,EventsCollectorAuditingEnabledIndicator,Base64,FeaturesManager,Consts, WMObjectNameObfMapper,StaticWMDataProvider");f.register("EventBinder").asCtor(wh);f.register("EventCollectorWalkMeDataProvider").asCtor(bh).dependencies("WalkMeInfo, InteractionManager, ExternalWalkMeConfig, EventCollectorUserDataProvider, ExtensionConfigManager");f.register("EventCollectorUserDataProvider").asCtor(kh).dependencies("AnalyticsPropertiesManager");f.register("EventsCollectorFeatureEnabledIndicator").asCtor(dh).dependencies("Consts, HostData, FeaturesManager");f.register("DeployableTypeToEventSenderAppTypeMapper").asCtor(gh).dependencies("Consts");f.register("ReportInitiatorMapper").asCtor(nc).dependencies("Mapper, InitiatorTypeToAppTypeMapper");f.register("InitiatorTypeToAppTypeMapper").asCtor(tc).dependencies("Consts");f.register("InitiatorTypeToDeployableTypeMapper").asCtor(ic).dependencies("Consts");f.register("StepActionToEventSenderActionAppTypeMapper").asCtor(rc).dependencies("Consts");f.register("StepActionToEventSenderStepActionNameMapper").asCtor(uc).dependencies("Consts, Logger");f.register("BizFlowStepActionToEventSenderActionAppTypeMapper").asCtor(fc).dependencies("Consts");f.register("BizFlowStepActionToEventSenderStepActionNameMapper").asCtor(ec).dependencies("Consts, Logger");f.register("BizFlowOnPageActionTypeToEventSenderStepActionNameMapper").asCtor(oc).dependencies("Consts, Logger");f.register("SessionManager").asCtor(sc).asSingleton().dependencies("GuidGenerator, CommonEvents, Consts, Logger, WmInternals");f.register("SessionPersister").asCtor(hc).asSingleton().dependencies("ClientStorageManager, SessionManager, TimerManager, SiteConfigManager, Consts, Logger");f.register("SessionEventSender").asCtor(cc).dependencies("EventSender, Consts");f.register("InteractionEventsInitiatorsProvider").asCtor(lc).dependencies("Consts, InteractionEventInitiatorFactory, ApiWasCalledNewInteractionIndicator, WidgetOpenedNewInteractionIndicator");f.register("InteractionManager").asCtor(ac).asSingleton().dependencies("GuidGenerator, Logger");f.register("InteractionInitiationEventListener").asCtor(vc).dependencies("WmInternals, InteractionEventsInitiatorsProvider");f.register("InteractionEventInitiatorFactory").asCtor(yc).dependencies("InteractionManager");f.register("ApiWasCalledNewInteractionIndicator").dependencies("Consts").asFunction(function(n){var t=n.STEP_PLAY_INITIATOR_ENUM,i={initiatorsThatBeginNewInteraction:[t.API,t.CHAT_AGENT]};return f.create("NewInteractionIndicator",i)});f.register("WidgetOpenedNewInteractionIndicator").dependencies("Consts").asFunction(function(n){var t=n.STEP_PLAY_INITIATOR_ENUM,i={initiatorsThatBeginNewInteraction:[t.API,t.ATTENTION_GRABBER]};return f.create("NewInteractionIndicator",i)});f.register("NewInteractionIndicator").asCtor(pc).asProto().dependencies("inArrayFunc");f.register("EmbedmentTypeProvider").asCtor(wc).dependencies("Consts, EmbedInElementCompatibilityChecker, EmbedInOwnerDocumentCompatibilityChecker, EmbedInElementJspChecker");f.register("EmbedInOwnerDocumentCompatibilityChecker").asCtor(bc).dependencies("Consts, FeaturesManager, FramesetsUtils, ElementInIframeIndicator");f.register("EmbedInElementCompatibilityChecker").asCtor(kc).dependencies("HostData, EmbedInElementCompatibilityConfigProvider, CommonUtils");f.register("EmbedInElementJspChecker").asCtor(dc).dependencies("Consts, FeaturesManager, CommonUtils");f.register("EmbedInElementCompatibilityConfigProvider").asCtor(gc).dependencies("HostData");f.register("EmbedderElement").asCtor(nl).asProto();f.register("ElementEmbedderFactory").asCtor(tl).dependencies("EmbedmentTypeProvider, Consts, EmbedInOwnerDocumentElementEmbedderCreator, EmbedInTopDocumentElementEmbedderCreator, EmbedInElementElementEmbedderCreator, EmbedInElementElementParentEmbedderCreator");f.register("ElementEmbedder").asCtor(il).asProto().dependencies("DOMSessionManager");ir=function(){function n(n,t,i,r){this.elementAttacher=n;this.elementPositioner=t;this.domSessionManager=i;this._elementToEmbedInto=r.elementToEmbedInto;this._elementContainerProvider=r.elementContainerProvider;this._positionProvider=r.positionProvider}return n.prototype.embed=function(n){var t=this._elementContainerProvider.get(this._elementToEmbedInto);return this.elementAttacher.attachCopy(t,n)},n.prototype.reposition=function(n,t,i,r){var u=this;return this.cancelReposition(),this._repositionCallback=function(){try{return u.doReposition(n,t,i,r)}catch(f){return p.reject(f)}},this.domSessionManager.measure(this._repositionCallback)},n.prototype.destroy=function(){this.cancelReposition()},n.prototype.cancelReposition=function(){this._repositionCallback&&(this.domSessionManager.remove(this._repositionCallback),this._repositionCallback=null)},n.prototype.doReposition=function(n,t,i,r){var f=this,u;return this._repositionCallback=null,u=this.getPosition(n,t,i),r&&(u=r.refine(u)),this.domSessionManager.mutate(function(){f.setPosition(n,u)})},n.prototype.getPosition=function(n,t,i){var r=this._elementContainerProvider.get(this._elementToEmbedInto);return this._positionProvider.getPosition(this._elementToEmbedInto,n,t,i,r)},n.prototype.setPosition=function(n,t){var i=n.getOriginElement();this.elementPositioner.setPosition(i,t)},n}();f.register("ElementEmbedderApi").asCtor(ir).asProto().dependencies("ElementAttacher, ElementPositioner, DOMSessionManager");f.register("EmbedInElementElementEmbedder").asCtor(rl).asProto().dependencies("EmbedInElementWrapperCreator, ElementAttacher, DOMSessionManager");f.register("FallbackElementEmbedder").asCtor(ul).asProto().dependencies("FallbackElementEmbedderVisibilityChecker");f.register("FallbackElementEmbedderVisibilityChecker").asCtor(fl).dependencies("HostData");f.register("DocumentHeadProviderFactory").asCtor(el).dependencies("Consts, OwnerDocumentHeadProvider, TopDocumentHeadProvider");f.register("OwnerDocumentHeadProvider").asCtor(ol);f.register("TopDocumentHeadProvider").asCtor(sl);f.register("EmbedInElementPositionProvider").asCtor(hl).dependencies("RelativeToElementElementPositionAndSizeProvider, PositionProvider");f.register("EmbedInElementParentPositionProvider").asCtor(cl).dependencies("EmbedInElementPositionProvider");f.register("EmbedInOwnerDocumentPositionProvider").asCtor(ll).dependencies("EmbedInOwnerDocumentElementPositionAndSizeProvider, PositionProvider");f.register("EmbedInTopDocumentPositionProvider").asCtor(al).dependencies("EmbedInTopDocumentElementPositionAndSizeProvider, PositionProvider");f.register("RelativeToElementElementPositionAndSizeProvider").asCtor(vl).dependencies("PositionHelper");f.register("EmbedInOwnerDocumentElementPositionAndSizeProvider").asCtor(yl).dependencies("PositionHelper");f.register("EmbedInTopDocumentElementPositionAndSizeProvider").asCtor(pl).dependencies("PositionHelper");f.register("InsidePositionCalculator").asCtor(wl).dependencies("Consts");f.register("OutsidePositionCalculator").asCtor(bl).dependencies("Consts");f.register("PositionCalculatorFactory").asCtor(kl).dependencies("Consts, InsidePositionCalculator, OutsidePositionCalculator");f.register("ElementPositioner").asCtor(dl);f.register("PositionProvider").asCtor(gl).dependencies("PositionCalculatorFactory, PositionHelper");f.register("EmbedInElementContainerProvider").asCtor(na);f.register("EmbedInElementParentContainerProvider").asCtor(ta);f.register("EmbedInOwnerDocumentContainerProvider").asCtor(ia).dependencies("TopContainerProvider");f.register("EmbedInTopDocumentContainerProvider").asCtor(ra).dependencies("TopContainerProvider");f.register("ElementAttacher").asCtor(ua);f.register("EmbedInElementElementEmbedderCreator").asCtor(fa).dependencies("EmbedInElementContainerProvider, EmbedInElementPositionProvider");f.register("EmbedInElementElementParentEmbedderCreator").asCtor(ea).dependencies("EmbedInElementParentContainerProvider, EmbedInElementParentPositionProvider");f.register("EmbedInOwnerDocumentElementEmbedderCreator").asCtor(oa).dependencies("EmbedInOwnerDocumentContainerProvider, EmbedInOwnerDocumentPositionProvider");f.register("EmbedInTopDocumentElementEmbedderCreator").asCtor(sa).dependencies("EmbedInTopDocumentContainerProvider, EmbedInTopDocumentPositionProvider");f.register("EmbedInElementWrapperCreator").asCtor(ha).dependencies("Consts");f.register("ClickIconExecutionBehavior").asCtor(ca).asProto().dependencies("CommonUtils");f.register("DefaultIconExecutionBehavior").asCtor(la);f.register("DefaultIconUiBehavior").asCtor(aa).dependencies("CommonUtils");f.register("TolltipIconUiBehavior").asCtor(va).asProto().dependencies("HtmlDecoder");f.register("ContentIconCreator").asCtor(ya).dependencies("Consts, DocumentHeadProviderFactory, EmbedmentTypeProvider, ElementEmbedderFactory");f.register("CustomTemplateIconParamsProvider").asCtor(pa).dependencies("LauncherCustomImagesProvider, Consts");f.register("Icon").asCtor(wa).asProto().dependencies("ElementAttacher, IconBehaviorsApplier");f.register("IconBehaviorsApplier").asCtor(ba);f.register("IconCreator").asCtor(ka).dependencies("ContentIconCreator, DefaultIconUiBehavior, DefaultIconExecutionBehavior");f.register("IconCreatorParamsProvider").asCtor(da).dependencies("Consts, CommonUtils");f.register("IconEmbedder").asCtor(ga).asProto().dependencies("IconPositionRefiner, ElementPositioner, CustomCssSetter");f.register("IconHtmlElementCreator").asCtor(nv).dependencies("CssClassesAppender, IconPositionElementCreator");f.register("IconContentProvider").asCtor(tv).dependencies("PredefinedShapeImageIconParamsProvider, CustomTemplateIconParamsProvider, PredefinedHtmlShapeIconParamsProvider");f.register("IconsFilterer").asCtor(iv).asProto();f.register("LauncherCustomImagesProvider").dependencies("IconTemplates").asFunction(function(n){return f.create("IconsFilterer",{getImages:function(){return n.customImages}})});f.register("LauncherHtmlShapesProvider").dependencies("IconTemplates").asFunction(function(n){return f.create("IconsFilterer",{getImages:function(){return n.htmlImages}})});f.register("IconImageUrlsToAbsoluteUrlsConverter").asCtor(rv).dependencies("PredefinedIconsFolderProvider");f.register("ImageIconAnimatedContentState").asCtor(uv).asProto();f.register("ImageIconNotAnimatedContentState").asCtor(fv).asProto();f.register("ImageIconContentStateFactory").asCtor(ev);f.register("ImageIconStatesProvider").asCtor(ov).dependencies("Consts, ImageIconContentStateFactory");f.register("ImageIcon").asCtor(sv).asProto().dependencies("IconHtmlElementCreator, ImageIconElementCreator, ImageIconResourcesLoader, ImageIconEventsBinder, Consts, ImageIconStatesProvider");f.register("ImageIconElementCreator").asCtor(hv);f.register("ImageIconEventsBinder").asCtor(cv).dependencies("Consts");f.register("ImageIconResourcesLoader").asCtor(lv).dependencies("ImageLoader, CommonUtils, IconImageUrlsToAbsoluteUrlsConverter");f.register("PredefinedIconsFolderProvider").asCtor(av).dependencies("ResourceManager");f.register("IconPositionElementCreator").asCtor(vv).dependencies("UiUtils, TopMostCssStyleSettter");f.register("IconPositionRefiner").asCtor(yv);f.register("PredefinedShapeImageIconParamsProvider").asCtor(pv).dependencies("CommonUtils, Consts");f.register("PredefinedHtmlShapeIconParamsProvider").asCtor(wv).dependencies("LauncherHtmlShapesProvider, Consts");f.register("SmartTipIconCreator").asCtor(bv).dependencies("IconCreator, IconCreatorParamsProvider, IconContentProvider, SmartTipIconStylingProvider");f.register("SmartTipIconStylingProvider").asCtor(kv);f.register("TextIcon").asCtor(dv).asProto().dependencies("TextIconResourcesLoader, IconHtmlElementCreator, TextIconElementCreator");f.register("TextIconElementCreator").asCtor(gv);l.register(h.PLATFORM.Web,function(){f.register("TextIconResourcesLoader").asCtor(ny).dependencies("ResourceManager, FontsData")});l.register(h.PLATFORM.MobileWeb,function(){f.register("TextIconResourcesLoader").asCtor(ty).dependencies("ResourceManager, FontsData")});f.register("AuditingEnabledIndicator").asCtor(iy).dependencies("CommonUtils, FeaturesManager, SiteConfigManager, RecorderServerManager, CorsSupportIndicator");f.register("GoalsManagerParams").asInstance({checkInterval:2e3});f.register("GoalsManager").asCtor(ry).dependencies("GoalsManagerParams, Logger, HostData, ClientStorageManager, Consts, CommonEvents, ConditionCheckerFactory, UserGuidContainer");f.register("WalkMeGoalsManager").asCtor(uy).dependencies("ClientStorageManager,GoalsManager,DeployablesManagerFactory,WalkMeInfo,ServerDataSenderManager,Logger,TimerManager,CommonEvents, InteractionManager, Consts, AuditingEnabledIndicator, SafeFullUrlProvider, DeployableTypeNameProvider");lt=function(){function n(n,t,i){this.balloonSettingsKey="stepHlObj";this.MULTI_STEP_CLASS="walkme-mltstep";this._element=null;this.settings=null;this.highlighterDivs=[];this.balloonSettings={};this._logger=n;this._commonUtils=t;this._lib=i.lib;this._drawableType=i.drawableType;this._drawableId=i.drawableId;this._useDefaultSettings=i.defaultSettings;this._cssKeysValues=i.cssKeysValues;this._useExistingHighlighter="undefined"!=typeof i.useExistingHighlighter&&i.useExistingHighlighter;this._useExisitingHighlighterArray=i.useExisitingHighlighterArray;this._highlighterService=f.get("HighlighterService");this._element=i.element;this.balloonSettings=i.settings;this.customerLog=n.wrapCustomerLog(gt)}return n.prototype.shouldShow=function(){},n.prototype.getSettings=function(){return this._highlighterService.getDefaultSettings()},n.prototype.init=function(n){this.settings=this.initSettings(n,this._useDefaultSettings);this._cssClasses=this._highlighterService.generateCssClasses(this.getInstanceName(),this._cssKeysValues)},n.prototype.initSettings=function(n,t){var i=this.getSettings(n,t),r=this._commonUtils.getSettingsValue(n,this.balloonSettingsKey);return!t&&r&&(this._highlighterService.copyFloatProperties(i,r),i.color=r.color||i.color),i},n.prototype.highlight=function(){try{this.unhighlightElement();this.createHighlighterDivs();this.applyStyle(this.highlighterDivs)}catch(n){this._logger.error(n)}},n.prototype.createHighlighterDivs=function(){for(var n=0;n<4;n++)this.highlighterDivs.push(this.createHighlighterDiv(n))},n.prototype.removeHighlighterDiv=function(n){if(n)try{n.remove()}catch(t){this.customerLog("[highlighter] error removing div",3)}},n.prototype.createHighlighterDiv=function(n){var i=this._highlighterService.generateId(this.getClassName(),this._drawableType,n,this._drawableId),t=this.createDiv(i);return t.addClass(this._cssClasses),t.addClass("walkme-custom-"+this.getInstanceName()+"-position-"+n),t},n.prototype.unhighlightElement=function(){for(var n=0;n<this.highlighterDivs.length;n++)this.removeHighlighterDiv(this.highlighterDivs[n]);this.highlighterDivs.length=0},n}();rr=function(t){function i(n,u,f,e,o,s,h,c,l){t.call(this,s,u,l);this.timerManager=c;this._embeddedElements=[];this._consts=f;this._commonUtils=u;this._siteConfigManager=n;this._highlighterService=e;this._positionHelper=o;this._customerLog=s.wrapCustomerLog(gt);this._element=l.element;this._drawableId=l.drawableId;this._drawableType=l.drawableType;this._cssKeysValues=l.cssKeysValues;this._embedInElement=l.embedInElement;this._balloonSettings=l.settings;this._useDefaultSettings=l.defaultSettings;this._shouldDrawInSetTimeout=h.isIEOlderThan(8);var a=this._commonUtils.getSettingsValue(this._balloonSettings,i.STEP_HL_OBJ);this._settings=this.getSettings(a,l.defaultSettings);this._monitor=l.monitor&&!this._settings.doNotHideOnHover;this._handlerEnterWrapper=r.proxy(this.handlerEnter,this);this._handlerLeaveWrapper=r.proxy(this.handlerLeave,this)}return n(i,t),i.prototype.shouldShow=function(){return this._highlighterService.shouldShow(this._balloonSettings)},i.prototype.applyStyle=function(){var n=this;return this._customerLog("Highlighter applyStyle start creating highlighter",3),p.all([this.embedHighliterDiv(this._consts.POSITION_TYPE.Top),this.embedHighliterDiv(this._consts.POSITION_TYPE.Right),this.embedHighliterDiv(this._consts.POSITION_TYPE.Bottom),this.embedHighliterDiv(this._consts.POSITION_TYPE.Left)]).then(function(){n._customerLog("Highlighter applyStyle finished creating highlighter",3)})},i.prototype.embedHighliterDiv=function(n){var o=this,l=this._element,t=this._settings.thickness,s=this._settings.color,h=this._settings.zIndex,c,e;this._customerLog("embed Highlighter to div"+this._element,3);var a=this._consts.POSITION_PERIMETER_TYPE.Outside,u=this.createDiv(n),i=this._positionHelper.getMultipleElementsRect(l),v=i.right-i.left,y=i.bottom-i.top;switch(n){case this._consts.POSITION_TYPE.Top:case this._consts.POSITION_TYPE.Bottom:u.css({height:t+"px",width:v+2*t+this._settings.width+"px","background-color":s,"z-index":h});break;case this._consts.POSITION_TYPE.Right:case this._consts.POSITION_TYPE.Left:u.css({height:y+2*t+this._settings.height+"px",width:t+"px","background-color":s,"z-index":h});break;default:return}return c=f.get("ElementEmbedderFactory"),e=c.get(r(this._element),this._embedInElement),e.embed(u,a,n).then(function(){var t=e.getElement();o.applyDivSettings(t.getOriginElement(),n);o._embeddedElements.push(t.getTopMostElement())})},i.prototype.createDiv=function(n){var u=this._highlighterService.generateId(i.CLASS_NAME,this._drawableType,n,this._drawableId),t=this._highlighterService.generateCssClasses(i.INSTANCE_NAME,this._cssKeysValues),f;return t+=" walkme-custom-highlighter-position-"+n,f=r("<div/>",{id:u,"class":t,style:"position:absolute; left: 0px; top: 0px;"}),this._customerLog("Highlighter createDiv id="+u+" classes="+t,3),f},i.prototype.applyDivSettings=function(n,t){var i=parseFloat(n.css("top").replace("px","")),r=parseFloat(n.css("left").replace("px",""));switch(this._customerLog("Highlighter applyDivSettings before top="+i+" left="+r,3),t){case this._consts.POSITION_TYPE.Top:i=i+this._settings.top-this._settings.height/2+"px";r=r+this._settings.left+"px";break;case this._consts.POSITION_TYPE.Bottom:i=i+this._settings.top+this._settings.height/2+"px";r=r+this._settings.left+"px";break;case this._consts.POSITION_TYPE.Right:i=i+this._settings.top+"px";r=r+this._settings.left+this._settings.width/2+"px";break;case this._consts.POSITION_TYPE.Left:i=i+this._settings.top+"px";r=r+this._settings.left-this._settings.width/2+"px"}this._customerLog("Highlighter applyDivSettings after top="+i+" left="+r,3);n.css({top:i,left:r})},i.prototype.getSettings=function(n,t){var r=this._highlighterService.getDefaultSettings();return t?(r.color=i.DEFAULT_COLOR,r.thickness=i.DEFAULT_THINKNESS):(this._highlighterService.copyFloatProperties(r,n),r.color=r.color||this._siteConfigManager.get().BalloonSettings.HighlighterColor||i.DEFAULT_COLOR,r.thickness=r.thickness||this._siteConfigManager.get().BalloonSettings.HighlighterThickness||i.DEFAULT_THINKNESS),r.zIndex=this.getZIndex(),this._customerLog("Highlighter getSettings highlight settings",3),this._customerLog(r,3),r},i.prototype.getZIndex=function(){var n=this.getDefaultZIndex();return this._commonUtils.getSettingsValue(this._balloonSettings,"z-index",n)},i.prototype.getDefaultZIndex=function(){return this._shouldDrawInSetTimeout?i.DEFAULT_ZINDEX-1:i.DEFAULT_ZINDEX},i.prototype.highlight=function(){return this.unhighlightElement(),this.drawAndHandleEvents()},i.prototype.drawAndHandleEvents=function(){var n=this;return this.applyStyle().then(function(){n._monitor&&(n.unregisterMonitorEvents(),n._commonUtils.registerEventHandler(i.ENTER_ELEMENT_EVENT,n._handlerEnterWrapper,!0,n._element[0]),n._commonUtils.registerEventHandler(i.EXIT_ELEMENT_EVENT,n._handlerLeaveWrapper,!0,n._element[0]))})},i.prototype.handlerEnter=function(){r.each(this._embeddedElements,function(n,t){t.hide()})},i.prototype.handlerLeave=function(){r.each(this._embeddedElements,function(n,t){t.show()})},i.prototype.unregisterMonitorEvents=function(){try{this._commonUtils.unregisterEventHandler(i.EXIT_ELEMENT_EVENT,this._handlerLeaveWrapper,!0,this._element[0]);this._commonUtils.unregisterEventHandler(i.ENTER_ELEMENT_EVENT,this._handlerEnterWrapper,!0,this._element[0])}catch(n){}},i.prototype.unhighlightElement=function(){this.unregisterMonitorEvents();r.each(this._embeddedElements,function(n,t){t.remove()});this._embeddedElements=[]},i.prototype.getClassName=function(){return i.CLASS_NAME},i.prototype.getInstanceName=function(){return i.INSTANCE_NAME},i.STEP_HL_OBJ="stepHlObj",i.DEFAULT_COLOR="#55aaff",i.DEFAULT_ZINDEX=2147483630,i.DEFAULT_THINKNESS=1,i.INSTANCE_NAME="highlighter",i.CLASS_NAME="highlightDiv",i.ENTER_ELEMENT_EVENT="mouseover",i.EXIT_ELEMENT_EVENT="mouseout",i}(lt);f.register("Highlighter").asCtor(rr).asProto().dependencies("SiteConfigManager, CommonUtils, Consts, HighlighterService, PositionHelper, Logger, HostData, TimerManager");f.register("HighlighterService").asCtor(fy).asProto().dependencies("SiteConfigManager, CommonUtils, Logger");f.register("HighlighterSettingsProvider").asCtor(ey).dependencies("CommonUtils");ur=function(t){function i(n,i,r,u,f,e,o,s,h,c){var l=t.call(this,n,u,c)||this;return l.topMostCssStyleSettter=o,l.STEP_IO_OBJ="stepIoObj",l.DEFAULT_ZINDEX="2147483629",l.DEFAULT_COLOR="#000000",l.containerDiv=null,l._hostData=i,l._positionHelper=r,l._siteConfigManager=f,l._elementInIframeIndicator=e,l._commonEvents=s,l._consts=h,l.balloonSettingsKey=l.STEP_IO_OBJ,t.prototype.init.call(l,c.settings),l}return n(i,t),i.prototype.shouldShow=function(){var n=this._commonUtils.getSettingsValue(this._siteConfigManager.get().Settings,"ioEnabled","0");return"1"==this._commonUtils.getSettingsValue(this.balloonSettings,"ioEnabled",n)&&!this._hostData.isQuirksMode(this._element[0])},i.prototype.getSettings=function(n,i){var r=t.prototype.getSettings.call(this,n,i);return r.color=this.DEFAULT_COLOR,r.opacity=.5,r.zindex=this._commonUtils.getSettingsValue(n,"z-index",this.DEFAULT_ZINDEX),r},i.prototype.getDocumentSize=function(){var n=r(document),t=document.documentElement.clientWidth,i=n.height();return{height:i,width:t}},i.prototype.getContainer=function(){return r(document).find("body")},i.prototype.applyStyle=function(n){var i,r=this._element[0],f={top:0,left:0},e=this._commonUtils.getElementDocument(this._element),u,t;if(this._elementInIframeIndicator.isInIframe(this._element)){if(u=this._positionHelper.getRectRelativeToWindow(this._element,r,window),!u)return;i=u}else i=this._element.length>1?this._positionHelper.getMultipleElementsRect(this._element):r.getBoundingClientRect(),f=this._positionHelper.getOffsetRect(r,e,window);t=this.getRectPositionData(i,f,this.settings);this.setAllDivCss(t.x,t.y,t.w,t.h,n);this._commonEvents.raiseEvent(this._consts.EVENTS.SpotlightCreated,{spotlightDivs:n})},i.prototype.getRectPositionData=function(n,t,i){var r={};return r.x=n.left+t.left+i.left-i.width/2,r.y=n.top+t.top+i.top-i.height/2,r.w=n.right-n.left+i.width,r.h=n.bottom-n.top+i.height,r},i.prototype.setAllDivCss=function(n,t,i,r,u){var f=this.getDocumentSize(),e=this._positionHelper.getCollapsedMargin(),o=[0,f.height],s=o[0],h=o[1];this.setDivCss(u[0],0-e.top,0,f.width-.5,t+e.top);this.setDivCss(u[1],s,n+i,Math.floor(f.width-i-n),h);this.setDivCss(u[2],t+r,0,f.width-.5,f.height-(t+r));this.setDivCss(u[3],s,0,n-.5,h)},i.prototype.setDivCss=function(n,t,i,r,u){n&&n.css("top",t+"px").css("left",i+"px").css("width",r+"px").css("height",u+"px").css("position","absolute").css("background-color",this.settings.color)},i.prototype.createContainerDiv=function(){var t=this._highlighterService.generateId(this.getClassName(),this._drawableType,"main",this._drawableId),n=r('<div id="'+t+'" class="wm-insideouter-container" />').addClass(this._cssClasses).appendTo(this.getContainer());return this.setCssStyle(n,this.settings.zindex),n.css("opacity",this.settings.opacity).css("background-color","").css("display","block").css("top",0).css("left",0).css("width",0).css("height",0),n},i.prototype.createHighlighterDivs=function(){this.containerDiv&&this.unhighlightElement();this.containerDiv=this.createContainerDiv();t.prototype.createHighlighterDivs.call(this)},i.prototype.unhighlightElement=function(){this.containerDiv&&this.containerDiv.remove();this.containerDiv=null;this.highlighterDivs.length=0},i.prototype.setCssStyle=function(n,t){n.css("background-color","red");this.topMostCssStyleSettter.setTopMostCssStyle(n,t);n.css("display","inline")},i.prototype.createDiv=function(n){var t=r("<div id="+n+" />");return this.containerDiv.append(t),t},i.prototype.getInstanceName=function(){return"insideouter"},i.prototype.getClassName=function(){return"insideoutDiv"},i}(lt);f.register("Insideout").asCtor(ur).asProto().dependencies("Logger, HostData, PositionHelper, CommonUtils, SiteConfigManager, ElementInIframeIndicator, TopMostCssStyleSettter, CommonEvents, Consts");fr=function(t){function i(n,i,r,u,f,e,o,s){var h=t.call(this,n,u,s)||this;return h.topMostCssStyleSettter=o,h.STEP_IO_OBJ="stepIoObj",h.DEFAULT_ZINDEX="2147483629",h.DEFAULT_COLOR="#000000",h._hostData=i,h._positionHelper=r,h._siteConfigManager=f,h._elementInIframeIndicator=e,h.balloonSettingsKey=h.STEP_IO_OBJ,t.prototype.init.call(h,s.settings),h}return n(i,t),i.prototype.shouldShow=function(){var n=this._commonUtils.getSettingsValue(this._siteConfigManager.get().Settings,"ioEnabled","0");return"1"==this._commonUtils.getSettingsValue(this.balloonSettings,"ioEnabled",n)&&!this._hostData.isQuirksMode(this._element[0])},i.prototype.getSettings=function(n,i){var r=t.prototype.getSettings.call(this,n,i);return r.color=this.DEFAULT_COLOR,r.opacity=.5,r.zindex=this._commonUtils.getSettingsValue(n,"z-index",this.DEFAULT_ZINDEX),r},i.prototype.getDocumentSize=function(){var n=r(document),t=document.documentElement.clientWidth,i=n.height();return{height:i,width:t}},i.prototype.getContainer=function(){return r(document).find("body")},i.prototype.applyStyle=function(n){var i,r=this._element[0],f={top:0,left:0},e=this._commonUtils.getElementDocument(this._element),u,t;if(this._elementInIframeIndicator.isInIframe(this._element)){if(u=this._positionHelper.getRectRelativeToWindow(this._element,r,window),!u)return;i=u}else i=this._element.length>1?this._positionHelper.getMultipleElementsRect(this._element):r.getBoundingClientRect(),f=this._positionHelper.getOffsetRect(r,e,window);t=this.getRectPositionData(i,f,this.settings);this.setAllDivCss(t.x,t.y,t.w,t.h,n)},i.prototype.getRectPositionData=function(n,t,i){var r={};return r.x=n.left+t.left+i.left-i.width/2,r.y=n.top+t.top+i.top-i.height/2,r.w=n.right-n.left+i.width,r.h=n.bottom-n.top+i.height,r},i.prototype.setAllDivCss=function(n,t,i,r,u){var f=this.getDocumentSize(),e=this._positionHelper.getCollapsedMargin();this.setDivCss(u[0],0-e.top,0,f.width-.5,t+e.top);this.setDivCss(u[1],t,n+i,Math.floor(f.width-i-n),r);this.setDivCss(u[2],t+r,0,f.width-.5,f.height-(t+r));this.setDivCss(u[3],t,0,n-.5,r)},i.prototype.setDivCss=function(n,t,i,r,u){n&&(this.setCssStyle(n,this.settings.zindex),n.css("top",t+"px").css("left",i+"px").css("width",r+"px").css("height",u+"px").css("background-color",this.settings.color).css("opacity",this.settings.opacity))},i.prototype.setCssStyle=function(n,t){n.css("background-color","red");this.topMostCssStyleSettter.setTopMostCssStyle(n,t);n.css("display","inline")},i.prototype.createDiv=function(n){var t=r("<div id="+n+" />");return r(document).find("body").append(t),t},i.prototype.getInstanceName=function(){return"insideouter"},i.prototype.getClassName=function(){return"insideoutDiv"},i}(lt);f.register("OldInsideout").asCtor(fr).asProto().dependencies("Logger, HostData, PositionHelper, CommonUtils, SiteConfigManager, ElementInIframeIndicator, TopMostCssStyleSettter");f.register("Animator").asCtor(oy).asProto().dependencies("TimerManager, UiUtils, Consts, FeaturesManager, CommonUtils, Positions");mtjQuery.extend(mtjQuery.easing,{easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeOutBack:function(n,t,i,r,u,f){return void 0==f&&(f=1.70158),r*((t=t/u-1)*t*((f+1)*t+f)+1)+i},easeOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return 0==t?i:1==(t/=u)?i+r:((f||(f=.3*u),e<Math.abs(r))?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-o)*2*Math.PI/f)+r+i)}});f.register("PublishDataManager").asCtor(sy).dependencies("Lib, ClientOrServerStorageManager, Logger");f.register("AttentionGrabberManagerAPI").asCtor(hy);f.register("RegularBodyUtils").asCtor(cy);f.register("TagBodyUtils").asCtor(ly);f.register("CommonUtils").asCtor(k).dependencies("TimerManager,HostData,AuditSourceManager,Consts,RegularBodyUtils,CookiesManager,SettingsValuesRetriever, ExternalWalkMeConfig,PostMessageListener,win,CdnServer,ObjectJpath,FeaturesManager, Logger, ArrayUtils, SiteConfigManager, AttentionGrabberManagerAPI,MessageSender");f.register("SettingsValuesRetriever").asCtor(ay);f.register("UiUtils").asCtor(vy).dependencies("FramesetsUtils, TimerManager, DocumentsManager, HostData, TopContainerProvider, FeaturesManager, Consts, CommonEvents, CurrentStepUI");f.register("Balloon").asCtor(yy).asProto().dependencies("TimerManager, BalloonEmbedder, Consts, UiUtils, PositionHelper, CommonUtils, Logger, FeaturesManager, BalloonUtils, HostData, FramesetsUtils, BBCodeParser, Lib, ElementUtils, CommonEvents, ScrollUtils, ElementInIframeIndicator, MoveBalloonByIntervalsHelper, BalloonElementPositionChangedChecker,CurrentWalkthruData, WalkthrusModule, LibDestroyer, CustomCssSetter, DirectHeadProvider, TopMostCssStyleSettter, UserGuidContainer, HighlighterSettingsProvider, ContainerAppender, Positions");f.register("BalloonLogEventHandler").asCtor(py).dependencies("Logger, WmInternals, Consts");f.register("MoveBalloonByIntervalsHelper").asCtor(wy).asProto().dependencies("FeaturesManager");f.register("BalloonElementPositionChangedChecker").asCtor(by).asProto().dependencies();f.register("SafeFullUrlProvider").asCtor(ky).dependencies("FeaturesManager, HostData");f.register("DeployableSafeStartExecuter").asCtor(dy).dependencies("SettingsValuesRetriever, SiteConfigManager, Consts, SafeStartHandlerProvider, SafeStartRedirectService, SafeStartMessageDisplayer");f.register("SafeStartMessageDisplayer").asCtor(gy).dependencies("SettingsValuesRetriever, SiteConfigManager, Consts, CommonUtils, HtmlDecoder, LibDestroyer, RedirectService, SafeStartRedirectService");f.register("SafeStartRedirectService").asCtor(np).dependencies("TimerManager, CommonEvents, Consts");f.register("SafeStartHandlerProvider").asCtor(tp).dependencies("DeployableTypes, FlowSafeStartHandler, WalkthruSafeStartHandler");f.register("Encryptor").asCtor(ip).dependencies("Base64");f.register("SearchResultActivator").asCtor(rp).dependencies("CommonUtils, LightboxDisplayer, Logger, CommonEvents, SiteConfigManager, Mustache");f.register("InfoAndValidationsSmartTipComponentsActivator").asCtor(up).asProto().dependencies("PromiseUtils");f.register("InfoSmartTipComponentsActivator").asCtor(fp).asProto().dependencies("SmartTipComponentDrawerFactory");f.register("SmartTipComponentsActivatorFactory").asCtor(ep).dependencies("Consts");f.register("ValidationsSmartTipComponentsActivator").asCtor(op).asProto().dependencies("Consts, ValidationsSmartTipComponentDrawerCreator, ValidationsSmartTipStateMachineProvider, DocumentElementEventsBinder, TimerManager");f.register("ValidationsSmartTipStateMachineConfiguration").asFunction(sp).dependencies("Consts");f.register("ValidationsSmartTipStateMachineProvider").asCtor(hp).dependencies("ValidationsSmartTipStateMachineConfiguration, StatesMachineCreator, HtmlElementsDataProvider, Consts, ValidationsComplexConditionIndicator");f.register("ValidationsComplexConditionIndicator").asCtor(cp).dependencies("ConditionTreeUtils");f.register("ChainedSmartTipComponentDrawer").asCtor(lp).asProto().dependencies("PromiseUtils, inArrayFunc");f.register("SmartTipComponentDrawerFactory").asCtor(ap).dependencies("SmartTipComponentDrawerConfigurationProvider, SmartTipGlobalStylingProvider, SmartTipDrawersCreator");f.register("SmartTipDrawersCreator").asCtor(vp).dependencies("SmartTipHighlighterDrawerCreator");f.register("SmartTipComponentDrawerConfigurationProvider").asCtor(yp);f.register("SmartTipIconDrawer").asCtor(pp).asProto().dependencies("SmartTipIconCreator, Consts");f.register("SmartTipTooltipDrawer").asCtor(wp).asProto().dependencies("TooltipCreator, Consts, SmartTipDrawerOptionsProvider");f.register("SmartTipDrawerOptionsProvider").asCtor(bp).dependencies("Consts, ObjectMapper");f.register("SmartTipInteractiveTooltipDrawer").asCtor(kp).asProto().dependencies("TooltipControllerCreator, TooltipVisibilityEventsProvider, WmInternals, Consts");f.register("SmartTipHighlighterDrawer").asCtor(dp).asProto().dependencies("CommonUtils, Consts");f.register("SmartTipHighlighterDrawerCreator").asCtor(gp);f.register("ValidationsSmartTipComponentDrawer").asCtor(nw).asProto().dependencies("SmartTipComponentDrawerFactory, SmartTipValidationFeedbackComponentProvider, PromiseUtils, Consts");f.register("ValidationsSmartTipComponentDrawerCreator").asCtor(tw);f.register("SmartTip").asCtor(iw).asProto().dependencies("SmartTipVisiblityWatchCreator, Consts, ElementInteractionEventsBinder, SmartTipComponentsIterator, UiChangesTrackerWrapper, SmartTipDrawerCreator, CommonEvents, wmjQuery");f.register("SmartTipSetActivationInitiator").asCtor(rw).dependencies("ElementFinder, SmartTipSetsActivatorFactory, InitiatorManager, ClientStorageManager, Consts");f.register("SmartTipDrawer").asCtor(uw).asProto().dependencies("SmartTipHighlighterDrawerCreator, SmartTipComponentsActivatorFactory, PromiseUtils");f.register("SmartTipDrawerCreator").asCtor(fw);f.register("SmartTipGlobalStylingProvider").asCtor(ew).dependencies("SiteConfigManager");f.register("SmartTipCreator").asCtor(ow);f.register("SmartTipFirstFailedValidationProvider").asCtor(sw).dependencies("ConditionCheckerFactory");f.register("SmartTipSetManager").asCtor(hw).asProto().dependencies("SmartTipCreator, Consts, PromiseUtils, CommonEvents, GuidGenerator");f.register("SmartTipSetsManager").asCtor(cw).dependencies("SmartTipSetManagerCreator, PromiseUtils, DictionaryUtils");f.register("SmartTipSetManagerCreator").asCtor(lw);f.register("SmartTipValidationFeedbackComponentProvider").asCtor(aw).dependencies("SmartTipFirstFailedValidationProvider");f.register("SmartTipVisiblityWatchCreator").asCtor(vw).dependencies("Consts, UIElementVisibilityAttributes");f.register("SmartTipSetActivator").asCtor(yw).asProto().dependencies("SmartTipSetsManager");f.register("SmartTipSetsActivatorFactory").asCtor(pw).dependencies("SmartTipSetsManager");f.register("SmartTipComponentsIterator").asCtor(ww);f.register("DisabledSmartTipsRemover").asCtor(bw).dependencies("DisabledElementsRemover");y=function(){function n(n){this.deployablesDict={};this.lib=n.lib;this.setDeployables(n.deployables)}return n.prototype.setDeployables=function(n){if(n)for(var t=0;t<n.length;t++)this.deployablesDict[n[t].Id]=n[t]},n.prototype.getActionData=function(){return{Type:"",ItemId:"",Name:""}},n.prototype.isWithAction=function(){return!1},n.prototype.activateById=function(){},n.prototype.getById=function(n){return this.deployablesDict[n]},n.prototype.getAll=function(){var t=[],n=this.deployablesDict;for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t.sort(function(n,t){return void 0===n.OrderIndex||void 0===t.OrderIndex?0:n.OrderIndex-t.OrderIndex})},n.prototype.getDeployablesDict=function(){return this.deployablesDict},n.prototype.releaseAll=function(){},n.prototype.autoStartEnabled=function(){return!1},n.prototype.name=function(){return this._name},n}();f.register("DeployablesManagerFactory").asCtor(kw).dependencies("Consts");f.register("DeployableSurveyActivator").asCtor(dw).dependencies("Logger, SurveysManager, AutoStartManager, StorageKeysConfigurations");f.register("DeployableTypeNameProvider").asCtor(gw).dependencies("Consts");f.register("TagsInjector").asCtor(nb).dependencies("ConditionsCombinerFactory");f.register("TagsSegmentationProperties").asCtor(tb).dependencies("Consts");er=function(){function n(n){this.eventSender=n}return n.prototype.map=function(n,t){return{type:this.eventSender.EVENT_APPS.Question,oType:n.getType(),owId:t.surveyJson.Id,owName:t.surveyJson.Name,owType:this.eventSender.EVENT_APPS.Survey,pInit:this.getPInit(t)}},n.prototype.getPInit=function(n){return n.tutorialId?this.getTutorialPInit(n):n.businessSolutionId?this.getBusinessSolutionPInit(n):void 0},n.prototype.getTutorialPInit=function(n){return{id:n.tutorialId,appType:"wt"}},n.prototype.getBusinessSolutionPInit=function(n){return{id:n.businessSolutionId,appType:"bizFlow"}},n}();f.register("QuestionToEventMapper").asCtor(er).dependencies("EventSender");f.register("AnalyticsTrackerConsts").asCtor(ib);f.register("AnalyticsTrackerLogger").asCtor(rb).dependencies("Logger, AnalyticsTrackerConsts, Consts");f.register("TrackedElementEventBinder").asCtor(ub).dependencies("AnalyticsTrackerConsts, AnalyticsTrackerLogger, TrackedElementEventDataSender, ElementInteractionEventsBinder, PageVisitGuidProvider, ChangesTrackerFactory");f.register("TrackedElementEventDataSender").asCtor(fb).dependencies("Consts, EventSender, CommonEvents");f.register("TrackedElementInteractionsToggler").asCtor(eb).dependencies("TrackedElementEventBinder");or=function(t){function i(n,i,r,u){t.call(this,{lib:n,type:i.DEPLOYABLE_TYPE.TrackedElement});this.arrayUtils=r;this.trackedElementsVisibilityTrackerFactory=u;this._name="TrackedElement";this.setDeployables([])}return n(i,t),i.prototype.getAllByPageId=function(n){return this.arrayUtils.filter(this.getAll(),function(t){return t.TrackedPageId==n})},i.prototype.start=function(){this._trackedElementsVisibilityTracker=this.trackedElementsVisibilityTrackerFactory.create({});this._trackedElementsVisibilityTracker.startTrack()},i.prototype.releaseAll=function(){this._trackedElementsVisibilityTracker&&this._trackedElementsVisibilityTracker.stopTrack()},i}(y);f.register("TrackedElementsManager").asCtor(or).dependencies("Lib, Consts, ArrayUtils, TrackedElementsVisibilityTrackerFactory");f.register("TrackedPageEventDataSender").asCtor(hb).dependencies("Consts, EventSender");sr=function(t){function i(n,i,r){t.call(this,{lib:n,type:i.DEPLOYABLE_TYPE.TrackedPage});this.trackedPagesEventsListener=r;this._name="TrackedPage";this.setDeployables([])}return n(i,t),i.prototype.start=function(){this.trackedPagesEventsListener.startListen()},i.prototype.setDeployables=function(n){n&&(t.prototype.setDeployables.call(this,n),this.trackedPagesEventsListener.init(n))},i.prototype.releaseAll=function(){this.trackedPagesEventsListener.stopListen()},i}(y);f.register("TrackedPagesManager").asCtor(sr).dependencies("Lib, Consts, TrackedPagesEventsListener");f.register("TrackedPagesEventsListener").asCtor(ab).dependencies("AnalyticsTrackerLogger, ChangesTrackerFactory, TrackedActivatedPagesContainer, TrackedPageEventsListenerFactory");f.register("PageVisitGuidProvider").asCtor(vb).dependencies("ChangesTrackerFactory, GuidGenerator, Consts");f.register("TrackedElementIndicatorService").asCtor(yb).dependencies("FeaturesManager, AnalyticsTrackerConsts");f.register("TrackedActivatedPagesContainer").asCtor(pb).dependencies("DictionaryUtils");f.register("ElementVisibilityEvaluatorFactory").asCtor(db).dependencies("Logger, Consts, ElementFinder, PositionHelper, TimerManager, UIChangeTracker, ElementIframesAttachedIndicator");f.register("TrackedElementsVisibilityTrackerFactory").asCtor(gb).dependencies("TrackedElementVisibilityTrackerFactory");f.register("TrackedElementVisibilityEvaluatorFactory").asCtor(nk).dependencies("Consts, UIElementVisibilityAttributes, ElementVisibilityEvaluatorFactory");f.register("TrackedElementVisibilityTrackerFactory").asCtor(tk).dependencies("TrackedElementIndicatorService, Consts, AnalyticsTrackerLogger, TrackedElementEventDataSender, PageVisitGuidProvider, ChangesTrackerFactory, TrackedElementInteractionsToggler, TrackedElementVisibilityEvaluatorFactory");f.register("TrackedPageEventsListenerFactory").asCtor(ik).dependencies("AnalyticsTrackerLogger, TrackedActivatedPagesContainer, TrackedPageEventDataSender, PageVisitGuidProvider, TrackedElementIndicatorService, TrackedElementsVisibilityTrackerFactory, TrackedPageSegmentConditionCheckerFactory");f.register("TrackedPageSegmentConditionCheckerFactory").asCtor(rk).dependencies("ConditionCheckerFactory");f.register("ChangesTrackerFactory").asCtor(uk).dependencies("FeaturesManager, AnalyticsTrackerConsts, UIChangeTracker, PageChangeTracker");f.register("TooltipV1").asCtor(fk).asProto().dependencies("ShadowCalculator, HostData");f.register("TooltipDrawerV1").asCtor(ek).asProto().dependencies("CommonUtils, ResourceManager, UiUtils, Consts, BalloonPositionProvider, PlatformsService, FeaturesManager");f.register("Tooltip").asCtor(ok).asProto().dependencies("TooltipBalloonAdapter");f.register("TooltipBalloonAdapter").asCtor(sk).dependencies("Consts, PositionHelper, Logger, BalloonButtonsEventsBinder, SiteConfigManager");f.register("TooltipCreator").asCtor(hk).dependencies();f.register("TooltipActions").asCtor(ck);f.register("TooltipController").asCtor(lk).asProto().dependencies("Consts, wmjQuerySafe, EventBinder, StatesMachineCreator, TooltipStatesMachineConfigProvider, TooltipEventsConfiguration, TooltipActions");f.register("TooltipControllerCreator").asCtor(ak);f.register("TooltipVisibilityEventsProvider").asCtor(vk).dependencies("Consts, HtmlElementsDataProvider");f.register("TooltipStatesMachineConfigProvider").asCtor(yk).dependencies("TooltipActions, HtmlElementsDataProvider, HostData");l.register(h.PLATFORM.Web,function(){f.register("TooltipEventsConfiguration").asCtor(pk).dependencies("Consts, TooltipActions")});l.register(h.PLATFORM.MobileWeb,function(){f.register("TooltipEventsConfiguration").asCtor(wk).dependencies("Consts, TooltipActions")});f.register("DisabledCourseQuizzesRemover").asCtor(bk);f.register("QuizStatusManager").asCtor(kk).dependencies("ServerStorageManager");f.register("QuizPlayer").asCtor(dk).dependencies("UIComponentsFactory, QuizStatusManager, Consts, CommonEvents");f.register("QuizPlayEventRaiser").asCtor(gk).asProto().dependencies("Consts, CommonEvents, PlayGuidGenerator");f.register("ContainerAppender").asCtor(nd);f.register("BaseBalloon").asCtor(td).asProto().dependencies("CommonUtils, SiteConfigManager, BalloonTemplatesProvider, Mustache, XButtonDisplayChecker");f.register("ArrowsHelper").asCtor(id).asProto().dependencies("Consts");f.register("BalloonV2").asCtor(rd).asProto().dependencies("CommonUtils, BalloonUtils, CdnServer, Consts");f.register("BalloonV3").asCtor(ud).asProto().dependencies("CommonUtils, ShadowCalculator, ClickAndHoverAdder, HostData, SpecificEntityDesignTemplateCssClassGetter, SharedConsts, Mustache, DesignTemplateHtmlGetter, HtmlRulesApplier");f.register("BalloonVM1").asCtor(fd).asProto().dependencies("CommonUtils, ShadowCalculator, ClickAndHoverAdder, HostData, Mustache");f.register("BaseBalloonDrawer").asCtor(ed).asProto().dependencies("Logger, UiUtils, CommonUtils, HostData, LanguageManager, Consts, PositionHelper, SiteConfigManager, BalloonUtils, BalloonOrientationProvider, PlaceholdersReplacer, wmjQuery, MessageSender, SharedConsts, XButtonRemover");f.register("BalloonDrawerV2").asCtor(od).asProto().dependencies("UiUtils, BalloonUtils");f.register("BalloonDrawerV3").asCtor(sd).asProto().dependencies("ArrowsHelper, CommonUtils, ResourceManager, UiUtils, Consts, ContainerAppender, SpecificEntityDesignTemplateCssClassGetter, SharedConsts");f.register("BalloonDrawerVM1").asCtor(hd).asProto().dependencies("ArrowsHelper, CommonUtils, ResourceManager, UiUtils, Consts, FeaturesManager");f.register("BalloonDrawerFactory").asCtor(cd);f.register("ClickAndHoverAdder").asCtor(ld);f.register("ShadowCalculator").asCtor(ad).dependencies("UiUtils");f.register("BalloonPositionProvider").asCtor(vd).dependencies("BalloonOrientationProvider, CommonUtils");f.register("BalloonOrientationProvider").asCtor(yd).dependencies("Consts, SiteConfigManager");f.register("BalloonPositionVisibilityChecker").asCtor(pd).dependencies("CommonUtils, FeaturesManager, Logger");f.register("PopupBalloonDisplayer").asCtor(wd).dependencies("PopupStepElementProvider, SiteConfigManager, PositionHelper, Consts, Logger, WalkthruBalloonContainer, BalloonDrawerProvider, BalloonButtonsEventsBinder");f.register("BalloonDrawerProvider").asCtor(bd).dependencies("SiteConfigManager, BalloonDrawerFactory");f.register("BalloonButtonsEventsBinder").asCtor(kd).dependencies("CurrentWalkthruData, Consts, Lib, WalkthrusModule, CommonEvents, WalkthruBranchPlayer, WalkthruBalloonContainer, InitiatorTypeToAppTypeMapper, LibDestroyer, BBCodeEventsBinder, FeaturesManager");f.register("XButtonDisplayChecker").asCtor(dd).dependencies("CommonUtils");f.register("Launcher").asCtor(gd).asProto().dependencies("IconCreatorParamsProvider, IconCreator, IconContentProvider, CommonEvents, Consts, ClickAuditManager, InitiatorManager, UiElementPositionTrackerCreator, HostData, SettingsValuesRetriever, LauncherDefaultIcon, WalkmeVisibleReporter, LauncherActions");f.register("LaunchersModule").asCtor(ng).dependencies("ActionsFactory, Consts, CommonUtils, CommonEvents, SettingsValuesRetriever, Logger,CustomCssSetter, TimerManager, TutorialsManager, ContentsManager, SurveysManager,FeaturesManager, ConditionCheckerFactory, LauncherActions");l.register(h.PLATFORM.Web,function(){f.register("LauncherDefaultIcon").asInstance({type:"shape",data:{shape:"round-question-mark",color:"blue"}})});l.register(h.PLATFORM.MobileWeb,function(){f.register("LauncherDefaultIcon").asInstance({type:"htmlShape",data:{shape:"round-question-mark",color:"blue",customClass:"html-launcher-round-question-mark-blue",customText:"?"}})});f.register("LauncherActions").asCtor(tg).dependencies("SettingsValuesRetriever, Logger, ActionsFactory, Consts");f.register("AuditStepsManager").asCtor(ig).dependencies("Lib,ServerDataSenderManager,WalkMeInfo,Logger,HostData,WmAjax,Consts,StepUtils,CommonUtils,EventSender, AuditSafeStartManager, StepActionToEventSenderStepActionNameMapper, SettingsValuesRetriever, StepActionToEventSenderActionAppTypeMapper, CommonEvents, PlayGuidGenerator, AuditingEnabledIndicator");f.register("AuditWtsManager").asCtor(rg).dependencies("DeployableTypes, EventSender, ReportInitiatorMapper, AuditingEnabledIndicator");f.register("DocumentElementEventsBinder").asCtor(ug).asProto().dependencies("wmjQuerySafe");f.register("AuditTasksManager").asCtor(fg).dependencies("EventSender, Consts, ReportInitiatorMapper, DeployableTypeToEventSenderAppTypeMapper, DeployablesManagerFactory, AuditingEnabledIndicator");f.register("AuditSafeStartManager").asCtor(eg).dependencies("EventSender,ReportInitiatorMapper,Logger, Consts");f.register("EndUsersManager").asCtor(og).dependencies("ClientStorageManager,Logger,JQueryElementFinder,GuidGenerator,CommonUtils, CommonEvents, Consts, MessageSender,IsInEditor");f.register("EndUserLoggerManager").asCtor(sg).dependencies("ClientStorageManager, Logger, EndUsersManager, SiteConfigManager, AbCurrentPermutationProvider, RecorderServerManager, HostData, FeaturesManager, WmAjax, AuditSourceManager, UserGuidContainer");l.register([h.PLATFORM.Web,h.PLATFORM.Desktop],function(){f.register("screen").asInstance(screen)});l.register(h.PLATFORM.MobileWeb,function(){f.register("screen").asCtor(hg).dependencies("ExternalWalkMeConfig")});f.register("ScreenSizeConditionFunctions").asCtor(cg).asSingleton().dependencies("screen");f.register("WindowSizeConditionFunctions").asCtor(lg).asSingleton().dependencies("win");hr=function(){function n(){this.args=[];for(var n=0;n<arguments.length;n++)arguments[n]&&this.args.push(arguments[n])}return n.prototype.getFuncList=function(){var n={};return r.safeEach(this.args,function(t,i){i&&i.getFuncList&&r.extend(n,i.getFuncList())}),n},n.prototype.getFuncAssert=function(){var n=[];return r.safeEach(this.args,function(t,i){i&&i.getFuncAssert&&r.extend(n,i.getFuncAssert())}),n},n.prototype.getAsyncFuncs=function(){var n=[];return r.safeEach(this.args,function(t,i){i&&i.getAsyncFuncs&&n.push.apply(n,i.getAsyncFuncs())}),n},n}();f.register("ConditionFunctionsHandler").asCtor(hr).asSingleton().dependencies("ScreenSizeConditionFunctions, WindowSizeConditionFunctions, HistoricalConditionFunctions, OnboardingConditionFunctions");b={};b.fixed=function(n){var t=new b.regular;return t.setValue(n),t};b.noMemory=function(){function u(n){i=n}var t,i,r,n=this;n.onGotValue=function(){};n.getValue=function(n){return n?r:r=i()};n.onResourceClean=function(n){t=n};n.cleanResources=function(){t&&t()};n.onRefresh=function(){};n.refresh=function(){};u.apply(null,arguments)};b.regular=function(){function f(n){r=n}var r,t,u,n=this,i=[];n.onGotValue=function(n){t=n};n.setValue=function(n){r=n;t&&t()};n.getValue=function(){return r};n.onResourceClean=function(n){i.push(n)};n.cleanResources=function(){for(var n=0;n<i.length;n++)try{i[n]()}catch(r){}i.length=0;t=void 0};n.onRefresh=function(n){u=n};n.refresh=function(){u&&u()};f.apply(null,arguments)};b.complex=function(){function e(i,u,f){n=i;t=u;r=f}var f,n,t,r,u,i=this;i.getValue=function(i){return i?u:u=r(n.getValue,t.getValue)};i.onGotValue=function(i){n.onGotValue(i);t.onGotValue(i)};i.cleanResources=function(){n.cleanResources();t.cleanResources();f=void 0};i.refresh=function(){n.refresh();t.refresh()};e.apply(null,arguments)};f.register("SonarEventHandler").asCtor(ag).dependencies("FeaturesManager, Logger, ElementFinder, MessageSender, EventBinder");f.register("ConditionFunctions").asCtor(vg).dependencies("Lib,JQueryElementFinder,CommonUtils,HostData,TimerManager,LanguageManager,ConditionFunctionsHandler,UrlCommonStringsRemover,StepRetriever,WalkthrusContainer,ConditionTreeUtils,Consts,WalkthrusModule,CurrentWalkthruData,ConditionBlocksManager,CookiesManager,ClientStorageManager,HtmlDecoder,LocationService,LocationMatcher,NewToOldConditionConverter,Logger,ArrayUtils,ClientOrServerStorageManager,AbTestingGoalsManagerInstance,SonarEventHandler,ExternalConditionsHandlers");f.register("ExternalConditionsHandlers").asCtor(yg).dependencies("Logger,PendingResultsContainer,ExternalHandlerWrapper");f.register("PendingResultsContainer").asCtor(pg).dependencies("Logger,EventSenderErrorLogger");f.register("ExternalHandlerWrapper").asCtor(wg).dependencies("PendingResultsContainer");it=function(){function n(t,i,r,u,f,e,o,s,h,c){this.timerManager=t;this.conditionFunctions=i;this.uiChangeTracker=r;this.profilerAPI=e;this.commonEvents=o;this.consts=s;this.debuggerManager=h;c=c||{};this._conditionCheckerPollingIntervalMs=c.evaluationPollingIntervalMs&&!c.onlyPollConditionFunctions?c.evaluationPollingIntervalMs:n.NO_POLLING;this._conditionFunctionsPollingInterval=c.evaluationPollingIntervalMs||n.NO_POLLING;this._getSelectedElement=c.getSelectedElement;this._stopPollingAfterEvaluateTrue=void 0===c.stopPollingAfterEvaluateTrue||c.stopPollingAfterEvaluateTrue;this._evaluateSonar=void 0===c.evaluateSonar||c.evaluateSonar;this._featureName=c.featureName;this._elementName=c.elementName;e.isEnabled()&&this.trackEvaluation();this._trackUIChange=c.trackUIChange;this._logger=u.wrapCustomerLog("ConditionChecker");this._subTreesResults={};n.registerInstance(this);c=null}return n.prototype.trackEvaluation=function(){var n=this;this.profilerAPI.registerProfilerCallback(function(t){var r=n.innerEvaluateAsync,i;n.innerEvaluateAsync=t.profile("innerEvaluateAsync",function(t,i){return r.apply(n,[t,i])});i=n.innerGetValue;n.innerGetValue=t.profile("innerGetValue",function(t){return i.apply(n,[t])})})},n.prototype.getCurrentEvaluationValueAndStopEvaluating=function(n){this.onValueChanged(void 0);this.evaluateAsync(n);var t=this.getCachedValue();return this.cleanResources(),t},n.prototype.getValue=function(){return this.innerGetValue(!1)},n.prototype.innerGetValue=function(n){return this._result.getValue(n)},n.prototype.getCachedValue=function(){return this.innerGetValue(!0)},n.prototype.isPollingEvaluation=function(){return this._conditionCheckerPollingIntervalMs>=0&&!this._isStopEvaluate},n.prototype.cleanResources=function(){this._oldValue=!1;this._isStopEvaluate=!0;this._logger(this._elementName+" - ConditionChecker cleans resources",5,this._featureName);this.cleanResultAndTimer();this.uiChangeTracker.unbind(this._uiChangeCallback);n.unregisterInstance(this);this._getSelectedElement=void 0;this.cleanTree(this._dirtyTree)},n.prototype.cleanTree=function(n){n&&(n.funcArgs&&delete n.funcArgs.getSelectedElement,this.cleanTree(n.leftSon),this.cleanTree(n.rightSon))},n.prototype.cleanResultAndTimer=function(){this._result&&this._result.cleanResources();this._timerHandle&&this._timerHandle.clear()},n.prototype.onValueChanged=function(n){this._onValueChanged=n},n.prototype.callOnValueChangedIfExist=function(n,t){this.raiseEventWithSubTreesResults();this._onValueChanged&&(t=void 0!==t&&t,this._logger(this._elementName+" - ConditionChecker calls onValueChanged",4,this._featureName),this._onValueChanged(n,t))},n.prototype.raiseEventWithSubTreesResults=function(){this.debuggerManager.isDebuggerOnWindow()&&this.commonEvents.raiseEvent(this.consts.EVENTS.ConditionTreeResult,this._subTreesResults)},n.prototype.onPreEvaluation=function(n){this._onPreEvaluation=n},n.prototype.callOnPreEvaluationIfExist=function(n,t){this._onPreEvaluation&&(t=void 0!==t&&t,this._logger(this._elementName+" - ConditionChecker calls onPreEvaluation",5,this._featureName),this._onPreEvaluation(n,t))},n.prototype.onEvaluated=function(n){this._onEvaluated=n},n.prototype.callOnEvaluatedIfExist=function(n,t){this._onEvaluated&&(t=void 0!==t&&t,this._logger(this._elementName+" - ConditionChecker calls onEvaluated",5,this._featureName),this._onEvaluated(n,t))},n.prototype.onSonar=function(n){this._onSonar=n},n.prototype.callOnSonarIfExist=function(){this._onSonar&&this._onSonar()},n.prototype.evaluateAsyncAndDontEvaluateImmediately=function(t){n.registerInstance(this);this.innerEvaluateAsync(t,!0)},n.prototype.evaluateAsync=function(t){n.registerInstance(this);this.innerEvaluateAsync(t,!1)},n.prototype.innerEvaluateAsync=function(n,t){this._dirtyTree=n;this._isStopEvaluate=!1;this.handleUIChangeTracking();this.evaluateAsyncCall(n,t)},n.prototype.handleUIChangeTracking=function(){var n=this;this._uiChangeCallback=function(){n._result.refresh();n._trackUIChange&&n.reEvaluate(!0)};this.uiChangeTracker.bind(this._uiChangeCallback)},n.prototype.evaluateAsyncCall=function(n,t){this.firstEvaluation(n,t);this.startPollingEvaluation(n)},n.prototype.firstEvaluation=function(n,t){this._logger(this._elementName+" - ConditionChecker evaluates async tree",5,this._featureName);this.prepareResult(n);this._oldValue=void 0;t?this._oldValue=!1:this.reEvaluateResult(!0)},n.prototype.prepareResult=function(n){var t=this;this._result=this.createResult(n);this._result.onGotValue(function(){if(t.callOnSonarIfExist(),t._evaluateSonar){var n=t.reEvaluateResult(!0);t._stopPollingAfterEvaluateTrue&&n&&t.cleanResources()}})},n.prototype.startPollingEvaluation=function(){var n=this;this.isPollingEvaluation()&&(this._timerHandle=this.timerManager.libSetTimeout(function(){n.reEvaluate()},this._conditionCheckerPollingIntervalMs))},n.prototype.reEvaluate=function(n){var r=this,i,t;this._isStopEvaluate||(i=this.reEvaluateResult(n),t=this.shouldPollingStop(i),!this.isPollingEvaluation()||t||n?t&&this.cleanResources():this._timerHandle=this.timerManager.libSetTimeout(function(){r.reEvaluate()},this._conditionCheckerPollingIntervalMs))},n.prototype.reEvaluateResult=function(n){this.callOnPreEvaluationIfExist(void 0,n);this._logger(this._elementName+" - ConditionChecker reevaluating tree conditions",5,this._featureName);var t=this.getValue();return this._oldValue!==t&&(this.callOnValueChangedIfExist(t,n),this._oldValue=t),this.callOnEvaluatedIfExist(t,n),t},n.prototype.shouldPollingStop=function(n){return n&&(this._logger(this._elementName+" - ConditionChecker reevaluating tree conditions",5,this._featureName),this._stopPollingAfterEvaluateTrue)?(this._elementName+" - ConditionChecker stopped polling tree evaluation after 'true' evaluation",this._featureName,!0):!1},n.prototype.createResult=function(t){function r(n){var t=e[n.nodeType];return t?t(n):!1}function o(t){function o(){return s.call(this,e)}var u=i.conditionFunctions.isFuncSticky(t.funcName),s=i.conditionFunctions.getFunctionsByLibNameType(t.funcName),e,r;return t.funcArgs.getSelectedElement=i._getSelectedElement,e={conditionId:t.ConditionId,funcArgs:t.funcArgs,pollingInterval:u?i._conditionFunctionsPollingInterval:n.NO_POLLING},r=u||i.conditionFunctions.isFuncAsync(t.funcName)?o():new b.noMemory(o),f(r,t),r}function u(n){return function(t){var u=r(t.leftSon),e=r(t.rightSon),i=new b.complex(u,e,n);return f(i,t),i}}function f(n,t){var r=n.getValue;n.getValue=function(n){return t.result=r(n),i._subTreesResults[t.ConditionId]=s(t),t.result}}function s(n){return{id:n.ConditionId,type:n.nodeType,result:n.result}}var i=this,e={Func:o,And:u(function(n,t){return n()&&t()}),Or:u(function(n,t){return n()||t()})};return null==t?b.fixed(!0):r(t)},n.registerInstance=function(t){n.instances[t._id]||(t._id=n.sequence,++n.sequence,n.instances[t._id]=t)},n.unregisterInstance=function(t){delete n.instances[t._id]},n.cleanResources=function(){for(var t in n.instances)n.instances.hasOwnProperty(t)&&n.instances[t].cleanResources();n.instances={}},n}();it.NO_POLLING=-1;it.instances={};it.sequence=0;f.register("ConditionCheckerType").asInstance(it);f.register("ConditionChecker").asCtor(it).asProto().dependencies("TimerManager, ConditionFunctions, UIChangeTracker, Logger, FeaturesManager, ProfilerAPI, CommonEvents, Consts, DebuggerManager");f.register("ConditionCheckerFactory").asCtor(bg).dependencies("ConditionCheckerType,NewConditionCheckerType,TimerManager,ConditionFunctions,UIChangeTracker,Logger,FeaturesManager,ProfilerAPI,CommonEvents,Consts,NewToOldConditionConverter,DebuggerManager");cr=function(t){function i(n,i,r,u,f,e,o,s,h,c,l){t.call(this,n,i,r,u,f,e,o,s,h,l);this.newToOldConditionConverter=c}return n(i,t),i.prototype.evaluateAsync=function(n){var i=this.newToOldConditionConverter.convert(n.Root);t.prototype.evaluateAsync.call(this,i)},i.prototype.evaluateAsyncAndDontEvaluateImmediately=function(n){var i=this.newToOldConditionConverter.convert(n.Root);t.prototype.evaluateAsyncAndDontEvaluateImmediately.call(this,i)},i}(it);f.register("NewConditionCheckerType").asInstance(cr);f.register("OldConditionsCombiner").asCtor(kg);f.register("NewConditionsCombiner").asCtor(dg).dependencies("OldConditionsCombiner, NewToOldConditionConverter, OldToNewConditionConverter");f.register("ConditionsCombinerFactory").asCtor(gg);f.register("EngagementRulesDataSynchronizer").asCtor(nn).dependencies("ClientStorageManager, EndUsersManager, SettingsFile, TimerManager, wmjQuery, CommonUtils, Encryptor, HostData, RecorderServerManager");f.register("EngagementRulesErrorTimer").asCtor(tn).asProto().dependencies("TimerManager, Logger, LibDestroyer");f.register("EngagementRulesRepository").asCtor(rn).dependencies("EngagementRulesDataSynchronizer, FeaturesManager, wmjQuery");f.register("HistoricalConditionFunctions").asCtor(un).asSingleton().dependencies("EngagementRulesRepository");f.register("OnboardingConditionFunctions").asCtor(fn).asSingleton().dependencies("TasksPercentageCalculator");f.register("BizFlowShowInMenuChecker").asCtor(en).dependencies("CommonUtils, DisplayConditionChecker, Consts, TagsSegmentationProperties");f.register("DeployableShowInMenuChecker").asCtor(on).dependencies("DisplayConditionChecker");f.register("ShowInMenuCheckerFactory").asCtor(sn).dependencies("Lib, BizFlowShowInMenuChecker, DeployableShowInMenuChecker, TodoListManager, Consts");f.register("DisplayConditionChecker").asCtor(hn).dependencies("ConditionCheckerFactory");f.register("ConditionTreeGetter").asCtor(cn).dependencies("DeployableTypes, CommonUtils");f.register("ConditionTreeTraverser").asCtor(ln).dependencies("NewToOldConditionConverter");f.register("ConditionTreeEvaluator").asCtor(an).dependencies("ConditionFunctions");f.register("ConditionEvaluator").asCtor(vn).dependencies("CurrentWalkthruData, StepRetriever, LocationMatcher");lr=function(){function f(t){var r=new RegExp("^\\[\\d+\\]$","i"),i;return r.test(t)?(i=parseInt(t.substring(1,t.length-1)),n.functions.length>=i&&void 0!=n.functions[i]?new l(n.functions[i]):(n.errorStack.push("Function id doesn't exist!"),!1)):(n.errorStack.push("function token isn't in the form [funcId]. recieved:"+t),!1)}function i(t){return t?new c(t):(n.errorStack.push("Failed to create NOT node."),!1)}function r(t,i,r){if(i&&r){if("OR"==t.toUpperCase())return new h(i,r);if("AND"==t.toUpperCase())return new s(i,r)}return n.errorStack.push("Failed to create "+t.toUpperCase()+" node."),!1}function u(n){for(var t=Array(),i=0;i<n.length;i++)if("("==n.charAt(i))t.push("(");else if(")"==n.charAt(i)){if(0==t.length)return!1;t.pop()}return 0==t.length}function e(n){if(n=mtjQuery.trim(n),n=n.replace("  "," "),n=n.replace("( ","("),n=n.replace(/not\(/gi,"not ("),n=n.replace(/and\(/gi,"and ("),n=n.replace(/or\(/gi,"or ("),"("!=n.charAt(0)||")"!=n.charAt(n.length-1))return n;var t=n.substring(1,n.length-1);return u(t)?t:n}function t(u){var v=e(u),s=v.split(" "),l,h,a,c;switch(s.length){case 0:n.errorStack.push("Error - a try to build tree with empty expression");break;case 1:return f(s[0]);case 2:return"NOT"==s[0].toUpperCase()?i(t(s[1])):(n.errorStack.push("Ilegal expression"),!1);case 3:return"NOT"==s[0].toUpperCase()?i(t(s[1]+" "+s[2])):r(s[1],t(s[0]),t(s[2]));default:for(l=Array(),h=0;h<s.length;h++){if(0==h&&s[h].length>=3&&"NOT"==s[h].substr(0,3).toUpperCase())return i(t(s.join(" ").substr(3)));for(a=!1,c=0;c<s[h].length;c++)"("==s[h].charAt(c)?(a=!0,l.push("(")):")"==s[h].charAt(c)&&(a=!0,l.pop());if(!a&&0==l.length&&o(s[h]))return r(s[h],t(s.splice(0,h).join(" ")),t(s.splice(1,s.length-1).join(" ")))}return n.errorStack.push("Ilegal expression"),!1}}function o(n){return n.match(/not/i)||n.match(/or/i)||n.match(/and/i)?!0:!1}function s(n,t){this.leftSon=n;this.rightSon=t;this.evaluate=function(){return this.leftSon.evaluate()&&this.rightSon.evaluate()}}function h(n,t){this.leftSon=n;this.rightSon=t;this.evaluate=function(){return this.leftSon.evaluate()||this.rightSon.evaluate()}}function c(n){this.son=n;this.evaluate=function(){return!this.son.evaluate()}}function l(n){this.func=n;this.evaluate=function(){return this.func()}}this.functions=Array();this.treeNode=null;this.errorStack=Array();var n=this;this.setFunction=function(n,t){if(void 0==n||void 0==t||t<0)throw"Wrong arguments.";return this.functions[t]=n,!0};this.evaluate=function(){if(null!=this.treeNode)return this.treeNode.evaluate();throw"Evaluation tree doesn't exist - No expression was set.";};this.setExpression=function(n){if(void 0!=n&&n.length>0&&u(n)){if(this.treeNode=t(n),this.treeNode)return!0;var i=this.errorStack.join("\n");throw this.errorStack=this.errorStack.splice(),i;}return this.errorStack.push("Ilegal expression!"),!1}};f.register("ClientStorageManager").asFunction(function(n){return n.bySettingsFile()}).dependencies("StorageManagerFactory");f.register("DummyClientStorageManager").asInstance({saveData:function(){},getData:function(n,t){return t},getStorageType:function(){return{type:"jstorage"}}});f.register("RemoteDataSynchronizer").asCtor(wn).asProto();f.register("TodoListDataSynchronizer").asCtor(bn).dependencies("Lib, RecorderServerManager, ClientStorageManager, ServerDataSenderManager, Logger, WalkMeInfo, EventSender, SiteConfigManager, CommonUtils");f.register("TasksPercentageCalculator").asCtor(gn).asSingleton().dependencies("ObjectTreePercentageCalculator, UIChangeTracker");f.register("FramesetsUtils").asCtor(ntt).dependencies("Logger, HostData, TimerManager, FeaturesManager");f.register("DocumentsManager").asCtor(ttt).dependencies("FramesetsUtils, IFramesManager, Logger");f.register("TriggersManager").asCtor(itt).dependencies("TimerManager,FramesetsUtils,StepUtils,Logger,FeaturesManager,SiteConfigManager,ConditionTreeTraverser,CommonEvents,Consts,ClickTriggersListCreator,WalkthrusModule,CurrentWalkthruData,WalkthruStatePersister,WalkthruBranchPlayer,LibDestroyer,EventBinder,HostData,ConditionCheckerFactory, SettingsValuesRetriever, WalkthruOnBeforeUnloadHandler, BackButtonUtils");f.register("BackButtonUtils").asCtor(rtt).dependencies("WalkthrusModule, Consts, CurrentWalkthruData, StepUtils");g=new g;f.register("WalkmeInheritance").asInstance(g);f.register("PlayManager").asCtor(utt).dependencies("FeaturesManager, Consts, WalkthrusModule, WalkthrusContainer, Logger");f.register("StepUtils").asCtor(ftt).dependencies("Consts");f.register("StepRetriever").asCtor(ett).dependencies("WalkthrusContainer");f.register("POVisibleIframeChecker").asCtor(ott).dependencies("CommonUtils,FeaturesManager,Logger,PostMessageListener, PostMessage");f.register("WalkthruPassOwnershipDeterminator").asCtor(stt).dependencies("Consts");f.register("PassOwnershipDeterminatorFactory").asCtor(htt).dependencies("DeployableTypes, BizflowPassOwnershipDeterminator, WalkthruPassOwnershipDeterminator");f.register("PreExecutionPassOwnershipWrapper").asCtor(ctt);f.register("WalkthruOwnershipManager").asCtor(ltt).dependencies("CrossDomainManager, Consts, WalkthrusModule, WalkthruPassOwnershipDeterminator, WalkthrusContainer,CurrentWalkthruData, WalkthruStatePersister, StepRetriever, WalkMeInfo, WalkthruStateRestorer, Logger, PassOwnershipNextStepProvider, FeaturesManager, TimerManager, PreExecutionPassOwnershipWrapper, ClientStorageManager");f.register("PassOwnershipRouter").asCtor(att).dependencies("Consts, BizflowOwnershipManager, WalkthruOwnershipManager, FlowStack, CommonEvents, ClientStorageManager");f.register("BizflowOwnershipManager").asCtor(vtt).dependencies("CrossDomainManager, Consts, BizflowPassOwnershipDeterminator, FlowsContainer, FlowsPlayer, TimerManager,FlowStack, WmInternals, ClientStorageManager, FlowsRestorer");f.register("BizflowPassOwnershipDeterminator").asCtor(ytt).dependencies("Consts, ConditionCheckerFactory");f.register("PassOwnershipManager").asCtor(vr).initialize(!1);f.register("PassOwnershipNextStepProvider").asCtor(ptt).dependencies("ClientStorageManager, Consts, WalkthrusContainer, UserGuidContainer");f.register("TabbedOwnershipManager").asCtor(yr).initialize(!1);f.register("FramedOwnershipManager").asCtor(wtt).initialize(!1);var pr=function(){function n(n,t,i,r,u,f,e,o,s,h,c,l){this._mustache=n;this._commonUtils=t;this._positionHelper=i;this._commonEvents=r;this._uiUtils=f;this._siteConfigManager=e;this._timerManager=o;this._cdnServer=u.get();this._getTopContainer=s;this._lib=h;this._hostData=c;this._consts=l}return n.prototype.activate=function(n,t,i,r,u,f){this._activateContentInNewTab=f;this.createLightBox(n,t,i,r,u)},n.prototype.getElement=function(){return this._lightBoxDiv},n.prototype.getAjaxLoader=function(t){return r("#"+n.AJAX_LOADER_DIV_ID,t)},n.prototype.remove=function(n){n||(n=this._getTopContainer(null,!1));this.removeTakingLongMsg(!1);this.removeLightBox(n);this.removeOverlay();this.unbindEscButton(n)},n.prototype.removeOverlay=function(){r("#"+n.OVERLAY_ID).remove()},n.prototype.unbindEscButton=function(t){t.unbind(n.KEY_UP_EVENT)},n.prototype.removeLightBox=function(t){var i=r("#"+n.LIGHTBOX_DIV_ID,t);i.exist()&&(i.find("iframe").attr("src",""),i.remove(),this._commonEvents.raiseEvent(this._consts.EVENTS.ContentRemoved,{}))},n.prototype.createLightBox=function(t,i,u,f,e){var c=this._getTopContainer(null,!1),v=this.getHtml(t,i),o=r(v),l,s,a,h;return this._lightBoxDiv=o,this.addCssClasses(t,o,u),this._uiUtils.setLangAttribute(o),l=this.createXButtonElement(),o.append(l),this.handleCreatingOpenInNewTabButton(t,c,o,f),this.handleCreatingOverlay(),this.bindEscButton(c),s=e(t),this.setTakingLongTimers(o),this.overlayContent(s,o),a=this.handleIosIframeScrolling(s),this.appendContent(a),this._commonEvents.raiseEvent(this._consts.EVENTS.LightBoxDivCreated,{lightBoxDiv:o,content:t}),c.append(o),h=r("#"+n.RELOAD_LIGTHBOX_DIV_ID),h.click(r.proxy(function(){var n=s.get(0);n.src=n.src;this.getAjaxLoader(o).show();this.removeTakingLongMsg(!1);this.setTakingLongTimers(o)},this)),this._positionHelper.centerElementInParent(h,o),h.css("left","0"),this._commonEvents.raiseEvent(this._consts.EVENTS.LightBoxCreated,o),o},n.prototype.overlayContent=function(n,t){n.hide();var i=r.proxy(function(){n.off("load loadeddata",i);this.removeTakingLongMsg(!0);this.getAjaxLoader(t).remove();n.show()},this);this.shouldWaitForReady(n)?n.ready(i):n.load(i);"VIDEO"==f.get("ElementUtils").getElementTagName(n[0])&&n.bind("loadeddata",i)},n.prototype.appendContent=function(n){this._lightBoxDiv.append(n)},n.prototype.reloadButtonTimerFunction=function(t){r("#"+n.RELOAD_LIGTHBOX_DIV_ID).css("display","block");this._reloadButtonTimer.clear();this.getAjaxLoader(t).hide()},n.prototype.takingLongerTimerFunction=function(t){var i=r("#"+n.WAITING_DIV_ID);this._positionHelper.centerElementInParent(i,t);i.css("left","0");i.css("display","block");this._takingLongerTimer.clear()},n.prototype.setTakingLongTimers=function(t){this._takingLongerTimer=this._timerManager.libSetTimeout(r.proxy(function(){this.takingLongerTimerFunction(t)},this),n.TAKING_LONGER_MESSAGE_INTERVAL);this._reloadButtonTimer=this._timerManager.libSetTimeout(r.proxy(function(){this.reloadButtonTimerFunction(t)},this),n.RELOAD_BUTTON_INTERVAL)},n.prototype.removeTakingLongMsg=function(t){this._reloadButtonTimer&&this._reloadButtonTimer.clear();this._takingLongerTimer&&this._takingLongerTimer.clear();var i=r("#"+n.RELOAD_LIGTHBOX_DIV_ID),u=r("#"+n.WAITING_DIV_ID);t?(i.remove(),u.remove()):(i.css("display","none"),u.css("display","none"))},n.prototype.handleIosIframeScrolling=function(n){var t=/iPhone|iPod|iPad/.test(navigator.userAgent);return t?this.getIframeWrapperDiv(n):n},n.prototype.getIframeWrapperDiv=function(n){var i={width:n.attr("width")||n[0].style.width,height:n.attr("height")||n[0].style.height,overflow:"auto","-webkit-overflow-scrolling":"touch"},t=r("<div />").css(i);return t.append(n),t},n.prototype.bindEscButton=function(t){t.bind(n.KEY_UP_EVENT,r.proxy(function(n){27==n.keyCode&&this.remove()},this))},n.prototype.handleCreatingOverlay=function(){var i=this._uiUtils.canDisplayOverlay(),t;i&&(t=this._uiUtils.displayOverlay(this._consts.POPUP_BALLOON_Z_INDEX,!1,n.OVERLAY_ID),t.click(r.proxy(function(){this.remove()},this)))},n.prototype.handleCreatingOpenInNewTabButton=function(n,t,i,u){if(u){var f=r(this.newTabHtml("walkme-open-in-new-tab-button"));f.click(r.proxy(function(){this.remove(t);this._activateContentInNewTab(n)},this));f.mouseover(r.proxy(function(){this.contentMouseOver(f,!0)},this));f.mouseout(r.proxy(function(){this.contentMouseOver(f,!1)},this));i.append(f)}},n.prototype.newTabHtml=function(){throw"";},n.prototype.addCssClasses=function(n,t,i){var r=this._commonUtils.formatString("walkme-{0}-light-box-{1}",i,n.Id);t.addClass(r);t.addClass("walkme-to-remove");t.addClass("walkme-to-destroy")},n.prototype.createXButtonElement=function(){var t=this._siteConfigManager.get().ContentCloseTooltip,n=r(this.xButtonHtml("walkme-light-box-x-button",t));return n.click(r.proxy(this.closeLightBoxClicked,this)),n.mouseover(r.proxy(function(){this.contentMouseOver(n,!0)},this)),n.mouseout(r.proxy(function(){this.contentMouseOver(n,!1)},this)),n},n.prototype.xButtonHtml=function(){throw"";},n.prototype.contentMouseOver=function(){throw"";},n.prototype.closeLightBoxClicked=function(){this.remove();this._commonEvents.raiseEvent(this._consts.EVENTS.LightBoxClosed)},n.prototype.getHtml=function(n,t){return this._mustache.to_html(this.getTemplate(),this.getConfig(n,t))},n.prototype.getConfig=function(t,i){var r=this.getDimensionSize("width",t,i),u=this.getDimensionSize("height",t,i),f=this.getToolbarWidth(r);return{lightboxDivId:n.LIGHTBOX_DIV_ID,lightboxWidth:r,lightboxHeight:u,zIndex:this._consts.POPUP_BALLOON_Z_INDEX,lightboxTopbarDivId:n.LIGHTBOX_TOPBAR_DIV_ID,topbarWidth:f,ajaxLoaderDivId:n.AJAX_LOADER_DIV_ID,waitingDivId:n.WAITING_DIV_ID,reloadDivId:n.RELOAD_LIGTHBOX_DIV_ID,cdnServer:this._cdnServer}},n.prototype.shouldWaitForReady=function(n){return(this._hostData.isIE()||"Chrome"==this._hostData.browser.name)&&n[0]&&n[0].src&&n[0].src.indexOf(".pdf")>-1},n.prototype.getTemplate=function(){throw"";},n.prototype.getDimensionSize=function(){throw"";},n.prototype.getToolbarWidth=function(){throw"";},n.prototype.getSize=function(){throw"";},n.LIGHTBOX_DIV_ID="walkme-content-light-box",n.LIGHTBOX_TOPBAR_DIV_ID="walkme-content-light-box-top-bar",n.AJAX_LOADER_DIV_ID="walkme-ajax-loader",n.WAITING_DIV_ID="walkme-ajax-taking-long",n.RELOAD_LIGTHBOX_DIV_ID="walkme-ligth-box-reload",n.OVERLAY_ID="walkme-content-background",n.KEY_UP_EVENT="keyup.walkme",n.TAKING_LONGER_MESSAGE_INTERVAL=8e3,n.RELOAD_BUTTON_INTERVAL=15e3,n}(),btt=function(t){function i(){t.apply(this,arguments)}return n(i,t),i.prototype.activate=function(n,i,r,u,f,e){t.prototype.activate.call(this,n,i,r,u,f,e);this._lib.centerElementInPage(this._lightBoxDiv,!1)},i.prototype.createLightBox=function(n,r,u,f,e){t.prototype.createLightBox.call(this,n,r,u,f,e);var o=this.getAjaxLoader(this._lightBoxDiv);this._positionHelper.centerElementInParent(o,this._lightBoxDiv);o.css("left","0");this._positionHelper.registerResizeAndScrollEvents({element:this._lightBoxDiv,eventNameSuffix:i.WALKME_LIGHTBOX_EVENTS})},i.prototype.removeLightBox=function(n){t.prototype.removeLightBox.call(this,n);this._positionHelper.removeScrollAndResizeEvents(i.WALKME_LIGHTBOX_EVENTS)},i.prototype.getDimensionSize=function(n,t,i){var f=this.getSizeUnitSettingKey(n),e=this.getSizeUnit(t,f),o=this.getDimensionSettingKey(n),r=this._commonUtils.getSettingsValue(t.Settings,o,i[n]),u;return"%"==e&&(u=this._positionHelper.getWindowSize(),r=u[n]*r/100),r+"px"},i.prototype.getSizeUnitSettingKey=function(n){return n+"Unit"},i.prototype.getSizeUnit=function(n,t){return this._commonUtils.getSettingsValue(n.Settings,t,"px")},i.prototype.getDimensionSettingKey=function(n){return"height"==n?i.LIGHTBOX_HEIGHT_KEY:i.LIGHTBOX_WIDTH_KEY},i.prototype.getToolbarWidth=function(n){return parseFloat(n)+4+"px"},i.prototype.getSize=function(){return{width:this._lightBoxDiv.css("width").replace("px","")+"px",height:this._lightBoxDiv.css("height").replace("px","")+"px"}},i.prototype.contentMouseOver=function(n,t){var i=t?"#404040":"#646464";n.css("backgroundColor",i)},i.prototype.xButtonHtml=function(n,t){return this._commonUtils.formatString("<div id={0} title='{1}' style='position:absolute; height: 17px; width: 17px; right: 5px; top: -19px; cursor: pointer; z-index: 2147483632; vertical-align: top;'><img src='{2}/player/resources/images/blue-x-button.png' style='margin: 4px;' /><\/div>",n,t,this._cdnServer)},i.prototype.newTabHtml=function(n){return this._commonUtils.formatString("<div id={0} title='Open in a new tab' style='position:absolute;height:17px; width:17px; right:25px; top:-19px; cursor:pointer; z-index:2147483632; vertical-align: top;'><img src='{1}/player/resources/images/open-in-new-tab.png' style='margin: 4px;'><\/div>",n,this._cdnServer)},i.prototype.getTemplate=function(){return"<div id='{{lightboxDivId}}' class='wm-lightbox-web' style='float:left; width:{{lightboxWidth}}; height:{{lightboxHeight}}; padding: 2px; z-index:{{zIndex}}; background-color:white; box-shadow:4px -4px 19px -1px #494949;'><div id='{{lightboxTopbarDivId}}' style='position: absolute; top: -23px; left: 0px; height: 25px; width: {{topbarWidth}}; background-color:#646464;'><\/div><div id='{{ajaxLoaderDivId}}' style='background:url({{{cdnServer}}}/player/resources/images/ajax-loader_v2.gif) no-repeat center; width:100%; height:100px; position:relative; text-align:center; vertical-align: bottom; margin-top: -30px;'><span style='display: inline-block; color: #99d3fe; font-size: 14px; font-family: Arial; font-weight: bold; margin-top: 108px;'>Loading<\/span><\/div><div id='{{reloadDivId}}' style='display: none; direction: ltr; cursor: pointer; position: relative; text-align: center; margin-top: -20px; color: #168dce; font-size: 14px; font-family: Arial;'><img style='vertical-align: -11px; margin-right: 3px' src='{{{cdnServer}}}/player/resources/images/reload.png' />Reload Page<\/div><div id='{{waitingDivId}}' style='display: none; font-size: 14px; font-family: Arial; color: #464646; text-align: center; position: relative; font-weight: bold;'>This is taking longer than expected<\/div><\/div>"},i.LIGHTBOX_WIDTH_KEY="LightboxWidth",i.LIGHTBOX_HEIGHT_KEY="LightboxHeight",i.WALKME_LIGHTBOX_EVENTS="walkmeLightBox",i}(pr),ktt=function(t){function i(){t.apply(this,arguments)}return n(i,t),i.prototype.createLightBox=function(n,i,r,u,f){t.prototype.createLightBox.call(this,n,i,r,u,f);this._lightBoxDiv.css({position:"fixed",top:0,left:0})},i.prototype.getDimensionSize=function(){return"100%"},i.prototype.getToolbarWidth=function(){return"100%"},i.prototype.getSize=function(){return{width:"100%",height:"100%"}},i.prototype.contentMouseOver=function(){},i.prototype.getConfig=function(n,i){var r=t.prototype.getConfig.call(this,n,i);return r.padding="10px",r.title=n.Name,r},i.prototype.xButtonHtml=function(n,t){return this._commonUtils.formatString("<div id={0} title='{1}' style='position: absolute; right: 19px; top: 17px; cursor: pointer; z-index: 2147483632; vertical-align: top; height: 15px; width: 15px; background-image: url(\"{2}/player/resources/images/x-btn-resources.png\"); background-position: -5px -5px;'><\/div>",n,t,this._cdnServer)},i.prototype.newTabHtml=function(n){return this._commonUtils.formatString("<div id={0} title='Open in a new tab' style='position:absolute; height:11px; width:11px; right:50px; top:15px; cursor:pointer; z-index:2147483632; vertical-align: top;'><img src='{1}/player/resources/images/mobile_full_screen.png' style='margin: 4px;'><\/div>",n,this._cdnServer)},i.prototype.getTemplate=function(){return"<div id='{{lightboxDivId}}' class='wm-lightbox-web' style='width:{{lightboxWidth}}; height:{{lightboxHeight}}; box-sizing: border-box; z-index:{{zIndex}}; background-color: black; padding-top: 50px; padding-right: 10px;'><div style='width: 100%; box-sizing: border-box; padding: 0 15px; position: absolute; top: 0; left: 0px; line-height: 50px; background-color: #3393d1; color: white; text-align: left; font-size: 15px;'>{{title}}<div id='{{lightboxTopbarDivId}}' style='height: 100%; width: 100%;'><\/div><\/div><div id='{{ajaxLoaderDivId}}' style='background:url({{{cdnServer}}}/player/resources/images/ajax-loader_v3.gif) no-repeat center; width:100%; height:100px; position:absolute; text-align:center; vertical-align: bottom; top: 50%; margin-top: -50px;'><span style='display: inline-block; color: white; font-size: 14px; font-family: Arial; font-weight: bold; margin-top: 108px;'>Loading<\/span><\/div><div id='{{reloadDivId}}' style='display: none; direction: ltr; cursor: pointer; position: relative; text-align: center; margin-top: -20px; color: #168dce; font-size: 14px; font-family: Arial;'><img style='vertical-align: -11px; margin-right: 3px' src='{{{cdnServer}}}/player/resources/images/reload.png' />Reload Page<\/div><div id='{{waitingDivId}}' style='display: none; font-size: 14px; font-family: Arial; color: #464646; text-align: center; position: relative; font-weight: bold;'>This is taking longer than expected<\/div><\/div>"},i.LIGHTBOX_WIDTH_KEY="LightboxWidth",i.LIGHTBOX_HEIGHT_KEY="LightboxHeight",i}(pr);!function(){var n="Mustache,CommonUtils,PositionHelper,CommonEvents,CdnServer,UiUtils,SiteConfigManager,TimerManager,getTopContainer,Lib,HostData,Consts";l.register(h.PLATFORM.Web,function(){f.register("LightboxDisplayer").asProto().asCtor(btt).dependencies(n)});l.register(h.PLATFORM.MobileWeb,function(){f.register("LightboxDisplayer").asProto().asCtor(ktt).dependencies(n)})}();f.register("AbPermutationManager").asCtor(gtt).dependencies("ClientStorageManager,EndUsersManager,AbPermutationManagerServerCaller, AbTestingEventCollectorCaller, AbCurrentPermutationProvider, LibDestroyer, Logger");f.register("AbCurrentPermutationProvider").asCtor(nit);f.register("AbPermutationManagerServerCaller").asCtor(tit).dependencies("RecorderServerManager, WmAjax, HostData, AuditSourceManager, UserGuidContainer");f.register("AbTestingEventCollectorCaller").asCtor(iit).dependencies("Consts, EventCollectorEventSender, Logger");f.register("UserAgent").asFunction(function(n){return n.navigator.userAgent}).asProto();f.register("HostData").asFunction(rit).dependencies("win");f.register("PopupNotificationsService").asCtor(fit).dependencies("SiteConfigManager, OldBalloonNotifier, WalkthrusModule, PopupBalloonDisplayer, LibDestroyer, SettingsValuesRetriever, BBCodeParser, CommonEvents, Consts");f.register("OldBalloonNotifier").asCtor(eit).dependencies("BalloonUtils, Consts, CommonUtils, UiUtils, TimerManager, Lib, CdnServer, BalloonButtonsEventsBinder, TopContainerProvider");f.register("ClickAuditEventSender").asCtor(oit).dependencies("DeployablesManagerFactory, EventSender,Logger, ReportInitiatorMapper");f.register("HtmlElementsDataProvider").asCtor(sit).dependencies("Consts, inArrayFunc");f.register("LoadingTimeInformer").asCtor(hit).dependencies("Consts, CommonEvents, FeaturesManager, WmInternals, Logger");i(89).registerToCtx(f);f.register("ElementTextExtractor").asCtor(cit);f.register("ElementLastKeeper").asCtor(lit).asSingleton().dependencies("TimerManager, FeaturesManager, CommonEvents, Consts");f.register("AnalyticsManager").asCtor(ait).dependencies("ClientStorageManager, Logger, WmAjax, EventSender, PetaServerNameManager, AuditingEnabledIndicator");f.register("ClickAuditManager").asCtor(vit).dependencies("DeployablesManagerFactory, ServerDataSenderManager, Logger, HostData, GuidGenerator, DeployableTypes, EventSender, WalkMeInfo, ClickAuditEventSender, ReportInitiatorMapper, AuditingEnabledIndicator, Consts, CommonUtils");f.register("JQueryElementFinder").asCtor(yit).dependencies("CommonUtils, PositionHelper, IsInEditor, FrameContentsProvider, ElementUtils, HtmlDecoder, Logger, StringUtils, JQuerySelectorRunner");f.register("JQuerySelectorRunner").asCtor(pit).dependencies("");f.register("AbTasksValidator").asCtor(wit).dependencies("SiteConfigManager, HostData, TodoListManager, UiDataProvider, FeaturesManager");f.register("ResourceInjector").asCtor(bit);f.register("ResourceManager").asCtor(kit).dependencies("Logger, CommonUtils, HostData, win, IsInEditor, CdnServer, ResourceInjector, FeaturesManager, wmjQuerySafe, Mustache");f.register("IFramesManager").asCtor(dit).dependencies("Logger, TimerManager, FeaturesManager");f.register("UIChangeTracker").asCtor(git).dependencies("Lib, HashChangeNotifier, HistoryChangeNotifier, IFrameLoadChangeNotifier,ClickChangeNotifier, AjaxCallsChangeNotifier, UserInputChangeNotifier, ElementsRedrawer,Logger, IFramesManager, TimerManager, WalkMeVisibilityChecker");f.register("UICT_DEFAULT_THROTTLE_TIME_WINDOW").asInstance(2e3);f.register("UICT_THROTTLE_FIRST_EVENT_BLOCK_TIME_WINDOW").asInstance(250);f.register("PageChangeTracker").asCtor(nrt).dependencies("UIChangeTracker, WalkMeVisibilityChecker, Consts");f.register("HashChangeNotifier").asCtor(trt).injectToReady().dependencies("UIChangeTracker,SPAConfig,Consts");f.register("HistoryChangeNotifier").asCtor(irt).injectToReady().dependencies("UIChangeTracker,SPAConfig,Consts");f.register("IFrameLoadChangeNotifier").asCtor(rrt).injectToReady().dependencies("UIChangeTracker,SPAConfig,IFramesManager,HtmlDecoder,Logger,Consts");f.register("ClickChangeNotifier").asCtor(urt).injectToReady().dependencies("UIChangeTracker,SPAConfig,Logger,Consts");f.register("UserInputChangeNotifier").asCtor(frt).injectToReady().dependencies("UIChangeTracker,SPAConfig,IFramesManager,Logger,Consts");f.register("AjaxCallsChangeNotifier").asCtor(ert).injectToReady().dependencies("UIChangeTracker,IFramesManager, TimerManager, Logger, AjaxCallsChangeNotifierFilter");f.register("AjaxCallsChangeNotifierFilter").asCtor(ort).dependencies("EventServerBaseUrl, RecorderServerManager");f.register("SPAConfig").asCtor(srt).dependencies("SiteConfigManager, ObjectJpath");f.register("SPAAjaxConfig").dependencies("SPAConfig,HashAjaxConfig,ThrottledAjaxConfig,DummyAjaxConfig,Consts").asFunction(hrt);f.register("HashChecker").asCtor(crt).dependencies("win,Logger");f.register("HashAjaxConfig").asCtor(lrt).dependencies("HashChecker,UIChangeTracker,Consts");f.register("ThrottledAjaxConfig").asCtor(art).dependencies("UIChangeTracker,Consts");f.register("DummyAjaxConfig").asCtor(vrt).dependencies("Logger");f.register("ElementsRedrawer").asCtor(yrt).injectToReady().dependencies("Lib,TimerManager,UIChangeTracker, CommonUtils, Logger,IFramesManager, SPAConfig");f.register("ScrollManager").asCtor(prt).asProto().dependencies("CommonUtils, ElementUtils, FeaturesManager, HostData, Logger, Consts, ScrollUtils, ElementInIframeIndicator, PositionHelper, IFrameScrollManager");f.register("IFrameScrollManager").asCtor(wrt).dependencies("HostData");f.register("AutoStartHelper").dependencies("CrossDomainManager").asCtor(brt);l.register([h.PLATFORM.Web,h.PLATFORM.MobileWeb],function(){f.register("RegularAutoStartHelper").asCtor(krt).dependencies("DeployableTypes, WalkthrusContainer, WalkthrusModule, WalkthruPersistenceDataRetriever, Consts")});f.register("PassOwnershipAutoStartHelper").asCtor(drt).dependencies("Consts, RegularAutoStartHelper, DeployableTypes, Logger, CrossDomainManager, FlowsContainer");f.register("AutoStartManager").asCtor(grt).dependencies("ClientOrServerStorageManager, Logger, AutoStartHelper, DeployablesManagerFactory, DeployableTypes, ClientStorageManager, TimerManager, CommonUtils,ProfilerAPI,ElementFinder, Consts, CommonEvents, WalkthruStepsLoader, AutoStartDeployablesIterator, AutostartDeployablesOrchestrator, AutoStartConditionParamsProvider, ConditionTreeGetter, ConditionCheckerFactory, WmInternals");f.register("DeployablesRunnerFactory").asCtor(nut).dependencies("DeployableTypes, ImmediateDeployablesRunner, QueueDeployableRunner");f.register("ImmediateDeployablesRunner").asCtor(tut).dependencies("Consts, CommonEvents, DeployablesManagerFactory, Logger");f.register("QueueDeployableRunner").asCtor(iut).dependencies("ImmediateDeployablesRunner, AutoStartRunningState");f.register("AutoStartRunningState").asCtor(rut).dependencies("AutoStartTypes");f.register("EventBasedRunningState").asCtor(uut).asProto().dependencies("WmInternals");f.register("SurveyRunningState").dependencies("Consts").asFunction(function(n){return f.create("EventBasedRunningState",{resetEvents:[n.EVENTS.Surveys.SurveyCompleted],startingEvents:[n.EVENTS.Surveys.StartSurvey],resolvingEvents:[n.EVENTS.Surveys.SurveyPlayed],rejectingEvents:[n.EVENTS.Surveys.SurveyFailedShowing]})});f.register("BizFlowRunningState").dependencies("Consts").asFunction(function(n){return f.create("EventBasedRunningState",{resetEvents:[n.EVENTS.Flows.FlowStopped,n.EVENTS.Flows.FlowCompleted],startingEvents:[n.EVENTS.Flows.RestoringFlow,n.EVENTS.Flows.FlowStarted],resolvingEvents:[n.EVENTS.Flows.UIFlowStageShown],rejectingEvents:[n.EVENTS.Flows.FailedToStart]})});f.register("WalkthruRunningState").asCtor(fut).dependencies("WalkthruPersistenceDataRetriever, WalkthrusModule, Consts");f.register("WalkthruPersistenceDataRetriever").asCtor(eut).dependencies("WalkthruStatePersister, Consts, CurrentWalkthruData");l.register([h.PLATFORM.Web,h.PLATFORM.MobileWeb,h.PLATFORM.Desktop],function(){f.register("AutostartDeployablesOrchestrator").asCtor(out).dependencies("DeployablesRunnerFactory")});l.register([h.PLATFORM.Web,h.PLATFORM.MobileWeb,h.PLATFORM.Desktop],function(){f.register("AutoStartConditionParamsProvider").asCtor(sut)});f.register("AutoStartTypes").asCtor(hut).dependencies("DeployableTypes, BizFlowRunningState, WalkthruRunningState, SurveyRunningState");l.register([h.PLATFORM.Web,h.PLATFORM.MobileWeb,h.PLATFORM.Desktop],function(){f.register("AutoStartDeployablesIterator").asCtor(cut).dependencies("DeployableTypes, DeployablesManagerFactory, AutoStartTypes")});f.register("PermalinkDeployableProvider").asCtor(lut).dependencies("DeployablesManagerFactory, DeployableTypes, Consts, SiteConfigManager");f.register("PermalinkString").asFunction(function(n){return n.location.href}).asProto();f.register("PermalinkManager").asCtor(aut).dependencies("CrossDomainManager, DeployablesManagerFactory, Lib, DeployableTypes, CommonUtils, Consts, CommonEvents, TimerManager, PermalinkDeployableProvider");f.register("RecorderServerManager").asCtor(et).args([""]);f.register("EventServerBaseUrl").asCtor(et).args([""]);f.register("PetaServerNameManager").asCtor(et);f.register("AuditSourceManager").asCtor(vut).dependencies("Consts");f.register("IsInEditor").asCtor(et).args([!1]);f.register("IsInWYSIWYG").asCtor(et).args([!1]);f.register("IconTemplates").asInstance({customImages:[],htmlImages:[]});f.register("FeaturesManager").asCtor(yut).dependencies("SiteConfigManager");f.register("LanguageManager").asCtor(put).dependencies("win, Lib, ClientOrServerStorageManager, CommonEvents, Consts");f.register("OverlayManager").asCtor(wut).asSingleton().dependencies();f.register("ServerStorageAjaxCaller").asCtor(but).dependencies("AuditSourceManager, RecorderServerManager, Logger, WmAjax, EndUsersManager");f.register("ServerStorageManager").asCtor(kut).dependencies("Consts, UserGuidContainer, EndUserStorageDataSender, ClientStorageManager, AuditSourceManager, ServerStorageAjaxCaller, CommonUtils, SettingsFile, EndUsersManager");f.register("EndUserStorageDataSender").asCtor(dut).dependencies("CommonUtils, AuditSourceManager, ServerDataSenderManager, Logger, EndUsersManager, UserGuidContainer");f.register("SettingsCacheBusterActivator").asCtor(gut).asSingleton().dependencies("Lib, Logger, CommonUtils, LocalStorageService");f.register("SettingsCacheManager").asCtor(nft).asSingleton().dependencies("Lib,SettingsFile,Logger,CommonUtils,WmAjax,TimerManager, SettingsCacheBusterActivator,CommonEvents, LocalStorageService");f.register("EndUserDataConverter").asCtor(tft).dependencies("ClientOrServerStorageManager, DeployablesManagerFactory, CommonUtils, StepUtils, EndUserDataConverterConfig, SiteConfigManager, UserGuidContainer");f.register("EndUserDataConverterConfig").asCtor(ift).dependencies("Consts");f.register("WalkmeConfigManager").asCtor(rft).dependencies("WmAjax, SettingsFile, PerformanceTimestampAdder");f.register("ShoutOutActionDataProvider").asCtor(uft).dependencies("Consts, DeployablesDataProvider, CommonUtils, ActionsFactory");f.register("LauncherActionDataProvider").asCtor(fft).dependencies("Consts, DeployablesDataProvider");f.register("DeployablesDataProvider").asCtor(eft).dependencies("DeployablesManagerFactory");l.register(h.PLATFORM.Web,function(){f.register("PlatformInitializer").asCtor(ti)});l.register(h.PLATFORM.MobileWeb,function(){f.register("PlatformInitializer").asCtor(ti)});l.register(h.PLATFORM.Desktop,function(){f.register("PlatformInitializer").asCtor(ti)});f.register("WindowBeforeUnloadHandler").asCtor(oft).dependencies("win");f.register("CrossDomainManager").dependencies("Logger, FeaturesManager, ClientStorageManager, AuditSourceProvider, UserGuidContainer").asCtor(sft);f.register("PageIdentifiersAPI").asCtor(hft).dependencies("ElementFinder, CommonUtils, UIChangeTracker");f.register("jQueryCacheCleaner").asCtor(cft).dependencies("HostData, TimerManager");f.register("wmjQuerySafe").asInstance(lft);kr=aft();f.register("wmjQuerySafeProxy").asCtor(kr).asProto().dependencies("wmjQuery, wmjQuerySafe, EventBinder");f.register("PopupStepElementProvider").asCtor(vft).dependencies("TopContainerProvider");f.register("UserGuidContainer").asCtor(yft).dependencies("CommonUtils, ArrayUtils, SettingsFile");f.register("AnalyticsPropertiesManager").asCtor(pft).dependencies("SiteConfigManager, ValueProviderFactory");f.register("ValueProviderFactory").asCtor(wft).dependencies("FeaturesManager, Consts, ValueCalculatorFactory");f.register("StickyValueProvider").asCtor(bft).asProto();f.register("StrongStickyValueProvider").asCtor(kft).asProto();f.register("PredefinedValueProvider").asCtor(dft).asProto();f.register("TopMostCssStyleSettter").asCtor(gft);f.register("ElementCenterer").asCtor(net).dependencies("FramesetsUtils, BiggestFrameProvider, PositionHelper, FacebookCanvasIndicator");f.register("PositionHelper").asCtor(tet).dependencies("Lib, UiUtils, Logger, CommonUtils, Consts, FeaturesManager, ElementUtils, ScrollUtils, DocumentUtils, FindElementCornerFunctions, CommonEvents, HostData, FrameContentsProvider, BiggestFrameProvider, FramesetsUtils, SettingsValuesRetriever");f.register("PopupPosition").asCtor(iet).asProto().dependencies("Positions, Lib");f.register("DomEventDispatcher").asCtor(ret).dependencies("HostData");f.register("InputGenerator").asCtor(uet).dependencies("TextInjector, DomEventDispatcher, Logger, TimerManager, CssInjector, HostData, Consts, CommonEvents, WmInternals");f.register("TextInjector").asCtor(fet);dr=function(){function n(){this._overlayManager=f.get("OverlayManager");this._uiUtils=f.get("UiUtils");this._canDisplayOverlay=this._uiUtils.canDisplayOverlay()}return n.prototype.setUiObject=function(n){this._uiObject=n},n.prototype.setSettings=function(n){this._settings=n},n.prototype.getOverlay=function(){if(this._canDisplayOverlay&&this._settings.overlay){var n=this._settings.overlay.opct,t=this._settings.overlay.color;return this._overlay=this._overlay||this._overlayManager.create(this._uiObject,n,t),this._overlay}},n.prototype.removeOverlay=function(){this._canDisplayOverlay&&this._overlay&&this._overlay.remove()},n}();f.register("PopupUIUtil").asCtor(dr).asProto();f.register("GuidGenerator").asCtor(eet);f.register("BalloonUtils").asCtor(oet).dependencies("Consts, HostData, CommonUtils, CdnServer");f.register("ElementUtils").asCtor(set).dependencies("CommonUtils, ScrollUtils, DocumentUtils");f.register("DocumentUtils").asCtor(het);f.register("ScrollUtils").asCtor(cet).dependencies("CommonUtils, BalloonPositionVisibilityChecker, Consts");f.register("CookieValueCalculator").asCtor(aet).dependencies("CookiesManager");f.register("JQueryValueCalculator").asCtor(vet).dependencies("JQueryElementFinder");f.register("VariableValueCalculator").asCtor(yet).dependencies("CommonUtils");f.register("LocalStorageValueCalculator").asCtor(pet).dependencies("LocalStorageService");f.register("ValueCalculatorFactory").asCtor(wet).dependencies("Logger, Consts, CookieValueCalculator, JQueryValueCalculator, VariableValueCalculator, LocalStorageValueCalculator");f.register("CssClassesAppender").asCtor(bet);f.register("ImageLoader").asCtor(ket).dependencies("TimerManager");f.register("focusableBalloonSelectors").asInstance({TITLE:".walkme-custom-balloon-title",CONTENT:".walkme-custom-balloon-content",ACTION_BUTTON:".walkme-custom-balloon-button",CLOSE_LINK:".walkme-custom-balloon-close-button"});f.register("JawsAccessibilityUtil").asCtor(det).dependencies("FeaturesManager, StepUtils, CommonUtils,focusableBalloonSelectors");f.register("Mapper").asCtor(get);f.register("PromiseUtils").asCtor(not);f.register("ConditionTreeUtils").asCtor(tot).dependencies("NewToOldConditionConverter");f.register("DataFixer").asCtor(iot).dependencies("SettingsValuesRetriever");f.register("DictionaryUtils").asCtor(rot);f.register("LocationService").asCtor(uot).dependencies("UrlCommonStringsRemover, HtmlDecoder, win");f.register("RedirectService").asCtor(fot).dependencies("CommonUtils, win, LocationService, UrlCommonStringsRemover, CommonEvents, Consts");f.register("WalkthruRedirectService").asCtor(eot).dependencies("RedirectService, TimerManager, WalkthruStatePersister");f.register("UrlCommonStringsRemover").asCtor(oot);f.register("Stack").asCtor(sot).asProto();f.register("DisabledElementsRemover").asCtor(hot);f.register("PlayGuidGenerator").asCtor(cot).dependencies("GuidGenerator");f.register("AnchorTagsFixer").asCtor(lot).dependencies("HostData, WalkthruOnBeforeUnloadHandler");f.register("DevModeAlertRaiser").asCtor(aot).dependencies("Logger, Consts, TopContainerProvider, HostData, Lib, Mustache");f.register("getTopContainer").dependencies("TopContainerProvider").asFunction(function(n){return n.getTopContainer});f.register("TopContainerProvider").asCtor(vot).dependencies("BiggestFrameProvider, FramesetsUtils, FrameContentsProvider, ElementUtils");f.register("HtmlDecoder").asCtor(yot).dependencies("ArrayUtils");f.register("FacebookCanvasIndicator").asCtor(pot);f.register("LocationMatcher").asCtor(wot).dependencies("UrlCommonStringsRemover, LocationService, StringUtils");f.register("StringUtils").asCtor(bot);f.register("ActionsFactory").asCtor(kot).dependencies("Lib, ClientOrServerStorageManager, Consts, ClientStorageManager, SmartTipSetsManager, BusinessSolutionsManager, InitiatorTypeToDeployableTypeMapper, CommonEvents, WalkthruRedirectService, StepRetriever, WalkthrusContainer, CurrentWalkthruData, WalkthruStatePersister, WalkthrusModule, WalkthruBranchPlayer, DebuggerManager, HtmlDecoder, DeployablesManagerFactory, TimerManager, Logger, ConditionCheckerFactory, CrossDomainManager, WalkthruStepsLoader");f.register("PropertyUtils").asCtor(dot).dependencies("Lib, Consts, SiteConfigManager, DeployablesManagerFactory");f.register("PropertiesFactory").asCtor(got).dependencies("FeaturesManager, CommonEvents, Consts, ShowInMenuCheckerFactory, SiteConfigManager, DeployablesManagerFactory, Logger");var a=function(){function n(n){this.logger=null;this.lib=null;this.deployable=null;this.isLoaded=!1;this.properties=[];this.propertyNames=[];this.utils=null;this.children=[];this.lib=n.lib;this.deployable=n.deployable;this.utils=n.utils;this.children=n.children}return n.prop=function(n){return n.toLowerCase()},n.prototype.getAll=function(){return this.isLoaded||this.load(),this.properties},n.prototype.hasProperty=function(n,t){return!t&&this.isLoaded||this.load(),r.inArray(n,this.properties)!=-1},n.prototype.load=function(){this.isLoaded=!0},n.prototype.clear=function(){this.properties=[];this.isLoaded=!1},n.prototype.generateSingle=function(n,t){var i=t?[n]:[];this.properties=i},n.prototype.canGenerate=function(n){return r.inArray(n,this.propertyNames)!=-1},n}(),nst=function(t){function i(n,i){t.call(this,n);this.deployablesManagerFactory=i;this.propertyNames=[]}return n(i,t),i.prototype.load=function(){var n=this.deployable.Settings,i,r;if(this.properties=[],n&&n.DeployableTypes){for(i=0;i<n.DeployableTypes.length;i++)r=this.deployablesManagerFactory.get(n.DeployableTypes[i]).name(),this.properties.push(a.prop("contains-"+r));t.prototype.load.call(this)}},i}(a),tst=function(t){function i(n,i,r){t.call(this,n);this.consts=i;this.siteConfigManager=r;this.propertyNames=[i.UI_PROPERTIES.Search,i.UI_PROPERTIES.SearchProviders]}return n(i,t),i.prototype.load=function(){var n=[];this.utils.isTab(this.deployable)&&this.utils.supportsDeployableType(this.deployable,this.consts.DEPLOYABLE_TYPE.Tutorial)&&(n.push(a.prop(this.consts.UI_PROPERTIES.Search)),this.isSearchEnabled()&&n.push(a.prop(this.consts.UI_PROPERTIES.SearchProviders)));this.properties=n;t.prototype.load.call(this)},i.prototype.isSearchEnabled=function(){var n=this.siteConfigManager.get();return n.Settings&&Number(n.Settings.search)},i}(a),ist=function(t){function i(n,i){t.call(this,n);this.consts=i;this.propertyNames=[i.UI_PROPERTIES.Default]}return n(i,t),i.prototype.load=function(){var n=k.isTrue(this.deployable.Settings,this.consts.UI_PROPERTIES.Default,!1);n&&this.utils.hasUncompletedChildren(this.children)&&this.generateSingle(this.consts.UI_PROPERTIES.Default,!0);t.prototype.load.call(this)},i}(a),rst=function(t){function i(n,r,u){t.call(this,n);this.consts=r;this.deployablesManagerFactory=u;this.propertyNames=[i._videoProperty,i._articleProperty]}return n(i,t),i.prototype.load=function(){if(this.deployable.deployableType==this.consts.DEPLOYABLE_TYPE.Content){var n=this.deployablesManagerFactory.get(this.consts.DEPLOYABLE_TYPE.Content).types(),r=this.deployable.Type;switch(r){case n.Video:this.generateSingle(i._videoProperty,!0);break;case n.Article:this.generateSingle(i._articleProperty,!0)}}t.prototype.load.call(this)},i._videoProperty=a.prop(f.get("Consts").UI_PROPERTIES.Video),i._articleProperty=a.prop(f.get("Consts").UI_PROPERTIES.Article),i}(a),ust=function(t){function i(n,i){t.call(this,n);this.consts=i;this.propertyNames=[i.UI_PROPERTIES.Accessible]}return n(i,t),i.prototype.load=function(){var n=!this.utils.isTab(this.deployable);this.generateSingle(this.consts.UI_PROPERTIES.Accessible,n);t.prototype.load.call(this)},i}(a),gr=function(t){function i(n,i,r,u){t.call(this,n);this.consts=i;this.siteConfigManager=r;this.deployablesManagerFactory=u;this._parentType=n.parentType;this._isLmsDeployable=this._parentType==i.DEPLOYABLE_TYPE.Course||this._parentType==i.DEPLOYABLE_TYPE.Lesson;this._parentId=n.parentId;this.propertyNames=[i.UI_PROPERTIES.Completed,i.UI_PROPERTIES.StrikedOut,i.UI_PROPERTIES.Uncompleted,i.UI_PROPERTIES.Active,i.UI_PROPERTIES.Inactive,i.UI_PROPERTIES.Phantom,i.UI_PROPERTIES.ProgressBar]}return n(i,t),i.prototype.load=function(){this._isLmsDeployable?this.handleLmsCompletion():this.handleTaskCompletion();t.prototype.load.call(this)},i.prototype.handleLmsCompletion=function(){var n=f.get("LmsCompletionManager"),t=n.isCompleted(this.deployable.deployableType,this.deployable.Id,this._parentType,this._parentId);t?this.generateSingle(this.consts.UI_PROPERTIES.Completed,!0):this.generateSingle(this.consts.UI_PROPERTIES.Uncompleted,!0)},i.prototype.handleTaskCompletion=function(){var n=[],t;this.deployable.deployableType==this.consts.DEPLOYABLE_TYPE.Task?(t=i._tasksManager.isTaskCompleted(this.deployable),this.handleCompletionProperties(n,t),this.handleActiveProperties(n,t),this.handlePhantomTask(n,this.deployable.Settings)):this.utils.isTasksTab(this.deployable)&&n.push(a.prop(this.consts.UI_PROPERTIES.ProgressBar));this.properties=n},i.prototype.handleCompletionProperties=function(n,t){if(t){n.push(a.prop(this.consts.UI_PROPERTIES.Completed));var i=this.siteConfigManager.get();Number(i.TodoListSettings.strikeOutCompletedTasks)&&n.push(a.prop(this.consts.UI_PROPERTIES.StrikedOut))}else n.push(a.prop(this.consts.UI_PROPERTIES.Uncompleted))},i.prototype.handleActiveProperties=function(n,t){this.isActive(t)?n.push(a.prop(this.consts.UI_PROPERTIES.Active)):n.push(a.prop(this.consts.UI_PROPERTIES.Inactive))},i.prototype.isActive=function(n){var t=i._tasksManager.isTaskActive(this.deployable);return n&&!this.shouldPlayAfterCompletion()&&(t=!1),t},i.prototype.shouldPlayAfterCompletion=function(){var n=this.siteConfigManager.get();return Number(n.TodoListSettings.allowPlayAfterCompletion)},i.prototype.handlePhantomTask=function(n,t){t.Phantom&&n.push(a.prop(this.consts.UI_PROPERTIES.Phantom))},i}(a),fst=function(t){function i(n,r,u,f,e,o,s){t.call(this,n);this.featuresManager=r;this.commonEvents=u;this.consts=f;this.showInMenuCheckerFactory=e;this.siteConfigManager=o;this.customerLog=s;this.propertyNames=[i._visiblePropertyName,i._invisiblePropertyName]}return n(i,t),i.prototype.load=function(){var n=!0;this.checkTasksCondition(this.deployable)&&this.checkDisplayCondition(this.deployable)||(n=!1);n&&this.utils.isGroup(this.deployable)&&(n=this.getGroupVisibility(this.deployable,this.children));this.generateVisibleProprty(n);t.prototype.load.call(this)},i.prototype.getGroupVisibility=function(n,t){return this.utils.isTab(n)?this.getTabVisibility(n,t):this.utils.isCourse(n)?this.getCourseVisibility(n,t):this.utils.hasVisibleChildren(n,t)},i.prototype.getCourseVisibility=function(n,t){var i=this.utils.hasVisibleChildren(n,t),r=!!n.Quiz;return i||r},i.prototype.getTabVisibility=function(n){var t,i=this.utils.hasChildren(n),u=this.featuresManager.isFeatureEnabled("dontShowTabsWithNoVisibleChildren"),r;return u?t=i:(r=this.doesSupportSearchProviders(n),t=r||i),t||(this.utils.isTasksTab(n)&&this.customerLog("Show widget - not showing tasks tab because there are no tasks and the tab doesn't support search.",2),this.utils.isHelpTab(n)&&this.customerLog(k.formatString("Show widget - not showing tab named {0} because there are no children and the tab doesn't support search.",this.deployable.Name),2)),t},i.prototype.generateVisibleProprty=function(n){n?this.generateSingle(i._visiblePropertyName,!0):this.generateSingle(i._invisiblePropertyName,!0)},i.prototype.doesSupportSearchProviders=function(n){var t=!1,i=this.utils.supportsDeployableType(n,this.consts.DEPLOYABLE_TYPE.Tutorial);return i&&this.utils.isSearchEnabled()&&(t=!0),t},i.prototype.checkTasksCondition=function(n){var t=!0,i=this.siteConfigManager.get().TodoListSettings,r=this.utils.supportsDeployableType(n,this.consts.DEPLOYABLE_TYPE.Task);return i&&(r?(t=this.hasUncompletedChildren(i)&&1==i.isActive,t&&(t=this.checkCondition(i))):this.utils.isCollection(n)&&1==i.showOnlyTasksTab&&(t=!1)),t},i.prototype.checkCondition=function(n){var i=n.activateCondition,t=!0;return i&&(t=f.get("ConditionTreeEvaluator").evaluate(i),t||this.customerLog("Show widget - not showing tasks tab because it was segmented out by a condition in todo list settings.",2),this.commonEvents.deprecatedRaiseEvent(this.consts.EVENTS.TasksConditionEvaluated,this.siteConfigManager.get())),t},i.prototype.hasUncompletedChildren=function(n){var i=n.hideComplete&&parseInt(n.hideComplete),t;return i?(t=this.utils.hasUncompletedChildren(this.children),t||this.customerLog("Show widget - not showing tasks tab because all tasks are completed",2),t):!0},i.prototype.checkDisplayCondition=function(n){var t=this.showInMenuCheckerFactory.getDisplayConditionCheckerFunc(n.deployableType);return t(n)},i._visiblePropertyName=a.prop(f.get("Consts").UI_PROPERTIES.Visible),i._invisiblePropertyName=a.prop(f.get("Consts").UI_PROPERTIES.Invisible),i}(a),est=function(){function n(n,t,i,r){this._lib=n;this._propertyUtils=t;this._propertiesFactory=i;this._deployable=r.deployable;this._deployableChildren=r.deployableChildren;this._parentType=r.parentType;this._parentId=r.parentId;this.createNewProperties()}return n.prototype.getAll=function(){var t=this,n=[];return this._lib.wrapFESession(function(){for(var i=0;i<t._properties.length;i++)n=n.concat(t._properties[i].getAll())}),n},n.prototype.clearCache=function(){for(var n=0;n<this._properties.length;n++)this._properties[n].clear()},n.prototype.hasProperty=function(n,t){for(var i=0;i<this._properties.length;i++)if(this._properties[i].canGenerate(n)&&this._properties[i].hasProperty(n,t))return!0;return!1},n.prototype.createNewProperties=function(){var n={lib:this._lib,deployable:this._deployable,logger:{},children:this._deployableChildren,utils:this._propertyUtils,parentType:this._parentType,parentId:this._parentId};this._properties=this._propertiesFactory.generateAll(n)},n}();f.register("PropertiesGeneratorFactory").asCtor(ost).dependencies("Lib,PropertyUtils,PropertiesFactory");nu=function(){function n(n){var t=n.id,i;this._type=n.type;this._typeId=n.typeId;this._id=t;this._description=n.description;this._children=n.childNodes;this._name=n.name;this._propertiesGenerator=n.propertiesGenerator;this._keywords=n.keywords?n.keywords:[];i=n.activateFunction;this.activate=function(n){i(t,n)}}return n.prototype.children=function(){return this._children},n.prototype.properties=function(n){return n&&this._propertiesGenerator.clearCache(),this._propertiesGenerator},n.prototype.type=function(){return this._type.toLowerCase()},n.prototype.typeId=function(){return this._typeId},n.prototype.name=function(){return this._name},n.prototype.id=function(){return this._id},n.prototype.description=function(){return this._description||""},n.prototype.keywords=function(){return this._keywords},n}();f.register("DeployableTreeNodeCreator").asInstance(function(n){return new nu(n)});f.register("DeployableTreeNodeFactory").asCtor(sst).dependencies("Consts, CommonUtils, DeployableTreeNodeCreator, PropertiesGeneratorFactory, DeployablesManagerFactory");f.register("UiDataProvider").asCtor(hst).dependencies("Consts, ObjectsTreeGenerator, DeployablesManagerFactory, ArrayUtils, PropertyUtils, CommonEvents");f.register("ObjectsTreeGenerator").asCtor(cst).dependencies("DeployableTreeNodeFactory, DeployablesManagerFactory");f.register("ObjectTreePercentageCalculator").asCtor(lst).asProto().dependencies("Lib, FeaturesManager");f.register("WalkthruStepsLoader").asCtor(ast).dependencies("SettingsFile,WmAjax,DataFixer,CommonUtils,StepUtils,Logger,LanguageManager,CommonEvents,SiteConfigManager,WalkthrusContainer");tu=function(t){function i(n,i){var r={deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.Category};t.call(this,r);this._name="Category"}return n(i,t),i}(y);f.register("CategoriesManager").asCtor(tu).dependencies("Lib, Consts");iu=function(t){function i(n,i,r){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.Tutorial});this.permalinkManager=r;this._name="Walkthru"}return n(i,t),i.prototype.activateById=function(n,t){WalkMeAPI.startWalkthruById({id:n,fromStep:0,playInitiator:t})},i.prototype.autoStartEnabled=function(){return this.permalinkManager.isTrainingInStartingMode()?!1:!0},i}(y);f.register("TutorialsManager").asCtor(iu).dependencies("Lib, Consts, PermalinkManager");ru=function(t){function i(n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){var ut=this,it,rt;t.call(this,{lib:n,type:i.DEPLOYABLE_TYPE.Task});this.consts=i;this.siteConfigManager=r;this.recorderServerManager=u;this.clientStorageManager=f;this.logger=e;this.walkMeInfo=o;this.contentsManager=s;this.tutorialsManager=h;this.commonEvents=c;this.auditTasksManager=l;this.walkthrusContainer=a;this.auditingEnabledIndicator=v;this.deployablesManagerFactory=y;this.dictionaryUtils=p;this.conditionCheckerFactory=w;this.settingsValuesRetriever=b;this.arrayUtils=k;this.conditionTreeEvaluator=d;this.businessSolutionsManager=g;this._todoListDataSynchronizer=nt;this.featuresManager=tt;this._name="Task";this.customerLog=_makeTutorial.Logger.wrapCustomerLog(kt);this._isPreviewMode=o.getEnvironmentId()==i.SOURCES.preview;this._isPlayMode=o.getEnvironmentId()==i.SOURCES.play;this._siteConfig=r.get();it=parseInt(this._siteConfig.TodoListSettings.isActive)&&this.conditionTreeEvaluator.evaluate(this._siteConfig.TodoListSettings.activateCondition);rt=u.get();this._endUserId=n.getEndUserId();this._logError=e.error;this.setDeployables([]);this.customerLog('Initializing TodoListManager (isActive: "'+it+'", serverAddress: "'+rt+'", userGuid: "'+o.getUserGuid()+'", endUserId: "'+this._endUserId+'")',3);window.walkMeRemoveTasksData&&(f.removeData(this._todoListDataSynchronizer.getEndUserUniqueDataKey(this._endUserId)),window.walkMeRemoveTasksData=!1);s.onActivated(function(n,t){ut.updateDeployableCompleted(n,t)})}return n(i,t),i.prototype.init=function(){this._todoListDataSynchronizer.init()},i.prototype.setDeployables=function(n){if(n){t.prototype.setDeployables.call(this,n);var i=parseInt(this._siteConfig.TodoListSettings.isActive)&&this.conditionTreeEvaluator.evaluate(this._siteConfig.TodoListSettings.activateCondition);i=i&&n&&n.length>0;this.setActiveState(i);this.removeInvalidTasks()}},i.prototype.activateById=function(n,t){var i=this.getById(n),u=this.deployablesManagerFactory.get(i.RelatedDeployableType),r;try{t=t||{type:this.consts.STEP_PLAY_INITIATOR_ENUM.NONE};t.objectId=void 0==t.id?t.objectId:t.id;this.auditTasksManager.auditTaskPlayed(i,t)}catch(f){this._logError(f)}r={type:this.consts.STEP_PLAY_INITIATOR_ENUM.TASK,objectId:n};u.activateById(i.RelatedDeployableId,r)},i.prototype.getById=function(n){var i=t.prototype.getById.call(this,n);if(i&&this.validateTask(i))return i},i.prototype.isTaskCompleted=function(n){var t=this.getCompletedTasks();return!!t&&this.arrayUtils.inArray(n.Id,t)>-1},i.prototype.isTaskConditionsPassed=function(n){var t=!0,i;switch(n.RelatedDeployableType){case this.consts.DEPLOYABLE_TYPE.Tutorial:n.RelatedDeployableId&&(i=this.walkthrusContainer.getWalkthruById(n.RelatedDeployableId),t=_makeTutorial.canShowTutorial(i))}return t},i.prototype.isTaskActive=function(n){var t=n.Settings;return parseInt(t.ActivateConditionEnabled)?this.conditionTreeEvaluator.evaluate(t.ActivateCondition):!0},i.prototype.isTaskDisplayed=function(n){var t=n.Settings,i,r;return parseInt(t.DisplayConditionEnabled)?(i=this.conditionCheckerFactory.createOld({bypassUIChange:!0,featureName:kt,elementName:n.Name}),r=i.getCurrentEvaluationValueAndStopEvaluating(t.DisplayCondition),r):!0},i.prototype.compareTasks=function(n,t){return n.Index<t.Index?-1:n.Index>t.Index?1:0},i.prototype.areAllTaskGoalsCompleted=function(n,t){for(var r,i=0;i<n.Goals.length;i++)if((r=n.Goals[i],r.Id)&&this.arrayUtils.inArray(r.Id,t.CompletedGoals)===-1)return 0;return 1},i.prototype.deactivateIfAllTasksCompleted=function(n,t){this.areAllTasksCompleted(n,t)&&this.deactivate()},i.prototype.areAllTasksCompleted=function(n,t){var u,i,r;for(u in n)if(i=n[u],this.validateTask(i)&&((r=t[i.Id],!r)||!r.IsCompleted))return!1;return!0},i.prototype.validateTask=function(n){if(!n.Id)return!1;if(n.RelatedDeployableType!==this.consts.DEPLOYABLE_TYPE.Tutorial&&n.RelatedDeployableType!==this.consts.DEPLOYABLE_TYPE.Content&&n.RelatedDeployableType!==this.consts.DEPLOYABLE_TYPE.BusinessSolution)return this.customerLog("Task (id: "+n.Id+") is of unknown type: "+n.RelatedDeployableType),!1;if(!n.RelatedDeployableId)return this.customerLog("Task (id: "+n.Id+") does not have any related Walk-Thru id"),!1;var t;return(t=n.RelatedDeployableType===this.consts.DEPLOYABLE_TYPE.Tutorial?this.tutorialsManager:n.RelatedDeployableType===this.consts.DEPLOYABLE_TYPE.Content?this.contentsManager:this.businessSolutionsManager,!t.getById(n.RelatedDeployableId))?(this.customerLog("Task (id: "+n.Id+") related deployable ("+n.RelatedDeployableType+") (id: "+n.RelatedDeployableId+") does not exist"),!1):!0},i.prototype.syncTaskCompletionWithLocalData=function(n){var r,i,u,t,f,e;this.customerLog("syncing local tasks completion data",3);this.customerLog(n,5);for(r in n)if(n.hasOwnProperty(r)){if(i=n[r],i.IsCompleted)continue;u=i.CompletedGoals;t=this.getById(r);t&&t.Goals&&(f=t.Goals,f&&u&&u.length>0&&f.length>0&&(e=this.areAllTaskGoalsCompleted(t,i),e&&(i.IsCompleted=1,this.completeTask(t,n))))}},i.prototype.getGoalFromTask=function(n,t){for(var i=0;i<n.Goals.length;i++)if(n.Goals[i].Id==t)return n.Goals[i]},i.prototype.hasTaskGoalCompletionCondition=function(){return void 0===this._hasTaskGoalCompletionConditionCache&&(this._hasTaskGoalCompletionConditionCache=this.hasTaskGoalCompletionConditionInner()),this._hasTaskGoalCompletionConditionCache},i.prototype.hasTaskGoalCompletionConditionInner=function(){return this.checkForDeployablesAutostartConditions()||this.checkForWidgetConditions()||this.checkForAbExpermintesGoalsConditions()},i.prototype.checkForDeployablesAutostartConditions=function(){var t,i,r,f,e,o,s,u,n;for(u in this.consts.DEPLOYABLE_TYPE)if(this.consts.DEPLOYABLE_TYPE.hasOwnProperty(u)&&(o=this.consts.DEPLOYABLE_TYPE[u],r=this.deployablesManagerFactory.get(o),i=r&&r.getAll()))for(n=0;n<i.length;n++)if(t=i[n],f=this.settingsValuesRetriever.getSettingsValue(t.Settings,"ASCTEnabled",0),f&&(e=this.settingsValuesRetriever.getSettingsValue(t.Settings,"ASCT",""),s=this.isTaskGoalFunctions(e)))return!0;return!1},i.prototype.checkForWidgetConditions=function(){var n=this.settingsValuesRetriever.getSettingsValue(this._siteConfig.Settings,this.consts.DISPLAY_WIDGET_CONDITION,"");return this.isTaskGoalFunctions(n)},i.prototype.checkForAbExpermintesGoalsConditions=function(){var u=this.deployablesManagerFactory.get(this.consts.DEPLOYABLE_TYPE.AbExperiment),f,e,i,o,r,n,t;if(!u)return!1;for(r=u.getAll(),n=0;n<r.length;n++)for(f=r[n],i=f.Goals,t=0;t<i.length;t++)if(e=i[t],o=this.settingsValuesRetriever.getSettingsValue(e.Settings,"Conditions",""),this.isTaskGoalFunctions(o))return!0},i.prototype.isTaskGoalFunctions=function(n){function t(n){return"Func"==n.nodeType?"TaskGoalReached"==n.funcName||"TaskGoalNotReached"==n.funcName:("And"==n.nodeType||"Or"==n.nodeType)&&(t(n.leftSon)||t(n.rightSon))}return null!=n&&t(n)},i.prototype.completeGoal=function(n,t,i){var r=t[n],u,f;r.CompletedGoals.push(i);u=this.deployablesDict[n];r.IsCompleted=this.areAllTaskGoalsCompleted(u,r);f=this.getGoalFromTask(u,i);r.IsCompleted?this.completeTask(u,t,f):(t[r.TaskId]=r,this.customerLog("Server update completed GOAL (taskId: "+n+", goalId: "+i+")",3),this._todoListDataSynchronizer.updateTaskCompleted(this._endUserId,null,f,t,this.deployablesDict,this.isAuditEnabled()))},i.prototype.isAuditEnabled=function(){return this.auditingEnabledIndicator.isEnabled()&&!this._isPreviewMode},i.prototype.completeTask=function(n,t,i){try{var r=i?i.Id:-1;t[n.Id]={TaskId:n.Id,IsCompleted:1,CompletedGoals:[]};this.commonEvents.raiseEvent(this.consts.EVENTS.TaskCompleted,{TaskId:n.Id});this.deactivateIfAllTasksCompleted(this.deployablesDict,t);this.customerLog("Server update completed TASK (taskId: "+n.Id+", goalId: "+r+")",3);this._todoListDataSynchronizer.updateTaskCompleted(this._endUserId,n,i,t,this.deployablesDict,this.isAuditEnabled())}catch(u){this.deactivate();this._logError(u,"An error occurred while trying to complete a Task")}},i.prototype.didTasksFinishLoading=function(){return this._tasksFinishedLoading},i.prototype.setTasksFinishedLoadingCallback=function(n){this._tasksFinishedLoadingCallback=n},i.prototype.raiseTasksFinishedCallback=function(n){this._tasksFinishedLoading=!0;this._tasksFinishedLoadingCallback&&this._tasksFinishedLoadingCallback(n);this._tasksFinishedLoadingCallback=null},i.prototype.loadTasks=function(n,t){var i=this,r,u;if(this.customerLog("loadTasks - start loading completion data",3),this._isPlayMode)return this.customerLog("loadTasks - Play mode - returning empty tasks completion data",3),this.deactivateIfAllTasksCompleted(this.deployablesDict,{}),void n({});if(!this._endUserId)return this.customerLog("loadTasks - No end user - Deactivating",3),void this.deactivate();try{r=function(t){i.syncTaskCompletionWithLocalData(t);i.customerLog("Tasks completion data loaded successfully",3);i.commonEvents.raiseEvent(i.consts.EVENTS.TasksLoaded,{completedTasks:t});i.deactivateIfAllTasksCompleted(i.deployablesDict,t);n&&n(t);i.raiseTasksFinishedCallback()};u=function(n){i.customerLog("Tasks completion data failed loading",3);i.deactivate();t&&t(n)};this.shouldRetrieveCompletedTasks()?this._todoListDataSynchronizer.asyncRetrieveCompletedTasks(this._endUserId,this.getTaskGoalsIds(this.deployablesDict),r,u):r({})}catch(f){this.deactivate();this._logError(f,"An error occurred while trying to load completed tasks to the local storage")}},i.prototype.getTaskGoalsIds=function(n){var t={};return mtjQuery.each(n,function(n,i){t[n]=i.Goals?mtjQuery.map(i.Goals,function(n){return n.Id}):[]}),t},i.prototype.getTaskIdByGoalId=function(n){for(var r,i=this.dictionaryUtils.getDictionaryKeys(this.deployablesDict),t=i.length-1;t>=0;t--)if(r=this.deployablesDict[i[t]],this.hasWantedGoal(r,n))return r.Id},i.prototype.hasWantedGoal=function(n,t){for(var i=n.Goals.length-1;i>=0;i--)if(n.Goals[i].Id==t)return t},i.prototype.getCompletedTasks=function(){var t,n;if(this.customerLog("Getting completed tasks",3),this._isPlayMode)return this.customerLog("Play mode - returning empty array of completed tasks",3),[];if(!this._endUserId)return this.deactivate(),null;if(!this.shouldRetrieveCompletedTasks())return null;try{return(t=this._todoListDataSynchronizer.syncRetrieveCompletedTasks(this._endUserId,this.getTaskGoalsIds(this.deployablesDict)),!t)?null:(n=[],mtjQuery.each(t,function(t,i){i.TaskId&&i.IsCompleted&&n.push(i.TaskId)}),this.customerLog("Returning completed tasks ("+n+")",3),n)}catch(i){this.deactivate();this._logError(i,"An error occurred while trying to retrieve completed tasks")}return null},i.prototype.updateGoalCompleted=function(n){var r=this,t=n.RelatedObjectId,i=n.Id,u=n.Name;if(this.customerLog("Updating completed goal (taskId: "+t+", goalId: "+i+", goalName: "+u+")",3),this.commonEvents.sendAutomationEvent(this.consts.EVENTS.Goals.GoalReached,{GoalId:i,GoalName:u}),this._isPlayMode)return void this.customerLog("Play mode - exiting without updating",3);if(!this._endUserId)return void this.deactivate();try{this._todoListDataSynchronizer.asyncRetrieveCompletedTasks(this._endUserId,this.getTaskGoalsIds(this.deployablesDict),function(n){var u=n[t];(u||(u={TaskId:t,IsCompleted:0,CompletedGoals:[]},n[t]=u),u.IsCompleted)||r.arrayUtils.inArray(i,u.CompletedGoals)>-1||r.completeGoal(u.TaskId,n,i)})}catch(f){this.deactivate();this._logError(f,"An error occurred while trying to update task completed")}},i.prototype.updateDeployableCompleted=function(n,t){var i=this;if(this.customerLog("Updating completed deployable ("+t+") deployableId: "+n+")",3),this._isPlayMode)return void this.customerLog("Play mode - exiting without updating",3);if(!this._endUserId)return void this.deactivate();mtjQuery.each(this.deployablesDict,function(r,u){u.Id&&u.RelatedDeployableType===t&&parseInt(u.RelatedDeployableId)===n&&(u.Goals&&u.Goals.length>0||i._todoListDataSynchronizer.asyncRetrieveCompletedTasks(i._endUserId,i.getTaskGoalsIds(i.deployablesDict),function(n){n[u.Id]&&n[u.Id].IsCompleted||i.completeTask(u,n)}))})},i.prototype.getTasksGoalsNotCompleted=function(){var i=this,n,t;return this._isPlayMode?(this.customerLog("Play mode - not getting tasks not completed goals",3),[]):(this.customerLog("Getting tasks uncompleted goals",3),n=this.shouldRetrieveCompletedTasks()?this._todoListDataSynchronizer.syncRetrieveCompletedTasks(this._endUserId,this.getTaskGoalsIds(this.deployablesDict)):[],n||(n=[]),t=[],mtjQuery.each(this.deployablesDict,function(r,u){var f,e;u.Id&&((f=n[u.Id],f&&f.IsCompleted)||(e={TaskId:u.Id,Name:u.Name,GoalsNotCompleted:[]},mtjQuery.each(u.Goals,function(n,t){var r,u;t.Id&&(r=f&&f.CompletedGoals?f.CompletedGoals:[],i.arrayUtils.inArray(t.Id,r)===-1&&(u=mtjQuery.extend(!0,{},t),e.GoalsNotCompleted.push(u)))}),t.push(e)))}),t)},i.prototype.getApiTasks=function(n){var t=this,i,r;return this.customerLog("Getting tasks fot the API",3),i=this.getCompletedTasks(),i||(i=[]),r=[],mtjQuery.each(this.deployablesDict,function(u,f){if(t.validateTask(f)){var o=i&&t.arrayUtils.inArray(f.Id,i)>-1?1:0,e={Index:f.OrderIndex,Name:f.Name,Id:f.Id,IsCompleted:o,Settings:d(f.Settings),Description:f.Description,RelatedDeployableType:f.RelatedDeployableType,RelatedDeployableId:f.RelatedDeployableId};e.TaskProperties=e.Settings;n&&(e.ConditionsPassed=t.isTaskConditionsPassed(f),e.IsActive=t.isTaskActive(f),e.IsDisplayed=t.isTaskDisplayed(f));delete e.Settings.ActivateConditionEnabled;delete e.Settings.ActivateCondition;r.push(e)}}),r.sort(this.compareTasks),r},i.prototype.isTaskGoalReached=function(n,t){var r=this._todoListDataSynchronizer.syncRetrieveCompletedTasks(this._endUserId,this.getTaskGoalsIds(this.deployablesDict)),i;return r?(i=r[n],!i)?!1:i.IsCompleted?!0:this.arrayUtils.inArray(t,i.CompletedGoals)!==-1:!1},i.prototype.isActive=function(){return this._isActive},i.prototype.setActiveState=function(n){this.customerLog("Setting todo list active state to: "+n,3);this._isActive=n},i.prototype.activate=function(){var n=this;this._todoListDataSynchronizer.asyncRetrieveCompletedTasks(this._endUserId,this.getTaskGoalsIds(this.deployablesDict),function(t){n.areAllTasksCompleted(n.deployablesDict,t)||n.setActiveState(!0)})},i.prototype.deactivate=function(){this.raiseTasksFinishedCallback(!1);this.setActiveState(!1)},i.prototype.toggleActiveState=function(){this.setActiveState(!this.isActive())},i.prototype.removeInvalidTasks=function(){for(var t=this.getAll(),n=0;n<t.length;n++)this.validateTask(t[n])||delete this.deployablesDict[t[n].Id]},i.prototype.shouldRetrieveCompletedTasks=function(){return!r.isEmptyObject(this.deployablesDict)||this.featuresManager.isFeatureEnabled("forceRetrieveCompletedTasks")},i}(y);f.register("TodoListManager").asCtor(ru).dependencies("Lib, Consts, SiteConfigManager, RecorderServerManager, ClientStorageManager, Logger, WalkMeInfo, ContentsManager, TutorialsManager, CommonEvents, AuditTasksManager, WalkthrusContainer, AuditingEnabledIndicator, DeployablesManagerFactory, DictionaryUtils,ConditionCheckerFactory, SettingsValuesRetriever, ArrayUtils, ConditionTreeEvaluator, BusinessSolutionsManager, TodoListDataSynchronizer, FeaturesManager");uu=function(t){function i(n,i,r){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.Launcher});this._name="Launcher";this._launcherActionDataProvider=r}return n(i,t),i.prototype.getActionData=function(n){var i=t.prototype.getActionData.call(this,n);return this._launcherActionDataProvider.fillActionData(n,i)},i.prototype.isWithAction=function(n){return this._launcherActionDataProvider.isWithAction(n)},i}(y);f.register("LaunchersManager").asCtor(uu).dependencies("Lib, Consts, LauncherActionDataProvider");fu=function(t){function i(n,i,r,u,f,e,o,s,h,c,l,a){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.Shuttle});this.Consts=i;this.win=r;this.TimerManager=u;this.WalkMeGoalsManager=f;this.ClickAuditManager=e;this.CommonUtils=o;this.playGuidGenerator=s;this.walkmeVisibleReporter=h;this.htmlDecoder=c;this.logger=l;this.commonEvents=a;this._name="Shuttle"}return n(i,t),i.prototype.activateById=function(n,t){var o=this,r,f,u;try{if(t=t||{},r=this.deployablesDict[n],!r)return void this.logger.customerLog(e("Shuttle with id {0} doesn't exist",n),3);this.ClickAuditManager.SendClickAudit(this.Consts.DEPLOYABLE_TYPE.Shuttle,r.Id,{type:t.type,id:t.objectId});f=parseInt(this.CommonUtils.getSettingsValue(r.Settings,i.PLAY_MODE_SETTING_KEY,this.Consts.PLAY_MODE.SameTab));this.commonEvents.raiseEvent(this.Consts.EVENTS.Shuttles.ActivatingShuttle,{shuttle:r});u=this.getShuttleUrl(r.DestinationUrl);this.CommonUtils.isValidUrl(u)&&(this.WalkMeGoalsManager.startWatchingDeployable(r,this.playGuidGenerator.generateNewPlayGuid(r.Id)),this.walkmeVisibleReporter.report(),f==this.Consts.PLAY_MODE.NewTab&&this.win.open(u,"_blank"),f==this.Consts.PLAY_MODE.SameTab&&this.TimerManager.libSetTimeout(function(){o.win.location.href=u},i.TIME_BEFORE_REDIRECTING))}catch(s){this.logger.customerLog(e("Failed playing shuttle with id {0}. Exception is {1}",n,s),3)}},i.prototype.getShuttleUrl=function(n){return(n=this.htmlDecoder.decodeHtml(n,["&"]),this.win._walkmeInternals.customShuttleUrl)?this.win._walkmeInternals.customShuttleUrl(n):n},i.PLAY_MODE_SETTING_KEY="ShuttlePlayMode",i.TIME_BEFORE_REDIRECTING=100,i}(y);f.register("ShuttlesManager").asCtor(fu).dependencies("Lib, Consts, win, TimerManager, WalkMeGoalsManager, ClickAuditManager, CommonUtils, PlayGuidGenerator,WalkmeVisibleReporter, HtmlDecoder, Logger, CommonEvents");eu=function(t){function i(n,i,r,u,f,e,o,s,h,c){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.Content});this.consts=i;this.logger=h;this.commonEvents=c;this._cdnServer=null;this._currentContentActivator=null;this._activateCallbacks=[];this._name="Content";this._cdnServer=r.get();this._clickAuditManager=f;this._walkMeGoalsManager=u;this._featuresManager=e;this._playGuidGenerator=o;this._walkmeVisibleReporter=s}return n(i,t),i.prototype.onActivated=function(n){this._activateCallbacks.push(n)},i.prototype.activateById=function(n,t){var i,u,r;try{if(t=t||{},i=this.deployablesDict[n],!i)return void this.logger.customerLog(e("Content with id {0} doesn't exist",n),3);for(u={lib:this.lib,cdnServer:this._cdnServer,clickAuditManager:this._clickAuditManager,content:i},this.removeContent(),this.commonEvents.raiseEvent(this.consts.EVENTS.Contents.ActivatingContent,{content:i}),this._currentContentActivator=this.getContentActivator(i.Type,u),this._currentContentActivator.activateContent(i,t.type,t.objectId),this._walkmeVisibleReporter.report(),this._walkMeGoalsManager.startWatchingDeployable(i,this._playGuidGenerator.generateNewPlayGuid(i.Id)),r=0;r<this._activateCallbacks.length;r++)this._activateCallbacks[r](i.Id,this.consts.DEPLOYABLE_TYPE.Content)}catch(f){this.logger.customerLog(e("Failed playing content with id {0}. Exception is {1}",n,f),3)}},i.prototype.getContentActivator=function(n,t){var r=null,u;switch(n){case i.CONTENT_TYPES.Video:u=this.getVideoIdAndVendor(t.content.Url);u?(t.videoId=u.videoId,t.vendorName=u.vendorName,r=new dtt(t)):r=new br(t);break;case i.CONTENT_TYPES.Article:r=new br(t);break;default:throw e("Invalid content type : {0}",n);}return r},i.prototype.getVideoIdAndVendor=function(n){var t;return r.each([{regex:/^(?:http|https):\/\/.*youtube\..*v=([\w-]+)/i,vendorName:"youtube"},{regex:/^(?:http|https):\/\/.*youtu.be\/([\w-]+)/i,vendorName:"youtube"},{regex:/^(?:http|https):\/\/.*youtube.*\/embed\/([\w-]+)/i,vendorName:"youtube"},{regex:/^(?:http:\/\/|https:\/\/).*vimeo.*\/([\w-]+)/i,vendorName:"vimeo"}],function(i,r){var u=n.match(r.regex);if(u&&u.length>1)return t={videoId:u[1],vendorName:r.vendorName},!1}),!t&&this._featuresManager.isFeatureEnabled("html5video")&&(t={vendorName:"html5video"}),t},i.prototype.removeContent=function(){this._currentContentActivator&&this._currentContentActivator.removeContent()},i.prototype.types=function(){return i.CONTENT_TYPES},i.CONTENT_TYPES={Article:0,Video:1},i}(y);f.register("ContentsManager").asCtor(eu).dependencies("Lib, Consts, CdnServer, WalkMeGoalsManager, ClickAuditManager, FeaturesManager, PlayGuidGenerator,WalkmeVisibleReporter, Logger, CommonEvents");ou=function(t){function i(n,i){var r={deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.Collection};t.call(this,r);this._name="Tab"}return n(i,t),i}(y);f.register("CollectionsManager").asCtor(ou).dependencies("Lib, Consts");su=function(t){function i(n,i,r,u){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.Course});this.consts=i;this.quizPlayer=r;this.initiatorManager=u;this._name="Course"}return n(i,t),i.prototype.activateQuizByCourseId=function(n){var t=this.deployablesDict[n],i=t&&t.Quiz,r;i&&(r=this.quizPlayer,this.initiatorManager.setForScope({type:this.consts.STEP_PLAY_INITIATOR_ENUM.COURSE,objectId:n,appType:this.consts.EVENT_SENDER_EVENT_APPS.Course},function(){r.playQuiz(i)}))},i.prototype.getCourseByQuizId=function(n){var i,t;for(i in this.deployablesDict)if(this.deployablesDict.hasOwnProperty(i)&&(t=this.deployablesDict[i],t.Quiz&&t.Quiz.Id==n))return t},i.prototype.getQuizByCourseId=function(n){var t=this.deployablesDict[n];return t&&t.Quiz},i.prototype.releaseAll=function(n){this.quizPlayer.releaseAll(n)},i}(y);f.register("CoursesManager").asCtor(su).dependencies("Lib, Consts, QuizPlayer, InitiatorManager");hu=function(t){function i(n,i){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.Lesson});this._name="Lesson"}return n(i,t),i}(y);f.register("LessonsManager").asCtor(hu).dependencies("Lib, Consts");cu=function(t){function i(n,i){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.AbExperiment});this._name="Experiments"}return n(i,t),i}(y);f.register("ExperimentsManager").asCtor(cu).dependencies("Lib, Consts");lu=function(t){function i(n,i,r,u,f,e,o,s,h,c,l){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.ShoutOut});this.Consts=i;this.UIComponentsFactory=r;this.WalkMeGoalsManager=u;this.ClickAuditManager=f;this.ClientOrServerStorageManager=e;this.actionDataProvider=o;this.commonEvents=s;this.playGuidGenerator=h;this.walkmeVisibleReporter=c;this.logger=l;this._appendChain=[];this._activeComponents=[];this._name="ShoutOut";this.type=i.DEPLOYABLE_TYPE.ShoutOut}return n(i,t),i.prototype.getStopConditionKey=function(n,t){return i.STOP_CONDITION_KEY+this.type+"-"+n.Id+"-"+t},i.prototype.activateById=function(n,t){var r=this,u,f,o,s;try{return this.handleActiveComponent(n,t)?void 0:(u=this.deployablesDict[n],!u)?void this.logger.customerLog(e("ShoutOut with id {0} doesn't exist",n),3):(f=this.UIComponentsFactory.get(u.UiComponentId,[u]),this.pushActiveComponent(f),o=this.auditActivation(u,t),f.once("show-end",function(){r.WalkMeGoalsManager.startWatchingDeployable(u,r.playGuidGenerator.generateNewPlayGuid(u.Id));f.once("action-start",function(n,t){var f;t==r.Consts.DEPLOYABLE_ACTION_TYPES.RemindMeLater?f=r.Consts.SHOUTOUT_CLICK_TYPE.RemindMeLater:t==r.Consts.DEPLOYABLE_ACTION_TYPES.Action?(r.setStopCondition(u,i.STOP_CONDITIONS.Action),f=r.Consts.SHOUTOUT_CLICK_TYPE.Action):t==r.Consts.DEPLOYABLE_ACTION_TYPES.Close&&(r.setStopCondition(u,i.STOP_CONDITIONS.Cancel),f=r.Consts.SHOUTOUT_CLICK_TYPE.Close);r.auditClick(u,r.type,f,o);r.commonEvents.raiseEvent(r.Consts.EVENTS.ShoutOutClosed,{shoutOut:u,clickType:f})});f.once("x-clicked",function(){r.setStopCondition(u,i.STOP_CONDITIONS.XButton);r.auditClick(u,r.type,r.Consts.SHOUTOUT_CLICK_TYPE.XButton,o);r.commonEvents.raiseEvent(r.Consts.EVENTS.ShoutOutClosed,{shoutOut:u,clickType:r.Consts.SHOUTOUT_CLICK_TYPE.XButton})});f.once("destroy-end",function(){r.commonEvents.raiseEvent(r.Consts.EVENTS.UIComponentDestroyed);r.commonEvents.raiseEvent(r.Consts.EVENTS.DeployableDestroyed)})}),this.appendComponent(f,u),this.walkmeVisibleReporter.report(),s={deployable:u,uiComponent:f,deployableType:this.type},this.commonEvents.raiseEvent(this.Consts.EVENTS.DeployableCreated,s),f)}catch(h){this.logger.customerLog(e("Failed playing shoutOut with id {0}. Exception is {1}",n,h),3)}},i.prototype.getActionData=function(n){var i=t.prototype.getActionData.call(this,n);return this.actionDataProvider.fillActionData(n,i)},i.prototype.isWithAction=function(n){return this.actionDataProvider.isWithAction(n)},i.prototype.handleActiveComponent=function(n,t){var i=this.getActiveComponent(n);return i&&this.isLauncherInitiation(t)&&this.flickerActiveComponent(i),!!i},i.prototype.isLauncherInitiation=function(n){return n&&n.type==this.Consts.STEP_PLAY_INITIATOR_ENUM.LAUNCHER},i.prototype.flickerActiveComponent=function(n){n.unbind("hide-end."+i.ACTIVE_COMPONENT_SUFFIX);n.once("hide-end."+i.ACTIVE_COMPONENT_SUFFIX,function(){n.show()});n.hide()},i.prototype.getActiveComponent=function(n){for(var t=this._activeComponents.length-1;t>=0;t--)if(this._activeComponents[t].getComponent().Id==n)return this._activeComponents[t]},i.prototype.appendComponent=function(n){var t=this;n.once("append-end",function(){n.show();t.handleNextShoutOut()});this._isAppending?this._appendChain.push(n):(this._isAppending=!0,n.append())},i.prototype.handleNextShoutOut=function(){var n=this._appendChain.splice(0,1)[0];n?n.append():this._isAppending=!1},i.prototype.setStopCondition=function(n,t){if(n.Settings.stopOn&&n.Settings.stopOn[t]){var i=this.getStopConditionKey(n,t);this.ClientOrServerStorageManager.saveData(i,1,tt)}},i.prototype.auditActivation=function(n,t){return t=t||{},this.ClickAuditManager.SendClickAudit(this.type,n.Id,{type:t.type,id:t.objectId})},i.prototype.auditClick=function(n,t,i,r){this.ClickAuditManager.SendShoutOutAudit(n.Id,t,i,r)},i.prototype.pushActiveComponent=function(n){var t=this,r=this._activeComponents.length;this._activeComponents.push(n);n.bind(i.EVENT_DESTROY_BEGIN,function(){n.unbind(i.EVENT_DESTROY_BEGIN);t._activeComponents.splice(r,1)})},i.prototype.releaseAll=function(n){var t,r;try{for(t=0;t<this._activeComponents.length;t++)r=this._activeComponents[t],r.unbind(i.EVENT_DESTROY_BEGIN),r.destroy();this._activeComponents.length=0}catch(u){}n&&n()},i.prototype.autoStartEnabled=function(n){var r=this.deployablesDict[n],t=r.Settings.stopOn;for(var i in t)if(t.hasOwnProperty(i)&&this.checkStopCondition(r,i,t[i]))return!1;return!0},i.prototype.checkStopCondition=function(n,t,i){if(!i)return!1;var r=this.getStopConditionKey(n,t);if(this.ClientOrServerStorageManager.getData(r,!1))return!0},i.EVENT_DESTROY_BEGIN="destroy-begin.manager",i.ACTION_NAME_DESTROY="destroy",i.STOP_CONDITION_KEY="wm-stpcond-",i.ACTIVE_COMPONENT_SUFFIX="acs",i.COOKIE_LIFE_10_YEARS=31536e4,i.STOP_CONDITIONS={XButton:"x",Cancel:"close",Action:"action"},i}(y);f.register("ShoutOutsManager").asCtor(lu).dependencies("Lib, Consts, UIComponentsFactory, WalkMeGoalsManager, ClickAuditManager, ClientOrServerStorageManager, ShoutOutActionDataProvider, CommonEvents, PlayGuidGenerator, WalkmeVisibleReporter, Logger");au=function(t){function i(n,i,r){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.SearchProviderUrl});this._consts=i;this._conditionCheckerFactory=r;this._name="SearchProviderUrl";this.segmentedProvidersUrls=[]}return n(i,t),i.prototype.getAllSegmented=function(){return this.segmentedProvidersUrls},i.prototype.setSegmentedProviders=function(){var n,t;this.segmentedProvidersUrls=[];n=this.getAll();n.length>0&&(t=this._conditionCheckerFactory.createConditionChecker(n[0].Settings.DisplayCondition),this.segmentedProvidersUrls=r(n).filter(function(n,i){return t.getCurrentEvaluationValueAndStopEvaluating(i.Settings.DisplayCondition)}).map(function(n,t){return t.Id}).toArray())},i.STOP_CONDITIONS={Interacted:"interacted"},i}(y);f.register("SearchProviderUrlsManager").asCtor(au).dependencies("Lib, Consts, ConditionCheckerFactory");ii=function(t){function r(n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.Survey});this.consts=i;this.recorderServerManager=u;this.permalinkManager=f;this.guidGenerator=e;this.auditStepsManager=o;this.commonUtils=s;this.commonEvents=h;this.hostData=l;this.eventSender=a;this.logger=v;this.reportInitiatorMapper=y;this.endUsersManager=p;this.popupBalloonDisplayer=w;this.wmAjax=b;this.clientStorageManager=k;this.walkmeVisibleReporter=d;this.auditingEnabledIndicator=g;this.currentWalkthruData=nt;this.questionToEventMapper=tt;this._surveyStartedInCurrentPage=!1;this._surveyIsShown=!1;this._name="Survey";this._auditSource=c.get();this._getPermutationId=r.getCurrentPermutation()}return n(r,t),r.prototype.submitResults=function(n){return(this._surveyIsShown=!1,n.answers.length>0)?(this.sendResultsArrayToServer("SurveyCompleted",n),this.addSubmitCookie(n.surveyGuid),this.sendSurveyCompletedEvent(n,"CompletedWithAnswers"),!0):(this.sendSurveyCompletedEvent(n,"CompletedWithNoAnswers"),!1)},r.prototype.submitExit=function(n){this._surveyIsShown=!1;this.sendResultsArrayToServer("SurveyExited",n);this.sendSurveyCompletedEvent(n,"ExitButtonClicked")},r.prototype.sendSurveyCompletedEvent=function(n,t){var i={surveyGuid:n.surveyGuid,status:t};n.answers&&n.answers.length>0&&(i.answers=n.answers);this.commonEvents.raiseEvent(this.consts.EVENTS.Surveys.SurveyCompleted,i)},r.prototype.sendResultsArrayToServer=function(n,t){if(this.auditingEnabledIndicator.isEnabled()){t.permutationId=this._getPermutationId;t.endUserGuid=this.endUsersManager.getEndUserGuid();var u=o(t),i=this.wmAjax.execute({url:this.recorderServerManager.get()+"/Survey/"+n,data:{surveyDataSerialized:u},timeout:r.SEND_TO_SERVER_TIMEOUT});i.success(function(){});i.error(function(){})}},r.prototype.addSubmitCookie=function(n){var t="wm-SrvSmt-"+n;this.clientStorageManager.saveData(t,1,nt)},r.prototype.startSurvey=function(n,t){var r=this,u=!0,i,f;return this._surveyIsShown=!0,i=window.walkmeExternalSurvey,(this.commonEvents.raiseEvent(this.consts.EVENTS.Surveys.StartSurvey,n),i&&(n.surveyJson.Settings.isExternal||n.isSurveyExternal))?(this.logger.customerLog("Starting external survey"),n.playGuid=this.auditStepsManager._currentPlayGUID,n.source=this._auditSource,f=i(n,n.callback),f===!1?(u=!1,this.commonEvents.raiseEvent(this.consts.EVENTS.Surveys.SurveyFailedShowing)):this.sendSurveyPlayedEvent(n.surveyJson)):this.startInternalSurvey(n,function(t){t.show().then(function(){return r.commonEvents.raiseEvent("SurveyOnScreen")});r.sendSurveyPlayedEvent(n.surveyJson)}),this.reportSurveyStarted(n,t,n.surveyJson.Questions),u},r.prototype.startInternalSurvey=function(n,t){var r=n.surveyJson.Settings.shouldShowOneByOne;1==r?(this.logger.customerLog(e("Starting one by one survey with id {0} and name {1}",n.surveyJson.Id,n.surveyJson.Name)),i.e(4,function(i){var r=[i(70)];(function(){t(f.create("OneByOneSurvey",n))}).apply(null,r)})):(this.logger.customerLog(e("Starting regular survey with id {0} and name {1}",n.surveyJson.Id,n.surveyJson.Name)),i.e(5,function(i){var r=[i(80)];(function(){t(f.create("AllQuestionsSurvey",n))}).apply(null,r)}))},r.prototype.sendSurveyPlayedEvent=function(n){this.commonEvents.raiseEvent(this.consts.EVENTS.Surveys.SurveyPlayed,{surveyId:n.Id})},r.prototype.surveyIsShown=function(){return this._surveyIsShown},r.prototype.submitSurvey=function(n,t,i,r){var u=this.buildAnswersObjectForServer(n,i);n.submitResults(u);this.logger.customerLog(e("Submitting answers for survey with id {0} and name {1}",n.surveyJson.Id,n.surveyJson.Name));this.reportSurveySubmitted(n,t,i);r&&r()},r.prototype.surveyExited=function(n,t,i,r){this.commonEvents.raiseEvent(this.consts.EVENTS.Surveys.SurveyExited,{surveyParams:n,questions:t,answers:r,callback:i});this.logger.customerLog(e("Survey with id {0} and name {1} exited",n.surveyJson.Id,n.surveyJson.Name));var u=this.buildAnswersObjectForServer(n,[]);n.submitExit(u);this.reportSurveyExited(n,t);i&&i()},r.prototype.buildAnswersObjectForServer=function(n,t){var i={};return i.playGuid=n.surveyPlayGUID,i.surveyGuid=n.surveyJson.Guid,i.tutorialId=n.tutorialId,i.source=this._auditSource,i.customVarsData=this.commonUtils.getWindowData(w.Var,n.surveyJson.Settings.customVar),i.customCookiesData=this.commonUtils.getWindowData(w.Cookie,n.surveyJson.Settings.customCookie),i.answers=[].concat.apply([],t),i.fullUrl=this.hostData.getUrl(),i},r.prototype.activateById=function(n,t,i){var f=this,r,u;return(i=i||{},r=this.deployablesDict[n],!r)?(this.logger.customerLog(e("Survey with id {0} doesn't exist",n),3),!1):(i.surveyJson=r,i.submitResults=function(n){f.submitResults(n)},i.submitExit=function(n){f.submitExit(n)},i.drawBalloonFunc=this.popupBalloonDisplayer.showSpecialPopupBalloon,i.surveyPlayGUID=i.surveyPlayGUID||this.guidGenerator.generateGuid(),u=this.startSurvey(i,t),this._surveyStartedInCurrentPage=u||this._surveyStartedInCurrentPage,u)},r.prototype.autoStartEnabled=function(){return!(this._surveyStartedInCurrentPage||this.permalinkManager.isTrainingInStartingMode()||this.currentWalkthruData.state!=this.consts.WALKTHRU_STATE.NOT_RUNNING&&this.currentWalkthruData.state!=this.consts.WALKTHRU_STATE.PAUSED)},r.prototype.reportSurveyExited=function(n,t){try{var i=this.mapSurveyParamsToEvent(n,t);i.reason=this.eventSender.CANCEL_REASONS.Xclick;this.eventSender.postEvent(this.eventSender.EVENT_TYPES.Close,i)}catch(r){this.logger.error(r,"reportSurveyExited")}},r.prototype.reportSurveyStarted=function(n,t,i){try{this.walkmeVisibleReporter.report();var r=mtjQuery.extend(this.mapSurveyParamsToEvent(n,i),this.mapEventSource(n),this.reportInitiatorMapper.mapForExtend(t));this.eventSender.postEvent(this.eventSender.EVENT_TYPES.Play,r)}catch(u){this.logger.error(u,"reportSurveyStarted")}},r.prototype.reportSurveySubmitted=function(n,t,i){var u,r,o;try{for(u=this.mapSurveyParamsToEvent(n,t),this.eventSender.postEvent(this.eventSender.EVENT_TYPES.Submitted,u),r=0;r<t.length;r++)for(var s=t[r],h=this.questionToEventMapper.map(s,n),e=i[r],f=0;f<e.length;f++)o=mtjQuery.extend({},u,h,this.mapAnswerToProps(e[f],n.surveyJson),{indx:r+1}),this.eventSender.postEvent(this.eventSender.EVENT_TYPES.Submitted,o)}catch(c){this.logger.error(c,"reportSurveySubmitted")}},r.prototype.mapEventSource=function(n){return n.eventSource?{reason:n.eventSource}:{}},r.prototype.mapSurveyParamsToEvent=function(n,t){var r=this.eventSender.EVENT_APPS.Survey,i={type:r,oId:n.surveyJson.Id,oName:n.surveyJson.Name,pId:n.surveyPlayGUID,total:0};return t&&t.length&&(i.total=t.length),i},r.prototype.mapAnswerToProps=function(n,t){var i={},r;return i.oId=n.questionId,r=this.getQuestionAndAnswerTextFromSurvey(t,n.questionId,n.answerId),i.oName=r.questionText,n.answerId&&(i.aoId=n.answerId,i.value=r.answerText),n.answerText&&(i.value=n.answerText),i.aType=this.consts.EVENT_SENDER_ACTIONS.SurveyQuestionAnswered,i.aAppType=this.consts.EVENT_SENDER_EVENT_APPS.SurveyQuestionAnswer,i},r.prototype.getQuestionAndAnswerTextFromSurvey=function(n,t,i){for(var f,e,o,r={},u=0;u<n.Questions.length;u++)if(n.Questions[u].Id==t){if(f=n.Questions[u],r.questionText=f.Title,void 0===i)return r;for(e=0;e<f.Answers.length;e++)if(f.Answers[e].Id==i)return o=f.Answers[e],r.answerText=o.Title,r}},r.SEND_TO_SERVER_TIMEOUT=1e4,r}(y);t.SurveysManager=ii;f.register("SurveysManager").asCtor(ii).dependencies("Lib, Consts, AbCurrentPermutationProvider, RecorderServerManager, PermalinkManager, GuidGenerator, AuditStepsManager, CommonUtils, CommonEvents, AuditSourceManager, HostData, EventSender, Logger, ReportInitiatorMapper, EndUsersManager, PopupBalloonDisplayer, WmAjax, ClientStorageManager, WalkmeVisibleReporter, AuditingEnabledIndicator, CurrentWalkthruData, QuestionToEventMapper");vu=function(t){function i(n,i,r){t.call(this,{deployables:[],lib:n,type:i.DEPLOYABLE_TYPE.ConditionBlock});this.timerManager=r;this._resultsCache={}}return n(i,t),i.prototype.activateById=function(n,t){var o=this,u,r,e;if(void 0!=this._resultsCache[n])return this._resultsCache[n];u={elementName:"conditionBlock"+n};r=f.get("ConditionCheckerFactory").createOld(u);r.onValueChanged(function(n){t&&t(n)});return e=this.getById(n),r.evaluateAsync(e.ConditionsTree),this._resultsCache[n]=r.getCachedValue(),r.cleanResources(),this.timerManager.libSetTimeout(function(){o._resultsCache[n]=void 0},i.RESULT_CACHE_TIME),this._resultsCache[n]},i.RESULT_CACHE_TIME=500,i}(y);f.register("ConditionBlocksManager").asCtor(vu).dependencies("Lib,Consts,TimerManager");yu=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,{deployables:[],lib:n});this.oldConditionsCombiner=i;this.tagsInjector=r;this.tagsSegmentationProperties=u;this.deployablesManagerFactory=f;this.consts=e;this.newConditionsCombiner=o;this.featuresManager=s;this._name="Tag"}return n(i,t),i.prototype.injectTagsToDeployables=function(){var n=this.getAll();this.injectConditionsToDeployable(n)},i.prototype.injectConditionsToDeployable=function(n){var h=this.getCombinedDeployableTagsConditions(n,"Or"),u,i,f,e,r,s;for(u in this.consts.DEPLOYABLE_TYPE)if(this.consts.DEPLOYABLE_TYPE.hasOwnProperty(u)&&(i=this.consts.DEPLOYABLE_TYPE[u],f=this.deployablesManagerFactory.get(i),f))for(e=f.getAll(),r=0;r<e.length;r++){var t=e[r],c=h[i]&&h[i][t.Id],o=this.tagsSegmentationProperties.properties[i];t.Settings||(t.Settings={});s=c;o&&(s=this.tagsInjector.inject(t,c,o));t.Settings.ASEnabled&&this.injectConditionTreeToDeployableAutostart(t,s,o,"And")}},i.prototype.injectConditionTreeToDeployableAutostart=function(n,t,i,r){this.shouldInjectTagsIntoAutoStart(i)&&(i&&i.isNewConditions?n.ConditionTrees.ASCT=this.newConditionsCombiner.combine(r,t,n.ConditionTrees.ASCT):n.Settings.ASCT=this.oldConditionsCombiner.combine(r,t,n.Settings.ASCT));n.Settings.ASCT&&(n.Settings.ASCTEnabled=1)},i.prototype.shouldInjectTagsIntoAutoStart=function(n){return!n||!n.dontInjectTagsIntoAutoStartFeature||!this.featuresManager.isFeatureEnabled(n.dontInjectTagsIntoAutoStartFeature)},i.prototype.getCombinedDeployableTagsConditions=function(n,t){for(var i,u,f={},r=0;r<n.length;r++)if(i=n[r],i.Settings&&i.Settings.Condition)for(u=i.LinkedDeployables.length-1;u>=0;u--){var e=i.LinkedDeployables[u],s=this.deployablesManagerFactory.get(e.DeployableType),o=s.getById(e.DeployableID);o&&this.updateTagsConditionDictionary(f,i,o,e.DeployableType,t)}return f},i.prototype.updateTagsConditionDictionary=function(n,t,i,r,u){n[r]||(n[r]={});var f=n[r][i.Id];n[r][i.Id]=this.oldConditionsCombiner.combine(u,t.Settings.Condition,f)},i}(y);f.register("TagsManager").asCtor(yu).dependencies("Lib, OldConditionsCombiner, TagsInjector, TagsSegmentationProperties, DeployablesManagerFactory, Consts, NewConditionsCombiner, FeaturesManager");f.register("Positions").asInstance({Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8});f.register("FontsData").asFunction(function(){var n=new ot;return n.concat({"walkme-opensans":{id:"opensans",name:"opensans",url:"/player/resources/fonts/opensans"}}),n.concat({"lib-font":{id:"libFont",name:"lib-font",url:"/player/resources/fonts/lib-font_v1",dummeyText:"&#xed50;"}}),n});f.register("LocalStorageService").dependencies("CommonUtils, Logger").asFunction(function(n,t){return n.isLocalStorageEnabled()?window.localStorage:(t.customerLog("localStorage is not enabled"),!1)});f.register("DesignTemplates").asCtor(vst).dependencies("ArrayUtils");f.register("DesignTemplatesCalculatedCssGetter").asCtor(yst).dependencies("DesignTemplates, ArrayUtils");f.register("SpecificEntityDesignTemplateCssClassGetter").asCtor(pst).dependencies("SharedConsts, DesignTemplates");f.register("DesignTemplateHtmlGetter").asCtor(wst).dependencies("DesignTemplates");f.register("PlaceholdersReplacer").asCtor(bst).dependencies("NamedPlaceholderReplacer, VariablePlaceholderReplacer");f.register("NamedPlaceholderReplacer").asCtor(kst).dependencies("NamedDataPlaceholderReplacer, NamedActionPlaceholderReplacer");f.register("NamedDataPlaceholderReplacer").asCtor(dst).dependencies("BBCodeParser, CommonUtils");f.register("VariablePlaceholderReplacer").asCtor(gst);f.register("NamedActionPlaceholderReplacer").asCtor(nht).dependencies("ActionsFactory, SharedConsts, wmjQuery, PlaceholderActionWrapper");f.register("ShoutOutActionPlaceholderClassesAdder").asCtor(tht).dependencies("MainShoutOutActionElementsGetter, ActiveMainShoutOutActionPlaceholderConfigsGetter");f.register("HtmlRulesApplier").asCtor(iht);f.register("MainShoutOutActionElementsGetter").asCtor(rht);f.register("ActiveMainShoutOutActionPlaceholderConfigsGetter").asCtor(uht);f.register("PlaceholderActionWrapper").asCtor(fht).dependencies("ShoutOutPlaceholderActionWrapper");f.register("ShoutOutPlaceholderActionWrapper").asCtor(eht).dependencies("SharedConsts");f.register("ShoutOutPlaceholdersReplacer").asCtor(oht).dependencies("PlaceholdersReplacer, SharedConsts");f.register("XButtonRemover").asCtor(sht).dependencies("XButtonDisplayChecker");f.register("BBCodeDeployables").asFunction(hht).dependencies("Consts");f.register("BBCodeEventsBinder").asCtor(cht).dependencies("BBCodeActivatorsFactory, CommonEvents, BBCodeDeployables, Consts");f.register("BBCodeActivatorsFactory").asCtor(lht).dependencies("BBCodeDeployableActivators, Consts");f.register("BBCodeDeployableActivators").asCtor(aht).dependencies("InitiatorTypeToAppTypeMapper, BusinessSolutionsManager, CommonEvents, ContentsManager, Consts, WalkthrusModule, CurrentWalkthruData, WalkthruStepsLoader, FlowsPlayer, FlowEventRaiser");f.register("BBCodeAttributeState").asCtor(vht).dependencies("BBCodeParserConsts, BBCodeDataState, BBCodeNestedTagParser");f.register("BBCodeCloseTagState").asCtor(yht).dependencies("BBCodeParserConsts, BBCodeTagTranslator");f.register("BBCodeDataState").asCtor(pht).dependencies("BBCodeParserConsts, BBCodeCloseTagState, BBCodeNestedTagParser");f.register("BBCodeOpenTagState").asCtor(wht).dependencies("BBCodeParserConsts, BBCodeDataState, BBCodeAttributeState");f.register("BBCodeNestedTagParser").asCtor(bht);f.register("BBCodeParser").asCtor(kht).dependencies("CommonUtils, BBCodeSingleTagParser");f.register("BBCodeSingleTagParser").asCtor(dht).dependencies("BBCodeParserConsts, BBCodeOpenTagState");f.register("BBCodeTagTranslator").asCtor(ght).dependencies("BBTagHandlerProvider");f.register("BBCodeParserConsts").asCtor(nct);f.register("BBCodeUtils").asCtor(tct).dependencies("CommonUtils");f.register("BBCodePropertiesConfig").asFunction(ict);f.register("BBCodeVideoVendorsConfig").asCtor(rct).dependencies("RecorderServerManager,Logger");f.register("BBCodeUrlTagHandler").asCtor(uct).dependencies("BBCodePropertiesConfig,BBCodeUtils, CommonUtils, SiteConfigManager, Mustache");f.register("BBCodeWTTagHandler").asCtor(fct).dependencies("BBCodePropertiesConfig, BBCodeUtils, CommonUtils");f.register("BBCodeBFTagHandler").asCtor(ect).dependencies("BBCodePropertiesConfig, BBCodeUtils, CommonUtils");f.register("BBCodeImgTagHandler").asCtor(oct).dependencies("BBCodeUtils, BBCodePropertiesConfig");f.register("BBCodeVideoTagHandler").asCtor(sct).dependencies("BBCodePropertiesConfig, BBCodeUtils, BBCodeVideoVendorsConfig, Mustache");f.register("BBCodeIframeTagHandler").asCtor(hct).dependencies("BBCodeUtils, BBCodePropertiesConfig, Mustache");f.register("BBCodeHTMLTagHandler").asCtor(cct).dependencies("BBCodeUtils, BBCodePropertiesConfig");f.register("BBCodeSurveyTagHandler").asCtor(lct).dependencies("BBCodeUtils, BBCodePropertiesConfig, CommonUtils");f.register("BBCodeResourceTagHandler").asCtor(act).dependencies("BBCodeUtils, BBCodePropertiesConfig, CommonUtils");f.register("BBCodeFlashTagHandler").asCtor(vct).dependencies("BBCodeUtils, BBCodePropertiesConfig, Mustache");f.register("BBCodeJQueryTagHandler").asCtor(yct).dependencies("CommonUtils, JQueryElementFinder, IsInWYSIWYG");f.register("BBCodeCookieTagHandler").asCtor(pct).dependencies("CommonUtils, IsInWYSIWYG");f.register("BBCodeVarTagHandler").asCtor(wct).dependencies("CommonUtils, IsInWYSIWYG");f.register("BBCodeWmDataTagHandler").asCtor(bct).dependencies("CommonUtils, IsInWYSIWYG, ClientStorageManager");f.register("BBCodeHTML5VideoTagHandler").asCtor(kct).dependencies("BBCodeUtils, BBCodePropertiesConfig, Mustache");f.register("BBCodeCustomTagHandler").asCtor(dct);f.register("BBCodeTriggerTagHandler").asCtor(gct).dependencies("CommonUtils");f.register("BBTagHandlerProvider").asCtor(nlt).dependencies("BBCodeUrlTagHandler, BBCodeWTTagHandler, BBCodeBFTagHandler, BBCodeImgTagHandler, BBCodeVideoTagHandler,BBCodeIframeTagHandler, BBCodeHTMLTagHandler, BBCodeSurveyTagHandler, BBCodeFlashTagHandler,BBCodeJQueryTagHandler, BBCodeCookieTagHandler, BBCodeVarTagHandler, BBCodeWmDataTagHandler,BBCodeCustomTagHandler, BBCodeTriggerTagHandler, BBCodeResourceTagHandler, BBCodeHTML5VideoTagHandler");f.register("UIVariationsAdapter").asCtor(tlt).dependencies("ResourceManager");f.register("UITemplatesAdapter").asCtor(ilt).dependencies("ResourceManager");f.register("UITemplates").asCtor(ot).dependencies("UITemplatesAdapter");f.register("UIVariations").asCtor(ot).dependencies("UIVariationsAdapter");f.register("UIDisplayers").asFunction(function(){var n=new ot;return n.concat({1:"PopupDisplayer"}),n}).asSingleton();f.register("UIComponents").asFunction(function(){var n=new ot;return n.concat({1:"ShoutOut",2:"ShoutOut",3:"Quiz",4:"QuizAnnouncement"}),n}).asSingleton();pu=function(t){function i(n,i,r,u,f,e,o,s,h){t.call(this,n,i,u,e,h);this._bbCodeEventsBinder=f;this._consts=e;this._commonEvents=r;this._specificEntityDesignTemplateCssClassGetter=o;this._sharedConsts=s;this.createUi()}return n(i,t),i.prototype.registerEvents=function(){t.prototype.registerEvents.call(this);this.registerBBCodeEvents()},i.prototype.registerBBCodeEvents=function(){var n=this.getBBcodeEventCallback(),t={objectId:this._uiComponent.Id,type:h.STEP_PLAY_INITIATOR_ENUM.SHOUTOUT};this._bbCodeEventsBinder.bind(this._uiCreator.ui,n,t)},i.prototype.getBBcodeEventCallback=function(){var n=r.proxy(function(){this.destroy()},this),t={uiCreator:this._uiCreator,defaultt:n,defaultValue:n,returnValue:null};return this._commonEvents.raiseEvent("shoutoutBBCodeClickCallback",t),t.returnValue},i.prototype.createConfig=function(){var n=t.prototype.createConfig.call(this),i=this._specificEntityDesignTemplateCssClassGetter.get(this._uiComponent,this._sharedConsts.templateEntityType.popup);return i&&(n.designTemplateCssClass=i),n},i.prototype.getInitiatorType=function(){return h.STEP_PLAY_INITIATOR_ENUM.SHOUTOUT},i}(ce);f.register("ShoutOut").asCtor(pu).asProto().dependencies("ActionsFactory, CommonUtils, CommonEvents, BBCodeParser, BBCodeEventsBinder, Consts, SpecificEntityDesignTemplateCssClassGetter, SharedConsts");wu=function(){function n(){this.events={}}return n.prototype.setUI=function(n,t,i,u,e){var s=n.Actions?r(n.Actions).filter(function(n,t){return t.IsActive}).length:0,o="wm-one-button";2==s?o="wm-two-buttons":0==s&&(o="wm-no-buttons");i.ButtonsClass=o;this.ui=f.get("TemplatesFactory").get(n.UITemplateId,n.UITemplateVersion,t,i,u,n.DesignTemplateId,n.DesignTemplatePlaceholderConfigs,e)},n.prototype.registerEvents=function(n,t,i,r){this.events[n]={name:t,actionId:i,body:r.libAction}},n.prototype.getUI=function(){return this.bindEvents(),this.ui},n.prototype.bindEvents=function(){},n}();vt=function(t){function i(){t.apply(this,arguments)}return n(i,t),i.prototype.bindEvents=function(){var n=this;r.safeEach(this.events,function(t,i){n.ui.find(t).on(i.name,i.body)})},i}(wu);l.register(h.PLATFORM.Web,function(){f.register("UICreator").asCtor(vt).asProto()});l.register(h.PLATFORM.MobileWeb,function(){f.register("UICreator").asCtor(vt).asProto()});l.register(h.PLATFORM.Desktop,function(){f.register("UICreator").asCtor(vt).asProto()});bu=function(t){function i(n){t.call(this);this._isVisible=!1;var i=f.get("Lib"),u=f.get("FramesetsUtils").shouldHandlePageAsFramesets()?f.get("BiggestFrameProvider").getBiggestFrame().contentWindow:window;this._lib=i;this._topWindow=r(u);this._topContainer=f.get("TopContainerProvider").getTopContainer();this._settings=n}return n(i,t),i.prototype.setUiObject=function(n){this._uiObject=n},i.prototype.getContainer=function(){return this._topWindow},i.prototype.append=function(n){this._topContainer.append(this._uiObject);n&&n()},i.prototype.remove=function(n){this._uiObject.remove();this._isVisible=!1;n&&n()},i.prototype.show=function(n){this._uiObject.show();this._isVisible=!0;n&&n()},i.prototype.hide=function(n){this._uiObject.hide();this._isVisible=!1;n&&n()},i.prototype.isVisible=function(){return this._isVisible},i}(he);ui=function(t){function i(n,i){t.call(this,i);this.domSessionManager=n;this.DEFAULT_Z_INDEX=2147483631;this._positions=f.get("Positions");this._popupUtil=f.get("PopupUIUtil");this._popupUtil.setSettings(i)}return n(i,t),i.prototype.setUiObject=function(n){t.prototype.setUiObject.call(this,n);this._popupUtil.setUiObject(this._uiObject)},i.prototype.show=function(n){var t,i;if(this._isVisible)return void(n&&n());this.unbindEvents();t=this._settings["z-index"]?this._settings["z-index"]:this.DEFAULT_Z_INDEX;this._uiObject.css("z-index",t);i=r.proxy(function(){this._isVisible=!0;n&&n()},this);this.pop(i)},i.prototype.pop=function(n){var t=parseInt(this._settings.position,10),i=t==this._positions.Center;i?this.popCenter(n):this.popCorner(t,n)},i.prototype.handleOverlay=function(){var n=Number(this._uiObject[0].style.zIndex),t=this._popupUtil.getOverlay();t&&(n==this.DEFAULT_Z_INDEX&&this._uiObject.css("z-index",n+1),t.show())},i.prototype.popCorner=function(n,t){this._uiObject.css({position:"fixed"});this.handleOverlay();var r=(this._settings.marginV||0)+"px",u=(this._settings.marginH||0)+"px";switch(n){case this._positions.Top:this._uiObject.addClass(i.POSITION_PREFIX+"top");this._uiObject.css({top:0,left:"50%",marginLeft:-(this._uiObject.outerWidth()/2),marginTop:r});break;case this._positions.Right:this._uiObject.addClass(i.POSITION_PREFIX+"right");this._uiObject.css({right:0,top:"50%",marginTop:-(this._uiObject.outerHeight()/2),marginRight:u});break;case this._positions.Bottom:this._uiObject.addClass(i.POSITION_PREFIX+"bottom");this._uiObject.css({bottom:0,left:"50%",marginLeft:-(this._uiObject.outerWidth()/2),marginBottom:r});break;case this._positions.Left:this._uiObject.addClass(i.POSITION_PREFIX+"left");this._uiObject.css({left:0,top:"50%",marginTop:-(this._uiObject.outerHeight()/2),marginLeft:u});break;case this._positions.TopLeft:this._uiObject.addClass(i.POSITION_PREFIX+"top-left");this._uiObject.css({left:0,top:0,marginTop:r,marginLeft:u});break;case this._positions.TopRight:this._uiObject.addClass(i.POSITION_PREFIX+"top-right");this._uiObject.css({right:0,top:0,marginTop:r,marginRight:u});break;case this._positions.BottomRight:this._uiObject.addClass(i.POSITION_PREFIX+"bottom-right");this._uiObject.css({right:0,bottom:0,marginBottom:r,marginRight:u});break;case this._positions.BottomLeft:this._uiObject.addClass(i.POSITION_PREFIX+"bottom-left");this._uiObject.css({left:0,bottom:0,marginBottom:r,marginLeft:u})}this.fadeIn(t)},i.prototype.popCenter=function(n){this._uiObject.addClass("wm-position-center");this._lib.centerElementInPage(this._uiObject,!1);this.handleOverlay();this.fadeIn(n);this._resizeHandler=r.proxy(function(){this._uiObject.stop(!1,!0);this._lib.centerElementInPage(this._uiObject,!0)},this);this._topWindow.bind(i.MOVEMENT_EVENTS,this._resizeHandler)},i.prototype.fadeIn=function(n){var t=this;this.domSessionManager.mutate(function(){t._uiObject.stop(!0,!1).css("opacity",1).hide().fadeIn(400,n)})},i.prototype.hide=function(n){if(this._popupUtil.removeOverlay(),!this._isVisible)return void(n&&n());this.unbindEvents();this._uiObject.stop(!0,!1).css("opacity",1).show().fadeOut(200,r.proxy(function(){this._isVisible=!1;n&&n()},this))},i.prototype.remove=function(n){this.hide(r.proxy(function(){this._uiObject.remove();n&&n()},this))},i.prototype.unbindEvents=function(){this._resizeHandler&&this._topWindow.unbind(i.MOVEMENT_EVENTS,this._resizeHandler);this._resizeHandler=null},i.EVENT_SUFFIX="walkmeDisplayer",i.MOVEMENT_EVENTS="scroll."+i.EVENT_SUFFIX+", resize."+i.EVENT_SUFFIX,i.POSITION_PREFIX="wm-position-",i}(bu);l.register([h.PLATFORM.Web,h.PLATFORM.Desktop],function(){f.register("PopupDisplayer").asCtor(ui).asProto().dependencies("DOMSessionManager")});ku=function(t){function i(){t.apply(this,arguments);this._css="/* Template 4.3 Only Fallbacks */ /* All */ @media only screen and (max-width: 640px) {   .wm-template-light,   .wm-template-standout-title,   .wm-template-standout-actions {    min-width: 85% !important;   }    } /* Light */ @media only screen and (max-height: 400px) { \t.wm-template-light .wm-template-text{\t \t\tmax-height: 100px; \t} }  @media only screen and (min-height: 401px) and (max-height: 500px) { \t.wm-template-light .wm-template-text{\t \t\tmax-height: 200px; \t} }  @media only screen and (min-height: 501px) and (max-height: 600px) { \t.wm-template-light .wm-template-text{\t \t\tmax-height: 300px; \t} }  @media only screen and (min-height: 601px) { \t.wm-template-light .wm-template-text{\t \t\tmax-height: 400px; \t} }  /* Standout Title */ @media only screen and (max-height: 400px) { \t.wm-template-standout-title .wm-template-text{\t \t\tmax-height: 75px; \t}  \t.wm-template-standout-title.wm-two-buttons .wm-template-text{ \t\tmax-height: 50px; \t}  \t.wm-template-standout-title.wm-no-buttons .wm-template-text{ \t\tmax-height: 100px; \t} }  @media only screen and (min-height: 401px) and (max-height: 500px) { \t.wm-template-standout-title .wm-template-text{\t \t\tmax-height: 175px; \t}  \t.wm-template-standout-title.wm-two-buttons .wm-template-text{ \t\tmax-height: 150px; \t}  \t.wm-template-standout-title.wm-no-buttons .wm-template-text{ \t\tmax-height: 200px; \t} }  @media only screen and (min-height: 501px) and (max-height: 600px) { \t.wm-template-standout-title .wm-template-text{\t \t\tmax-height: 275px; \t}  \t.wm-template-standout-title.wm-two-buttons .wm-template-text{ \t\tmax-height: 250px; \t}  \t.wm-template-standout-title.wm-no-buttons .wm-template-text{ \t\tmax-height: 300px; \t} }  @media only screen and (min-height: 601px) { \t.wm-template-standout-title .wm-template-text{\t \t\tmax-height: 375px; \t}  \t.wm-template-standout-title.wm-two-buttons .wm-template-text{ \t\tmax-height: 350px; \t}  \t.wm-template-standout-title.wm-no-buttons .wm-template-text{ \t\tmax-height: 400px; \t} }  /* Standout Action */ @media only screen and (max-height: 400px) { \t.wm-template-standout-actions .wm-template-text{ \t\tmax-height: 75px; \t}  \t.wm-template-standout-actions.wm-two-buttons .wm-template-text{ \t\tmax-height: 50px; \t}  \t.wm-template-standout-actions.wm-two-buttons .wm-button { \t\tpadding-top: 8px; \t\tpadding-bottom: 8px; \t}  \t.wm-template-standout-actions.wm-no-buttons .wm-template-text{ \t\tmax-height: 100px; \t} }  @media only screen and (min-height: 401px) and (max-height: 500px) { \t.wm-template-standout-actions .wm-template-text{\t \t\tmax-height: 175px; \t}  \t.wm-template-standout-actions.wm-two-buttons .wm-template-text{ \t\tmax-height: 150px; \t}  \t.wm-template-standout-actions.wm-no-buttons .wm-template-text{ \t\tmax-height: 200px; \t} }  @media only screen and (min-height: 501px) and (max-height: 600px) { \t.wm-template-standout-actions .wm-template-text{\t \t\tmax-height: 275px; \t}  \t.wm-template-standout-actions.wm-two-buttons .wm-template-text{ \t\tmax-height: 250px; \t}  \t.wm-template-standout-actions.wm-no-buttons .wm-template-text{ \t\tmax-height: 300px; \t} }  @media only screen and (min-height: 601px) { \t.wm-template-standout-actions .wm-template-text{\t \t\tmax-height: 375px; \t}  \t.wm-template-standout-actions.wm-two-buttons .wm-template-text{ \t\tmax-height: 350px; \t}  \t.wm-template-standout-actions.wm-no-buttons .wm-template-text{ \t\tmax-height: 400px; \t} }";this._resourceManager=f.get("ResourceManager")}return n(i,t),i.prototype.append=function(n){this._uiObject.css("position","fixed");var i=r("#walkme-mobile-css-old-version");0==i.length&&this._resourceManager.injectCss(this._css,"walkme-mobile-css-old-version");t.prototype.append.call(this,n)},i.prototype.pop=function(n){this.handleOverlay();this.fadeIn(n)},i.prototype.handleOverlay=function(){t.prototype.handleOverlay.call(this);var n=this._popupUtil.getOverlay(),i=n&&n.getOverlayElement();if(i)i.on("click.walkme touchend.walkme",r.proxy(function(){this.remove()},this))},i}(ui);l.register(h.PLATFORM.MobileWeb,function(){f.register("PopupDisplayer").asCtor(ku).asProto().dependencies("DOMSessionManager")});du=function(){function n(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){this.CLASSES_PREFIX="wm-";this.STATES_DATA_KEY="templatesFactoryStates";this.HANDLE_SHOUTOUT_CSS_EVENT="handleShoutOutCss";this._logger=n;this._mustache=t;this._uiTemplates=i;this._resourceManager=r;this._fontsData=u;this._siteConfigManager=f;this._hostData=e;this._commonUtils=o;this._designTemplateHtmlGetter=s;this._htmlRulesApplier=h;this._featuresManager=c;this._customHtmlTemplateRetriever=l;this._additionalTemplatesHandlers=a;this._shoutOutPlaceholdersReplacer=v;this._shoutOutActionPlaceholderClassesAdder=y;this._arrayUtils=p}return n.prototype.addResources=function(n,t,i,r,u){var f=this._uiTemplates.get(n,t).Css;this.loadVariationsFonts([f].concat(i),r,u)},n.prototype.get=function(n,t,i,r,u,f,e,o){var c=this._uiTemplates.get(n,t),l,h,s,v,w;this._featuresManager.isFeatureEnabled("htmlTemplates")&&(c.Html=this._customHtmlTemplateRetriever.getHtml(n,c));l=r||{};h=this._designTemplateHtmlGetter.get(f);h&&(h=this._htmlRulesApplier.apply(h,l),c.Html=c.Html.replace(/{{{templateHtml}}}/g,h),l.templateHtml=h);s=this._commonUtils.createElementInDocument(this._mustache.to_html(c.Html,l),u||window.document);this._shoutOutPlaceholdersReplacer.replace(e,s,o);h&&e&&this._shoutOutActionPlaceholderClassesAdder.addClasses(s,e);this.addDefaultClasses(s);this.inheritProperties(s);var a=s.wrap("<div />").parent(),k=this,y=i&&this._arrayUtils.map(i,function(n,t){return k.runCssHandlerWithParams(u,a,n,0==t)}),p=this.runCssHandlerWithParams(u,a,c.Css),b=this._arrayUtils.any(y,function(n){return!!n});if(b)for(v=y.length-1;v>=0;v--)w=y[v],w&&this.recursiveApplyStyle(a,w);return p&&this.recursiveApplyStyle(a,p),(b||p)&&this.addResetCss(s),this.addStateHandler(s),s.unwrap(),s.addClass(r.designTemplateCssClass),s.hide()},n.prototype.runCssHandlerWithParams=function(n,t,i,r){return void 0===r&&(r=!1),this._additionalTemplatesHandlers.run(this.HANDLE_SHOUTOUT_CSS_EVENT,arguments,i)},n.prototype.loadVariationsFonts=function(n,t,i){for(var u,f,o,e=[],r=0;r<n.length;r++)if(u=n[r].metaData&&n[r].metaData.fonts,u)for(f=0;f<u.length;f++)o=this._fontsData.get(u[f]),o&&e.push(o);this._resourceManager.fonts(e,i||null,t,t)},n.prototype.addDefaultClasses=function(n){var t=this._siteConfigManager.get().Direction||"ltr";n.addClass(this.CLASSES_PREFIX+t);n.addClass(this.CLASSES_PREFIX+this._hostData.browser.name.toLowerCase());"IE"==this._hostData.browser.name&&n.addClass(this.CLASSES_PREFIX+"ie-"+this._hostData.browser.version)},n.prototype.inheritProperties=function(n){var t=this,i=n.allCss();n.children().each(function(n,u){var f=r(u);f.cssReset(i);t.inheritProperties(f)})},n.prototype.addResetCss=function(){},n.prototype.addStateHandler=function(n){var t=this;n.find("*").andSelf().each(function(n,i){var u,f,e;(i=r(i),u=i.data(t.STATES_DATA_KEY),u)&&(f=u.hover,t.addHoverState(i,f),e=u.click,t.addClickState(i,e),i.removeData(t.STATES_DATA_KEY))})},n.prototype.addHoverState=function(n,t){if(t){var i=n.attr("style");n.hover(function(){n.css(t)},function(){n.attr("style",i)})}},n.prototype.addClickState=function(n,t){if(t){var i=n.attr("style");n.mousedown(function(){n.css(t)});n.bind("mouseup blur",function(){n.attr("style",i)})}},n.prototype.recursiveApplyStyle=function(n,t){var i,r;if(t&&t.children){this.changePropertyOrder(t,"*");for(i in t.children)if(t.children.hasOwnProperty(i)){var f=i.split(":"),e=n.find(f[0]),u=t.children[i].attributes;for(r in u)!u.hasOwnProperty(r)||this._commonUtils.isIe7or8()&&"-ms-filter"==r||this.handleCSS(e,r,u[r],f[1]);this.recursiveApplyStyle(e,t.children[i].children)}}},n.prototype.changePropertyOrder=function(n,t){if(n.children[t]){var i=n.children[t];delete n.children[t];n.children[t]=i}},n.prototype.handleCSS=function(n,t,i,r){if(i instanceof Array)for(var u in i)this.appendCSS(n,t,i[u],r);else this.appendCSS(n,t,i,r)},n.prototype.appendCSS=function(n,t,i,r){if(!r)return void n.cssReset(t,i);r=r.toLowerCase();this.stateCss(r,n,t,i)},n.prototype.stateCss=function(n,t,i,r){var u=t.data(this.STATES_DATA_KEY)||{};u[n]||(u[n]={});u[n][i]||(u[n][i]=r);t.data(this.STATES_DATA_KEY,u)},n}();f.register("CustomHtmlTemplateRetriever").asCtor(rlt);fi=function(t){function i(){t.apply(this,arguments)}return n(i,t),i.prototype.addResetCss=function(n){var t=this._siteConfigManager.get().Direction||"ltr";n.find("span,button,input,label,a,b,br,img,i,u").cssReset("display","inline");n.find("li").cssReset("display","list-item");n.find("ul").cssReset("padding-left","40px");n.find("*").andSelf().cssReset(kf).cssReset("direction",t)},i}(du);l.register(h.PLATFORM.MobileWeb,function(){f.register("TemplatesFactory").asCtor(fi).asSingleton().dependencies("Logger, Mustache, UITemplates, ResourceManager, FontsData, SiteConfigManager, HostData, CommonUtils, DesignTemplateHtmlGetter, HtmlRulesApplier, FeaturesManager, CustomHtmlTemplateRetriever, AdditionalTemplatesHandlers, ShoutOutPlaceholdersReplacer, ShoutOutActionPlaceholderClassesAdder, ArrayUtils")});l.register([h.PLATFORM.Web,h.PLATFORM.Desktop],function(){f.register("TemplatesFactory").asCtor(fi).asSingleton().dependencies("Logger, Mustache, UITemplates, ResourceManager, FontsData, SiteConfigManager, HostData, CommonUtils, DesignTemplateHtmlGetter, HtmlRulesApplier, FeaturesManager, CustomHtmlTemplateRetriever, AdditionalTemplatesHandlers, ShoutOutPlaceholdersReplacer, ShoutOutActionPlaceholderClassesAdder, ArrayUtils")});f.register("UIComponentsFactory").asCtor(gu).asSingleton().dependencies("Logger, UIComponents, CommonEvents");f.register("DisplayersFactory").asCtor(gu).asSingleton().dependencies("Logger, UIDisplayers, CommonEvents");f.register("DebuggerManager").asCtor(ult).dependencies("WmInternals, ClientStorageManager, SiteConfigManager, CommonUtils, Logger, SettingsFile");f.register("LoggerManager").asCtor(flt).asSingleton().dependencies("SettingsFile");f.register("ProfilerAPI").asCtor(elt);f.register("PerformanceTimestampAdder").asCtor(olt).dependencies("CommonEvents");f.register("UIEventRaiser").asCtor(slt).dependencies("ElementFinder");ei=hlt();f.register("UIVisibilityManagerType").asInstance(ei);f.register("UIVisibilityManager").asCtor(ei).asProto().dependencies("Logger, ConditionCheckerFactory, ConditionTreeUtils, Consts, UIChecksTriggerer, DOMSessionManager");f.register("UIChecksTriggerer").asCtor(clt).dependencies("UIChangeTracker, TimerManager, MutationObserverWrapper, EventsTriggerSyncer, UIEventRaiser");f.register("ElementInteractionEvents").asFunction(llt).dependencies("Consts, FeaturesManager");f.register("ElementInteractionEventsBinder").asCtor(alt).asProto().dependencies("wmjQuerySafe, ElementInteractionEvents");oi=function(){function n(t,i,r,u,f,e,o,s){this.logger=t;this.consts=i;this.elementFinder=r;this.positionHelper=u;this.timerManager=f;this.uiChangeTracker=e;this.elementIframesAttachedIndicator=o;this._log=t.wrapCustomerLog(n.LOG_FEATURE);this._logContext=s.logContext;this._findElementParams=s.findElementParams;this._watchElementTimeoutTime=s.elementEvaluationIntervalMs||n.WATCH_ELEMENT_DEFAULT_TIMEOUT;this._trackUIChanges=s.trackUIChanges;s.element?(this._element=s.element,this._state=this.consts.VISIBILITY_STATE.VISIBLE):this._state=this.consts.VISIBILITY_STATE.HIDDEN}return n.prototype.evaluateElementVisibilityAsynch=function(t){this._log(e("ElementVisibilityEvaluator evaluateElementVisibility for {0}",this._logContext),n.DEFAULT_LOG_LEVEL);this._isStopEvaluate=!1;this.handleUIChangeTracking();this._watchElementTimeoutTime<0?t||this.evaluateElementVisibility():this.evaluateElementVisibilityAsynchLoop()},n.prototype.handleUIChangeTracking=function(){var n=this;this._trackUIChanges&&(this._onUIChange=function(){n._isStopEvaluate||n.evaluateElementVisibility()},this.uiChangeTracker.bind(this._onUIChange))},n.prototype.evaluateElementVisibility=function(){var t=this.findByState();return this._log(e("ElementVisibilityEvaluator evaluateElementVisibilityLoop {0} new state is {1}",this._logContext,t),n.DEFAULT_LOG_LEVEL),t!=this._state&&(this._log(e("ElementVisibilityEvaluator evaluateElementVisibilityLoop {0} state changed from {1} to {2}",this._logContext,this._state,t),n.DEFAULT_LOG_LEVEL),this.callOnValueChangeIfExist(t)),this._state=t,this.getElementVisibility()},n.prototype.getElementVisibility=function(){return this._state},n.prototype.calculateElementVisibility=function(){return this.findIfVisible()},n.prototype.getElement=function(){return this._element},n.prototype.setOnVisibilityChanged=function(n){this._onVisibilityChanged=n},n.prototype.cleanResources=function(){this._log(e("ElementVisibilityEvaluator cleanResources for {0}",this._logContext),n.DEFAULT_LOG_LEVEL);this._elementTimeoutObject&&(this._elementTimeoutObject.clear(),this._elementTimeoutObject=void 0);this._state=this.consts.VISIBILITY_STATE.HIDDEN;this._isStopEvaluate=!0;this._watchElementTimeoutTime=n.WATCH_ELEMENT_DEFAULT_TIMEOUT;this._element=void 0;this._onVisibilityChanged=void 0;this.uiChangeTracker.unbind(this._onUIChange)},n.prototype.findByState=function(){var n;switch(this._state){case this.consts.VISIBILITY_STATE.VISIBLE:n=this.findIfHidden();break;case this.consts.VISIBILITY_STATE.HIDDEN:n=this.findIfVisible();break;default:this._log(e("ElementVisibilityEvaluator findByState unknown state {0} for {1}",this._state,this._logContext),1)}return n},n.prototype.evaluateElementVisibilityAsynchLoop=function(){this.evaluateElementVisibility();this.scheduleEvaluateElementVisibilityAsynchLoop()},n.prototype.scheduleEvaluateElementVisibilityAsynchLoop=function(){var n=this;this._isStopEvaluate||(this._elementTimeoutObject=this.timerManager.setWalkmeTimeout(function(){n.evaluateElementVisibilityAsynchLoop()},this._watchElementTimeoutTime))},n.prototype.findIfVisible=function(){var n=this,t=this.consts.VISIBILITY_STATE.HIDDEN;return this.elementFinder.wrapSession(function(){n._element=n.findElementByParams()}),this._element&&(t=this.consts.VISIBILITY_STATE.VISIBLE),t},n.prototype.findIfHidden=function(){var n,t=this.consts.VISIBILITY_STATE.HIDDEN,i;return n=this._findElementParams.IdentifySettings?this._findElementParams.IdentifySettings.filter:void 0,i=this.positionHelper.isElementVisible(this._element,n),i&&this.elementIframesAttachedIndicator.areIframesAttached(this._element)&&(t=this.consts.VISIBILITY_STATE.VISIBLE),t},n.prototype.callOnValueChangeIfExist=function(n){this._onVisibilityChanged&&(this._log(e("ElementVisibilityEvaluator callOnValueChangeIfExist calling onValueChange for {0}",this._logContext),5),this._onVisibilityChanged(n))},n.prototype.findElementByParams=function(){return this.elementFinder.findElement(this._findElementParams.IdentifySettings,this._findElementParams.isVisible,this._findElementParams.score,this._findElementParams.mode)},n.WATCH_ELEMENT_DEFAULT_TIMEOUT=-1,n.DEFAULT_LOG_LEVEL=3,n.LOG_FEATURE="elementVisibility",n}();f.register("ElementVisibilityEvaluator").asCtor(oi).asProto().dependencies("Logger, Consts, ElementFinder, PositionHelper, TimerManager, UIChangeTracker, ElementIframesAttachedIndicator");f.register("ElementIframesAttachedIndicator").asCtor(vlt);f.register("UIElementVisibilityAttributes").asCtor(ylt).dependencies("Consts, CommonUtils");f.register("UiElementPositionTracker").asCtor(plt).asProto().dependencies("ElementPositionCalculator, UIChecksTriggerer");f.register("UiElementPositionTrackerCreator").asCtor(wlt).dependencies("EmbedmentTypeProvider");f.register("UiWindowSizeTracker").asCtor(blt).asProto().dependencies("win, Consts, CommonUtils, wmjQuery");f.register("UiChangesTrackerWrapper").asCtor(klt).asProto().dependencies("EmbedmentTypeProvider");f.register("UIElementFactory").asCtor(dlt).dependencies("Consts");f.register("FlowBalloonDisplayer").asCtor(glt).asProto().dependencies("Logger, SiteConfigManager, Consts, PositionHelper, FlowStack, BalloonDrawerProvider, BBCodeEventsBinder,FlowDataPersister, ComplexHtmlElementsProvider, FlowVisualStepsIndicator, FeaturesManager");f.register("UIPopUpBalloon").asCtor(nat).asProto().dependencies("PopupStepElementProvider, UiUtils, Consts, FlowPopupBalloonButtonsProvider");f.register("UIElementBalloon").asCtor(tat).asProto().dependencies("Consts, FlowElementBalloonButtonsProvider");f.register("UiElementVisibilityManager").asCtor(iat).asProto().dependencies("Consts, FlowDataPersister");f.register("FlowElementBalloonButtonsProvider").asCtor(rat).dependencies("UiFlowNodesExecutionStack, FlowBackBalloonButtonProvider, FlowContinueBalloonButtonProvider");f.register("FlowPopupBalloonButtonsConfigProvider").asCtor(uat).dependencies("Consts, UiFlowNodesExecutionStack, FlowBackBalloonButtonProvider, FlowContinueBalloonButtonProvider, FlowStartBalloonButtonProvider, FlowCancelBalloonButtonProvider");f.register("FlowPopupBalloonButtonsProvider").asCtor(fat).dependencies("FlowPopupBalloonButtonsConfigProvider");f.register("FlowBackBalloonButtonProvider").asCtor(eat).dependencies("Consts, UiFlowNodesExecutionStack, BalloonButtonDataGenerator");f.register("FlowCancelBalloonButtonProvider").asCtor(oat).dependencies("Consts, WelcomeBalloonButtonDataGenerator");f.register("ButtonTriggersProvider").asCtor(sat).dependencies("Consts");f.register("FlowContinueBalloonButtonProvider").asCtor(hat).dependencies("ButtonTriggersProvider, FlowNodePlayIndicator, FlowNextBalloonButtonProvider, FlowDoneBalloonButtonProvider, CommonUtils, FlowGroupLastStageIndicator, FlowStack");f.register("FlowContinueBalloonButton").asFunction(cat).asProto().dependencies("");f.register("FlowDoneBalloonButtonProvider").asCtor(lat).dependencies("Consts, BalloonButtonDataGenerator");f.register("FlowNextBalloonButtonProvider").asCtor(aat).dependencies("Consts, BalloonButtonDataGenerator");f.register("FlowStartBalloonButtonProvider").asCtor(vat).dependencies("Consts, WelcomeBalloonButtonDataGenerator");f.register("ClickTriggersListCreator").asCtor(yat).dependencies("FeaturesManager");f.register("UITriggersManager").asCtor(pat).asProto().dependencies("UITriggersFactory, FlowPlayerMetadata, Consts, MockDelayTriggerProvider");f.register("UITriggersFactory").asCtor(wat).dependencies("Consts, UITriggerTransitionDelayer");f.register("UITriggerTransitionDelayer").asCtor(bat).dependencies("FlowTransitionDelayer");f.register("UITriggerEventBindingService").asCtor(kat).dependencies("Consts, wmjQuerySafe");f.register("TriggerTimeoutService").asCtor(dat).dependencies("TimerManager");f.register("MockDelayTriggerProvider").asCtor(gat).dependencies("Consts");f.register("ClickUITrigger").asCtor(nvt).asProto().dependencies("UITriggerEventBindingService, ClickTriggersListCreator, Consts");f.register("HoverUITrigger").asCtor(tvt).asProto().dependencies("UITriggerEventBindingService, Consts");f.register("TextUITrigger").asCtor(ivt).asProto().dependencies("UITriggerEventBindingService, TimerManager, Consts, FeaturesManager");f.register("DelayUITrigger").asCtor(rvt).asProto().dependencies("TriggerTimeoutService, Consts");f.register("PageChangedUITrigger").asCtor(uvt).dependencies("Consts, FlowDataPersister").asProto();f.register("ButtonUITrigger").asCtor(fvt).asProto().dependencies("Consts");f.register("SelectAnyUITrigger").asCtor(evt).asProto().dependencies("UITriggerEventBindingService, Consts");f.register("SelectValueUITrigger").asCtor(ovt).asProto().dependencies("UITriggerEventBindingService, Consts");f.register("BBCodeUITrigger").asCtor(svt).asProto().dependencies("Consts, CommonEvents");f.register("CustomUITrigger").asCtor(hvt).asProto().dependencies("Consts,ConditionCheckerFactory, ConditionTreeTraverser, FlowTransitionDelayerDefaultMap");f.register("SwipeUITrigger").asCtor(cvt).asProto().dependencies("UITriggerEventBindingService, Consts");f.register("StatesMachine").asCtor(lvt).asProto().dependencies("TimerManager, CommonUtils");f.register("StatesMachineCreator").asCtor(avt);f.register("StagesFactory").asCtor(vvt).dependencies("Logger, ActionStagesFactory, Consts");f.register("StageCreator").asCtor(yvt).dependencies("StagesFactory");f.register("UIFlowStage").asCtor(pvt).asProto().dependencies("UIElementFactory, CommonUtils, FlowDataPersister, Consts, FlowEventRaiser");f.register("ActionStagesFactory").asCtor(wvt).dependencies("Consts");f.register("BranchActionStage").asCtor(bvt).asProto().dependencies("Consts, FlowsContainer, FlowStack, FlowVisualStepsIndicator, TimerManager");f.register("DelayActionStage").asCtor(kvt).asProto().dependencies("TimerManager, Consts, FlowDataPersister");f.register("OpenMenuActionStage").asCtor(dvt).asProto().dependencies("Consts, win");f.register("StyleActionStage").asCtor(gvt).asProto().dependencies("Consts, WmInternals, SiteConfigManager");f.register("PassOwnershipActionStage").asCtor(nyt).asProto().dependencies("Consts, CrossDomainManager, FlowStack, FlowsContainer, ClientStorageManager, FlowEventRaiser");f.register("RedirectActionStage").asCtor(tyt).asProto().dependencies("TimerManager, RedirectService, win, Consts, FlowDataPersister");f.register("RefreshActionStage").asCtor(iyt).asProto().dependencies("TimerManager, win, Consts, FlowDataPersister");f.register("SetDataActionStage").asCtor(ryt).asProto().dependencies("ClientOrServerStorageManager, CookiesManager, JQueryElementFinder, CommonUtils, Consts, Lib");f.register("SplitActionStage").asCtor(uyt).asProto().dependencies("SplitFlowNodePlayableLinkProvider, Consts");f.register("StopActionStage").asCtor(fyt).asProto();f.register("WaitForConditionActionStage").asCtor(eyt).asProto().dependencies("DebuggerManager, Consts, ConditionCheckerFactory, FlowEventRaiser");f.register("ErrorHandlingActionStage").asCtor(oyt).asProto().dependencies("ErrorHandlingSegmentationChecker, Consts, TimerManager");f.register("ErrorHandlingSegmentationChecker").asCtor(syt).dependencies("ObjectJpath, ConditionCheckerFactory");f.register("OnPageActionStage").asCtor(hyt).asProto().dependencies("OnElementActionVisibilityEvaluator, OnElementActionExecutor, Consts, OnPageActionStageValueProvider");f.register("OnPageActionStageValueProvider").asCtor(cyt).asProto().dependencies("Consts");f.register("StartPointSegmentationChecker").asCtor(lyt).dependencies("ObjectJpath, Consts");f.register("FlowStartingStageProvider").asCtor(ayt).dependencies("BaseGraphDfsService, StartPointSegmentationChecker");f.register("FlowStartPointOrderCreator").asCtor(vyt).dependencies("Consts");f.register("OnElementActionVisibilityEvaluator").asCtor(yyt);f.register("OnElementActionExecutor").asCtor(pyt).dependencies("InputGenerator, HtmlDecoder");f.register("FlowManager").asCtor(wyt).asProto().dependencies("Consts, CommonEvents, wmjQuery, WalkMeGoalsManager, PlayGuidGenerator");f.register("FlowManagerCreator").asCtor(byt);f.register("FlowsManager").asCtor(kyt).dependencies("FlowManagerCreator, PromiseUtils, FlowsContainer");nf=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,{lib:n,type:i.DEPLOYABLE_TYPE.BusinessSolution});this.consts=i;this.promiseUtils=r;this.smartTipSetsManager=u;this.flowsManager=f;this.permalinkManager=e;this.initiatorManager=o;this.logger=s;this._name="Flow";this._bizFlowApi=void 0;this.setDeployables([])}return n(i,t),i.prototype.setDeployables=function(n){var i,u;n&&(i=r.grep(n,function(n){return n.SmartTips&&n.SmartTips.length>0}),this.smartTipSetsManager.init(i),u=r.grep(n,function(n){return!!n.Flow}),this.flowsManager.init(u),t.prototype.setDeployables.call(this,n))},i.prototype.activateById=function(n,i,r){var u,f;try{return(u=t.prototype.getById.call(this,n),!u)?(this.logger.customerLog(e("Failed playing bizflow with id {0} - The Id {0} does not exist.",n),3),!1):void 0!=r&&!u.Flow.Nodes[r]?(this.logger.customerLog(e("Failed playing bizflow with id {0} - The NodeId {1} does not exist.",n,r),3),!1):(f=this.getBizFlowApi(),this.initiatorManager.setForScope(i,function(){f.start(u.Flow.Id,r,u.Name,i)}),!0)}catch(o){return this.logger.customerLog(e("Failed playing bizflow with id {0}. Exception is {1}",n,o),3),!1}},i.prototype.releaseAll=function(){return this.promiseUtils.executeParallely([this.destroySmartTipSetManagers(),this.destroyFlowPlayer(),this.destroyFlowManagers()])},i.prototype.restore=function(){return this.permalinkManager.isTrainingInStartingMode()?r.when():this.getBizFlowApi().restore()},i.prototype.autoStartEnabled=function(){return this.permalinkManager.isTrainingInStartingMode()?!1:!0},i.prototype.destroyFlowPlayer=function(){return this.getBizFlowApi().pause()},i.prototype.destroySmartTipSetManagers=function(){return this.smartTipSetsManager.turnOffAllSets()},i.prototype.getBizFlowApi=function(){return this._bizFlowApi||(this._bizFlowApi=f.get("BizflowApi")),this._bizFlowApi},i.prototype.destroyFlowManagers=function(){return this.flowsManager.stopAllFlowEventsPropagation()},i}(y);f.register("BusinessSolutionsManager").asCtor(nf).dependencies("Lib, Consts, PromiseUtils, SmartTipSetsManager, FlowsManager, PermalinkManager, InitiatorManager, Logger");f.register("FlowsPlayer").asCtor(dyt).dependencies("StageCreator, FlowDataPersister, CommonUtils, Consts, FlowStack, FlowInnerGroupService, FlowTransitionChecker, FlowsContainer, FlowGroupEventRaiser, FlowEventRaiser, FlowGroupLastStageIndicator,FlowVisualStepsIndicator, DeployableSafeStartExecuter, DeployableTypes, LibDestroyer, FlowStartPointDataProvider");f.register("FlowsRestorer").asCtor(gyt).dependencies("Consts, FlowStack, FlowEventRaiser, FlowVisualStepsIndicator, FlowDataPersister, FlowsContainer,FlowsPlayer, FlowStartingStageProvider");f.register("FlowPlayerMetadata").asInstance({lastTriggerFired:void 0});f.register("FlowDataValidator").asCtor(npt);f.register("FlowDataPersister").asCtor(tpt).dependencies("ClientStorageManager, FlowDataValidator");f.register("FlowStack").asFunction(ipt).dependencies("FlowDataPersister");f.register("BizflowApi").asCtor(rpt).dependencies("FlowsPlayer, FlowsRestorer, BizflowOwnershipManager, Consts, WalkthrusModule, FlowStack, FlowDataPersister, FlowGroupEventRaiser, FlowStartPointDataProvider");f.register("FlowEventRaiser").asCtor(upt).dependencies("Consts, FlowStack, FlowsContainer, wmjQuery");f.register("FlowGroupEventRaiser").asCtor(fpt).dependencies("Consts, FlowEventRaiser, FlowPlayerMetadata");f.register("FlowLinkedTaskCompletionHandler").asCtor(ept).dependencies("Consts, TodoListManager, WmInternals");f.register("BizFlowOnBeforeUnloadChecker").asCtor(opt).dependencies("Consts, WindowBeforeUnloadHandler, SiteConfigManager, TimerManager, FlowTransitionChecker, CrossDomainManager, FeaturesManager, FlowStack");f.register("SplitFlowNodePlayableLinkProvider").asCtor(spt).dependencies("FlowLinkSegmentationChecker, ObjectJpath");f.register("FlowLinkSegmentationChecker").asCtor(hpt).dependencies("ConditionCheckerFactory");f.register("FlowsContainer").asCtor(cpt).dependencies("FlowStack");f.register("FlowSurveyActivator").asCtor(lpt).dependencies("WmInternals, Consts, BusinessSolutionsManager, DeployableSurveyActivator, FlowDataPersister, StorageKeysConfigurations");f.register("FlowTransitionChecker").asCtor(apt).dependencies("Consts");f.register("FlowTransitionDelayer").asCtor(vpt).dependencies("Consts, FlowTransitionChecker, TimerManager, FlowTransitionDelayProvider");f.register("FlowTransitionDelayProvider").asCtor(ypt).dependencies("SiteConfigManager, FlowTransitionDelayerDefaultMap");f.register("FlowTransitionDelayerDefaultMap").asCtor(ppt).dependencies("Consts");f.register("NextExecutionFlowNodeProvider").asCtor(wpt).dependencies("FlowNodeExtensions, SplitFlowNodeDecisionProvider");f.register("SplitFlowNodeDecisionProvider").asCtor(bpt).asProto().dependencies("SplitFlowNodePlayableLinkProvider");f.register("FlowExecutionTraverser").asCtor(kpt).dependencies("FlowsContainer, NextExecutionFlowNodeProvider");f.register("FlowGroupLastStageIndicator").asCtor(dpt).dependencies("ClientStorageManager");f.register("UiFlowNodesExecutionStack").asCtor(gpt).dependencies("Consts, FlowsContainer, FlowNodeExtensions, FlowStack, WmInternals, ButtonTriggersProvider");f.register("FlowInnerGroupService").asCtor(nwt).dependencies("FlowsContainer, FlowStack, FlowGroupLastStageIndicator");f.register("FlowVisualStepsIndicator").asCtor(twt).dependencies("Consts, FlowsContainer");f.register("FlowSafeStartHandler").asCtor(iwt).dependencies("RedirectService, Consts, FlowStack, FlowDataPersister, FlowEventRaiser");tf=function(){function n(n,t,i,r,u,f){var e=this,s=f.css,o=f.Id;this.resourceManager=n;this.uiChangeTracker=t;this.timerManager=i;this.cssUtils=r;this._logger=u;this.uiChangeListener=function(){e.jSelectorsOff();e.jSelectorsOn()};this.Id=o;this.DYNAMIC_CSS_CLASS="wm-dynamic-css-"+o+"-";this.parseCss(s)}return n.prototype.parseCss=function(n){var i=this.cssUtils.clearComments(n),r=this.secureScreen(i),t=this.replaceJQuerySelectors(r),u=t.pureCss,f=t.jSelectors;this._jSelectors=f;this._css=u},n.prototype.secureScreen=function(n){return this.cssUtils.isSecure(n)?n:(this._logger.customerLog("[Dynamic Css] - Forbidden tokens detected - css reset to empty",3),"")},n.prototype.add=function(){try{0==this.getStyleSheet().length&&this.resourceManager.injectCss(this._css,this.getStyleSheetId());this.jSelectorsOn();this.uiChangeTracker.bind(this.uiChangeListener);this.listenToMutations()}catch(n){this._logger.customerLog("[Dynamic Css] - Faied to add css",3)}},n.prototype.remove=function(){this.getStyleSheet().remove();this.jSelectorsOff();this.uiChangeTracker.unbind(this.uiChangeListener);this.observer&&this.observer.disconnect()},n.prototype.replaceJQuerySelectors=function(n){var t=this,u=this.cssUtils.getSelectors(n),i=r.grep(u,function(n){return n&&!t.isCss(n)}).map(function(n,i){return{selector:n,"class":""+t.DYNAMIC_CSS_CLASS+i}}),f=r(i).reduce(function(n,t){return n.replace(t.selector,"."+t["class"])},n);return{pureCss:f,jSelectors:i}},n.prototype.isCss=function(n){try{return document.querySelector(n),!0}catch(t){return!1}},n.prototype.listenToMutations=function(){var n=this;window.MutationObserver&&(this.observer=new MutationObserver(function(){return n.timerManager.libSetTimeout(n.uiChangeListener,0)}),this.observer.observe(document,{childList:!0,subtree:!0}))},n.prototype.jSelectorsOn=function(){r(this._jSelectors).safeEach(function(n,t){var i=r(t.selector);i.addClass(t["class"])})},n.prototype.jSelectorsOff=function(){r(this._jSelectors).safeEach(function(n,t){var i=r("."+t["class"]);i.removeClass(t["class"])})},n.prototype.getStyleSheet=function(){return r("#"+this.getStyleSheetId())},n.prototype.getStyleSheetId=function(){return"wm-dymanic-css-"+this.Id},n}();f.register("DynamicCss").asCtor(tf).asProto().dependencies("ResourceManager, UIChangeTracker, TimerManager, CssUtils, Logger");f.register("FlowStartPointDataProvider").asCtor(rwt).dependencies("FlowsContainer, FlowStartingStageProvider");f.register("FlowNodePlayIndicator").asCtor(uwt).dependencies("FlowNodeExtensions, FlowExecutionTraverser");f.register("WalkthrusModule").asCtor(fwt).dependencies("Lib, DataFixer, SiteConfigManager, WalkthrusContainer, SettingsValuesRetriever, Logger, Consts, ArrayUtils, CommonEvents, CommonUtils, WalkthruRedirectService, TimerManager, PositionHelper, WalkthruBalloonContainer, CurrentWalkthruData, WalkthruStatePersister, PlayGuidGenerator, AuditSourceManager, UiUtils, FramesetsUtils, StepRetriever, FeaturesManager, InputGenerator, StepUtils, ComplexHtmlElementsProvider, LibDestroyer, AuditSourceProvider,BalloonDrawerProvider, LocationMatcher, DeployableTypes");f.register("WalkthruOnBeforeUnloadHandler").asCtor(ewt).dependencies("Logger, WalkthrusModule, TimerManager, CrossDomainManager, FeaturesManager, FlowStack");f.register("WalkthrusContainer").asCtor(owt);f.register("WalkthruBalloonContainer").asCtor(swt).dependencies("CommonUtils");f.register("CurrentWalkthruData").asCtor(hwt).dependencies("WalkthrusContainer, Consts");f.register("CurrentStepUI").asCtor(cwt).dependencies("CurrentWalkthruData, StepUtils");f.register("WalkthruStatePersister").asCtor(lwt).dependencies("Consts, InteractionManager, WalkthrusContainer, CommonUtils, CurrentWalkthruData, WalkthruBranchData, CommonEvents");f.register("WalkthruStateRestorer").asCtor(awt).dependencies("WalkthruStepsLoader, WalkthrusContainer, CurrentWalkthruData, InteractionManager, TimerManager, WalkthrusModule, Logger, SettingsValuesRetriever, CommonEvents, Lib, WalkthruStatePersister, WalkthruBranchPlayer, Consts, WalkthruBranchData, LibDestroyer, UserGuidContainer");f.register("WalkthruBranchPlayer").asCtor(vwt).dependencies("Logger, StepRetriever, WalkthrusModule, WalkthrusContainer, Lib, TimerManager, CommonEvents, Consts, CurrentWalkthruData, WalkthruStatePersister, ArrayUtils, WalkthruBranchData");f.register("ComplexHtmlElementsProvider").asCtor(ywt).dependencies("PositionHelper");f.register("WalkthruBranchData").asCtor(pwt);f.register("WalkthruStepShower").asCtor(wwt).dependencies("Logger, Lib, StaticUtils, DataFixer, ComplexHtmlElementsProvider, PositionHelper, BalloonDrawerProvider,SiteConfigManager, WalkthruBalloonContainer, WalkthruStepShowerButtonsCalculator");f.register("WalkthruStepShowerButtonsCalculator").asCtor(bwt).dependencies("ArrayUtils, SharedConsts, WalkthrusModule");f.register("WalkthruSurveyActivator").asCtor(kwt).dependencies("DeployableSurveyActivator, AuditStepsManager, StorageKeysConfigurations");f.register("WalkthruSafeStartHandler").asCtor(dwt).dependencies("Consts, AuditStepsManager, WalkthruRedirectService, CurrentWalkthruData, WalkthruStatePersister, AuditSafeStartManager");f.register("WalkthrusSiteConfigDataMigrator").asCtor(gwt).dependencies("WalkthrusContainer, WalkthrusModule, UserGuidContainer, DataFixer");f.register("WalkMePlayerLazyAPI").asCtor(nbt).dependencies("WmInternals, Consts, UIChangeTracker, WidgetVisibilityEvaluator, TimerManager");f.register("LegacyWidgetApiModule").asCtor(tbt).dependencies("Lib, wmjQuery, DebuggerManager, LoggerManager, UiUtils, SiteConfigManager, ClickAuditManager, WmAjax, RecorderServerManager, AbPermutationManager, EndUsersManager, AuditSourceManager, Consts, WalkMeVisibilityChecker, WidgetApi, AttentionGrabberManagerAPI, Mustache, PerformanceTimestampAdder, WalkmeVisibleReporter, AutoStartManager, AuditingEnabledIndicator, BiggestFrameProvider, WidgetVisibilityEvaluator");f.register("WidgetVisibilityEvaluator").asCtor(ibt).dependencies("LocationMatcher, SettingsValuesRetriever, SiteConfigManager, Consts, Lib, CommonEvents, UIChangeTracker, FeaturesManager, TimerManager");f.register("WidgetApi").asCtor(rbt).dependencies();f.register("WidgetLoader").asCtor(ubt).dependencies("CommonUtils, CommonEvents, PerformanceTimestampAdder, Consts, WidgetVisibilityEvaluator, WmInternals, WalkMePlayerLazyAPI, Logger");f.register("TestmeApi").asCtor(fbt).dependencies("WalkMeInfo, CommonUtils, ClientStorageManager, SettingsFile");f.register("UiObjectsTreeConverter").asCtor(ebt).dependencies("Logger, Consts");f.register("WidgetUiApi").asCtor(obt).dependencies("UiDataProvider, UiObjectsTreeConverter, Logger");f.register("LegacyExternalApiModule").asCtor(sbt).dependencies("Lib, wmjQuery, EndUsersManager, FramesetsUtils, RecorderServerManager, LanguageManager, PerformanceTimestampAdder, ElementFinder, Logger, CustomCssSetter, SiteConfigManager, ElementCenterer, DeployablesManagerFactory, FeaturesManager, WalkMeVisibilityChecker, AuditSourceManager, BBCodeEventsBinder, UserGuidContainer,LaunchersModule, LibDestroyer, DataFileDataLoader, PostDataFileLoadedHandler, WalkthrusModule");f.register("CenteredElementProvider").asCtor(hbt).dependencies("Logger, StringUtils, ArrayUtils");f.register("CustomVariableAuditor").asCtor(cbt).dependencies("SiteConfigManager,CommonUtils,CommonEvents,Consts");f.register("BalloonEmbedder").asCtor(lbt).dependencies("getTopContainer, ElementUtils, UiUtils");f.register("StartFailureHandler").asCtor(abt).dependencies("Consts, WmInternals, PopupNotificationsService, FlowDataPersister");f.register("ElementInIframeIndicator").asCtor(vbt).dependencies("FeaturesManager, Consts");f.register("AuditSourceProvider").asCtor(ybt).dependencies("AuditSourceManager, Consts");f.register("CorsSupportIndicator").asCtor(pbt);f.register("BiggestFrameProvider").asCtor(wbt).dependencies("FramesetsUtils, Logger, FeaturesManager");f.register("CustomCssSetter").asCtor(bbt).dependencies("WalkMeVisibilityChecker, SiteConfigManager, IconTemplates, DirectHeadProvider, IsInEditor, HtmlDecoder, ResourceManager, CommonEvents, Consts, DesignTemplatesCalculatedCssGetter");f.register("DirectHeadProvider").asCtor(kbt).dependencies("FramesetsUtils, FrameContentsProvider, IsInEditor, ElementInIframeIndicator, BiggestFrameProvider");f.register("FrameContentsProvider").asCtor(dbt).dependencies("CommonUtils");f.register("WhiteListChecker").asCtor(gbt).dependencies("RecorderServerManager, ClientStorageManager, FeaturesManager, WmAjax");f.register("AbTestingManager").asCtor(nkt).dependencies("ClientStorageManager, SiteConfigManager, Lib, Logger, RecorderServerManager, WmAjax, AuditSourceProvider, AuditingEnabledIndicator, FeaturesManager, UserGuidContainer");f.register("AbTestingGoalsManagerInstance").asInstance({value:void 0});f.register("DataFileKeyToDeployableType").asCtor(tkt).dependencies("DeployableTypes");f.register("DeployablesContainersFacade").asCtor(ikt).dependencies("WalkthrusContainer, LaunchersModule, DataFileKeyToDeployableType, DeployableTypes");f.register("LibInitializer").asCtor(rkt).dependencies("Lib, AbPermutationManager, WalkMeInfo, ConditionTreeEvaluator, CommonUtils, SettingsFile, WmInternals,LanguageManager, WmAjax, WalkmeConfigManager, CommonEvents, Consts, TimerManager, LaunchersModule, LibDestroyer,IsInEditor, StaticUtils, PerformanceTimestampAdder, Logger, UserGuidContainer, SiteConfigManager, MessageSender");f.register("DataFileExtraData").asInstance({data:{}});f.register("DataFileDataLoader").asCtor(ukt).dependencies("Lib, CommonUtils, Consts, UserGuidContainer, DataFileKeyToDeployableType, DeployableTypes, WalkthrusSiteConfigDataMigrator, DeployablesContainersFacade");f.register("PostDataFileLoadedHandler").asCtor(fkt).dependencies("Lib, CommonUtils, Consts, CommonEvents, FeaturesManager, LibDestroyer, Logger, DebuggerManager, WalkMeGoalsManager, CrossDomainManager, WalkthruStateRestorer, ClientStorageManager, WalkMeVisibilityChecker, AnchorTagsFixer, PerformanceTimestampAdder, AuditSourceProvider, SiteConfigManager, WmInternals, TestmeApi, UserGuidContainer, AbTestingGoalsManagerInstance, BusinessSolutionsManager, EngagementRulesRepository");f.register("WalkmeClassesInitializer").asCtor(ekt).dependencies("Lib, Logger, SiteConfigManager, FeaturesManager, TimerManager, WalkMeGoalsManager, TagsManager, CommonEvents, Consts, CommonUtils, HostData, TopContainerProvider, WalkMeInfo, EngagementRulesRepository, WindowBeforeUnloadHandler");rf=function(){function n(n){this._externalWalkMeConfig=n}return n.prototype.getCurrentPlatform=function(){return this._externalWalkMeConfig.get("platform")},n}();uf=function(t){function i(n){t.call(this,n)}return n(i,t),i.prototype.filterByCurrentPlatform=function(n){for(var i=[],t=0;t<n.length;t++)n[t].Settings&&n[t].Settings.platform||i.push(n[t]);return i},i}(rf);l.register([h.PLATFORM.Web,h.PLATFORM.MobileWeb],function(){f.register("PlatformsService").asCtor(uf).dependencies("ExternalWalkMeConfig")});f.register("WalkmeOOP").asCtor(st).asProto();f.register("inArrayFunc").dependencies("ArrayUtils").asFunction(function(n){return n.inArray});f.register("ArrayUtils").asCtor(hkt);f.register("StaticUtils").asCtor(ckt);si=/["\\\x00-\x1f\x7f-\x9f]/g;sf={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};cf=f.get("ArrayUtils").map;f.register("GeneralUtils").dependencies("DictionaryUtils").asFunction(function(n){return{getDictionaryKeys:n.getDictionaryKeys,reduce:vkt,map:cf}});lf=function(){function n(n,t){this.parent=n;this.key=t;this.children=[];this.templateIndex=null;this.links=[]}function t(n,i){var u,f,e,o;if(null!==i&&"object"==typeof i)if(r(i))for(u=[],f=0;f<i.length;f++)u.push(t(n,i[f]));else{o=n;u={"":[]};for(e in i)Object.hasOwnProperty.call(i,e)&&(o=o.follow(e),u[""].push(t(n,i[e])));o.links.push(u)}else u=i;return u}function u(n){var t,u,i,f,r,o,s=[],e=[];n.templateIndex=0;for(r in n.children)Object.hasOwnProperty.call(n.children,r)&&e.push(n.children[r]);for(;e.length>0;){t=e.shift();o=0;for(r in t.children)Object.hasOwnProperty.call(t.children,r)&&(e.push(t.children[r]),o+=1);if(o>1||t.links.length>0){for(u=[],i=t;null===i.templateIndex;)u.unshift(i.key),i=i.parent;for(u.unshift(i.templateIndex),s.push(u),t.templateIndex=s.length,f=0;f<t.links.length;f++)t.links[f][""].unshift(t.templateIndex)}}return s}function f(i){var r,f,e;return r=new n(null,""),e=t(r,i),f=u(r),f.length>0?o({f:"cjson",t:f,v:e},null,null):o(i)}function e(n,t){for(var i=[];t>0;)i=n[t-1].slice(1).concat(i),t=n[t-1][0];return i}function i(n,t){var f,u,s,o;if(null!==t&&"object"==typeof t)if(r(t))for(f=[],u=0;u<t.length;u++)f.push(i(n,t[u]));else for(f={},s=e(n,t[""][0]),u=0;u<s.length;u++)o=i(n,t[""][u+1]),null!==o&&void 0!==o&&(f[s[u]]=o);else f=t;return f}function r(n){return"undefined"!=typeof Array&&Array.isArray?Array.isArray(n):"[object Array]"===Object.prototype.toString.call(n)}function s(n){var t=c(n);return null===t||"object"!=typeof t||!("f"in t)||"cjson"!==t.f?t:i(t.t,t.v)}return n.prototype.follow=function(t){return t in this.children?this.children[t]:(this.children[t]=new n(this,t),this.children[t])},{stringify:f,parse:s}}();f.register("WalkmeLoadTimeManager").asCtor(bkt).dependencies("WmInternals");f.register("WalkmeInternalsPersistWhitelist").asInstance(["removeWalkMeReason","dbgr"]);f.register("wmjQuery").asInstance(r);f.get("SimpleNLP").setJQuery(r);f.register("WmInternals").asInstance(u);f.register("CJson").asInstance(lf);f.register("Lib").asInstance(yt);f.register("win").asInstance(window);f.register("requestAnimationFrame").asInstance(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||!1);f.register("cancelAnimationFrame").asInstance(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||!1);u.addTimeStamp&&u.addTimeStamp("libStartInit");kkt.apply(null,arguments)}window._walkmeInternals=window._walkmeInternals||{};_walkmeInternals.addTimeStamp&&_walkmeInternals.addTimeStamp("libCodeStart");window.wmjQuery=mtjQuery;mtjQuery&&(mtjQuery.expr&&mtjQuery.expr.filters&&(mtjQuery.expr.filters.mt_hidden=function(n){var t=n.offsetWidth,i=n.offsetHeight;return 0===t&&0===i||!mtjQuery.support.reliableHiddenOffsets&&"none"===(n.style.display||mtjQuery.css(n,"display"))||"hidden"===mtjQuery.css(n,"visibility")},mtjQuery.expr.filters.mt_visible=function(n){return!mtjQuery.expr.filters.mt_hidden(n)},mtjQuery.expr.filters.wm_can_embed=function(n){var t=wmjQuery(n);return!t.hasClass("walkme-not-embed")&&"static"!=t.css("position")}),mtjQuery.trim=function(n){return null==n?"":n.toString().replace(/^\s+/,"").replace(/\s+$/,"")}),function(n){function t(n){if(window._walkmeInternals.jQueryCompatability=window._walkmeInternals.jQueryCompatability||{},n.support.cors||!n.ajaxTransport||!window.XDomainRequest)return void(_walkmeInternals.jQueryCompatability.wmIECorsSupport=!1);var t=/^(https?:)?\/\//i,i=/^get|post$/i,r=new RegExp("^(//|"+location.protocol+")","i");_walkmeInternals.jQueryCompatability.wmIECorsSupport=!0;n.ajaxTransport("* text html xml json",function(u,f){if(u.crossDomain&&u.async&&i.test(u.type)&&t.test(u.url)&&r.test(u.url)){var e=null;return{send:function(t,i){var o="",r=(f.dataType||"").toLowerCase();e=new XDomainRequest;/^\d+$/.test(f.timeout)&&(e.timeout=f.timeout);e.ontimeout=function(){i(500,"timeout")};e.onload=function(){var o="Content-Length: "+e.responseText.length+"\r\nContent-Type: "+e.contentType,u={code:200,message:"success"},f={text:e.responseText},t;try{if("html"===r||/text\/html/i.test(e.contentType))f.html=e.responseText;else if("json"===r||"text"!==r&&/\/json/i.test(e.contentType))try{f.json=n.parseJSON(e.responseText)}catch(h){u.code=500;u.message="parseerror"}else if("xml"===r||"text"!==r&&/\/xml/i.test(e.contentType)){t=new ActiveXObject("Microsoft.XMLDOM");t.async=!1;try{t.loadXML(e.responseText)}catch(h){t=void 0}if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)throw u.code=500,u.message="parseerror","Invalid XML: "+e.responseText;f.xml=t}}catch(s){throw s;}finally{i(u.code,u.message,f,o)}};e.onprogress=function(){};e.onerror=function(){i(500,"error",{text:e.responseText})};f.data&&(o="string"===n.type(f.data)?f.data:n.param(f.data));e.open(u.type,u.url);e.send(o)},abort:function(){e&&e.abort()}}}})}function i(n){return n.replace(/^-+$/g,"").toLowerCase().replace(/-(.)/g,function(n,t){return t.toUpperCase()})}function r(n){var t={},i=0,r=n.camelCase;n.camelCase=function(n){return void 0===t[n]&&(t[n]=r(n),++i>1e3&&(i=0,t={})),t[n]}}n.extend({safeEach:function(t,i){return n.each(t,function(n,r){t.hasOwnProperty(n)&&i(n,r)})}});n.fn.safeEach=function(t){return n.safeEach(this,t)};n.fn.important=function(t,i){var r=this;return"object"==typeof t?(n.safeEach(t,function(n,t){r.important(n,t)}),r):r.safeEach(function(r,u){n(u).css(t,"").attr("style",function(n,r){var u=new RegExp("(^|;)\\s*"+t+"\\s*:[^;]*(;|$)","gi");return(r||"").replace(u,"$1").replace(/;$/gi,"")+";"+(void 0!=i?t+": "+i+" !important;":"")})})};n.fn.cssReset=function(t,r){var u,f;if(t)return(u=this,"object"==typeof t)?(n.safeEach(t,function(n,t){u.cssReset(n,t)}),u):("string"==typeof r&&(f=r.indexOf("!important")>-1,r=n.trim(r.replace("!important",""))),u.safeEach(function(u,e){e.style[t]||e.style[i(t)]||(f?n(e).important(t,r):n(e).css(t,r))}))};n.fn.exist=function(){return!!this.length};n.fn.or=function(t,i){return this.length?this:n(t,i)};n.fn.allCss=function(){var t,r,u,i,f,e;if(1==this.length){if(t={},r=this.attr("style"),!r)return t;for(u=r.split(";"),i=u.length-1;i>=0;i--)f=u[i].split(":"),e=n.trim(f[0]),e&&(t[e]=n.trim(f[1]));return t}};n.extend(n.expr[":"],{textEquals:function(t,i,r){return n(t).text()==r[3]}});n.fn.reduce=function(n,t){return this.each(function(i,r){t=n.apply(r,[t,r])}),t};t(n);r(n)}(wmjQuery),function(n,t,i){i(window.wmjQuery,n,t)}(this,document,function(n,t,i){!function(n,t,i,r){function a(n){for(;n&&"undefined"!=typeof n.originalEvent;)n=n.originalEvent;return n}function bt(t,i){var e,o,c,u,s,v,l,h,y,f=t.type;if(t=n.Event(t),t.type=i,e=t.originalEvent,o=n.event.props,f.search(/^(mouse|click)/)>-1&&(o=pt),e)for(l=o.length,u;l;)u=o[--l],t[u]=e[u];if(f.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),f.search(/^touch/)!==-1&&(c=a(e),f=c.touches,s=c.changedTouches,v=f&&f.length?f[0]:s&&s.length?s[0]:r))for(h=0,y=it.length;h<y;h++)u=it[h],t[u]=v[u];return t}function p(t){for(var i,r,u={};t;){i=n.data(t,o);for(r in i)i[r]&&(u[r]=u.hasVirtualBinding=!0);t=t.parentNode}return u}function kt(t,i){for(var r;t;){if(r=n.data(t,o),r&&(!i||r[i]))return t;t=t.parentNode}return null}function dt(){l=!1}function ft(){l=!0}function gt(){s=0;v.length=0;d=!1;ft()}function ni(){dt()}function nt(){et();c=setTimeout(function(){c=0;gt()},n.vmouse.resetTimerDuration)}function et(){c&&(clearTimeout(c),c=0)}function e(t,i,r){var u;return(r&&r[t]||!r&&kt(i.target,t))&&(u=bt(i,t),n(i.target).trigger(u)),u}function ot(t){var i,r=n.data(t.target,b);d||s&&s===r||(i=e("v"+t.type,t),i&&(i.isDefaultPrevented()&&t.preventDefault(),i.isPropagationStopped()&&t.stopPropagation(),i.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function st(t){var r,i,u,o=a(t).touches;o&&1===o.length&&(r=t.target,i=p(r),i.hasVirtualBinding&&(s=wt++,n.data(r,b,s),et(),ni(),f=!1,u=a(t).touches[0],rt=u.pageX,ut=u.pageY,e("vmouseover",t,i),e("vmousedown",t,i)))}function ht(n){l||(f||e("vmousecancel",n,p(n.target)),f=!0,nt())}function ct(t){if(!l){var i=a(t).touches[0],o=f,r=n.vmouse.moveDistanceThreshold,u=p(t.target);f=f||Math.abs(i.pageX-rt)>r||Math.abs(i.pageY-ut)>r;f&&!o&&e("vmousecancel",t,u);e("vmousemove",t,u);nt()}}function lt(n){if(!l){ft();var t,i,r=p(n.target);e("vmouseup",n,r);f||(t=e("vclick",n,r),t&&t.isDefaultPrevented()&&(i=a(n).changedTouches[0],v.push({touchID:s,x:i.clientX,y:i.clientY}),d=!0));e("vmouseout",n,r);f=!1;nt()}}function at(t){var r,i=n.data(t,o);if(i)for(r in i)if(i[r])return!0;return!1}function vt(){}function ti(t){var i=t.substr(1);return{setup:function(){at(this)||n.data(this,o,{});var r=n.data(this,o);r[t]=!0;u[t]=(u[t]||0)+1;1===u[t]&&y.bind(i,ot);n(this).bind(i,vt);g&&(u.touchstart=(u.touchstart||0)+1,1===u.touchstart&&y.bind("touchstart",st).bind("touchend",lt).bind("touchmove",ct).bind("scroll",ht))},teardown:function(){--u[t];u[t]||y.unbind(i,ot);g&&(--u.touchstart,u.touchstart||y.unbind("touchstart",st).unbind("touchmove",ct).unbind("touchend",lt).unbind("scroll",ht));var r=n(this),f=n.data(this,o);f&&(f[t]=!1);r.unbind(i,vt);at(this)||r.removeData(o)}}}var w,h,o="virtualMouseBindings",b="virtualTouchID",k="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),it="clientX clientY pageX pageY screenX screenY".split(" "),yt=n.event.mouseHooks?n.event.mouseHooks.props:[],pt=n.event.props.concat(yt),u={},c=0,rt=0,ut=0,f=!1,v=[],d=!1,l=!1,g="addEventListener"in i,y=n(i),wt=1,s=0,tt;for(n.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},h=0;h<k.length;h++)n.event.special[k[h]]=ti(k[h]);g&&(tt=function(t){var f,e,i,r,u,h,o=v.length,s=t.target;if(o)for(f=t.clientX,e=t.clientY,w=n.vmouse.clickDistanceThreshold,i=s;i;){for(r=0;r<o;r++)if(u=v[r],h=0,i===s&&Math.abs(u.x-f)<w&&Math.abs(u.y-e)<w||n.data(i,b)===u.touchID)return t.preventDefault(),void t.stopPropagation();i=i.parentNode}},i.addEventListener("click",tt,!0),wmjQuery(t._walkmeInternals).bind("removeWalkMe",function(){i.removeEventListener("click",tt,!0)}))}(n,t,i),function(n){n.mobile={}}(n),function(n){var t={touch:"ontouchend"in i};n.mobile.support=n.mobile.support||{};n.extend(n.support,t);n.extend(n.mobile.support,t)}(n),function(n,t,r){function f(t,i,u,f){var e=u.type;u.type=i;f?n.event.trigger(u,r,t):n.event.dispatch.call(t,u);u.type=e}var u=n(i),e=n.mobile.support.touch,s="touchmove scroll",h=e?"touchstart":"mousedown",c=e?"touchend":"mouseup",o=e?"touchmove":"mousemove";n.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,i){n.fn[i]=function(n){return n?this.bind(i,n):this.trigger(i)};n.attrFn&&(n.attrFn[i]=!0)});n.event.special.scrollstart={enabled:!0,setup:function(){function u(n,i){t=i;f(r,t?"scrollstart":"scrollstop",n)}var t,i,r=this,e=n(r);e.bind(s,function(r){n.event.special.scrollstart.enabled&&(t||u(r,!0),clearTimeout(i),i=setTimeout(function(){u(r,!1)},50))})},teardown:function(){n(this).unbind(s)}};n.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var i=this,r=n(i),t=!1;r.bind("vmousedown",function(e){function o(){clearTimeout(h)}function s(){o();r.unbind("vclick",l).unbind("vmouseup",o);u.unbind("vmousecancel",s)}function l(n){s();t||c!==n.target?t&&n.preventDefault():f(i,"tap",n)}if(t=!1,e.which&&1!==e.which)return!1;var h,c=e.target;r.bind("vmouseup",o).bind("vclick",l);u.bind("vmousecancel",s);h=setTimeout(function(){n.event.special.tap.emitTapOnTaphold||(t=!0);f(i,"taphold",n.Event("taphold",{target:c}))},n.event.special.tap.tapholdThreshold)})},teardown:function(){n(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup");u.unbind("vmousecancel")}};n.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(n){var u=t.pageXOffset,f=t.pageYOffset,i=n.clientX,r=n.clientY;return 0===n.pageY&&Math.floor(r)>Math.floor(n.pageY)||0===n.pageX&&Math.floor(i)>Math.floor(n.pageX)?(i-=u,r-=f):(r<n.pageY-f||i<n.pageX-u)&&(i=n.pageX-u,r=n.pageY-f),{x:i,y:r}},start:function(t){var r=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=n.event.special.swipe.getLocation(r);return{time:(new Date).getTime(),coords:[i.x,i.y],origin:n(t.target)}},stop:function(t){var r=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=n.event.special.swipe.getLocation(r);return{time:(new Date).getTime(),coords:[i.x,i.y]}},handleSwipe:function(t,i,r,u){if(i.time-t.time<n.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-i.coords[0])>n.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-i.coords[1])<n.event.special.swipe.verticalDistanceThreshold){var e=t.coords[0]>i.coords[0]?"swipeleft":"swiperight";return f(r,"swipe",n.Event("swipe",{target:u,swipestart:t,swipestop:i}),!0),f(r,e,n.Event(e,{target:u,swipestart:t,swipestop:i}),!0),!0}return!1},eventInProgress:!1,setup:function(){var i,r=this,f=n(r),t={};i=n.data(this,"mobile-events");i||(i={length:0},n.data(this,"mobile-events",i));i.length++;i.swipe=t;t.start=function(i){if(!n.event.special.swipe.eventInProgress){n.event.special.swipe.eventInProgress=!0;var e,s=n.event.special.swipe.start(i),h=i.target,f=!1;t.move=function(t){s&&!t.isDefaultPrevented()&&(e=n.event.special.swipe.stop(t),f||(f=n.event.special.swipe.handleSwipe(s,e,r,h),f&&(n.event.special.swipe.eventInProgress=!1)),Math.abs(s.coords[0]-e.coords[0])>n.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())};t.stop=function(){f=!0;n.event.special.swipe.eventInProgress=!1;u.off(o,t.move);t.move=null};u.on(o,t.move).one(c,t.stop)}};f.on(h,t.start)},teardown:function(){var i,t;i=n.data(this,"mobile-events");i&&(t=i.swipe,delete i.swipe,i.length--,0===i.length&&n.removeData(this,"mobile-events"));t&&(t.start&&n(this).off(h,t.start),t.move&&u.off(o,t.move),t.stop&&u.off(c,t.stop))}};n.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,i){n.event.special[t]={setup:function(){n(this).bind(i,n.noop)},teardown:function(){n(this).unbind(i)}}})}(n,this)}),function(n){"use strict";function i(t,i){n.extend(this,i);this.$select=t;n.extend(this,this.markup(t));this.bindEvents()}function t(r){return"string"!=typeof r&&(r=n.extend({},t.options,r)),this.filter("select").each(function(){var t=n(this),u=t.data(r.baseName);"string"==typeof r?u[r].apply(t,[].slice.call(arguments,1)):u||t.data(r.baseName,new i(t,r))}),this}i.prototype={getValue:function(n){return"function"==typeof this[n]?this[n]():this[n]},onFocusBlur:function(n){this.$el.toggleClass(this.generateClassName("focus",!0),n&&("focus"===n.type||"focusin"===n.type)||this.$select.is(":focus"))},updateTitle:function(){var n=this.$select.find(":selected"),t=this.formatter(n.text(),this.$select.val(),n,this.$select);this.allowHtmlInTitle?this.$title.html(t):this.$title.text(t)},bindEvents:function(){this.$el.on("focusin."+this.baseName+" focusout."+this.baseName,n.proxy(this.onFocusBlur,this));this.onFocusBlur();this.$select.on("change."+this.baseName,n.proxy(this.updateTitle,this));this.$select.on("keyup."+this.baseName,n.proxy(this.updateTitle,this));this.updateTitle()},destroy:function(){this.$el.off("."+this.baseName);this.$select.off("."+this.baseName);this.$select.removeClass(this.generateClassName("select")).insertBefore(this.$el);this.$el.remove()}};t.klass=i;t.formatter=function(n){return n};t.markup=function(t){var i=t.addClass(this.generateClassName("select")).wrap('<span class="'+this.generateClassName()+'"/>').parent();return n('<span class="'+this.generateClassName("arrow")+'"/>').prependTo(i),{$el:i,$title:n('<span class="'+this.generateClassName("title")+'"/>').prependTo(i)}};t.generateClassName=function(n){return this.getValue("baseName")+(n?"-"+n:"")};t.options={baseName:"brute-select",generateClassName:t.generateClassName,markup:t.markup,formatter:t.formatter,allowHtmlInTitle:!1};n.fn.bruteSelect=t}(mtjQuery),function(n){n.fn.fixedPosition=function(){}}(mtjQuery),function(n){n.extend({highlight:function(t,i,r,u){var o,s,f,h,e;if(3===t.nodeType){if(o=t.data.match(i),o)return s=document.createElement(r||"span"),s.className=u||"walkme-highlight",f=t.splitText(o.index),f.splitText(o[0].length),h=f.cloneNode(!0),s.appendChild(h),f.parentNode.replaceChild(s,f),1}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&(t.tagName!==r.toUpperCase()||t.className!==u))for(e=0;e<t.childNodes.length;e++)e+=n.highlight(t.childNodes[e],i,r,u);return 0}});n.fn.unhighlight=function(t){var i={className:"walkme-highlight",element:"span"};return n.extend(i,t),this.find(i.element+"."+i.className).each(function(){var t=this.parentNode;t&&(t.replaceChild(this.firstChild,this),n(t).text(n(t).text()))}).end()};n.fn.highlight=function(t,i){var r={className:"walkme-highlight",element:"span",caseSensitive:!1,wordsOnly:!1},f,u,e;return(n.extend(r,i),t.constructor===String&&(t=[t]),t=n.grep(t,function(n){return""!=n}),t=n.map(t,function(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),0==t.length)?this:(f=r.caseSensitive?"":"i",u="("+t.join("|")+")",r.wordsOnly&&(u="\\b"+u+"\\b"),e=new RegExp(u,f),this.each(function(){n.highlight(this,e,r.element,r.className)}))}}(mtjQuery),function(n,t,i){n.fn.jScrollPane=function(r){function u(r,u){function yi(t){var u,d,g,a,p,w,nt=!1,tt=!1;if(f=t,e===i)p=r.scrollTop(),w=r.scrollLeft(),r.important({overflow:"hidden",padding:0}),h=r.innerWidth()+ut,o=r.innerHeight(),r.width(h),e=n('<div class="walkme-jspPane" />').css("padding",li).append(r.children()),s=n('<div class="walkme-jspContainer" />').css({width:h+"px",height:o+"px"}).append(e).appendTo(r),oi(r);else{if(r.css("width",""),nt=f.stickToBottom&&hr(),tt=f.stickToRight&&cr(),a=r.innerWidth()+ut!=h||r.outerHeight()!=o,a&&(h=r.innerWidth()+ut,o=r.innerHeight(),s.css({width:h+"px",height:o+"px"})),!a&&bi==y&&e.outerHeight()==v)return void r.width(h);bi=y;e.css("width","");r.width(h);s.find(">.walkme-jspVerticalBar,>.walkme-jspHorizontalBar").remove().end()}e.css("overflow","auto");y=t.contentWidth?t.contentWidth:e[0].scrollWidth;v=e[0].scrollHeight;e.css("overflow","");hi=y<h?1:y/h;gt=v<o?1:v/o;k=gt>1||f.alwaysScrollVertical;b=hi>1||f.alwaysScrollHorizontal;b||k?(r.addClass("walkme-jspScrollable"),u=f.maintainPosition&&(c||l),u&&(d=ot(),g=st()),ir(),rr(),ur(),u&&(wt(tt?y-h:d,!1),et(nt?v-o:g,!1)),vr(),lr(),dr(),f.enableKeyboardNavigation&&pr(),f.clickOnTrack&&er(),br(),f.hijackInternalLinks&&kr()):(r.removeClass("walkme-jspScrollable"),e.css({top:0,left:0,right:0,width:s.width()-ut}),ar(),yr(),wr(),nr());f.autoReinitialise&&!yt?yt=setInterval(function(){yi(f)},f.autoReinitialiseDelay):!f.autoReinitialise&&yt&&clearInterval(yt);p&&r.scrollTop(0)&&et(p,!1);w&&r.scrollLeft(0)&&wt(w,!1);r.trigger("walkme-jsp-initialised",[b||k])}function oi(t){var i=n(t).find('div[class*="walkme-jsp"]').add(t);i.each(function(t,i){var r="class",u=n(i),f=u.attr(r);u.attr(r,"").attr(r,f)})}function ir(){if(k){ni=n('<div class="walkme-jspVerticalBar" />');nt=n('<div class="walkme-jspTrack" />');p=n('<div class="walkme-jspDrag" />');var t=n('<div class="walkme-jspCap walkme-jspCapTop" />'),i=n('<div class="walkme-jspCap walkme-jspCapBottom" />');s.append(ni.append(t,nt.append(p.append(n('<div class="walkme-jspDragTop" />'),n('<div class="walkme-jspDragBottom" />'))),i));oi(s);ht=o;f.showArrows&&(at=n('<a class="walkme-jspArrow walkme-jspArrowUp" />').bind("mousedown.walkme-jsp",ft(0,-1)).bind("click.walkme-jsp",bt),vt=n('<a class="walkme-jspArrow walkme-jspArrowDown" />').bind("mousedown.walkme-jsp",ft(0,1)).bind("click.walkme-jsp",bt),ht-=at.outerHeight()+vt.outerHeight(),f.arrowScrollOnHover&&(at.bind("mouseover.walkme-jsp",ft(0,-1,at)),vt.bind("mouseover.walkme-jsp",ft(0,1,vt))),gi(nt,f.verticalArrowPositions,at,vt));t.add(i).each(function(){var t=n(this);"none"!=t.css("display")&&(ht-=t.outerHeight())});p.hover(function(){p.addClass("walkme-jspHover")},function(){p.removeClass("walkme-jspHover")}).bind("mousedown.walkme-jsp",function(t){var i=n(f.containerDoc).find("html"),r;return i.bind("dragstart.walkme-jsp selectstart.walkme-jsp",bt),p.addClass("walkme-jspActive"),r=t.pageY-p.position().top,i.bind("mousemove.walkme-jsp",function(n){lt(n.pageY-r,!1)}).bind("mouseup.walkme-jsp mouseleave.walkme-jsp",tr),!1});ki()}}function ki(){nt.height(ht+"px");c=0;ci=f.verticalGutter+nt.outerWidth();e.width(h-ci-ut);try{0===ni.position().left&&e.css("margin-left",ci+"px")}catch(n){}}function rr(){b&&(s.append(n('<div class="walkme-jspHorizontalBar" />').append(n('<div class="walkme-jspCap walkme-jspCapLeft" />'),n('<div class="walkme-jspTrack" />').append(n('<div class="walkme-jspDrag" />').append(n('<div class="walkme-jspDragLeft" />'),n('<div class="walkme-jspDragRight" />'))),n('<div class="walkme-jspCap walkme-jspCapRight" />'))),oi(s),ti=s.find(">.walkme-jspHorizontalBar"),d=ti.find(">.walkme-jspTrack"),w=d.find(">.walkme-jspDrag"),f.showArrows&&(kt=n('<a class="walkme-jspArrow walkme-jspArrowLeft" />').bind("mousedown.walkme-jsp",ft(-1,0)).bind("click.walkme-jsp",bt),dt=n('<a class="walkme-jspArrow walkme-jspArrowRight" />').bind("mousedown.walkme-jsp",ft(1,0)).bind("click.walkme-jsp",bt),f.arrowScrollOnHover&&(kt.bind("mouseover.walkme-jsp",ft(-1,0,kt)),dt.bind("mouseover.walkme-jsp",ft(1,0,dt))),gi(d,f.horizontalArrowPositions,kt,dt)),w.hover(function(){w.addClass("walkme-jspHover")},function(){w.removeClass("walkme-jspHover")}).bind("mousedown.walkme-jsp",function(t){n(f.containerDoc).find("html").bind("dragstart.walkme-jsp selectstart.walkme-jsp",bt);w.addClass("walkme-jspActive");var i=t.pageX-w.position().left;return n(f.containerDoc).find("html").bind("mousemove.walkme-jsp",function(n){pt(n.pageX-i,!1)}).bind("mouseup.walkme-jsp mouseleave.walkme-jsp",tr),!1}),ct=s.innerWidth(),di())}function di(){s.find(">.walkme-jspHorizontalBar>.walkme-jspCap:visible,>.walkme-jspHorizontalBar>.walkme-jspArrow").each(function(){ct-=n(this).outerWidth()});d.width(ct+"px");l=0}function ur(){if(b&&k){var t=d.outerHeight(),i=nt.outerWidth();ht-=t;n(ti).find(">.walkme-jspCap:visible,>.walkme-jspArrow").each(function(){ct+=n(this).outerWidth()});ct-=i;o-=i;h-=t;d.parent().append(n('<div class="walkme-jspCorner" />').css("width",t+"px"));oi(d.parent());ki();di()}b&&e.width(s.outerWidth()-ut+"px");v=e.outerHeight();gt=v<o?1:v/o;b&&(rt=Math.ceil(1/hi*ct),rt>f.horizontalDragMaxWidth?rt=f.horizontalDragMaxWidth:rt<f.horizontalDragMinWidth&&(rt=f.horizontalDragMinWidth),w.width(rt+"px"),tt=ct-rt,wi(l));k&&(it=Math.ceil(1/gt*ht),it>f.verticalDragMaxHeight?it=f.verticalDragMaxHeight:it<f.verticalDragMinHeight&&(it=f.verticalDragMinHeight),p.height(it+"px"),g=ht-it+f.dragMaxYOffset,pi(c))}function gi(n,t,i,r){var e,u="before",f="after";"os"==t&&(t=/Mac/.test(navigator.platform)?"after":"split");t==u?f=t:t==f&&(u=t,e=i,i=r,r=e);n[u](i)[f](r)}function ft(n,t,i){return function(){return fr(n,t,this,i),this.blur(),!1}}function fr(t,i,r,u){r=n(r).addClass("walkme-jspActive");var o,e,s=!0,h=function(){0!==t&&a.scrollByX(t*f.arrowButtonSpeed);0!==i&&a.scrollByY(i*f.arrowButtonSpeed);e=setTimeout(h,s?f.initialDelay:f.arrowRepeatFreq);s=!1};h();o=u?"mouseout.walkme-jsp":"mouseup.walkme-jsp";u=u||n(f.containerDoc).find("html");u.bind(o,function(){r.removeClass("walkme-jspActive");e&&clearTimeout(e);e=null;u.unbind(o)})}function er(){nr();k&&nt.bind("mousedown.walkme-jsp",function(t){if(t.originalTarget===i||t.originalTarget==t.currentTarget){var r,e=n(this),y=e.offset(),s=t.pageY-y.top-c,h=!0,l=function(){var p=e.offset(),n=t.pageY-p.top-it/2,i=o*f.scrollPagePercent,y=g*i/(v-o);if(s<0)c-y>n?a.scrollByY(-i):lt(n);else{if(!(s>0))return void u();c+y<n?a.scrollByY(i):lt(n)}r=setTimeout(l,h?f.initialDelay:f.trackClickRepeatFreq);h=!1},u=function(){r&&clearTimeout(r);r=null;n(f.containerDoc).unbind("mouseup.walkme-jsp",u)};return l(),n(f.containerDoc).bind("mouseup.walkme-jsp",u),!1}});b&&d.bind("mousedown.walkme-jsp",function(t){if(t.originalTarget===i||t.originalTarget==t.currentTarget){var r,e=n(this),v=e.offset(),o=t.pageX-v.left-l,s=!0,c=function(){var p=e.offset(),n=t.pageX-p.left-rt/2,i=h*f.scrollPagePercent,v=tt*i/(y-h);if(o<0)l-v>n?a.scrollByX(-i):pt(n);else{if(!(o>0))return void u();l+v<n?a.scrollByX(i):pt(n)}r=setTimeout(c,s?f.initialDelay:f.trackClickRepeatFreq);s=!1},u=function(){r&&clearTimeout(r);r=null;n(f.containerDoc).unbind("mouseup.walkme-jsp",u)};return c(),n(f.containerDoc).bind("mouseup.walkme-jsp",u),!1}})}function nr(){d&&d.unbind("mousedown.walkme-jsp");nt&&nt.unbind("mousedown.walkme-jsp")}function tr(){n(f.containerDoc).find("html").unbind("dragstart.walkme-jsp selectstart.walkme-jsp mousemove.walkme-jsp mouseup.walkme-jsp mouseleave.walkme-jsp");p&&p.removeClass("walkme-jspActive");w&&w.removeClass("walkme-jspActive")}function lt(n,t){k&&(n<0?n=0:n>g&&(n=g),t===i&&(t=f.animateScroll),t?a.animate(p,"top",n,pi):(p.css("top",n),pi(n)))}function pi(n){n===i&&(n=p.position().top);s.scrollTop(0);c=n||0;var t=0===c,u=c==g,h=n/g,f=-h*(v-o);ii==t&&ui==u||(ii=t,ui=u,r.trigger("walkme-jsp-arrow-change",[ii,ui,ri,fi]));or(t,u);e.css("top",f);try{r.trigger("walkme-jsp-scroll-y",[-f,t,u]).trigger("scroll")}catch(l){}}function pt(n,t){b&&(n<0?n=0:n>tt&&(n=tt),t===i&&(t=f.animateScroll),t?a.animate(w,"left",n,wi):(w.css("left",n),wi(n)))}function wi(n){n===i&&(n=w.position().left);s.scrollTop(0);l=n||0;var t=0===l,u=l==tt,o=n/tt,f=-o*(y-h);ri==t&&fi==u||(ri=t,fi=u,r.trigger("walkme-jsp-arrow-change",[ii,ui,ri,fi]));sr(t,u);e.css("left",f);try{r.trigger("walkme-jsp-scroll-x",[-f,t,u]).trigger("scroll")}catch(c){}}function or(n,t){f.showArrows&&(at[n?"addClass":"removeClass"]("walkme-jspDisabled"),vt[t?"addClass":"removeClass"]("walkme-jspDisabled"))}function sr(n,t){f.showArrows&&(kt[n?"addClass":"removeClass"]("walkme-jspDisabled"),dt[t?"addClass":"removeClass"]("walkme-jspDisabled"))}function et(n,t){var i=n/(v-o);lt(i*g,t)}function wt(n,t){var i=n/(y-h);pt(i*tt,t)}function si(t,i,r){var u,v,y,p,w,b,k,l,a,e=0,c=0;try{u=n(t)}catch(d){return}for(v=u.outerHeight(),y=u.outerWidth(),s.scrollTop(0),s.scrollLeft(0);!u.is(".walkme-jspPane");)if(e+=u.position().top,c+=u.position().left,u=u.offsetParent(),/^body|html$/i.test(u[0].nodeName))return;p=st();b=p+o;e<p||i?l=e-f.horizontalGutter:e+v>b&&(l=e-o+v+f.horizontalGutter);isNaN(l)||et(l,r);w=ot();k=w+h;c<w||i?a=c-f.horizontalGutter:c+y>k&&(a=c-h+y+f.horizontalGutter);isNaN(a)||wt(a,r)}function ot(){return-e.position().left}function st(){return-e.position().top}function hr(){var n=v-o;return n>20&&n-st()<10}function cr(){var n=y-h;return n>20&&n-ot()<10}function lr(){s.unbind(vi).bind(vi,function(n,t,i,r){l||(l=0);c||(c=0);var e=l,o=c,u=n.deltaFactor||f.mouseWheelSpeed;return a.scrollBy(i*u,-r*u,!1),e==l&&o==c})}function ar(){s.unbind(vi)}function bt(){return!1}function vr(){e.find(":input,a").unbind("focus.walkme-jsp").bind("focus.walkme-jsp",function(n){si(n.target,!1)})}function yr(){e.find(":input,a").unbind("focus.walkme-jsp")}function pr(){function h(){var n=l,i=c;switch(t){case 40:a.scrollByY(f.keyboardSpeed,!1);break;case 38:a.scrollByY(-f.keyboardSpeed,!1);break;case 34:case 32:a.scrollByY(o*f.scrollPagePercent,!1);break;case 33:a.scrollByY(-o*f.scrollPagePercent,!1);break;case 39:a.scrollByX(f.keyboardSpeed,!1);break;case 37:a.scrollByX(-f.keyboardSpeed,!1)}return u=n!=l||i!=c}var t,u,i=[];b&&i.push(ti[0]);k&&i.push(ni[0]);e.bind("focus.jsp",function(){r.focus()});f.setTabIndex&&r.attr("tabindex",0);r.unbind("keydown.walkme-jsp keypress.walkme-jsp").bind("keydown.walkme-jsp",function(r){if(r.target===this||i.length&&n(r.target).closest(i).length){var f=l,e=c;switch(r.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:t=r.keyCode;h();break;case 35:et(v-o);t=null;break;case 36:et(0);t=null}return u=r.keyCode==t&&f!=l||e!=c,!u}}).bind("keypress.walkme-jsp",function(r){if(r.keyCode==t&&h(),r.target===this||i.length&&n(r.target).closest(i).length)return!u});f.hideFocus?(r.css("outline","none"),"hideFocus"in s[0]&&r.attr("hideFocus",!0)):(r.css("outline",""),"hideFocus"in s[0]&&r.attr("hideFocus",!1))}function wr(){f.setTabIndex&&r.attr("tabindex","-1").removeAttr("tabindex");r.unbind("keydown.walkme-jsp keypress.walkme-jsp");e.unbind(".jsp")}function br(){if(location.hash&&location.hash.length>1){var t,r,i=escape(location.hash.substr(1));try{t=n("#"+i+', a[name="'+i+'"]')}catch(u){return}t.length&&e.find(i)&&(0===s.scrollTop()?r=setInterval(function(){s.scrollTop()>0&&(si(t,!0),n(f.containerDoc).scrollTop(s.position().top),clearInterval(r))},50):(si(t,!0),n(f.containerDoc).scrollTop(s.position().top)))}}function kr(){n(ei(f.containerDoc)).data("walkme-jspHijack")||(n(ei(f.containerDoc)).data("walkme-jspHijack",!0),n(ei(f.containerDoc)).delegate('a[href*="#"]',"click",function(i){var f,r,u,s,e,o,c=this.href.substr(0,this.href.indexOf("#")),h=location.href;if(location.href.indexOf("#")!==-1&&(h=location.href.substr(0,location.href.indexOf("#"))),c===h){f=escape(this.href.substr(this.href.indexOf("#")+1));try{r=n("#"+f+', a[name="'+f+'"]')}catch(l){return}r.length&&(u=r.closest(".walkme-jspScrollable"),s=u.data("walkme-jsp"),s.scrollToElement(r,!0),u[0].scrollIntoView&&(e=n(t).scrollTop(),o=r.offset().top,(o<e||o>e+n(t).height())&&u[0].scrollIntoView()),i.preventDefault())}}))}function dr(){var u,f,t,i,n,r=!1;s.unbind("touchstart.walkme-jsp touchmove.walkme-jsp touchend.walkme-jsp click.walkme-jsp-touchclick").bind("touchstart.walkme-jsp",function(e){var o=e.originalEvent.touches[0];u=ot();f=st();t=o.pageX;i=o.pageY;n=!1;r=!0}).bind("touchmove.walkme-jsp",function(e){if(r){var o=e.originalEvent.touches[0],s=l,h=c;return a.scrollTo(u+t-o.pageX,f+i-o.pageY),n=n||Math.abs(t-o.pageX)>5||Math.abs(i-o.pageY)>5,s==l&&h==c}}).bind("touchend.walkme-jsp",function(){r=!1}).bind("click.walkme-jsp-touchclick",function(){if(n)return n=!1,!1})}function gr(){var n=st(),t=ot();r.removeClass("walkme-jspScrollable").unbind(".walkme-jsp");e.unbind(".jsp");r.replaceWith(ai.append(e.children()));ai.scrollTop(n);ai.scrollLeft(t);yt&&clearInterval(yt)}var f,e,h,o,s,y,v,hi,gt,k,b,p,g,c,w,tt,l,ni,nt,ci,ht,it,at,vt,ti,d,ct,rt,kt,dt,yt,li,ut,bi,a=this,ii=!0,ri=!0,ui=!1,fi=!1,ai=r.clone(!1,!1).empty(),ei=ei,vi=n.fn.mwheelIntent?"mwheelIntent.walkme-jsp":"mousewheel.walkme-jsp";"border-box"===r.css("box-sizing")?(li=0,ut=0):(li=r.css("paddingTop")+" "+r.css("paddingRight")+" "+r.css("paddingBottom")+" "+r.css("paddingLeft"),ut=(parseInt(r.css("paddingLeft"),10)||0)+(parseInt(r.css("paddingRight"),10)||0));n.extend(a,{reinitialise:function(t){t=n.extend({},f,t);yi(t)},scrollToElement:function(n,t,i){si(n,t,i)},scrollTo:function(n,t,i){wt(n,i);et(t,i)},scrollToX:function(n,t){wt(n,t)},scrollToY:function(n,t){et(n,t)},scrollToPercentX:function(n,t){wt(n*(y-h),t)},scrollToPercentY:function(n,t){et(n*(v-o),t)},scrollBy:function(n,t,i){a.scrollByX(n,i);a.scrollByY(t,i)},scrollByX:function(n,t){var i=ot()+Math[n<0?"floor":"ceil"](n),r=i/(y-h);pt(r*tt,t)},scrollByY:function(n,t){var i=st()+Math[n<0?"floor":"ceil"](n),r=i/(v-o);lt(r*g,t)},positionDragX:function(n,t){pt(n,t)},positionDragY:function(n,t){lt(n,t)},animate:function(n,t,i,r){var u={};u[t]=i;n.animate(u,{duration:f.animateDuration,easing:f.animateEase,queue:!1,step:r})},getContentPositionX:function(){return ot()},getContentPositionY:function(){return st()},getContentWidth:function(){return y},getContentHeight:function(){return v},getPercentScrolledX:function(){return ot()/(y-h)},getPercentScrolledY:function(){return st()/(v-o)},getIsScrollableH:function(){return b},getIsScrollableV:function(){return k},getContentPane:function(){return e},scrollToBottom:function(n){lt(g,n)},hijackInternalLinks:n.noop,destroy:function(){gr()}});yi(u)}return r=n.extend({},n.fn.jScrollPane.defaults,r),n.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){r[this]=r[this]||r.speed}),this.each(function(){var t=n(this),i=t.data("walkme-jsp");i?i.reinitialise(r):(n("script",t).filter('[type="text/javascript"],:not([type])').remove(),i=new u(t,r),t.data("walkme-jsp",i))})};n.fn.jScrollPane.defaults={containerDoc:document,setTabIndex:!0,alwaysScrollVertical:!1,alwaysScrollHorizontal:!1,dragMaxYOffset:0,showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:i,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(wmjQuery,this),function(n){function f(r){var s,u=r||window.event,l=[].slice.call(arguments,1),f=0,e=0,o=0,h=0,c=0;return r=n.event.fix(u),r.type="mousewheel",u.wheelDelta&&(f=u.wheelDelta),u.detail&&(f=u.detail*-1),u.deltaY&&(o=u.deltaY*-1,f=o),u.deltaX&&(e=u.deltaX,f=e*-1),void 0!==u.wheelDeltaY&&(o=u.wheelDeltaY),void 0!==u.wheelDeltaX&&(e=u.wheelDeltaX*-1),h=Math.abs(f),(!i||h<i)&&(i=h),c=Math.max(Math.abs(o),Math.abs(e)),(!t||c<t)&&(t=c),s=f>0?"floor":"ceil",f=Math[s](f/i),e=Math[s](e/t),o=Math[s](o/t),l.unshift(r,f,e,o),(n.event.dispatch||n.event.handle).apply(this,l)}var i,t,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u;if(n.event.fixHooks)for(u=e.length;u;)n.event.fixHooks[e[--u]]=n.event.mouseHooks;n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var n=r.length;n;)this.addEventListener(r[--n],f,!1);else this.onmousewheel=f},teardown:function(){if(this.removeEventListener)for(var n=r.length;n;)this.removeEventListener(r[--n],f,!1);else this.onmousewheel=null}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}(wmjQuery),function(n){var t={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},f={duration:"fast",direction:"both"},i=/^(?:html)$/i,e=function(t,i){i=i||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle);var u=!(!document.defaultView||!document.defaultView.getComputedStyle),r={top:parseFloat(u?i.borderTopWidth:n.css(t,"borderTopWidth"))||0,left:parseFloat(u?i.borderLeftWidth:n.css(t,"borderLeftWidth"))||0,bottom:parseFloat(u?i.borderBottomWidth:n.css(t,"borderBottomWidth"))||0,right:parseFloat(u?i.borderRightWidth:n.css(t,"borderRightWidth"))||0};return{top:r.top,left:r.left,bottom:r.bottom,right:r.right,vertical:r.top+r.bottom,horizontal:r.left+r.right}},u=function(t){var u=n(window),r=i.test(t[0].nodeName);return{border:r?{top:0,left:0,bottom:0,right:0}:e(t[0]),scroll:{top:(r?u:t).scrollTop(),left:(r?u:t).scrollLeft()},scrollbar:{right:r?0:t.innerWidth()-t[0].clientWidth,bottom:r?0:t.innerHeight()-t[0].clientHeight},rect:function(){var n=t[0].getBoundingClientRect();return{top:r?0:n.top,left:r?0:n.left,bottom:r?t[0].clientHeight:n.bottom,right:r?t[0].clientWidth:n.right}}()}},r;n.fn.extend({scrollintoview:function(r){var c,y,p,o,e,a,h;if((r=n.extend({},f,r),r.direction=t["string"==typeof r.direction&&r.direction.toLowerCase()]||t.both,c="",r.direction.x===!0&&(c="horizontal"),r.direction.y===!0&&(c=c?"both":"vertical"),i="html"==r.rootElement?/^(?:html)$/i:/^(?:body)$/i,y="",r.customScrollElement&&(y=","+r.customScrollElement),p=this.eq(0),o=r.elementToFindScrollableFor.parent().closest(":scrollable("+c+")"+y),!(o.length>0))||("html"==r.rootElement&&o[0].tagName&&o[0].tagName.toUpperCase&&"BODY"==o[0].tagName.toUpperCase()&&(o=o.parent()),o=o.eq(0),e={e:u(p),s:u(o)},r.heightLimit&&o.height()<200))return!1;var s={top:e.e.rect.top-(e.s.rect.top+e.s.border.top),bottom:e.s.rect.bottom-e.s.border.bottom-e.s.scrollbar.bottom-e.e.rect.bottom,left:e.e.rect.left-(e.s.rect.left+e.s.border.left),right:e.s.rect.right-e.s.border.right-e.s.scrollbar.right-e.e.rect.right},l=0,v={top:s.top,bottom:s.bottom};return(r.endScroll?(a=r.endScroll.scrollOptions,l="px"==a.unit?a.distance:(e.s.rect.bottom-r.endScroll.balloonHeight)*parseFloat(a.distance)/100,s.top>0&&s.bottom<0&&(l+=r.endScroll.totalDrawnHeight-e.s.rect.bottom),a.force&&(v.top-=l)):(s.top-=50,s.bottom-=50),h={},r.direction.y===!0&&(v.top<0?h.scrollTop=e.s.scroll.top+s.top-l:v.top>0&&v.bottom<0&&(h.scrollTop=e.s.scroll.top+Math.min(s.top,-s.bottom)-l)),r.direction.x===!0&&(s.left<0?h.scrollLeft=e.s.scroll.left+s.left:s.left>0&&s.right<0&&(h.scrollLeft=e.s.scroll.left+Math.min(s.left,-s.right))),!h.scrollTop&&!h.scrollLeft)?!1:(i.test(o[0].nodeName)&&(o=n("html,body")),o.animate(h,r.duration).eq(0).queue(function(t){n.isFunction(r.complete)&&r.complete.call(o[0]);t()}),!0)}});r={auto:!0,scroll:!0,visible:!1,hidden:!1};n.extend(n.expr[":"],{scrollable:function(n,u,f){var h=t["string"==typeof f[3]&&f[3].toLowerCase()]||t.both,o=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(n,null):n.currentStyle,e={x:r[o.overflowX.toLowerCase()]||!1,y:r[o.overflowY.toLowerCase()]||!1,isRoot:i.test(n.nodeName)},s;return!e.x&&!e.y&&!e.isRoot||"hidden"==o.overflowY.toLowerCase()?!1:(s={height:{scroll:n.scrollHeight,client:n.clientHeight},width:{scroll:n.scrollWidth,client:n.clientWidth},scrollableX:function(){return(e.x||e.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(e.y||e.isRoot)&&this.height.scroll>this.height.client}},h.y&&s.scrollableY()||h.x&&s.scrollableX())}})}(mtjQuery);window._makeTutorialEv={Ev:function(src){return eval(src)}};void 0==window._makeTutorial&&(window._walkMe=window._makeTutorial=new r(window.wmjQuery,window._walkmeInternals),_makeTutorial.initFailed&&(window._walkMe=window._makeTutorial=void 0));window._makeTutorial&&void 0==window.WalkMeAPI&&(window.WalkMeAPI=window._walkmeInternals.ctx.get("ClassWalkMeAPI"));_walkmeInternals.addTimeStamp&&_walkmeInternals.addTimeStamp("libCodeEnd")}).call(window)}).call(t,i(1))},function(n){n.exports=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}},function(n,t,i){window._walkmeInternals.ctx||i(84)(window._walkmeInternals);n.exports=_walkmeInternals.ctx},,function(n){var t;!function(n){function s(n){i=n}function h(n){var t=new e,i=new u(n);return t.isHuman(i)}function r(n){return 0===n.search("[a-zA-Z]")?t.Alphabet:0===n.search("[0-9]")?t.Digit:t.Other}var i,t,u,o,f,e;!function(n){n[n.Digit=0]="Digit";n[n.Alphabet=1]="Alphabet";n[n.Other=2]="Other"}(t||(t={}));n.setJQuery=s;n.isPhraseHuman=h;u=function(){function n(n){this.words=[];this.raw=n;this.buildWords()}return n.prototype.buildWords=function(){this.splitCategories()},n.prototype.addWord=function(n){var f=this,u;(n=i.trim(n),n)&&(r(n[0])!==t.Alphabet?this.words.push(n):(u=this.splitCamelCase(n),i.each(u,function(n,t){return f.words.push(t.toLowerCase())})))},n.prototype.splitCamelCase=function(n){var t=n.replace(/([a-z](?=[A-Z]))/g,"$1 ");return t.split(" ")},n.prototype.splitCategories=function(){for(var e,u,t,f=r(this.raw[0]),i=0,n=0;n<this.raw.length;n++)e=this.raw[n],u=r(e),u!=f&&(t=this.raw.substring(n,i),this.addWord(t),i=n,f=u);t=this.raw.substring(i,n+1);this.addWord(t)},n}();n.Sentence=u;o=5;f=function(){function n(){var n=this;this.WHITE_LIST=["html","css","btn","js","http","a"];this.VOWELS="aeiou";this.pointers={};this.pointers[t.Alphabet]=function(t){return n.alphabetPred(t)};this.pointers[t.Digit]=function(t){return n.numberPred(t)};this.pointers[t.Other]=function(t){return n.otherPred(t)}}return n.prototype.numberPred=function(){return!1},n.prototype.otherPred=function(){return!0},n.prototype.alphabetPred=function(n){for(var r,t=0,i=0;i<n.length;i++)if(r=n[i],this.VOWELS.indexOf(r)==-1?t++:t=0,t>=o)return!1;return!0},n.prototype.isHuman=function(n){if(this.contains(this.WHITE_LIST,n))return!0;var t=r(n[0]),i=this.pointers[t];return i(n)},n.prototype.contains=function(n,t){return i.inArray(t,n)!==-1},n}();n.WordClassifier=f;e=function(){function n(){}return n.prototype.isHuman=function(n){if(n.raw.length<=2||this.isUrl(n))return!1;var t=new f,r=i.map(n.words,function(n){return t.isHuman(n)});return this.all(r)},n.prototype.all=function(n){for(var t=n.length-1;t>=0;t--)if(!n[t])return!1;return!0},n.prototype.isUrl=function(n){return 0==n.raw.indexOf("/")||0==n.raw.indexOf("http")},n}();n.SentanceClassifier=e}(t||(t={}));n.exports=t},function(n,t,i){!function(t,i){"object"==typeof n&&"object"==typeof n.exports?n.exports=i:t.mapper=i}(this,function(){var n=new(i(6)),t=new(i(7))(n);return{objectJpath:n,objectMapper:t}})},function(n){function t(){function t(n,t){var e;t=r(t);for(var f=t.split("."),i=n,u=0;u<f.length;u++){if(e=f[u],void 0==i)return;i=i[e]}return i}function i(n,t,i){for(var f,e,o,r=t.split("."),u=0;u<r.length-1;u++)f=r[u],n[f]||(n[f]={}),n=n[r[u]];e=r.length-1;o=r[e];n[o]=i}function r(n){return n.replace(/[\'\"\]]|&quot;|&#39;/g,"").replace(/\[/g,".")}var n=this;n.getValue=t;n.setValue=i}n.exports=t},function(n){function t(n){function i(t,i,r){function s(i){return n.getValue(t,i)}var e,u,f,o;for(e in r)(u=r[e],f=s(e),u.transform&&(f=u.transform(f)),!u.where||u.where(f,s))&&(o="string"==typeof u?u:u.destination,n.setValue(i,o,f))}var t=this;t.merge=i}n.exports=t},function(n,t,i){var r=new(i(9)),u=new(i(10))(r),f=new(i(11)),o=new(i(12))(u,f),e=new(i(13))(f,o),s=new(i(14)),h=new(i(15))(e,s);n.exports={bizFlowConsts:r,bizFlowExtensions:u,baseGraphDfsService:h,baseGraphDfsServiceWithRevisiting:e}},function(n){function t(){var n=this;n.FLOW_NODE_TYPE={UI:"UI",Action:"Action"};n.FLOW_NODE_ACTION_TYPE={Split:"Split",Redirect:"Redirect",WaitForCondition:"WaitForCondition",Stop:"Stop",Refresh:"Refresh",SetData:"SetData",Delay:"Delay",OpenMenu:"OpenMenu",PassOwnership:"PassOwnership",Branch:"Branch",Survey:"Survey",Popup:"Popup",ErrorHandling:"ErrorHandling",OnPageAction:"OnPageAction"}}n.exports=t},function(n){function t(n){function i(t){return t.Type==n.FLOW_NODE_TYPE.UI}function r(n){return!i(n)}function u(n){return i(n)?e(n):f(n)}function f(n){return n.Links}function e(n){for(var r,t=[],i=0;i<n.UIElements.length;i++)r=n.UIElements[i],t.push.apply(t,r.Triggers);return t}function o(t){return r(t)&&t.ActionType==n.FLOW_NODE_ACTION_TYPE.Split}var t=this;t.isUiNode=i;t.getNodeConnectors=u;t.isActionNode=r;t.isSplitNode=o}n.exports=t},function(n){function t(){function i(n,i,r,u){return t(n,n,n.Links,i,r,u)}function r(n,i){var r=t(i.node,n,n.Triggers,i.parentConnector,i.parentConnectorIndex,i.parentPoint);return r.uiElement=n,r}function t(n,t,i,r,u,f){return{node:n,point:t,connectors:i,parentConnector:r,parentConnectorIndex:u,parentPoint:f}}var n=this;n.createNodeData=i;n.createUiElementData=r}n.exports=t},function(n){function t(n,t){function r(i,r){var f=i.node,u,e,o;if(n.isActionNode(f))r(i);else for(u=0;u<f.UIElements.length;u++)e=f.UIElements[u],o=t.createUiElementData(e,i),r(o)}var i=this;i.traverse=r}n.exports=t},function(n){function t(n,t){function u(r,u,f){function c(i,u,f,s){if(i&&o){var c=r.Nodes[i],h=n.createNodeData(c,u,f,s);e.visitNode(h);t.traverse(h,l);e.afterNodeDescendantsVisited(h)}}function l(n){var i,t,r;if(e.visitPoint(n),!h[n.point.Id])for(h[n.point.Id]=!0,i=n.connectors,t=0;t<i.length;t++)r=i[t],c(r.TargetFlowNodeId,r,t,n);e.afterPointDescendantsVisited(n)}function a(){}function v(n){var t=u[n]||a;e[n]=function(){o&&t&&(o=t.apply(null,arguments)!==!1)}}for(var o=!0,h={},e={},s=0;s<i.length;s++)v(i[s]);f=f||r.RootFlowNodeId;c(f)}var r=this,i;r.runDfs=u;i=["visitNode","visitPoint","afterPointDescendantsVisited","afterNodeDescendantsVisited"]}n.exports=t},function(n){function t(){function u(r){function h(t){if(t)return function(){if(!n)return t.apply(null,arguments)}}function c(n){return n.node&&n.node.Id}var f;t={};for(var e=function(){},o=r.visitNode||e,s=r.afterNodeDescendantsVisited||e,u=0;u<i.length;u++)f=i[u],r[f]=h(r[f]);r.visitNode=function(i){if(!n){var r=c(i);return t[r]?void(n=i):(t[r]=!0,o(i))}};r.afterNodeDescendantsVisited=function(t){return n?void(t==n&&(n=void 0)):s(t)}}var r=this,n,t,i;r.wrapHandlers=u;i=["visitPoint","afterPointDescendantsVisited"]}n.exports=t},function(n){function t(n,t){function r(i,r,u){return t.wrapHandlers(r),n.runDfs(i,r,u)}var i=this;i.runDfs=r}n.exports=t},function(n){!function(t,i){"object"==typeof n&&"object"==typeof n.exports?n.exports=i:t.deployableConsts=i}(this,function(){return{DEPLOYABLE_TYPE:{Walkthru:0,Task:1,Launcher:2,LabelGroup:3,Survey:4,AbExperiment:5,Category:6,Content:7,Collection:8,Shuttle:9,Tag:10,TestCase:11,PreTestSet:12,Template:13,ShoutOut:14,TestSuite:16,ConditionBlock:17,BusinessSolution:19,Lesson:20,Course:21,TrackedPage:22,Spotlight:23,Tooltip:24,TrackedElement:25,SearchProviderUrl:26}}})},function(n,t,i){!function(t,i){"object"==typeof n&&"object"==typeof n.exports?n.exports=i:t.uiComponents=i}(this,function(n){var t=i(18)(),f=i(19),r=i(20)(n,t),u=i(22)(r),e=i(23)(u);return{eventBasedObject:t,idisplayer:f,uiComponentBase:r,popupBase:u,shoutOutBase:e}})},function(n){n.exports=function(){return t};var t=function(){function n(){this.eventBase=wmjQuery({})}return n.prototype.once=function(n,t){this.eventBase.one(n,t)},n.prototype.bind=function(n,t){this.eventBase.bind(n,t)},n.prototype.unbind=function(n,t){this.eventBase.unbind(n,t)},n.prototype.trigger=function(n,t){this.eventBase.trigger(n,t)},n}()},function(){},function(n,t,i){var r,u=i(21)();n.exports=function(n,t){r=n;return function(n){function t(t){n.call(this);this.LocalSVNRevision="$Rev: 4206 $";this._uiComponent=t;this._settings=t.Settings||{};this._variations=this.createVariations();this._uiCreator=r.get("UICreator")}return u(t,n),t.prototype.getComponent=function(){return this._uiComponent},t.prototype.getUI=function(){return this._uiCreator.getUI()},t.prototype.createUi=function(){this._displayer=r.get("DisplayersFactory").get(this._uiComponent.DisplayerId,[this._uiComponent.Settings]);var n=this._displayer.getContainer(),t=n?n[0].document:document;this._uiCreator.setUI(this._uiComponent,this._variations,this.createConfig(),t,this);this.registerEvents();this._displayer.setUiObject(this._uiCreator.getUI())},t.prototype.registerEvents=function(){},t.prototype.createVariations=function(){for(var u=r.get("UIVariations"),n=[],i=this._uiComponent.UIVariationsIds||[],t=0;t<i.length;t++)n.push(u.get(i[t]));return this._settings.variation&&n.push(this._settings.variation),n},t.prototype.createConfig=function(){return{}},t.prototype.append=function(){var n=this;this.trigger("append-begin");r.get("TemplatesFactory").addResources(this._uiComponent.UITemplateId,this._uiComponent.UITemplateVersion,this._variations,wmjQuery.proxy(function(){n._displayer.append(wmjQuery.proxy(function(){return n.trigger("append-end")},n))},this))},t.prototype.destroy=function(){var n=this;this._isDead||(this.trigger("destroy-begin"),this._displayer.remove(wmjQuery.proxy(function(){n._isDead=!0;n.trigger("destroy-end")},this)))},t.prototype.show=function(){this.trigger("show-begin");this._displayer.show(wmjQuery.proxy(function(){this.trigger("show-end")},this))},t.prototype.hide=function(){this.trigger("hide-begin");this._displayer.hide(wmjQuery.proxy(function(){this.trigger("hide-end")},this))},t.prototype.toggle=function(){this._displayer.isVisible()?this.hide():this.show()},t}(t)}},function(n){!function(t,i){"object"==typeof n&&"object"==typeof n.exports?n.exports=i:t.typescriptHelper=i}(this,function(){return function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r}})},function(n,t,i){var r=i(21)();n.exports=function(n){return function(n){function t(t,i){n.call(this,t);this.LocalSVNRevision="$Rev: 4206 $";this.CLASS_X_BUTTON="walkme-x-button";this._consts=i}return r(t,n),t.prototype.registerEvents=function(){n.prototype.registerEvents.call(this);this.registerXButton()},t.prototype.registerXButton=function(){var n=wmjQuery.proxy(function(){this.trigger("x-clicked");this.destroy()},this);this._uiCreator.registerEvents("."+this.CLASS_X_BUTTON,"click",this._consts.MOBILE_COMMANDS.ACTION.libAction,{libAction:n},"Close")},t.prototype.createConfig=function(){var t=n.prototype.createConfig.call(this);return t.Id=this._uiComponent.Id,t.Name=this._uiComponent.Name,t.XButtonClass=this.CLASS_X_BUTTON,t.Settings=this._uiComponent.Settings,t},t}(n)}},function(n,t,i){var r=i(21)();n.exports=function(n){return function(n){function t(t,i,r,u,f){n.call(this,f,u);this.LocalSVNRevision="$Rev: 4206 $";this.CLOSE_ACTIONS_TYPE="destroy";this.CLASS_ACTION_PREFIX="walkme-action-";this._actionsFactory=t;this._bbCodeParser=r;this._commonUtils=i;this._actions=this.getActions(f);this._position=0==f.Settings.position?"top":"bottom"}return r(t,n),t.prototype.getActions=function(n){var r=[],i,u,t;if(!n.Actions)return r;for(i=0,u=n.Actions.length;i<u;i++)t=n.Actions[i],t.IsActive&&(this.isCloseAction(t)?t[this.CLOSE_ACTIONS_TYPE]=!0:t[t.Type]=!0,t.CssClass=this.generateActionClass(r.length,n.Actions[i]),r.push(n.Actions[i]));return r},t.prototype.registerEvents=function(){n.prototype.registerEvents.call(this);this.registerActions()},t.prototype.registerActions=function(){for(var t,n=0,r=this._actions.length;n<r;n++){t=this._actions[n];t.Args=t.Args||{};t.Args.uiComponent=this;var u,i=this._actionsFactory.get(t.Type,t.Args,this.getInitiatorType(),this._uiComponent),f=this.generateActionClass(n,this._actions[n]),o=f.replace(/-/gi,"_"),e=i.args||{};u=i.mobileAction?wmjQuery.proxy(function(n){this.trigger("action-start",n);this.destroy()},this,i.Type):wmjQuery.proxy(function(n){this.trigger("action-start",n.Type);n.doAction();n.Type!=this._consts.DEPLOYABLE_ACTION_TYPES.Close&&this.destroy()},this,i);e.libAction=u;this._uiCreator.registerEvents("."+f,"click",i.mobileAction||this._consts.MOBILE_COMMANDS.ACTION.libAction,e,o||"")}},t.prototype.getInitiatorType=function(){},t.prototype.isCloseAction=function(n){var t=this._actionsFactory.get(n.Type).Type;return t===this._consts.DEPLOYABLE_ACTION_TYPES.Close||t===this._consts.DEPLOYABLE_ACTION_TYPES.RemindMeLater},t.prototype.generateActionClass=function(n,t){return this.CLASS_ACTION_PREFIX+t.Type+"-"+n},t.prototype.createConfig=function(){var t=n.prototype.createConfig.call(this);return t.Title=this.handleText(this._uiComponent.Title),t.Description=this.handleText(this._uiComponent.Description),t.Actions=this.handleActions(this._actions),t.Position=this._position,t},t.prototype.handleText=function(n){return this._bbCodeParser.parse(this._commonUtils.nl2br(n))},t.prototype.handleActions=function(n){if(n)for(var t=0;t<n.length;t++)n[t].Text=this.handleText(n[t].Text);return n},t}(n)}},function(n,t,i){var r=i(25),u=i(27);n.exports={oldToNewConditionConverter:r,newToOldConditionConverter:u}},function(n,t,i){function u(){function i(t){if(t)return{Root:n(t,!0)}}function n(n){if(n)return"Func"==n.nodeType?u(n):n.rightSon?e(n):f(n)}function u(n){return{Type:r.NEW_CONDITION_NODE_TYPE.Condition,Id:n.ConditionId,Settings:{funcName:n.funcName,funcArgs:n.funcArgs}}}function f(t){return n(t.leftSon)}function e(t){var i={Type:r.NEW_CONDITION_NODE_TYPE[t.nodeType],Nodes:[]};return i.Nodes.push(n(t.leftSon)),i.Nodes.push(n(t.rightSon)),i}var t=this;t.convert=i}var r=i(26);n.exports=new u},function(n){n.exports={NEW_CONDITION_NODE_TYPE:{Condition:0,And:1,Or:2,Group:3}}},function(n,t,i){function u(){function i(){}function u(t){if(t)return n(t,0)}function n(n,t){switch(n.Type){case r.NEW_CONDITION_NODE_TYPE.Condition:return f(n,t);case r.NEW_CONDITION_NODE_TYPE.Group:return e(n,t);default:return o(n,t)}}function f(n,t){return{nodeType:"Func",nodeDepth:t,ConditionId:n.Id,funcName:n.Settings.funcName,funcArgs:n.Settings.funcArgs}}function e(t,i){return n(t.Nodes[0],i+1)}function o(t,i){var u=t.Type==r.NEW_CONDITION_NODE_TYPE.And?"And":"Or";return{nodeType:u,nodeDepth:i,ConditionId:t.Id,leftSon:n(t.Nodes[0],i),rightSon:n(t.Nodes[1],i)}}var t=this;t.convert=u;i()}var r=i(26);n.exports=new u},function(n,t){!function(){function i(n){this.message=n}var n=t,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.prototype=new Error;i.prototype.name="InvalidCharacterError";n.btoa||(n.btoa=function(n){for(var u,f,e=String(n),t=0,o=r,s="";e.charAt(0|t)||(o="=",t%1);s+=o.charAt(63&u>>8-t%1*8)){if(f=e.charCodeAt(t+=.75),f>255)throw new i("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");u=u<<8|f}return s});n.atob||(n.atob=function(n){var e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var u,t,f=0,s=0,o="";t=e.charAt(s++);~t&&(u=f%4?64*u+t:t,f++%4)?o+=String.fromCharCode(255&u>>(-2*f&6)):0)t=r.indexOf(t);return o})}()},function(n,t,i){(function(){!function(t,i){n.exports=i()}(this,function(){"use strict";function wt(n){return"function"==typeof n||"object"==typeof n&&null!==n}function ft(n){return"function"==typeof n}function bt(n){k=n}function kt(n){u=n}function gt(){return function(){}}function ni(){return"undefined"!=typeof b?function(){b(c)}:d()}function ti(){var n=0,i=new ct(c),t=document.createTextNode("");return i.observe(t,{characterData:!0}),function(){t.data=n=++n%2}}function ii(){var n=new MessageChannel;return n.port1.onmessage=c,function(){return n.port2.postMessage(0)}}function d(){var n=setTimeout;return function(){return n(c,1)}}function c(){for(var t,i,n=0;n<e;n+=2)t=f[n],i=f[n+1],t(i),f[n]=void 0,f[n+1]=void 0;e=0}function ri(){try{var n=i(!function(){var n=new Error('Cannot find module "vertx"');throw n.code="MODULE_NOT_FOUND",n;}());return b=n.runOnLoop||n.runOnContext,ni()}catch(t){return d()}}function nt(n,t){var e=arguments,f=this,i=new this.constructor(o),r;return void 0===i[l]&&pt(i),r=f._state,r?!function(){var n=e[r-1];u(function(){return yt(r,i,n,f._result)})}():it(f,i,n,t),i}function tt(n){var i=this,t;return n&&"object"==typeof n&&n.constructor===i?n:(t=new i(o),y(t,n),t)}function o(){}function ui(){return new TypeError("You cannot resolve a promise with itself")}function fi(){return new TypeError("A promises callback cannot return that same promise.")}function lt(n){try{return n.then}catch(t){return v.error=t,v}}function ei(n,t,i,r){try{n.call(t,i,r)}catch(u){return u}}function oi(n,i,f){u(function(n){var u=!1,e=ei(f,i,function(t){u||(u=!0,i!==t?y(n,t):r(n,t))},function(i){u||(u=!0,t(n,i))},"Settle: "+(n._label||" unknown promise"));!u&&e&&(u=!0,t(n,e))},n)}function si(n,i){i._state===a?r(n,i._result):i._state===h?t(n,i._result):it(i,void 0,function(t){return y(n,t)},function(i){return t(n,i)})}function at(n,i,u){i.constructor===n.constructor&&u===nt&&i.constructor.resolve===tt?si(n,i):u===v?(t(n,v.error),v.error=null):void 0===u?r(n,i):ft(u)?oi(n,i,u):r(n,i)}function y(n,i){n===i?t(n,ui()):wt(i)?at(n,i,lt(i)):r(n,i)}function hi(n){n._onerror&&n._onerror(n._result);rt(n)}function r(n,t){n._state===s&&(n._result=t,n._state=a,0!==n._subscribers.length&&u(rt,n))}function t(n,t){n._state===s&&(n._state=h,n._result=t,u(hi,n))}function it(n,t,i,r){var f=n._subscribers,e=f.length;n._onerror=null;f[e]=t;f[e+a]=i;f[e+h]=r;0===e&&n._state&&u(rt,n)}function rt(n){var t=n._subscribers,f=n._state;if(0!==t.length){for(var r=void 0,u=void 0,e=n._result,i=0;i<t.length;i+=3)r=t[i],u=t[i+f],r?yt(f,r,u,e):u(e);n._subscribers.length=0}}function vt(){this.error=null}function ci(n,t){try{return n(t)}catch(i){return w.error=i,w}}function yt(n,i,u,f){var c=ft(u),e=void 0,l=void 0,o=void 0,v=void 0;if(c){if(e=ci(u,f),e===w?(v=!0,l=e.error,e.error=null):o=!0,i===e)return void t(i,fi())}else e=f,o=!0;i._state!==s||(c&&o?y(i,e):v?t(i,l):n===a?r(i,e):n===h&&t(i,e))}function li(n,i){try{i(function(t){y(n,t)},function(i){t(n,i)})}catch(r){t(n,r)}}function ai(){return ut++}function pt(n){n[l]=ut++;n._state=void 0;n._result=void 0;n._subscribers=[]}function p(n,i){this._instanceConstructor=n;this.promise=new n(o);this.promise[l]||pt(this.promise);ot(i)?(this._input=i,this.length=i.length,this._remaining=i.length,this._result=new Array(this.length),0===this.length?r(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&r(this.promise,this._result))):t(this.promise,vi())}function vi(){return new Error("Array Methods must be provided an Array")}function yi(n){return new p(this,n).promise}function pi(n){var t=this;return new t(ot(n)?function(i,r){for(var f=n.length,u=0;u<f;u++)t.resolve(n[u]).then(i,r)}:function(n,t){return t(new TypeError("You must pass an array to race."))})}function wi(n){var r=this,i=new r(o);return t(i,n),i}function bi(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");}function ki(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}function n(t){this[l]=ai();this._result=this._state=void 0;this._subscribers=[];o!==t&&("function"!=typeof t&&bi(),this instanceof n?li(this,t):ki())}function di(){var t=void 0,i,r;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(u){throw new Error("polyfill failed because global object is unavailable in this environment");}if(i=t.Promise,i){r=null;try{r=Object.prototype.toString.call(i.resolve())}catch(u){}if("[object Promise]"===r&&!i.cast)return}t.Promise=n}var et=void 0,f,g,l,w,ut;et=Array.isArray?Array.isArray:function(n){return"[object Array]"===Object.prototype.toString.call(n)};var ot=et,e=0,b=void 0,k=void 0,u=function(n,t){f[e]=n;f[e+1]=t;e+=2;2===e&&(k?k(c):g())};var st="undefined"!=typeof window?window:void 0,ht=st||{},ct=ht.MutationObserver||ht.WebKitMutationObserver,dt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;f=new Array(1e3);g=void 0;g=ct?ti():dt?ii():void 0===st?ri():d();l=Math.random().toString(36).substring(16);var s=void 0,a=1,h=2,v=new vt;return w=new vt,ut=0,p.prototype._enumerate=function(){for(var t=this.length,i=this._input,n=0;this._state===s&&n<t;n++)this._eachEntry(i[n],n)},p.prototype._eachEntry=function(t,i){var r=this._instanceConstructor,e=r.resolve,u,f;e===tt?(u=lt(t),u===nt&&t._state!==s?this._settledAt(t._state,i,t._result):"function"!=typeof u?(this._remaining--,this._result[i]=t):r===n?(f=new r(o),at(f,t,u),this._willSettleAt(f,i)):this._willSettleAt(new r(function(n){return n(t)}),i)):this._willSettleAt(e(t),i)},p.prototype._settledAt=function(n,i,u){var f=this.promise;f._state===s&&(this._remaining--,n===h?t(f,u):this._result[i]=u);0===this._remaining&&r(f,this._result)},p.prototype._willSettleAt=function(n,t){var i=this;it(n,void 0,function(n){return i._settledAt(a,t,n)},function(n){return i._settledAt(h,t,n)})},n.all=yi,n.race=pi,n.resolve=tt,n.reject=wi,n._setScheduler=bt,n._setAsap=kt,n._asap=u,n.prototype={constructor:n,then:nt,"catch":function(n){return this.then(null,n)}},n.polyfill=di,n.Promise=n,n})}).call(t,i(29))},function(n,t,i){var r=new(i(31)),u=new(i(32)),f=new(i(33)),e=new(i(34)),o=new(i(35)),s=new(i(36)),h=new(i(37)),c=new(i(38)),l=new(i(39)),a=new(i(40)),v=new(i(41)),y=new(i(42)),p=new(i(43)),w=new(i(44)),b=new(i(45)),k=new(i(46)),d=new(i(47)),g=new(i(48));n.exports={conditionBuilderPreview:r,drawablePosition:u,stepTrigger:f,stepType:e,ENTITY_TYPE:o,surveyQuestionType:s,contentType:h,POPUP_BUTTON_ACTIONS:{NextDone:0,Start:1,Back:2,Cancel:3},designTemplateType:c,designTemplateCssClassPrefix:"wm-design-template-",smarttipMode:l,stickinessType:a,flowNodeType:v,searchProvider:y,screenshotMode:p,scrollType:w,deployableGroupType:b,teachMeCompletionType:k,teachMeQuestionType:d,templateEntityType:g}},function(n){function t(){var n={TYPES:{BAD_INPUT:-2,NO_INPUT:-1,TRUE:0,FALSE:1,CANNOT_ASSERT:2,CONTEXT_ERROR:3,CANT_INTERACT:4},TOOLTIPS:{"true-indicator":"The statement is true for the current user and page settings","false-indicator":"The statement is not true for the current user and page settings","not-defined-indicator":"Waiting. Complete the condition to evaluate the status","cannot-assert-indicator":"The validity of this statement can only be assessed when played","cannot-assert-context-error-indicator":"The validity of this statement cannot be determined because the related Switch Step cannot be played in current page","cannot-interact-error-indicator":"The validity of this statement cannot be determined because we can't interact with this page"},INDICATOR_CLASSES:{}},t=n.INDICATOR_CLASSES;return t[n.TYPES.NO_INPUT]="no-input",t[n.TYPES.BAD_INPUT]="bad-input",t[n.TYPES.TRUE]="true",t[n.TYPES.FALSE]="false",t[n.TYPES.CANNOT_ASSERT]="cannot-assert",t[n.TYPES.CONTEXT_ERROR]="cannot-assert-context-error",t[n.TYPES.CANT_INTERACT]="cannot-interact-error",n}n.exports=t},function(n){function t(){return{Top:0,Right:1,Bottom:2,Left:3,TopLeft:4,TopRight:5,BottomRight:6,BottomLeft:7,Center:8}}n.exports=t},function(n){function t(){return{Nothing:0,Button:1,Click:2,Hover:3,PageChanged:4,Text:5,Delay:6,SelectAny:7,SelectValue:8,Swipe:9,PeerStep:10,Custom:11,BbCode:12}}n.exports=t},function(n){function t(){return{Simple:0,Popup:1,Action:2}}n.exports=t},function(n){function t(){return{step:0,launcher:1,conditionBuilder:2,smartTip:3,balloon:4,balloonTrigger:5,flowNode:6,flowLink:7,smartTipUiComponent:8,conditionNode:9,trackedElementsSet:10,businessSolution:11,trackedElement:12,onScreenElement:13,shoutout:17}}n.exports=t},function(n){function t(){return{FreeText:0,RadioButtons:1,CheckBoxes:2,PersonalDetails:3}}n.exports=t},function(n){function t(){return{Article:0,Video:1}}n.exports=t},function(n){function t(){return{Shared:0,Copied:1,Specific:2}}n.exports=t},function(n){function t(){return{Info:0,Validation:1,InfoAndValidation:2}}n.exports=t},function(n){function t(){return{soft:0,strong:1}}n.exports=t},function(n){function t(){return{UI:0,Action:1}}n.exports=t},function(n){function t(){return{NoAction:-1,WalkMe:0,Google:1,Bing:2,Desk:3,Zendesk:4,Custom:5,SalesForce:6,Parature:7}}n.exports=t},function(n){function t(){return{Regular:0,Blurred:1,None:2}}n.exports=t},function(n){function t(){return{Animated:0,Normal:1,None:2}}n.exports=t},function(n){function t(){return{Label:0,Category:1,Collection:2,Tag:3,Course:4,Lesson:5}}n.exports=t},function(n){function t(){return{byComplete:0,byGoal:1}}n.exports=t},function(n){function t(){return{SingleSelection:0,MultipleSelection:1}}n.exports=t},function(n){function t(){return{balloon:0,popup:17}}n.exports=t},function(n,t,i){var r=i(50),u=i(51),f=i(52),e=i(53);n.exports={TemplateWrap:r,TopArrow:u,CssResetRules:f,ShoutOutTemplateWrap:e}},function(n){n.exports="<div class='walkme-custom-balloon-outer-div walkme-custom-balloon-v3 {{designTemplateCssClass}}' style='{{{cssReset}}} width: auto; min-width: 190px; position: absolute; direction: {{direction.basic}};'><div class='walkme-custom-balloon-mid-div' style='{{{cssReset}}} direction: {{direction.basic}}; position: relative; {{#shadow}}-webkit-box-shadow: {{shadow}}; -moz-box-shadow: {{shadow}}; box-shadow: {{shadow}};{{/shadow}} font-family: {{{font}}}; border-radius:{{radiuses.balloon}}; overflow: hidden;'><div class='walkme-custom-balloon-inner-div' style='{{{cssReset}}} direction: {{direction.basic}}; background-color:{{colors.mainBg}}; border:{{border.size}} solid {{colors.border}}; border-radius:{{radiuses.balloon}}; border-{{position.side}}: none; overflow: hidden;'><div class='walkme-click-and-hover walkme-custom-balloon-close-button walkme-action-close' style='{{{cssReset}}} font-size: 12px; color: {{colors.xBtn}}; position: absolute; {{direction.oppositeSide}}: 0px; top: 0px; padding-{{direction.oppositeSide}}: {{xBtn.marginHorizental}}; margin-top: {{xBtn.marginTop}}; cursor: pointer;font-weight:normal;' title='{{data.balloonCloseTooltip}}'>&#215;<\/div>{template}<\/div><\/div><div class='walkme-custom-side-border' style='{{{cssReset}}} background-color:{{colors.buttonBg}}; width: 4px; height: 100%;  top:0px; {{direction.side}}:0px; border:{{border.side.size}} solid {{colors.buttonBg}}; border-{{direction.oppositeSide}}: none; border-top: none; border-bottom: none;position: absolute;border-radius: 5px 0 0 5px;'><\/div><\/div>"},function(n){n.exports="<div class='walkme-custom-balloon-arrow walkme-custom-balloon-arrow-bottom walkme-custom-balloon-arrow-outer walkme-custom-balloon-arrow-outer-bottom {{designTemplateCssClass}} SkipThisFixedPosition' style='width: 0px; height: 0px; border-width: 0px 11px 11px; border-style: solid outset solid solid; border-top-color: initial; border-right-color: transparent; border-bottom-color: rgb(198, 198, 198); border-left-color: transparent; border-image: initial; line-height: 0; position: absolute; top: 137px; left: 319px;'><\/div><div class='walkme-custom-balloon-arrow walkme-custom-balloon-arrow-bottom walkme-custom-balloon-arrow-inner walkme-custom-balloon-arrow-inner-bottom {{designTemplateCssClass}} SkipThisFixedPosition' style='width: 0px; height: 0px; border-width: 0px 10px 10px; border-style: solid outset solid solid; border-top-color: initial; border-right-color: transparent; border-bottom-color: rgb(255, 255, 255); border-left-color: transparent; border-image: initial; line-height: 0; position: absolute; top: 138px; left: 320px;'><\/div>"},function(n){n.exports="display: block; padding: 0; margin: 0;\tvertical-align: baseline; border-collapse: inherit; background: none; border-spacing: 1px 1px; line-height: normal; border: none none; height: auto; text-indent: inherit; letter-spacing: normal; text-transform: none; outline: invert none medium; width: auto; box-shadow:none; text-shadow:none; border-top: none; border-right: none; border-bottom: none; border-left: none; position: static; top: auto; left: auto; transition: none;"},function(n){n.exports='<div class="wm-outer-div wm-shoutout wm-shoutout-{{Id}} wm-template-bg {{designTemplateCssClass}}" id="wm-shoutout-{{Id}}" style="{{{cssReset}}} z-index: 2147483630;">{template}<\/div>'},function(n){!function(){function t(n){function r(){t=n.jQ}function u(n,t){for(var s,u,e,i,c,r=!0,l=n[0].ownerDocument,h=l.styleSheets,o=0;o<h.length;o++){s=h[o];try{for(u=s.cssRules||s.rules,e=0;e<(u&&u.length);e++)i=u[e],i&&i.selectorText&&i.selectorText.indexOf(t)>-1&&(c=f(n,i,t),r&&!c&&(r=!1))}catch(a){r=!1}}return r}function f(n,i,r){var u=!0,f=e(i,r),o,s;if(!f)return u;o=i.selectorText.split(",");s=new RegExp("([^:]*)"+r+"(.*)");try{t.each(o,function(i,u){var e=s.exec(u);if(!e||u.indexOf(" > "+r)>-1)return!0;var c=e[1],o=n.parents().andSelf().filter(c),h=e[2];""!=h&&(o=o.find(h).andSelf());t.each(o,function(n,i){var u=i.ownerDocument,r=u.createElement("style");r.type="text/css";r.title="walkme-hover-css-style";r.innerHTML=f;u.getElementsByTagName("head")[0].appendChild(r);t(i).addClass("walkme-hover-css")})})}catch(h){u=!1}return u}function e(n,t){var i;try{return i=new RegExp(t,"g"),n.cssText.replace(i,".walkme-hover-css")}catch(r){return}return void 0}function o(){t(".walkme-hover-css").removeClass("walkme-hover-css")}var i=this,t;i.addElementClass=u;i.removeElementClass=o;r.apply(null,arguments)}"object"==typeof n&&"object"==typeof n.exports&&(n.exports=t)}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(n,t,i){(function(){!function(){function t(n,t){this._object=void 0;this._name=n;this._ctx=t;this.properties={strategy:i.defaults.strategy,factory:i.defaults.factory,injector:i.defaults.injector,load:i.defaults.load,wasReady:!1,initialize:!0}}function o(n){t.prototype[n]=function(t){return arguments.length?(this.properties[n]=t,this):this.properties[n]}}var u,r,e,i,f;for(t.prototype.name=function(){return this._name},t.prototype.asFactory=function(n,t){return void 0!=t&&this.type(t),this.factory(n),this},t.prototype.loadDependencies=function(n,t){return void 0!=t&&this.dependencies(t),this.load(n),this},t.prototype.asFunction=function(n){return this.asFactory(i.factory.func,n)},t.prototype.asInstance=function(n){return this.asFactory(i.factory.instance,n)},t.prototype.asCtor=function(n){return this.asFactory(i.factory.constructor,n)},t.prototype.asSingleton=function(){return this.strategy(i.strategy.singleton)},t.prototype.asProto=function(){return this.strategy(i.strategy.proto)},t.prototype.injectToCtor=function(){return this.injector(i.injector.ctor)},t.prototype.injectToReady=function(){return this.injector(i.injector.ready)},t.prototype.injectToProperty=function(){return this.injector(i.injector.property)},t.prototype.flatDependencies=function(n){return this.loadDependencies(i.load.flat,n)},t.prototype.recursiveDependencies=function(n){return this.loadDependencies(i.load.recursive,n)},t.prototype.useOnce=function(){var n=this.getObject;return this.getObject=function(){return this._ctx.map[this.name()]=null,n.apply(this,arguments)},this},t.prototype.depsDictionary=function(n){return arguments.length?(this.properties.depsDictionary=n,this):(this.properties.depsDictionary||this.depsDictionary(this._ctx.resolve(this)),this.properties.depsDictionary)},t.prototype.create=function(n,t,r){var u,f;return(r=r||i.load.recursive,u=this.properties.strategy.test(this._object,r),t)?u:(u&&(n=this.properties.injector.create(n?n:this.properties.args,this,this._ctx,r)),f=this.properties.strategy.create(this._object,this.properties.factory,this.properties.type,n,this._ctx,this,r),this._ctx.ready(f,this))},t.prototype.getObject=function(n){return this.create(void 0,void 0,n)},t.prototype.object=function(n){return arguments.length?(this._object=n,this):this.create()},u=["load","wasReady","strategy","injector","type","dependencies","args","factory","initialize"],r=0;r<u.length;r++)e=u[r],o(e);i=function(n){function i(n,t,i,r,u){var e=n(t,i,u),o=r.decorators[u.name()],f;if(o)for(f=0;f<o.length;f++)e=o[f](e);return e}return n=n||{},n.version="0.3.3",n.logger=function(){},n.log=function(t,i,r){i&&(t="[class="+i.name()+"] "+t);n.logger("DI - "+t,r||4)},n.error=function(t,i,r){n.log(t,i,r)},n.createContext=function(){function i(n){for(;n.indexOf(" ")>=0;)n=n.replace(" ","");return n}var t={map:{},decorators:{}};return t.decorate=function(n,i){t.decorators[n]||(t.decorators[n]=[]);t.decorators[n].push(i)},t.entry=function(n){return t.map[n]},t.register=function(i,r,u){var f=n.entry(i,t).type(r).args(u);return t.map[i]=f,f},t.has=function(n){return null!=t.entry(n)},t.remove=function(n){return t.has(n)?(t.map[n]=null,!0):!1},t.isEntryRemoved=function(n){return null===t.entry(n)},t.get=function(i,r){return t.isEntryRemoved(i)&&n.error("Object["+i+"] was removed"),t.has(i)||n.error("Object["+i+"] is not registered"),t.entry(i).getObject(r)},t.create=function(i,r){if(t.entry(i).strategy()==n.strategy.singleton&&n.error("Attempt to create singleton object ["+i+"]"),t.has(i))return t.entry(i).create(r);n.error("Object["+i+"] is not registered")},t.initialize=function(){function i(i){var r=t.entry(i);r?r.initialize()&&r.strategy().initialize()&&t.get(i):n.error("Object["+i+"] is not registered")}return function(n){if(n)i(n);else for(var n in t.map)i(n)}}(),t.clear=function(){this.map={};this.decorators={}},t.resolve=function(i){var u=i.load(),r={};return t.eachDependency(i.dependencies(),function(f,e){var o=t.get(f,u);t.ready(o,t.entry(f));null==o&&n.error("Dependency ["+i.name()+"."+e+"]->["+f+"] can not be satisfied",i);r[e]=o}),r},t.eachDependency=function(t,r){var e,u,o,f;if(t)for(e=i(t).split(","),u=0;u<e.length;u++)if(o=e[u],o){f=n.dependencyExpression(o);try{r(f.name,f.property,u)}catch(s){n.error("An exception was thrown while the DI tried to resolve class '"+f.name+"'. Check the class name, or if it was registred correctly. \r\n inner exception: \r\n"+s.message)}}},t.ready=function(n,i){var u,r;return null===i&&n?n:(u=i.wasReady(),(i.wasReady(!0),u)||(r=t.createCallback(),r&&r(i.name(),n),n&&"function"==typeof n.ready&&n!=window&&n!=window.document&&n!=window.document.body&&(i.wasReady(!0),n.ready.apply(n,i.injector().ready(n,i)||[]))),n)},t.createCallback=function(){var n;return function(i){return 0==arguments.length?n:(n=i,t)}}(),t},n.dependencyExpression=function(n){var t={},r=n,u=n,i;return n.indexOf("=")>0&&(i=n.split("="),r=i[0],u=i[1]),t.name=u,t.property=r,t},n.entry=function(n,i){return new t(n,i)},n.strategy={proto:{test:function(n,t){return!t||t()},initialize:function(){return!1},create:function(n,t,r,u,f,e,o){return n=i(t,r,u,f,e),o()&&e.injector().ready(n,e),e.depsDictionary(void 0),e.wasReady(!1),n}},singleton:{test:function(n,t){return!n&&(!t||t())},initialize:function(){return!0},create:function(n,t,r,u,f,e,o){return n||(n=i(t,r,u,f,e),e.object(n),e.wasReady(!0),o()&&e.injector().ready(n,e),e.wasReady(!1)),n}}},n.factory={constructor:function(t,i,r){if(!(i instanceof Array))return new t(i);if(i.length<=10)return new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9]);if(i.length<=30)return new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15],i[16],i[17],i[18],i[19],i[20],i[21],i[22],i[23],i[24],i[25],i[26],i[27],i[28],i[29]);n.error("trying to create a class with too many args!",r)},func:function(n,t){return t instanceof Array?n.apply(n,t):n(t)},instance:function(n){return n}},n.injector={property:{create:function(n){return n},ready:function(n,t){var i=t.depsDictionary(),r,u;for(r in i)n[r]=i[r];u=t.args();void 0==u||i.hasOwnProperty("args")||(n.args=u)}},ready:{create:function(n){return n},ready:function(n,t){var i=t.args(),u=[],e=t.depsDictionary(),r;if(f.eachDependency(t.dependencies(),function(n,t,i){u[i]=e[t]}),i)for(i=i instanceof Array?i:[i],r=0;r<i.length;r++)u.push(i[r]);return u}},ctor:{create:function(n,t,i){var u=[],f=t.depsDictionary(),r;if(i.eachDependency(t.dependencies(),function(n,t,i){u[i]=f[t]}),n)for(n=n instanceof Array?n:[n],r=0;r<n.length;r++)u.push(n[r]);return u},ready:function(){}}},n.load={flat:function(){return!1},recursive:function(){return!0}},n.defaults={strategy:n.strategy.singleton,factory:n.factory.constructor,injector:n.injector.ctor,load:n.load.recursive},n}();f=i.createContext();n.exports=function(n){n.di=i;n.ctx=f}}()}).call(t,i(2))},function(n,t,i){var r=i(86);n.exports={abPermutation:{currentPermutation:{key:"wm-ABPer",expiry:r.tenYears},forcedPermutation:{key:"wm-frcd",expiry:r.tenYears},permutationOverride:{key:"wm-force-permutation",expiry:r.tenYears}},abTesting:{shouldLoadWalkme:{key:"wm-absl",expiry:r.tenYears},shouldShowWidget:{key:"wm-abss",expiry:r.tenYears}},abTestingGoals:{endUserUniqueKey:{key:"wm_abg_"}},analytics:{lastAuditedUser:{key:"wm-ueuT",expiryFunc:r.todayFunc}},autoStart:{repeat:{key:"wm-ASRep"}},wmDebugger:{config:{key:"wm-ftr-cnf",expiry:r.oneYear},state:{key:"wm-ftr",expiry:r.oneYear}},endUserLogging:{auditFreq:{key:"wm-euaf",expiryFunc:r["60times"]}},endUser:{guid:{key:"wm-ueug",expiry:r.tenYears},forcedGenerate:{key:"wm-fgug",expiry:r.tenYears}},goals:{blocked:{key:"wm-gb",expiry:r.oneDay}},hiddenIframe:{popupHackTries:{key:"wm-popup",expiry:r.tenYears}},publishData:{lastDataVersion:{key:"wm-ldv",expiry:r.tenYears}},serverDataSender:{serverSick:{key:"wm-sk"},serverSickAttempts:{key:"wm-sat"},serverSickTimestamp:{key:"wm-sst"}},serverStorage:{invalidateIntervalKey:{key:"ss_ii"},currentEndUserGuid:{key:"wm-ceug",expiry:r.tenYears},currentEnvironment:{key:"wm-cenv",expiry:r.tenYears},lastGetDataTime:{key:"wm-lgt",expiry:r.oneYear}},testMe:{loadTestMe:{key:"wm-ltm",expiry:900}},versions:{appVersion:{key:"wm-av",expiry:r.oneYear},appWasUpdated:{key:"wm-awu",expiry:r.oneYear}},visits:{numberOfVisits:{key:"wm-nov",expiry:r.oneYear},lastVisit:{key:"wm-lv",expiry:r.oneYear}},passOwnership:{newWindowTime:{key:"wm-cond-win",expiry:r.oneHour},stopOwnership:{key:"wm-cdstop",expiry:2},play:{key:"wm-cdplay",expiry:r.oneHour}},tabbedOwnership:{priorityCheck:{key:"wm-po-pc",expiry:r.oneHour},lastPriority:{key:"wm-po-p",expiry:r.oneHour},currentOwner:{key:"wm-po-r",expiry:r.oneHour},prioritiesQueue:{key:"wm-po-q",expiry:r.oneHour},priority:{key:"priority"}},remindMeLater:{remindMeLater:{key:"wm-RML"}},attentionGrabber:{data:{key:"wm-ag-d",expiry:r.tenYears},sessionLength:{key:"wm-ag-sl"},repeat:{key:"wm-ag-rep"}},engagementRules:{uniqueData:{key:"wm-engagementRules",expiry:r.thirtyMinutes},fileExists:{key:"wm-engagementRulesFileExists",expiry:r.oneWeek}},flow:{stack:{key:"wm-flow-stack",expiry:r.tenMinutes},lastStage:{key:"wm-nls",expiry:r.thirtyMinutes},beforePlay:{key:"wm-flw-preplay",expiry:r.oneMonth}},language:{current:{key:"wm-lang",expiry:r.oneYear}},session:{session:{key:"wm-ssn",expiry:r.thirtyMinutes}},teachMe:{quizResult:{key:"wm-lms-quiz-res",expiry:r.tenYears}},walkthru:{waitForOtherWindow:{key:"wm-wfow",expiry:r.tenMinutes},persistenceData:{key:"wm-prsst",expiry:r.tenMinutes}},survey:{repeat:{key:"wm-SrvRep",expiry:r.tenMinutes}},whitelist:{general:{key:"wm-wl"}},storage:{dataPrefix:{key:"wm-dt"},numberOfEntries:{key:"wm-ne"}},typedDataSender:{nextItemNumber:{key:"wm-nx"}},todoList:{endUserUniqueKey:{key:"wm_ct_"}},walkmeVisibleReporter:{walkmeVisibleReported:{key:"wm-wmv",expiry:r.oneDay}},deployableViewsCounter:{viewsCount:{key:"wm-views-",expiry:r.tenYears}},flowSurveyActivator:{surveyRepeat:{key:"wm-SrvWtRep-"}},walkthruSurveyActivator:{surveyRepeat:{key:"wm-SrvWtRep-"}},smartTipSet:{initiator:{key:"wm-smtp-init",expiry:r.tenMinutes}}}},function(n){function t(){var n=new Date,i=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1,0,0,0),t=Math.floor((i.getTime()-n.getTime())/1e3);return 0==t&&(t=1),t}n.exports={todayFunc:t,oneHour:3600,oneDay:86400,oneWeek:604800,oneMonth:2678400,oneYear:31536e3,tenMinutes:600,thirtyMinutes:1800,tenYears:31536e4,"60times":function(n){return 60*n}}},function(n){function t(n){return n=n.replace(/&quot;/gi,'"'),n=n.replace(/&apos;/gi,"'"),n=n.replace(/&#39;/gi,"'"),n=n.replace(/&amp;/gi,"&"),n=n.replace(/&gt;/gi,">"),n=n.replace(/&lt;/gi,"<")}n.exports={decode:t}},function(n,t,i){function r(n){function r(n){return t(n)}function t(i,r){var f,u;if(r=r||0,r>10)throw new Error("decodeHtml: json is too deep, defensively throwing: "+i);for(f in i)i.hasOwnProperty(f)&&(u=i[f],"string"==typeof u&&(i[f]=n(u)),"object"==typeof u&&t(u,r+1))}var i=this;i.decodeJsonNodes=r}n.exports=function(n){return n||(n=i(87).decode),new r(n)}},function(n,t,i){function a(n,t,i,l,a,v,y,p,w,b,k,d,g,nt,tt,it){var ut=it.ctx,rt=new c(ut),ft=new f(r,b,a,v),et=new e(rt),ot=new o(k,d,b,w,et,rt),st=new s(tt,w,rt),ht=new h(g,nt,d,rt);return new u(n,t,i,l,st,ot,a,v,r,ft,ht,y,p,w)}function v(n){var t=l.join(",");n.register("FindElementPlugins").asInstance([]);n.register("ElementFinder").asFunction(a).dependencies(t).args({ctx:n}).asSingleton()}var u=i(90),f=i(92),e=i(93),o=i(94),s=i(95),h=i(96),c=i(97),r=i(98),l=["JQueryElementFinder","StepUtils","PositionHelper","HtmlDecoder","Logger","Consts","PopupStepElementProvider","WalkthrusModule","CommonUtils","ArrayUtils","TimerManager","FeaturesManager","SimpleNLP","win","FindElementPlugins"];n.exports={registerToCtx:v}},function(n,t,i){function u(n,t,i,u,f,e,o,s,h,c,l,a,v,y){function b(){r.ElementRecognition.setJQuery(wmjQuery);r.ElementRecognition.setCommonUtils(y);w=o.wrapCustomerLog(s.FEATURES_LOGS.ElementFinder)}function k(n){var t={0:r.ElementRecognition.AlgorithmSensitivity.Low,1:r.ElementRecognition.AlgorithmSensitivity.Medium,2:r.ElementRecognition.AlgorithmSensitivity.High};return t[n]}function d(n,t){var f=r.ElementRecognition.SearchOptions.IGNORE_NOTHING,i=[],o=e.isFeatureEnabled("forceIgnorePosition"),u;for(n.IsIdentifyByText&&i.push("IDENTIFY_TEXT"),n.IsIgnoreText&&i.push("IGNORE_TEXT"),n.IsIgnoreId&&(i.push("IGNORE_ID"),i.push("IGNORE_NAME")),(o||0!=n.IgnorePosition)&&i.push("IGNORE_POSITION"),n.IsIdentifyById&&i.push("IDENTIFY_ID_AND_NAME"),n.IgnoreShapeProportion&&i.push("IGNORE_SHAPE_PROPORTION"),n.IgnoreClass&&i.push("IGNORE_CLASS"),n.IgnoreStyle&&i.push("IGNORE_STYLE"),n.IgnoreHref&&i.push("IGNORE_HREF"),t["data-walkmeid"]&&i.push("IDENTIFY_WALKME_ID"),e.isFeatureEnabled("noAutoQuery")||i.push("USE_AUTO_SELECTOR"),u=0;u<i.length;u++)f|=r.ElementRecognition.SearchOptions[i[u]];return f}function g(n,t,f,o){var a=!e.isFeatureEnabled("fe_no_xpath_cache"),s=new r.ElementRecognition.ElementDescription(a),c,l,h;s.preDefinedSuspects=o;s.elementType=nt(t.elementXpath.toLowerCase());s.width=t.elementWidth;s.height=t.elementHeight;s.relativeLeft=t.relativeLeft;s.absY=t.elementAbsY;s.centeredElementWidth=t.centeredElementWidth;s.xpathArrayOriginal=r.XpathLib.xpathStringToArray(t.elementXpath.toUpperCase());s.xpathArray=r.XpathLib.removeHtmlAndBodyFromXpathArray(s.xpathArrayOriginal);s.xpathArrayToIframe=r.XpathLib.removeHtmlAndBodyFromXpathArray(r.ContextUtils.getXpathUpToIframe(s.xpathArrayOriginal));s.text=t.textArray&&t.textArray.length>0?u.decodeHtml(t.textArray[0],["&",'"',"'",">","<"]):"";s.autoQuery=t.autoQuery?u.decodeHtml(t.autoQuery,['"']).replace(/([.:])/gm,"\\$1"):null;t["data-walkmeid"]?s.customSelector="[data-walkmeid='"+t["data-walkmeid"]+"']":(void 0==f||f)&&(s.visibilityFilter=i.getVisibleFilter(n));c={elementClass:"class",elementId:"id",elementName:"name"};s.attributes={};for(l in c)s.attributes[c[l]]=t[l];for(h in t)!t.hasOwnProperty(h)||s.attributes.hasOwnProperty(h)||c[h]||(s.attributes[h]=t[h]);return s}function nt(n){var t=n.split("/"),i=t[t.length-1];return i.split("[")[0]}function tt(n,t,i,r,u,f){var o=p.recognizeElement(n,t,i,u,f),e=p.getWinner(o),s=e&&e.element&&e.element.length&&e.element[0];return e&&r&&(r.score=e.totalScore,r.details=e.details,r.losers=o.losers),s&&wmjQuery(s).data("iframe",o.context),s}var w,p=this;p.getFindElementCore=function(){return r};p.getVersion=function(){return r.Version};p.wrapSession=function(n,t){return e.wrapSession(n,t)};p.startSessionForEditor=function(n,t){return e.startSessionForEditor(n,t)};p.endSessionForEditor=function(){return e.endSessionForEditor()};p.recognizeElement=function(n,t,i,r,u){var h=e.getSession(r),o,s;return y.isDefined(n.StepSensitivity)&&h.setAlgorithmSensitivity(k(n.StepSensitivity)),h.setSearchOptions(d(n,t)),o=g(n,t,i,u),f.extendAdaptedSettings(n,o),s=h.recognize(o),f.extendResult(n,o,s),e.addMeasurement(s.timeMeasurements),s};p.getWinner=function(n){return n&&n.elements&&n.elements.length&&n.elements[0]};p.findElement=function(i,r,u,e,o){var s,c,h;return t.isPopupStep(i)?a.get():t.isActionStep(i)?v.getAction(i).isValid():!1===f.extendOriginalSettings(i)?!1:(w(i,5),l.isEnabled()&&l.getPageKey(i))&&(c=l.compareCurrent(i),!c.match)?!1:i.IsJquerySelector?(i.ElementDescription.extended=i.ElementDescription.extended||{},i.ElementDescription.extended.elementIframe=null,h=n.findElements(i,r),s=h&&h.length&&h[0])?(s=wmjQuery(s),i.ElementDescription.extended&&s.data("iframe",i.ElementDescription.extended.elementIframe),s):!1:(s=f.findElement(i,u),void 0!==s)?s?wmjQuery(s):s:(s=tt(i,i.ElementDescription,r,u,e,o),!!s&&wmjQuery(s))};p.getFindElementPluginManager=function(){return f};p.getPageComparerCacheManagerEditorApi=function(){return l.editorApi};b.apply(this,arguments)}var r=i(91);n.exports=u},function(n){function o(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r}var t,i,h,f,s,a,r,v,u;!function(n){function t(t){return n.S(t,"parentNode")}function i(t,u){var o,f,e;for(u=u||[],t=t||document,o=n.$("iframe,frame",t).toArray(),f=0;f<o.length;f++)e=r(n.$(o[f]))[0],u.push(e),e&&(u=i(e,u));return u}function r(t){if(void 0!=t){if(t=t[0],void 0==t)return n.$();var i;try{i=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:[];i=n.$(i)}catch(r){return n.ea.handleCrossDomainError(r),n.$()}return i}}n.$;n.q;n.S=function(n,t){return n[t]};n.ea;n.setJQuery=function(t){n.$=t;n.q=t;n.$.fnHelpers&&(n.S=function(t,i){return n.$.fnHelpers[i](t)})};n.setCommonUtils=function(t){n.ea=t};n.cb=function(n){return n=n.tagName,n.toUpperCase&&(n=n.toUpperCase()),n};n.parentNode=t;n.childNodes=function(t){return n.S(t,"childNodes")};n.ga=function(n,i){for(var r=t(n[0]),f=i&&i[0]&&t(i[0]),u=[];r&&1==r.nodeType&&r!=f;r=t(r))u.push(r);return u};n.indexOf=function(n,t){for(var i=0;i<n.length;i++)if(n[i]==t)return i;return-1};n.reduce=function(n,t,i){for(var r=0;r<n.length;r++)i=t(i,n[r]);return i};n.bc=function(n){var r={},t,i;for(n=n.prop("attributes"),t=0;t<n.length;t++)i=n[t],r[i.name]=i.value;return r};n.map=function(n,t){for(var r=[],i=0;i<n.length;i++)r.push(t(n[i]));return r};n.filter=function(n,t){for(var r=[],i=0;i<n.length;i++)t(n[i])&&r.push(n[i]);return r};n.wa=function(t,i,r){var u;for(t=n.filter(t.split(i),function(t){return n.$.trim(t)}),t=n.map(t,function(n){return n.split(r)}),i={},u=0;u<t.length;u++){var f=t[u],o=n.$.trim(f[0]),e="";f[1]&&(e=n.$.trim(f[1]));i[o]=e}return i};var u=function(){function n(){this.start=this.now()}return n.prototype.now=function(){return window.performance&&performance.now?performance.now():(new Date).getTime()},n.prototype.G=function(){return Math.round(1e3*(this.now()-this.start))/1e3},n}();n.Wb=u;n.F=function(){return new u};n.cc=function(){for(var t,n=0;n<arguments.length;n++);for(n=arguments[0],t=1;t<arguments.length;t++)n=n.replace(new RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return n};n.ec=function(n){return void 0!=n&&0<n.length};n.getAllElements=function(t,r){t=t||document;r=r||"*";var u=i(t,[t]);return n.$(r,u)};n.dc=i;n.s=r;n.inArray=function(n,t,i){var r;if(t)for(r=t.length,i=i?0>i?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===n)return i;return-1};n.min=function(n,t){var u=null,r;if(0<n.length)for(var f=t(n[0]),u=n[0],i=1;i<n.length;i++)r=t(n[i]),r<f&&(f=r,u=n[i]);return u};n.la=function(){return(new Date).getTime()%1e9}}(t||(t={}));h=function(){function n(){this.buffer=[]}return n.prototype.append=function(n){this.buffer.push(n)},n.prototype.toString=function(){return this.buffer.join("")},n}();!function(n){function k(n,t){function r(i){return l(t,i,function(t){return t==n},!1)}for(var i=r(0),u=[];0<=i&&i<t.count()-1;)u.push(t.slice(0,i+1)),i=r(i+1);return u}function l(n,t,i,r){var u=n.count();if(r){for(t=u-1-t;0<=t;t--)if(i(n.get(t).tag))return t}else for(;t<=u-1;t++)if(i(n.get(t).tag))return t;return-1}function a(n,t,i,r){for(var f,u=[],e=0;e<t.length;e++)f=t[e],u.push(v(n,f,i,r)),n=f;return u=u.reverse(),o(u,i)}function f(n,i,r,u){var e=(n=n[0])&&t.parentNode(n),f;for(r=r&&r[0],f=[];n&&1==n.nodeType&&n!=r;n=e,e=t.parentNode(n))f.push(v(n,e,i,u));return f=f.reverse(),o(f,i)}function o(n,t){return t?new c(n):new r(n)}function v(n,t,i,r){return i?i.eb(n,t,r):y(n,t,r)}function d(n,t,i){return new e(null,function(){return y(n,t,i)})}function y(n,i,r){var e=1,u,f;if("HTML"!=t.cb(n))for(i=t.childNodes(i),u=0;u<i.length&&i[u]!=n;u++)f=i[u],f.tagName==n.tagName&&0>t.inArray(f,r)&&e++;return{tag:n.tagName.toUpperCase(),index:e}}function g(n){return!n||0>=n.length?null:1==n.get(0).nodeType?n:(n=n.find(":first"))&&n.length&&1==n.get(0).nodeType?n:null}function p(n,i,r,f){var o,e;if(f=f||[],i=i||u.$(document),0<i.find(n).length)n.data("iframe",r),f.unshift(i);else for(r=f.length,i=i.find(s.ka),o=0;o<i.length;o++)if(e=i.eq(o),f=p(n,t.s(e),e,f),f.length>r){u.$(f[0]).data("iframe",e);f.unshift(e);break}return f}function w(n){for(var r=["HTML","BODY"],i=0;i<n.count()&&-1<t.inArray(n.get(i).tag,r);i++);return n.slice(i)}var r=function(){function n(n){this.xpathArray=n}return n.prototype.count=function(){return this.xpathArray.length},n.prototype.get=function(n){return this.xpathArray[n]},n.prototype.slice=function(){return new n(this.xpathArray.slice.apply(this.xpathArray,arguments))},n}(),c,i,b;n.Xb=r;c=function(){function n(n){this.xpathArray=n}return n.prototype.count=function(){return this.xpathArray.length},n.prototype.get=function(n){return this.xpathArray[n].get()},n.prototype.slice=function(){return new n(this.xpathArray.slice.apply(this.xpathArray,arguments))},n}();n.Yb=c;n.m=1;n.Ca=1;i=function(){function n(n,t,i){this.l=this.t=this.b=0;this.b=n;this.t=t;this.l=i}return n.prototype.clone=function(){return new n(this.b,this.t,this.l)},n.prototype.p=function(){return this.b+this.t/4+this.l/10},n.max=function(){return new n(1e4,0,0)},n.p=function(n){return n.p()},n}();n.Zb=i;n.M=function(r,u,f){function e(r,u,o,s,h){var c,a,p;if(Math.abs(u-s)>f||h.b>f)return i.max();if(0==u||0==s)return h=h.clone(),h.b+=Math.max(u,s,0),h.b>f?i.max():h;var v,l=r.get(u-1),y=o.get(s-1),a=0;if(l.tag!==y.tag)a=n.m,v=i.max();else{if(l.index===y.index)return e(r,u-1,o,s-1,h);a=n.Ca}return c=h.clone(),c.b+=a,a=e(r,u-1,o,s,c),p=e(r,u,o,s-1,c),v||(l=Math.abs(l.index-y.index),c=h.clone(),0<l&&(c.t++,c.l+=l),v=e(r,u-1,o,s-1,c)),t.min([a,p,v],i.p)}return e(r,r.count(),u,u.count(),new i(0,0,0))};n.ha=function(n,i,r,f){var s=n.count(),e,o;if(0>=s)return null;for(i=u.$(i||document),f=f?":not("+f+")":"",e=0;e<s;e++)if(o=n.get(e),i=i.children(o.tag+f).eq(o.index-1),-1!=t.inArray(o.tag,["IFRAME","FRAME"])&&s>e+1&&(0<i.length&&(r&&i.data("iframe",r),r=i),i=t.s(i)),!i||0==i.length||!i.get(0)){i=null;break}return i&&0<i.length&&r&&i.data("iframe",r),i};n.Nb=function(r,u){var o,s;if(!u||0>=u.count())return 0;for(var h=u.get(u.count()-1).tag,f=k(h,r),h=i.max().p(),a=2*n.m,e=h,c=[],l=0;l<f.length;l++)o=f[l],s=n.M(o,u,a).p(),s<e?(e=s,c=[o]):s==e&&c.push(o);return f=0,e<h&&(f=t.min(c,function(n){return Math.abs(u.count()-n.count())}).count()),f};n.Q=l;n.$b=a;n.Sa=f;b=function(){function n(){this.xa={}}return n.prototype.eb=function(n,t,i){var r=null,u=this.u(n);return void 0!==u&&(r=this.xa[u]),r||(r=d(n,t,i),t=this.w(),this.B(n,t),this.xa[t]=r),r},n.prototype.u=function(t){return t&&t[n.Z]||void 0},n.prototype.B=function(t,i){t&&(t[n.Z]=i)},n.prototype.w=function(){return++n.T},n.T=t.la(),n.Z="__WM_XPATH_ENTRY_KEY__",n}();n.Ka=b;n.Ta=function(n,t,i,r){return n=a(n[0],t,i,r),n=w(n)};n.Qa=function(n,i,u){var e=g(n);return!e||0>=e.length?new r([]):(e=p(e),e=t.reduce(e,function(n,t){return n.concat(f(t,i,null,u).xpathArray)},[]),o(e.concat(f(n,i,null,u).xpathArray),i))};n.removeHtmlAndBodyFromXpathArray=w;n.Sb=function(n){for(var r,t=new h,i=0;i<n.count();i++)r=n.get(i),t.append(r.tag),t.append(r.index);return t.toString()};n.xpathStringToArray=function(n){var t=[];return u.$.each(n.split("/"),function(n,i){if(0!=n){var r=i.indexOf("[");t[n-1]={tag:i.substring(0,r),index:parseInt(i.substring(r+1,i.length-1))}}}),new r(t)}}(i||(i={}));!function(n){var r=function(){function n(n,t){this.Hb=n;this.weight=t;this.name=n.name}return n.prototype.d=function(n,t){var i=this.Hb.d(n,t);return this.weight*i},n}();n.Ja=r;r=function(){function n(n){this.attributeName=n;this.name="Attribute Scorer : "+n}return n.prototype.d=function(n,t){var i=n.element.attr(this.attributeName),r=t.attributes[this.attributeName];return i&&r&&i.toLowerCase()===r.toLowerCase()?1:0},n}();n.Tb=r;r=function(n){function t(t,i){n.call(this,t);this.Qb=i}return o(t,n),t.prototype.d=function(t,i){return i.attributes[this.attributeName]==this.Qb?0:n.prototype.d.call(this,t,i)},t}(r);n.za=r;r=function(){function n(n){this.name="XpathScorer";this.h=n}return n.prototype.d=function(n,t){var r=n.xpath.get(),r=this.h.v(r,t.xpathArrayToIframe);return r.b>i.m?0:(r=1-.1*(r.b+r.l/10),0>r?0:r)},n}();n.La=r;r=function(){function n(){this.name="ShapeProportionScorer"}return n.prototype.d=function(n,t){if(!this.ub(n.element))return 0;var i=n.width.get(),r=n.height.get();return 0!=i*r?(i=this.na(i,t.width)/2+this.na(r,t.height)/2,.6<=i?i:0):0},n.prototype.na=function(n,t){var i=n/t;return 1<i&&(i=1/i),Math.pow(i,4)},n.prototype.ub=function(i){return i=i.prop("tagName"),-1!==t.indexOf(n.Pb,i)},n.Pb="DIV TABLE TR TD TBODY TH".split(" "),n}();n.Ha=r;r=function(){function n(n,t,i){this.name="ComplexAttributeScorer";this.name=this.name+" : "+n;this.attributeName=n;this.Cb=t;this.ob=i}return n.prototype.d=function(n,i){if(!i.attributes[this.attributeName]||!n.element.attr(this.attributeName))return 0;var r=i.complexAttributes[this.attributeName].get(),u=t.wa(n.element.attr(this.attributeName),this.Cb,this.ob);return 1==this.Wa(r,u)?1:0},n.prototype.Wa=function(n,t){var i,u=0,r=0;for(i in n)n.hasOwnProperty(i)&&(r++,n[i]==t[i]&&u++);return i=0,0<r&&(i=u/r),i},n}();n.W=r;r=function(){function n(){this.name="TextScorer"}return n.prototype.d=function(n,t){return t.text&&n.text.get()==t.text?1:0},n}();n.Ia=r}(f||(f={}));var c,l=function(){function n(n){this.data=Array(n);this.size=n;this.count=0}return n.prototype.getItem=function(n){if(0>n||n>=this.count)throw"Out of range exception";return this.data[n]},n.prototype.clear=function(){this.count=0},n.prototype.push=function(n){if(this.count==this.size)throw"FastArray exceeded it's limits";this.data[this.count]=n;this.count++},n.prototype.ib=function(){return this.data.slice(0,this.count)},n}(),e=function(){function n(n,t){this.Eb=t;this.hasData=!1;this.context=n}return n.prototype.get=function(){return this.hasData||(this.data=this.Eb.apply(this.context),this.hasData=!0),this.data},n.prototype.clear=function(){this.hasData=!1},n}(),y=function(){function n(){}return n.prototype.v=function(n,t){return i.M(n,t,i.m)},n.prototype.P=function(n){return new u.ScoredElement(n,this.c)},n.prototype.o=function(n){this.c=n},n.prototype.O=function(n,t){return t(n)},n.prototype.Lb=function(n){n.H=this.c&&n&&this.c.ignoreWalkmeElementsSelector===n.ignoreWalkmeElementsSelector?this.c.H:n&&n.ignoreWalkmeElementsSelector?t.getAllElements(document,n.ignoreWalkmeElementsSelector).toArray():[]},n}(),p=function(n){function r(){n.apply(this,arguments);this.U={};this.D=[];this.ia={};this.i={}}return o(r,n),r.prototype.o=function(t){this.Ua(t);n.prototype.o.call(this,t)},r.prototype.wb=function(n,t){return(n&&n[0]||null)===(t&&t[0]||null)},r.prototype.Ua=function(n){var r,i,t;if(this.i={},0<this.D.length)for(r=!1,this.c&&(r=!this.wb(this.c.n,n.n)),i=0;i<this.D.length;i++)t=this.U[this.D[i]],t.totalScore=0,t.details=[],t.fa=!1,t.o(n,r)},r.prototype.u=function(n){return n&&n[0]&&n[0][r.X]||null},r.prototype.B=function(n,t){n&&n[0]&&(n[0][r.X]=t)},r.prototype.w=function(){return++r.T},r.prototype.P=function(t){var r=null,i=this.u(t);return void 0!==i&&(r=this.U[i]),r||(r=n.prototype.P.call(this,t),i=this.w(),this.B(t,i),this.U[i]=r,this.D.push(i)),r},r.prototype.v=function(t,r){var f,u=i.Sb(t);return this.i.hasOwnProperty(u)||(f=n.prototype.v.call(this,t,r),this.i[u]=f),this.i[u]},r.prototype.mb=function(n){var i=this.c.n,t;return i&&0<i.length&&(t=this.u(i),t||(t=this.w(),this.B(i,t)),t&&(n+="__"+t)),n},r.prototype.O=function(t,i){var u=this.mb(t),r=this.ia[u]||null;return r||(r=n.prototype.O.call(this,t,i),this.ia[u]=r),r},r.T=t.la(),r.X="__WM_SUSPECT_KEY__",r}(y);!function(n){function i(r){var e="",s,o,c;if(3===r.nodeType||4===r.nodeType){for(e=r.nodeValue,r=[160,10,13,9],s=new h,o=0;o<e.length;o++)0>t.indexOf(r,e.charCodeAt(o))&&s.append(e.charAt(o).toLowerCase());if(e=s.toString().replace(/ /g,""),e=u.$.trim(e),e=e.substring(0,n.zb),null!=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.exec(e)){for(r=-1,s=e.length,o=new h;++r<s;)c=e.charAt(r),/[\uD800-\uDBFF]/.test(c)||/[\uDC00-\uDFFF]/.test(c)?o.append(f(c)):o.append(c);e=o}}else if(1===r.nodeType&&!r.tagName.match(/^(script|style)$/i))for(r=t.childNodes(r),s=0,o=r.length;s<o&&!(e=i(r[s]));s++);return e}function f(n){n=n.charCodeAt(0).toString(16).toUpperCase();var t=2<n.length;return"\\"+(t?"u":"x")+("0000"+n).slice(t?-4:-2)}n.zb=70;var r;!function(n){n[n.ElementNode=1]="ElementNode";n[n.Text=3]="Text";n[n.CDATASection=4]="CDATASection"}(r||(r={}));n.extractFirstOccuringText=function(n){return i(n[0])};n.ac=i}(c||(c={}));!function(n){function r(){for(var n=0;n<arguments.length;n++);return u.$.apply(u.$,arguments)}function o(n){if(1==n.count())return n;var t=i.Q(n,1,f,!0);return-1==t?n:n.slice(t+1)}function f(n){return-1!=t.inArray(n,e)}function s(u,e,o,h,c,l){var a=i.Q(u,0,f,!1),v;return 0>a?o:(v=u.slice(0,a+1),u=u.slice(a+1),a=r(n.Rb,c||o),0==a.length)?null:(a=1==a.length?a[0]:t.min(a,function(n){return n=i.Sa(r(n),e,r(o),h),i.M(n,v,i.m).p()}),(l||o&&0<o.length&&c&&0<c.length)&&r(a).data("iframe",l||o),s(u,e,r(a),h,t.s(r(a))))}var e=["IFRAME","FRAME"];n.Rb=e.join(":mt_visible,")+":mt_visible";n.ka=e.join(",");n.getXpathUpToIframe=o;n.Db=function(u){var e,h=u.a,p=i.Qa(h.customContext,h.i,h.H),b=i.Nb(h.xpathArrayOriginal,p),v=h.xpathArrayOriginal.slice(b),y,d;e=h.i;var c=h.customContext,w=h.H,l=h.ignoreWalkmeElementsSelector;if(1==v.count())e=c;else if(y=i.Q(v,1,f,!0),-1==y)e=c;else{var a=t.s(c),k=(a=a&&0<a.length?a:null)?c:c?c.data("iframe"):null,y=v.slice(0,y+1);(l=i.ha(y,a||c,k,l))&&l.is(":mt_visible")||(l=null);l||(l=s(v,e,c,w,a,k));e=l}return w=(c=(e=e||h.customContext)&&e.is(n.ka))?t.s(e):e&&0<e.length?e:void 0,e={context:e,vb:c,contents:w},h.n=e.contents,u.setSearchOptions(u.g&-257),p&&p.count()&&h.n==h.customContext&&(0>=b&&u.setSearchOptions(256|u.g),h.xpathArrayToIframe=i.removeHtmlAndBodyFromXpathArray(o(v))),e&&(d=e.vb?e.context:r(e.context).data("iframe")),d}}(s||(s={}));!function(n){n.$;n.q;n.setJQuery=function(t){n.$=t;n.q=t};var t=function(){function t(){this.name="PositionScorer"}return t.prototype.d=function(n,t){return this.Gb(n,t)},t.prototype.Gb=function(n,t){var r=t.centeredElementWidth,i=0;if(r){var i=t.relativeLeft,u=this.jb(n),i=Math.abs(i-u),r=r/5;if(i>(30>r?30:r))return 0;r=1-i/20;i=t.absY;u=n.element.offset().top;i=1-Math.abs(i-u)/20;u=.3;.9<r&&(u=.9);i=r*(1-u)+i*u;i=0>i?0:i}return i},t.prototype.jb=function(n){var t=this.bb(n),t=t?t.offset().left:0;return n.element.offset().left-t},t.prototype.bb=function(t){var r,u;for(t=t.Na.get(),r=null,u=t.length-1;0<=u;u--)try{if(this.rb(t[u])){var i=n.$(t[u]),o=n.$(window).width(),s=i.width(),e=i.offset().left,f=o-s;if(0<f&&f/2==e){r=i;break}if(0>f&&f==e){r=i;break}if(this.tb(i)){r=n.$(i);break}}}catch(h){}return r},t.prototype.rb=function(t){var i=n.$(t),r=i.data("mt_isElementFixedWidth");return 1==r?!0:0==r?!1:(t=this.qb(t),i.data("mt_isElementFixedWidth",t),t)},t.prototype.tb=function(t){var i=n.$(t),r=i.data("mt_isElementMarginAuto");return 1==r?!0:0==r?!1:(t=this.sb(t),i.data("mt_isElementMarginAuto",t),t)},t.prototype.oa=function(t,i){for(var r=!1,u=0;u<i.length&&(r=i[u],!(r=n.$(t).is(n.$(r))));u++);return r},t.prototype.qb=function(n){return!!this.pa(n.style)||this.oa(n,this.fb())},t.prototype.Ob=function(n){return 0==n.indexOf("0")},t.prototype.Ya=function(n){return 4<=n.length&&n.lastIndexOf("auto")+4==n.length},t.prototype.qa=function(t){if(t){var i=n.$.trim(t.margin),r=n.$.trim(t.marginLeft);if(t=n.$.trim(t.marginRight),(i=this.Ob(i)&&this.Ya(i))||"auto"==r&&"auto"==t)return!0}return!1},t.prototype.sb=function(n){return!!this.qa(n.style)||this.oa(n,this.hb())},t.prototype.hb=function(){return void 0==this.K&&(this.K=[],this.ja(this.va)),this.K},t.prototype.va=function(n){var i,t;try{for(i=n.cssRules||n.rules,n=0;n<i.length;n++)t=i[n],t.type&&t.type==window.CSSRule.IMPORT_RULE?this.va(t.styleSheet):this.qa(t.style)&&this.K.push(t.selectorText)}catch(r){}},t.prototype.ja=function(n){for(var i=document.styleSheets,t=0;t<i.length;t++)n.call(this,i[t])},t.prototype.ua=function(n){var i,t;try{for(i=n.cssRules||n.rules,n=0;n<i.length;n++)t=i[n],t.type&&t.type==window.CSSRule.IMPORT_RULE?this.ua(t.styleSheet):this.pa(t.style)&&this.L.push(t.selectorText)}catch(r){}},t.prototype.fb=function(){return void 0==this.L&&(this.L=[],this.ja(this.ua)),this.L},t.prototype.pa=function(n){if(n=n.width){for(var i="",t=0;t<n.length;t++)isNaN(n[t])||(i+=n[t]);if(i&&700<parseInt(i)&&(-1!=n.indexOf("p")||-1!=n.indexOf("e")||-1!=n.indexOf("m")||-1!=n.indexOf("i")))return!0}},t}();n.Ea=t}(a||(a={}));!function(n){var r,t,u;!function(n){n[n.Indifferent=0]="Indifferent";n[n.Accepted=1]="Accepted";n[n.Rejected=2]="Rejected"}(n.Ga||(n.Ga={}));r=function(){function n(n,t){this.sa=n;this.Bb=t;this.isEqual=n===t}return n.prototype.k=function(){throw"childScreen must be overriden by subclass";},n.prototype.screen=function(n,t){return this.isEqual?this.sa:this.k(n,t)?this.sa:this.Bb},n}();n.Vb=r;t=function(){function n(){}return n.prototype.ta=function(){throw"rejectFn must be overriden by subclass";},n.prototype.aa=function(){throw"acceptFn must be overriden by subclass";},n.prototype.screen=function(n,t){return this.ta(n,t)?2:this.aa(n,t)?1:0},n}();n.Ub=t;t=function(n){function t(t,i){n.call(this);this.name="IdScreen";this.pb=t;this.xb=i;this.da=new u("id",0,0)}return o(t,n),t.prototype.ta=function(n,t){if(this.xb){var i=n.I("id");return!(!i||30<=i.length)&&!this.da.k(n,t)}},t.prototype.aa=function(n,t){if(this.pb)return this.da.k(n,t)},t}(t);n.Ba=t;u=function(n){function t(t,i,r){n.call(this,i,r);this.attrName=t;this.name="AttributeScreen["+this.attrName+"]"}return o(t,n),t.prototype.k=function(n,t){var i=n.I(this.attrName),r=t.attributes[this.attrName];return!(!r||!i)&&i===r},t}(r);n.r=u;t=function(n){function t(t,i,r){n.call(this,t,i);this.Pa=r;this.name="XpathScreen"}return o(t,n),t.prototype.k=function(n,t){var r=n.xpath.get(),u=i.m;return this.Pa.v(r,t.xpathArrayToIframe).b<=u},t}(r);n.Ma=t;t=function(n){function t(t,r,u){n.call(this,r,u);var f=t.xpathArrayOriginal;this.yb=new e(this,function(){return i.ha(f,void 0,void 0,t.ignoreWalkmeElementsSelector)});this.name="ExactXpathScreen"}return o(t,n),t.prototype.k=function(n){var t=this.yb.get();return t&&t[0]==n.element[0]},t}(r);n.Aa=t;r=function(n){function t(t,i){n.call(this,t,i);this.name="TextScreen"}return o(t,n),t.prototype.k=function(n,t){return!(!t.text||0===t.text.length)&&n.text.get()===t.text},t}(r);n.Y=r}(r||(r={}));!function(n){var t={value:10,src:3,title:3,colspan:.3,cellpadding:.3,cellspacing:.3,border:.3,dir:.3,width:.3,placeholder:3,"data-walkmeid":1e3,id:10,name:8,alt:1},i={id:1,name:4,title:8},r=function(){function n(n,t){this.V=[];this.name="Multiple attributes";this.options=t;this.description=n;this.weight=this.Ra()}return n.prototype.Ra=function(){var n,t=0;for(n in this.description.attributes)this.description.attributes.hasOwnProperty(n)&&this.Mb(n)&&this.R(this.description.attributes[n])&&(t+=this.N(n),this.V.push(n));return t},n.prototype.Mb=function(n){var t=0!==this.N(n);return!(i.hasOwnProperty(n)&&i[n]&this.options)&&t},n.prototype.d=function(n,t){for(var r=0,i=0;i<this.V.length;i++){var u=this.V[i],f=t.attributes[u],e=n.I(u);this.R(e)&&this.R(f)&&e==f&&(r+=this.N(u))}return r},n.prototype.R=function(n){return void 0!=n&&null!=n&&""!=n},n.prototype.N=function(n){return t.hasOwnProperty(n)?t[n]:0},n}();n.Fa=r}(v||(v={}));!function(n){function h(){}var o,w,u;n.$;n.q;n.setJQuery=function(i){n.$=i;n.q=i;t.setJQuery(i);a.setJQuery(i)};n.setCommonUtils=function(n){t.setCommonUtils(n)};n.setLogFunc=function(n){h=n};u=function(){function n(n,r){var u=this;this.totalScore=0;this.width=new e(this,function(){return u.element.width()});this.height=new e(this,function(){return u.element.height()});this.parents=new e(this,function(){return t.ga(u.element,u.c.n)});this.Na=new e(this,function(){return t.ga(u.element)});this.text=new e(this,function(){return c.extractFirstOccuringText(u.element)});this.I=function(n){return this.J.hasOwnProperty(n)||(this.J[n]=this.element.attr(n)),this.J[n]};this.xpath=new e(this,function(){return i.Ta(u.element,u.parents.get(),u.c.i,u.c.H)});this.element=n;this.details=[];this.J={};this.o(r)}return n.prototype.o=function(n,t){this.c&&t&&(this.parents.clear(),this.xpath.clear());this.c=n},n}();n.ScoredElement=u;o=function(){return function(){this.elements=[];this.losers=void 0}}();n.RecognitionResult=o;u=function(){function n(n){this.attributes={};this.complexAttributes={};this.ba("style",";",":");this.ba("class"," ",null);n&&(this.i=new i.Ka)}return n.prototype.ba=function(n,i,r){var u=this;this.complexAttributes[n]=new e(this,function(){return t.wa(u.attributes[n],i,r)})},n}();n.ElementDescription=u,function(n){n[n.Efficient=0]="Efficient";n[n.Verbouse=1]="Verbouse";n[n.Fast=2]="Fast";n[n.VerbouseDebug=3]="VerbouseDebug"}(n.ya||(n.ya={})),function(n){n[n.Suspects=1]="Suspects";n[n.Screened=2]="Screened";n[n.Scored=3]="Scored";n[n.Screen_Attr_id=4]="Screen_Attr_id";n[n.Screen_Attr_name=5]="Screen_Attr_name";n[n.Screen_Text=6]="Screen_Text";n[n.Screen_Attr_walkmeid=7]="Screen_Attr_walkmeid";n[n.Screen_Exact_Xpath=8]="Screen_Exact_Xpath";n[n.Screen_Xpath=9]="Screen_Xpath";n[n.Screen_Attr_src=10]="Screen_Attr_src";n[n.Score_Xpath=11]="Score_Xpath";n[n.Score_Multi=12]="Score_Multi";n[n.Score_Text=13]="Score_Text";n[n.Score_Shape_Proportion=14]="Score_Shape_Proportion";n[n.Score_Complex_Class=15]="Score_Complex_Class";n[n.Score_Complex_Style=16]="Score_Complex_Style";n[n.Score_Attr_href=17]="Score_Attr_href";n[n.Score_Position=18]="Score_Position"}(n.Da||(n.Da={})),function(n){n[n.High=0]="High";n[n.Medium=1]="Medium";n[n.Low=2]="Low"}(n.AlgorithmSensitivity||(n.AlgorithmSensitivity={})),function(n){n[n.IGNORE_ALL=4294967295]="IGNORE_ALL";n[n.IGNORE_NOTHING=0]="IGNORE_NOTHING";n[n.IGNORE_ID=1]="IGNORE_ID";n[n.IGNORE_POSITION=2]="IGNORE_POSITION";n[n.IGNORE_NAME=4]="IGNORE_NAME";n[n.IGNORE_TEXT=8]="IGNORE_TEXT";n[n.IDENTIFY_TEXT=32]="IDENTIFY_TEXT";n[n.IDENTIFY_ID_AND_NAME=64]="IDENTIFY_ID_AND_NAME";n[n.IDENTIFY_WALKME_ID=128]="IDENTIFY_WALKME_ID";n[n.IGNORE_XPATH=256]="IGNORE_XPATH";n[n.IGNORE_SHAPE_PROPORTION=512]="IGNORE_SHAPE_PROPORTION";n[n.IGNORE_CLASS=1024]="IGNORE_CLASS";n[n.IGNORE_STYLE=2048]="IGNORE_STYLE";n[n.IGNORE_HREF=4096]="IGNORE_HREF";n[n.USE_AUTO_SELECTOR=8192]="USE_AUTO_SELECTOR"}(n.SearchOptions||(n.SearchOptions={}));w=function(){function n(n){this.list=[];this.g=n}return n.prototype.Oa=function(n){return this.list.push(n),this},n.prototype.j=function(n,t,i){var r=!1;return void 0!==i&&(r=0<(this.g&i)),r||this.list.push(new f.Ja(n,t)),this},n.prototype.sort=function(){return this.list.sort(function(n,t){return t.weight-n.weight}),this},n}();u=function(){function i(n,t,i){void 0===i&&(i={});this.g=0;this.ca=1;this.mode=n;this.e=i.measureTime||3===n;this.ra=1==this.mode||3==this.mode;this.timeMeasurements=[];this.h=t?new p:new y}return i.prototype.Kb=function(n){this.a=n},i.prototype.setSearchOptions=function(n){this.g=n},i.prototype.setAlgorithmSensitivity=function(n){this.ca=n},i.prototype.A=function(n){this.e&&this.timeMeasurements.push(n)},i.prototype.Va=function(){this.timeMeasurements=[]},i.prototype.C=function(n){return i.Ab[n]},i.prototype.recognize=function(n){var i,r=new o,u;return 3==this.mode&&(r.debug={minimumScore:this.ma(),screeners:null,measurements:[],eliminationDetails:[]}),this.Kb(n),this.h.Lb(n),u=s.Db(this),this.h.o(n),this.e&&(i=t.F()),n=this.ab(),this.e&&(i=i.G(),this.A({name:this.C("suspects"),duration:i,misc:{amount:n.length}}),i=t.F()),n=this.Jb(n,r),this.e&&(i=i.G(),this.A({name:this.C("screened"),duration:i,misc:{amount:n.count}}),i=t.F()),n=this.Fb(n),this.e&&(i=i.G(),this.A({name:this.C("scored"),duration:i,misc:{amount:n.length}}),r.debug&&(r.debug.measurements=this.timeMeasurements),r.timeMeasurements=this.timeMeasurements,this.Va()),r.elements=this.$a(n),r.losers=this.Za(r,n),r.context=u,r},i.prototype.ab=function(){var t,i=this;return this.a.preDefinedSuspects&&this.a.preDefinedSuspects[0]?this.a.preDefinedSuspects:(t=this.a.customSelector?this.a.customSelector:this.f(8192)&&this.a.autoQuery?this.a.autoQuery:this.a.elementType.replace(":","\\:"),this.a.visibilityFilter&&(t+=this.a.visibilityFilter),this.a.ignoreWalkmeElementsSelector&&(t+=":not("+this.a.ignoreWalkmeElementsSelector+")"),h("Finding suspects using : "+t),this.h.O(t,function(t){return n.$(t,i.a.n)}))},i.prototype.Xa=function(t){for(var r,u=new l(t.length),i=0;i<t.length;i++)r=n.$(t[i]),r=this.h.P(r),u.push(r);return u},i.prototype.Jb=function(n,t){var u=this.Xa(n),f=this.lb(n.length),r,i;for(t.debug&&(t.debug.screeners=f),r=new l(n.length),i=0;i<u.count;i++){var e=u.getItem(i),o=this.Ib(e,f,t),s=1&o;2&o||!s||r.push(e)}return r},i.prototype.nb=function(){var n,t={32:function(){return[new r.Y(1,2)]},64:function(){return[new r.r("id",1,0),new r.r("name",1,0)]},128:function(){return[new r.r("data-walkmeid",1,0)]}};for(n in t)if(this.f(n))return t[n]();return null},i.prototype.gb=function(n){var i=[],t=new r.r("src",1,0);return i.push(t),t=new r.Y(1,0),!this.f(8)&&i.push(t),void 0!=this.a.attributes.id&&(t=new r.Ba(!this.f(1)&&0<this.a.attributes.id.length,!this.f(161)),i.push(t)),t=new r.r("name",1,0),!this.f(4)&&i.push(t),t=new r.Ma(1,0,this.h),2e3>n&&!this.f(256)&&i.push(t),t=new r.Aa(this.a,1,0),2e3<=n&&!this.f(256)&&i.push(t),i},i.prototype.lb=function(n){var t=this.nb();return t||(t=this.gb(n)),t},i.prototype.Ib=function(n,t,i){for(var f,u=0,r=0;r<t.length;r++)if(f=t[r].screen(n,this.a),u=u|f,2==f){i.debug&&i.debug.eliminationDetails.push({element:n.element,screenerName:t[r].name});break}return u},i.prototype.Fb=function(n){var c=this.kb(),f=t.reduce(c,function(n,t){return n+t.weight},0),u=n,y=new l(n.count),e,o,r,v,a,s,i,h;for(n=new l(n.count),e=0,o=0;o<c.length;o++){for(r=c[o],this.e&&(v=t.F(),a=0),s=0;s<u.count;s++)i=u.getItem(s),(f+i.totalScore<e&&0==this.mode?(i.fa=!0,y.push(i)):n.push(i),i.fa&&0==this.mode)||(h=r.d(i,this.a),this.e&&a++,this.ra&&i.details.push({scorerName:r.name,scorerWeight:r.weight,relativeScore:h/r.weight,absoluteScore:h}),i.totalScore+=h,i.totalScore>e&&(e=i.totalScore));this.e&&this.A({name:this.C(r.name),duration:v.G(),misc:{count:a}});f-=r.weight;f=Math.max(f,0);r=u;u=n;n=r;n.clear()}return u.ib()},i.prototype.f=function(n){return!!(this.g&n)},i.prototype.kb=function(){var n=new w(this.g);return n.Oa(new v.Fa(this.a,this.g)).j(new f.Ia,3,8).j(new f.La(this.h),1,256).j(new f.Ha,.7,512).j(new f.W("class"," ",null),.7,1024).j(new f.W("style",";",":"),.5,2048).j(new f.za("href","#"),3,4096).sort().j(new a.Ea,1,2),n.list},i.prototype.$a=function(n){for(var r,i=0,t=0;t<n.length;t++)r=n[t].totalScore,i=r<=i?i:r;if(r=[],i>this.ma())for(t=0;t<n.length;t++)n[t].totalScore==i&&r.push(n[t]);return r},i.prototype.Za=function(n,t){var r,u,i;if(this.ra){if(r=[],0<n.elements.length)for(u=n.elements[0].totalScore,i=0;i<t.length;i++)t[i].totalScore<u&&r.push(t[i]);else r=t;return r}},i.prototype.ma=function(){var t={2:0,1:1.45,0:3},n=t[this.ca];return void 0==n&&(n=t[1]),n},i.Ab={suspects:1,screened:2,scored:3,"AttributeScreen[src]":10,TextScreen:6,IdScreen:4,"AttributeScreen[name]":5,XpathScreen:9,"Multiple attributes":12,TextScorer:13,"Attribute Scorer : href":17,XpathScorer:11,ShapeProportionScorer:14,"ComplexAttributeScorer : class":15,"ComplexAttributeScorer : style":16,PositionScorer:18},i}();n.ElementRecognizerSession=u}(u||(u={}));n.exports={Version:"1.0.1",ElementRecognition:u,TempUtils:t,ContextUtils:s,TextUtils:c,XpathLib:i}},function(n){function t(){}n.exports=t},function(n){function t(n){var t=this;t.shouldMeasure=function(){return n.getBILogger().isEnabled()&&Math.random()<.1}}n.exports=t},function(n,t,i){function u(n,t,i,u,f,e){function k(){a()}function p(){return o.isFeatureEnabled("fe_no_session_cache")}function d(n){f.shouldMeasure()?(l=!0,v=[]):n=n||0;c=new r.ElementRecognition.ElementRecognizerSession(n,h,{measureTime:l});h=!1;nt()}function a(){s=0;c=null;h=!1;y=!0;l&&(tt(),l=!1,v=[])}function w(){return c&&s>0}function g(){s<0&&(s=0)}function nt(){y&&n.libSetTimeout(a,0)}function b(n,t){if(!t)return w()||h||(h=!0),g(),s+=1,!0}function tt(){var n=ft(u.generateGUID(),v);i.foreach(n,function(n){e.getBILogger().send("feperf",n)})}function it(n){n||(s-=1,c&&s<=0&&a())}function rt(n,t){return function(i){return ut(n,t,i)}}function ut(n,t,i){return wmjQuery.extend({type:"feperf",name:i.name,duration:i.duration,instanceId:t,sessionId:n,version:r.Version},i.misc||{})}function ft(n,t){return i.reduceSpec(t,function(t,r,u){return t.concat(i.mapSpec(r,rt(n,u)))},[])}var c,s,h,v,l,y,o=this;o.isFeatureEnabled=function(n){return t.isReady()?t.isFeatureEnabled(n):_walkmeInternals.findElementFeatures?!!_walkmeInternals.findElementFeatures[n]:!1};o.getSession=function(n){return w()||d(n),c};o.wrapSession=function(n,t){var i=p(),r;return b(t,i),r=n&&n(),it(i),r};o.startSessionForEditor=function(n,t){var i=p();return o.setAutoCloseSessionFlag(t),b(n,i)};o.endSessionForEditor=function(){var n=p();if(!n)return a(),!0};o.setAutoCloseSessionFlag=function(n){void 0!==n&&null!==n&&(y=n)};o.setSessionCacheFlag=function(n){void 0!==n&&null!==n&&(h=n)};o.addMeasurement=function(n){l&&n&&v.push(n)};o.closeSession=a;k.apply(this,arguments)}var r=i(91);n.exports=u},function(n){function t(n,t,i){function r(t){for(var r=!1,i=0;!r&&i<n.length;i++)r=t(n[i])}this.registerPlugin=function(t){n.push(t);t&&t.init&&t.init(i.getElementFinder())};this.findElement=function(n,t){var i;return r(function(r){return i=r.findElement&&r.findElement(n,t),void 0!==i}),i};this.extendDescription=function(n,i){var u=t.secureEvalJSON(i);return r(function(t){t.extendDescription&&t.extendDescription(n,u)}),t.toJSON(u)};this.extendResult=function(n,t,i){r(function(r){r.extendResult&&r.extendResult(n,t,i)})};this.extendOriginalSettings=function(n){try{r(function(t){t.extendOriginalSettings&&t.extendOriginalSettings(n)})}catch(t){return!1}return!0};this.extendAdaptedSettings=function(n,t){r(function(i){i.extendAdaptedSettings&&i.extendAdaptedSettings(n,t)})}}n.exports=t},function(n){function t(n,t,i,r){function a(){}function v(){return f=r.getPlatformPageIdentifier()}var f,l,c,e,s,h,u=this,o=!1;u.init=function(){if(o||!v())return o;o=!0;var i=function(){return t.location},r=function(t){return n.isPhraseHuman(t)},s=[new f.GeneralCapture(r),new f.SFPlatformCapture(i)];return c=new f.PlatformPageCapture(s),e=f.ComparersFactory.createSalesForce(),u.resetCollection(),o};u.isEnabled=function(){return o};u.captureCurrentPage=function(){return c.capture()};u.resetCollection=function(){s=new f.PageDescriptionCollection(e)};u.addSerializedPage=function(n,t){var i=f.PageDescription.deserialize(n);s.add(i,t)};u.updateCurrentPage=function(){h={};l=c.capture()};u.getPageKey=function(n){var t=n.ElementDescription.pageKey;if(u.getPageDesc(t))return t};u.getPageDesc=function(n){return s.getPage(n)};u.getComparer=function(){return e};u.compareCurrent=function(n){var t=u.getPageKey(n);return h[t]||(h[t]=e.compareCurrent(l,u.getPageDesc(t),s)),h[t]};u.editorApi={isEnabled:u.isEnabled,updateCurrentPage:u.updateCurrentPage,addSerializedPage:u.addSerializedPage,resetCollection:u.resetCollection,captureCurrentPage:function(){var n=u.captureCurrentPage(),t=e.compareDescriptions(n,n);if(t&&t.match)return n.serialize()}};a.apply(this,arguments)}n.exports=t},function(n){function t(n){this.getBILogger=function(){return n.get("BILogger")};this.getPlatformPageIdentifier=function(){return n.has("PlatformPageIdentifier")?n.get("PlatformPageIdentifier"):null};this.getElementFinder=function(){return n.get("ElementFinder")}}n.exports=t},function(n){n.exports={color:!1,print_scores:!1,print_find:!1}}])